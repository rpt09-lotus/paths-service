!function(t){var e={};function l(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=e,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(n,i,function(e){return t[e]}.bind(null,i));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/client/dist/assets/",l(l.s=10)}([
/*!*************************************!*\
  !*** ./node_modules/react/index.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nif (true) {\n  module.exports = __webpack_require__(/*! ./cjs/react.production.min.js */ 19);\n} else {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qcz9hYjViIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},
/*!******************************************!*\
  !*** ./node_modules/prop-types/index.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) { var throwOnDirectAccess, isValidElement, REACT_ELEMENT_TYPE; } else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(/*! ./factoryWithThrowingShims */ 21)();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzP2Q3YmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},
/*!**************************************************!*\
  !*** ./node_modules/mapbox-gl/dist/mapbox-gl.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval('/* Mapbox GL JS is licensed under the 3-Clause BSD License. Full text of license: https://github.com/mapbox/mapbox-gl-js/blob/v0.49.0/LICENSE.txt */\n(function (global, factory) {\n true ? module.exports = factory() :\nundefined;\n}(this, (function () { \'use strict\';\n\n/* eslint-disable */\n\nvar shared, worker, mapboxgl;\n// define gets called three times: one for each chunk. we rely on the order\n// they\'re imported to know which is which\nfunction define(_, chunk) {\nif (!shared) {\n    shared = chunk;\n} else if (!worker) {\n    worker = chunk;\n} else {\n    var workerBundleString = \'var sharedChunk = {}; (\' + shared + \')(sharedChunk); (\' + worker + \')(sharedChunk);\'\n\n    var sharedChunk = {};\n    shared(sharedChunk);\n    mapboxgl = chunk(sharedChunk);\n    mapboxgl.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], { type: \'text/javascript\' }));\n}\n}\n\n\ndefine(["exports"],function(t){"use strict";function e(t,e){return t(e={exports:{}},e.exports),e.exports}var r=n;function n(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=r,this.p2y=n;}n.prototype.sampleCurveX=function(t){return ((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return ((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return (3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var r,n,i,a,o;for(void 0===e&&(e=1e-6),i=t,o=0;o<8;o++){if(a=this.sampleCurveX(i)-t,Math.abs(a)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s;}if((i=t)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(a=this.sampleCurveX(i),Math.abs(a-t)<e)return i;t>a?r=i:n=i,i=.5*(n-r)+r;}return i},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=function(t,e,r){this.column=t,this.row=e,this.zoom=r;};i.prototype.clone=function(){return new i(this.column,this.row,this.zoom)},i.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},i.prototype.sub=function(t){return this.clone()._sub(t)},i.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},i.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this};var a=o;function o(t,e){this.x=t,this.y=e;}function s(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return !1;for(var r=0;r<t.length;r++)if(!s(t[r],e[r]))return !1;return !0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return !1;if(Object.keys(t).length!==Object.keys(e).length)return !1;for(var n in t)if(!s(t[n],e[n]))return !1;return !0}return t===e}function u(t,e,n,i){var a=new r(t,e,n,i);return function(t){return a.solve(t)}}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,i=r*this.x+e*this.y;return this.x=n,this.y=i,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.x+r*(this.x-e.x)-n*(this.y-e.y),a=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var p=u(.25,.1,.25,1);function l(t,e,r){return Math.min(r,Math.max(e,t))}function c(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var n=0,i=e;n<i.length;n+=1){var a=i[n];for(var o in a)t[o]=a[o];}return t}var h=1;function f(){return h++}function y(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e));});}function d(t,e){return -1!==t.indexOf(e,t.length-e.length)}function m(t,e,r){var n={};for(var i in t)n[i]=e.call(r||this,t[i],i,t);return n}function v(t,e,r){var n={};for(var i in t)e.call(r||this,t[i],i,t)&&(n[i]=t[i]);return n}function g(t){return Array.isArray(t)?t.map(g):"object"==typeof t&&t?m(t,g):t}var x={};function b(t){x[t]||("undefined"!=typeof console&&console.warn(t),x[t]=!0);}function _(t,e,r){return (r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function w(t){for(var e=0,r=0,n=t.length,i=n-1,a=void 0,o=void 0;r<n;i=r++)a=t[r],e+=((o=t[i]).x-a.x)*(a.y+o.y);return e}var A=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),k=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,z=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,S={now:A,frame:function(t){var e=k(t);return {cancel:function(){return z(e)}}},getImageData:function(t){var e=self.document.createElement("canvas"),r=e.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(0,0,t.width,t.height)},resolveURL:function(t){var e=self.document.createElement("a");return e.href=t,e.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},supportsWebp:!1};if(self.document){var B=self.document.createElement("img");B.onload=function(){S.supportsWebp=!0;},B.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=";}var I={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(I);var V=function(t){function e(e,r,n){t.call(this,e),this.status=r,this.url=n,this.name=this.constructor.name,this.message=e;}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error);function P(t){var e=new self.XMLHttpRequest;for(var r in e.open(t.method||"GET",t.url,!0),t.headers)e.setRequestHeader(r,t.headers[r]);return e.withCredentials="include"===t.credentials,e}var M=function(t,e){var r=P(t);return r.responseType="arraybuffer",r.onerror=function(){e(new Error(r.statusText));},r.onload=function(){var n=r.response;if(0===n.byteLength&&200===r.status)return e(new Error("http status 200 returned without content."));(r.status>=200&&r.status<300||0===r.status)&&r.response?e(null,{data:n,cacheControl:r.getResponseHeader("Cache-Control"),expires:r.getResponseHeader("Expires")}):e(new V(r.statusText,r.status,t.url));},r.send(),{cancel:function(){return r.abort()}}};function C(t,e,r){r[t]&&-1!==r[t].indexOf(e)||(r[t]=r[t]||[],r[t].push(e));}function T(t,e,r){if(r&&r[t]){var n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1);}}var E=function(t,e){void 0===e&&(e={}),c(this,e),this.type=t;},F=function(t){function e(e,r){void 0===r&&(r={}),t.call(this,"error",c({error:e},r));}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E),O=function(){};O.prototype.on=function(t,e){return this._listeners=this._listeners||{},C(t,e,this._listeners),this},O.prototype.off=function(t,e){return T(t,e,this._listeners),T(t,e,this._oneTimeListeners),this},O.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},C(t,e,this._oneTimeListeners),this},O.prototype.fire=function(t){"string"==typeof t&&(t=new E(t,arguments[1]||{}));var e=t.type;if(this.listens(e)){t.target=this;for(var r=0,n=this._listeners&&this._listeners[e]?this._listeners[e].slice():[];r<n.length;r+=1){n[r].call(this,t);}for(var i=0,a=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];i<a.length;i+=1){var o=a[i];T(e,o,this._oneTimeListeners),o.call(this,t);}var s=this._eventedParent;s&&(c(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),s.fire(t));}else t instanceof F&&console.error(t.error);return this},O.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},O.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var L={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-z-order":{type:"enum",values:{"viewport-y":{},source:{}},default:"viewport-y",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},D=function(t,e,r,n){this.message=(t?t+": ":"")+r,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__);};function j(t){var e=t.key,r=t.value;return r?[new D(e,r,"constants have been deprecated as of v8")]:[]}function U(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var n=0,i=e;n<i.length;n+=1){var a=i[n];for(var o in a)t[o]=a[o];}return t}function q(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function R(t){return Array.isArray(t)?t.map(R):q(t)}var N=function(t){function e(e,r){t.call(this,r),this.message=r,this.key=e;}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Z=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var r=0,n=e;r<n.length;r+=1){var i=n[r],a=i[0],o=i[1];this.bindings[a]=o;}};Z.prototype.concat=function(t){return new Z(this,t)},Z.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Z.prototype.has=function(t){return !!this.bindings[t]||!!this.parent&&this.parent.has(t)};var X={kind:"null"},H={kind:"number"},G={kind:"string"},J={kind:"boolean"},K={kind:"color"},Y={kind:"object"},$={kind:"value"},W={kind:"collator"},Q={kind:"formatted"};function tt(t,e){return {kind:"array",itemType:t,N:e}}function et(t){if("array"===t.kind){var e=et(t.itemType);return "number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var rt=[X,H,G,J,K,Q,Y,tt($)];function nt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!nt(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var r=0,n=rt;r<n.length;r+=1){if(!nt(n[r],e))return null}}return "Expected "+et(t)+" but found "+et(e)+" instead."}var it=e(function(t,e){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return (t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function a(t){return "%"===t[t.length-1]?n(parseFloat(t)/100*255):n(parseInt(t))}function o(t){return "%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=i.indexOf("("),p=i.indexOf(")");if(-1!==u&&p+1===i.length){var l=i.substr(0,u),c=i.substr(u+1,p-(u+1)).split(","),h=1;switch(l){case"rgba":if(4!==c.length)return null;h=o(c.pop());case"rgb":return 3!==c.length?null:[a(c[0]),a(c[1]),a(c[2]),h];case"hsla":if(4!==c.length)return null;h=o(c.pop());case"hsl":if(3!==c.length)return null;var f=(parseFloat(c[0])%360+360)%360/360,y=o(c[1]),d=o(c[2]),m=d<=.5?d*(y+1):d+y-d*y,v=2*d-m;return [n(255*s(v,m,f+1/3)),n(255*s(v,m,f)),n(255*s(v,m,f-1/3)),h];default:return null}}return null};}catch(t){}}).parseCSSColor,at=function(t,e,r,n){void 0===n&&(n=1),this.r=t,this.g=e,this.b=r,this.a=n;};at.parse=function(t){if(t){if(t instanceof at)return t;if("string"==typeof t){var e=it(t);if(e)return new at(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},at.prototype.toString=function(){var t=this.toArray(),e=t[0],r=t[1],n=t[2],i=t[3];return "rgba("+Math.round(e)+","+Math.round(r)+","+Math.round(n)+","+i+")"},at.prototype.toArray=function(){var t=this.r,e=this.g,r=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*t/n,255*e/n,255*r/n,n]},at.black=new at(0,0,0,1),at.white=new at(1,1,1,1),at.transparent=new at(0,0,0,0),at.red=new at(1,0,0,1);var ot=function(t,e,r){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"});};ot.prototype.compare=function(t,e){return this.collator.compare(t,e)},ot.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var st=function(t,e,r){this.type=W,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e;};function ut(t,e,r,n){return "number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[t,e,r,n].join(", ")+"]: \'a\' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[t,e,r,n]:[t,e,r]).join(", ")+"]: \'r\', \'g\', and \'b\' must be between 0 and 255."}function pt(t){if(null===t)return X;if("string"==typeof t)return G;if("boolean"==typeof t)return J;if("number"==typeof t)return H;if(t instanceof at)return K;if(t instanceof ot)return W;if(Array.isArray(t)){for(var e,r=t.length,n=0,i=t;n<i.length;n+=1){var a=pt(i[n]);if(e){if(e===a)continue;e=$;break}e=a;}return tt(e||$,r)}return Y}st.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return e.error("Collator options argument must be an object.");var n=e.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,J);if(!n)return null;var i=e.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,J);if(!i)return null;var a=null;return r.locale&&!(a=e.parse(r.locale,1,G))?null:new st(n,i,a)},st.prototype.evaluate=function(t){return new ot(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},st.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale);},st.prototype.possibleOutputs=function(){return [void 0]},st.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var lt=function(t,e,r){this.text=t,this.scale=e,this.fontStack=r;},ct=function(t){this.sections=t;};ct.prototype.toString=function(){return this.sections.map(function(t){return t.text}).join("")},ct.prototype.serialize=function(){for(var t=["format"],e=0,r=this.sections;e<r.length;e+=1){var n=r[e];t.push(n.text);var i=n.fontStack?["literal",n.fontStack.split(",")]:null;t.push({"text-font":i,"font-scale":n.scale});}return t};var ht=function(t){this.type=Q,this.sections=t;};ht.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");for(var r=[],n=1;n<t.length-1;n+=2){var i=e.parse(t[n],1,$);if(!i)return null;var a=i.type.kind;if("string"!==a&&"value"!==a&&"null"!==a)return e.error("Formatted text type must be \'string\', \'value\', or \'null\'.");var o=t[n+1];if("object"!=typeof o||Array.isArray(o))return e.error("Format options argument must be an object.");var s=null;if(o["font-scale"]&&!(s=e.parse(o["font-scale"],1,H)))return null;var u=null;if(o["text-font"]&&!(u=e.parse(o["text-font"],1,tt(G))))return null;r.push({text:i,scale:s,font:u});}return new ht(r)},ht.prototype.evaluate=function(t){return new ct(this.sections.map(function(e){return new lt(e.text.evaluate(t)||"",e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null)}))},ht.prototype.eachChild=function(t){for(var e=0,r=this.sections;e<r.length;e+=1){var n=r[e];t(n.text),n.scale&&t(n.scale),n.font&&t(n.font);}},ht.prototype.possibleOutputs=function(){return [void 0]},ht.prototype.serialize=function(){for(var t=["format"],e=0,r=this.sections;e<r.length;e+=1){var n=r[e];t.push(n.text.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),t.push(i);}return t};var ft=function(t,e){this.type=t,this.value=e;};ft.parse=function(t,e){if(2!==t.length)return e.error("\'literal\' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return !0;if("string"==typeof e)return !0;if("boolean"==typeof e)return !0;if("number"==typeof e)return !0;if(e instanceof at)return !0;if(e instanceof ot)return !0;if(Array.isArray(e)){for(var r=0,n=e;r<n.length;r+=1)if(!t(n[r]))return !1;return !0}if("object"==typeof e){for(var i in e)if(!t(e[i]))return !1;return !0}return !1}(t[1]))return e.error("invalid value");var r=t[1],n=pt(r),i=e.expectedType;return "array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new ft(n,r)},ft.prototype.evaluate=function(){return this.value},ft.prototype.eachChild=function(){},ft.prototype.possibleOutputs=function(){return [this.value]},ft.prototype.serialize=function(){return "array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof at?["rgba"].concat(this.value.toArray()):this.value instanceof ct?this.value.serialize():this.value};var yt=function(t){this.name="ExpressionEvaluationError",this.message=t;};yt.prototype.toJSON=function(){return this.message};var dt={string:G,number:H,boolean:J,object:Y},mt=function(t,e){this.type=t,this.args=e;};mt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var r,n=1,i=t[0];if("array"===i){var a,o;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in dt)||"object"===s)return e.error(\'The item type argument of "array" must be one of string, number, boolean\',1);a=dt[s],n++;}else a=$;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error(\'The length argument to "array" must be a positive integer literal\',2);o=t[2],n++;}r=tt(a,o);}else r=dt[i];for(var u=[];n<t.length;n++){var p=e.parse(t[n],n,$);if(!p)return null;u.push(p);}return new mt(r,u)},mt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var r=this.args[e].evaluate(t);if(!nt(this.type,pt(r)))return r;if(e===this.args.length-1)throw new yt("Expected value to be of type "+et(this.type)+", but found "+et(pt(r))+" instead.")}return null},mt.prototype.eachChild=function(t){this.args.forEach(t);},mt.prototype.possibleOutputs=function(){return (t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t;},mt.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var r=t.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){e.push(r.kind);var n=t.N;("number"==typeof n||this.args.length>1)&&e.push(n);}}return e.concat(this.args.map(function(t){return t.serialize()}))};var vt={"to-number":H,"to-color":K},gt=function(t,e){this.type=t,this.args=e;};gt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var r=t[0],n=vt[r],i=[],a=1;a<t.length;a++){var o=e.parse(t[a],a,$);if(!o)return null;i.push(o);}return new gt(n,i)},gt.prototype.evaluate=function(t){if("color"===this.type.kind){for(var e,r,n=0,i=this.args;n<i.length;n+=1){if(r=null,"string"==typeof(e=i[n].evaluate(t))){var a=t.parseColor(e);if(a)return a}else if(Array.isArray(e)&&!(r=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ut(e[0],e[1],e[2],e[3])))return new at(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new yt(r||"Could not parse color from value \'"+("string"==typeof e?e:JSON.stringify(e))+"\'")}if("formatted"===this.type.kind){for(var o,s=0,u=this.args;s<u.length;s+=1){if("string"==typeof(o=u[s].evaluate(t)))return new ct([new lt(o,null,null)])}throw new yt("Could not parse formatted text from value \'"+("string"==typeof o?o:JSON.stringify(o))+"\'")}for(var p=null,l=0,c=this.args;l<c.length;l+=1){if(null!==(p=c[l].evaluate(t))){var h=Number(p);if(!isNaN(h))return h}}throw new yt("Could not convert "+JSON.stringify(p)+" to number.")},gt.prototype.eachChild=function(t){this.args.forEach(t);},gt.prototype.possibleOutputs=function(){return (t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t;},gt.prototype.serialize=function(){var t=["to-"+this.type.kind];return this.eachChild(function(e){t.push(e.serialize());}),t};var xt=["Unknown","Point","LineString","Polygon"],bt=function(){this._parseColorCache={};};bt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},bt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?xt[this.feature.type]:this.feature.type:null},bt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},bt.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=at.parse(t)),e};var _t=function(t,e,r,n){this.name=t,this.type=e,this._evaluate=r,this.args=n;};function wt(t){if(t instanceof _t){if("get"===t.name&&1===t.args.length)return !1;if("feature-state"===t.name)return !1;if("has"===t.name&&1===t.args.length)return !1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return !1;if(/^filter-/.test(t.name))return !1}var e=!0;return t.eachChild(function(t){e&&!wt(t)&&(e=!1);}),e}function At(t){if(t instanceof _t&&"feature-state"===t.name)return !1;var e=!0;return t.eachChild(function(t){e&&!At(t)&&(e=!1);}),e}function kt(t,e){if(t instanceof _t&&e.indexOf(t.name)>=0)return !1;var r=!0;return t.eachChild(function(t){r&&!kt(t,e)&&(r=!1);}),r}_t.prototype.evaluate=function(t){return this._evaluate(t,this.args)},_t.prototype.eachChild=function(t){this.args.forEach(t);},_t.prototype.possibleOutputs=function(){return [void 0]},_t.prototype.serialize=function(){return [this.name].concat(this.args.map(function(t){return t.serialize()}))},_t.parse=function(t,e){var r=t[0],n=_t.definitions[r];if(!n)return e.error(\'Unknown expression "\'+r+\'". If you wanted a literal array, use ["literal", [...]].\',0);for(var i=Array.isArray(n)?n[0]:n.type,a=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,o=a.filter(function(e){var r=e[0];return !Array.isArray(r)||r.length===t.length-1}),s=null,u=0,p=o;u<p.length;u+=1){var l=p[u],c=l[0],h=l[1];s=new St(e.registry,e.path,null,e.scope);for(var f=[],y=!1,d=1;d<t.length;d++){var m=t[d],v=Array.isArray(c)?c[d-1]:c.type,g=s.parse(m,1+f.length,v);if(!g){y=!0;break}f.push(g);}if(!y)if(Array.isArray(c)&&c.length!==f.length)s.error("Expected "+c.length+" arguments, but found "+f.length+" instead.");else{for(var x=0;x<f.length;x++){var b=Array.isArray(c)?c[x]:c.type,_=f[x];s.concat(x+1).checkSubtype(b,_.type);}if(0===s.errors.length)return new _t(r,i,h,f)}}if(1===o.length)e.errors.push.apply(e.errors,s.errors);else{for(var w=(o.length?o:a).map(function(t){var e,r=t[0];return e=r,Array.isArray(e)?"("+e.map(et).join(", ")+")":"("+et(e.type)+"...)"}).join(" | "),A=[],k=1;k<t.length;k++){var z=e.parse(t[k],1+A.length);if(!z)return null;A.push(et(z.type));}e.error("Expected arguments of type "+w+", but found ("+A.join(", ")+") instead.");}return null},_t.register=function(t,e){for(var r in _t.definitions=e,e)t[r]=_t;};var zt=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e;};zt.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("\'var\' expression requires exactly one string literal argument.");var r=t[1];return e.scope.has(r)?new zt(r,e.scope.get(r)):e.error(\'Unknown variable "\'+r+\'". Make sure "\'+r+\'" has been bound in an enclosing "let" expression before using it.\',1)},zt.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},zt.prototype.eachChild=function(){},zt.prototype.possibleOutputs=function(){return [void 0]},zt.prototype.serialize=function(){return ["var",this.name]};var St=function(t,e,r,n,i){void 0===e&&(e=[]),void 0===n&&(n=new Z),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return "["+t+"]"}).join(""),this.scope=n,this.errors=i,this.expectedType=r;};function Bt(t,e){for(var r,n,i=0,a=t.length-1,o=0;i<=a;){if(r=t[o=Math.floor((i+a)/2)],n=t[o+1],e===r||e>r&&e<n)return o;if(r<e)i=o+1;else{if(!(r>e))throw new yt("Input is not a number.");a=o-1;}}return Math.max(o-1,0)}St.prototype.parse=function(t,e,r,n,i){return void 0===i&&(i={}),e?this.concat(e,r,n)._parse(t,i):this._parse(t,i)},St.prototype._parse=function(t,e){if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error(\'Expected an array with at least one element. If you wanted a literal array, use ["literal", []].\');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+\' instead. If you wanted a literal array, use ["literal", [...]].\',0),null;var n=this.registry[r];if(n){var i=n.parse(t,this);if(!i)return null;if(this.expectedType){var a=this.expectedType,o=i.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==o.kind)if("color"!==a.kind||"value"!==o.kind&&"string"!==o.kind)if("formatted"!==a.kind||"value"!==o.kind&&"string"!==o.kind){if(this.checkSubtype(this.expectedType,i.type))return null}else e.omitTypeAnnotations||(i=new gt(a,[i]));else e.omitTypeAnnotations||(i=new gt(a,[i]));else e.omitTypeAnnotations||(i=new mt(a,[i]));}if(!(i instanceof ft)&&function t(e){if(e instanceof zt)return t(e.boundExpression);if(e instanceof _t&&"error"===e.name)return !1;if(e instanceof st)return !1;var r=e instanceof gt||e instanceof mt;var n=!0;e.eachChild(function(e){n=r?n&&t(e):n&&e instanceof ft;});if(!n)return !1;return wt(e)&&kt(e,["zoom","heatmap-density","line-progress","is-supported-script"])}(i)){var s=new bt;try{i=new ft(i.type,i.evaluate(s));}catch(t){return this.error(t.message),null}}return i}return this.error(\'Unknown expression "\'+r+\'". If you wanted a literal array, use ["literal", [...]].\',0)}return void 0===t?this.error("\'undefined\' value invalid. Use null instead."):"object"==typeof t?this.error(\'Bare objects invalid. Use ["literal", {...}] instead.\'):this.error("Expected an array, but found "+typeof t+" instead.")},St.prototype.concat=function(t,e,r){var n="number"==typeof t?this.path.concat(t):this.path,i=r?this.scope.concat(r):this.scope;return new St(this.registry,n,e||null,i,this.errors)},St.prototype.error=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];var n=""+this.key+e.map(function(t){return "["+t+"]"}).join("");this.errors.push(new N(n,t));},St.prototype.checkSubtype=function(t,e){var r=nt(t,e);return r&&this.error(r),r};var It=function(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var a=i[n],o=a[0],s=a[1];this.labels.push(o),this.outputs.push(s);}};function Vt(t,e,r){return t*(1-r)+e*r}It.parse=function(t,e){var r=t[1],n=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,1,H)))return null;var i=[],a=null;e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType),n.unshift(-1/0);for(var o=0;o<n.length;o+=2){var s=n[o],u=n[o+1],p=o+1,l=o+2;if("number"!=typeof s)return e.error(\'Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.\',p);if(i.length&&i[i.length-1][0]>=s)return e.error(\'Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.\',p);var c=e.parse(u,l,a);if(!c)return null;a=a||c.type,i.push([s,c]);}return new It(a,r,i)},It.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);var i=e.length;return n>=e[i-1]?r[i-1].evaluate(t):r[Bt(e,n)].evaluate(t)},It.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1){t(r[e]);}},It.prototype.possibleOutputs=function(){return (t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t;},It.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Pt=Object.freeze({number:Vt,color:function(t,e,r){return new at(Vt(t.r,e.r,r),Vt(t.g,e.g,r),Vt(t.b,e.b,r),Vt(t.a,e.a,r))},array:function(t,e,r){return t.map(function(t,n){return Vt(t,e[n],r)})}}),Mt=.95047,Ct=1,Tt=1.08883,Et=4/29,Ft=6/29,Ot=3*Ft*Ft,Lt=Ft*Ft*Ft,Dt=Math.PI/180,jt=180/Math.PI;function Ut(t){return t>Lt?Math.pow(t,1/3):t/Ot+Et}function qt(t){return t>Ft?t*t*t:Ot*(t-Et)}function Rt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Nt(t){return (t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Zt(t){var e=Nt(t.r),r=Nt(t.g),n=Nt(t.b),i=Ut((.4124564*e+.3575761*r+.1804375*n)/Mt),a=Ut((.2126729*e+.7151522*r+.072175*n)/Ct);return {l:116*a-16,a:500*(i-a),b:200*(a-Ut((.0193339*e+.119192*r+.9503041*n)/Tt)),alpha:t.a}}function Xt(t){var e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=Ct*qt(e),r=Mt*qt(r),n=Tt*qt(n),new at(Rt(3.2404542*r-1.5371385*e-.4985314*n),Rt(-.969266*r+1.8760108*e+.041556*n),Rt(.0556434*r-.2040259*e+1.0572252*n),t.alpha)}var Ht={forward:Zt,reverse:Xt,interpolate:function(t,e,r){return {l:Vt(t.l,e.l,r),a:Vt(t.a,e.a,r),b:Vt(t.b,e.b,r),alpha:Vt(t.alpha,e.alpha,r)}}},Gt={forward:function(t){var e=Zt(t),r=e.l,n=e.a,i=e.b,a=Math.atan2(i,n)*jt;return {h:a<0?a+360:a,c:Math.sqrt(n*n+i*i),l:r,alpha:t.a}},reverse:function(t){var e=t.h*Dt,r=t.c;return Xt({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function(t,e,r){return {h:function(t,e,r){var n=e-t;return t+r*(n>180||n<-180?n-360*Math.round(n/360):n)}(t.h,e.h,r),c:Vt(t.c,e.c,r),l:Vt(t.l,e.l,r),alpha:Vt(t.alpha,e.alpha,r)}}},Jt=Object.freeze({lab:Ht,hcl:Gt}),Kt=function(t,e,r,n,i){this.type=t,this.operator=e,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],u=s[0],p=s[1];this.labels.push(u),this.outputs.push(p);}};function Yt(t,e,r,n){var i=n-r,a=t-r;return 0===i?0:1===e?a/i:(Math.pow(e,a)-1)/(Math.pow(e,i)-1)}Kt.interpolationFactor=function(t,e,n,i){var a=0;if("exponential"===t.name)a=Yt(e,t.base,n,i);else if("linear"===t.name)a=Yt(e,1,n,i);else if("cubic-bezier"===t.name){var o=t.controlPoints;a=new r(o[0],o[1],o[2],o[3]).solve(Yt(e,1,n,i));}return a},Kt.parse=function(t,e){var r=t[0],n=t[1],i=t[2],a=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o};}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some(function(t){return "number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s};}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,H)))return null;var u=[],p=null;"interpolate-hcl"===r||"interpolate-lab"===r?p=K:e.expectedType&&"value"!==e.expectedType.kind&&(p=e.expectedType);for(var l=0;l<a.length;l+=2){var c=a[l],h=a[l+1],f=l+3,y=l+4;if("number"!=typeof c)return e.error(\'Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.\',f);if(u.length&&u[u.length-1][0]>=c)return e.error(\'Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.\',f);var d=e.parse(h,y,p);if(!d)return null;p=p||d.type,u.push([c,d]);}return "number"===p.kind||"color"===p.kind||"array"===p.kind&&"number"===p.itemType.kind&&"number"==typeof p.N?new Kt(p,r,n,i,u):e.error("Type "+et(p)+" is not interpolatable.")},Kt.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);var i=e.length;if(n>=e[i-1])return r[i-1].evaluate(t);var a=Bt(e,n),o=e[a],s=e[a+1],u=Kt.interpolationFactor(this.interpolation,n,o,s),p=r[a].evaluate(t),l=r[a+1].evaluate(t);return "interpolate"===this.operator?Pt[this.type.kind.toLowerCase()](p,l,u):"interpolate-hcl"===this.operator?Gt.reverse(Gt.interpolate(Gt.forward(p),Gt.forward(l),u)):Ht.reverse(Ht.interpolate(Ht.forward(p),Ht.forward(l),u))},Kt.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e<r.length;e+=1){t(r[e]);}},Kt.prototype.possibleOutputs=function(){return (t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t;},Kt.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],r=0;r<this.labels.length;r++)e.push(this.labels[r],this.outputs[r].serialize());return e};var $t=function(t,e){this.type=t,this.args=e;};$t.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var r=null,n=e.expectedType;n&&"value"!==n.kind&&(r=n);for(var i=[],a=0,o=t.slice(1);a<o.length;a+=1){var s=o[a],u=e.parse(s,1+i.length,r,void 0,{omitTypeAnnotations:!0});if(!u)return null;r=r||u.type,i.push(u);}var p=n&&i.some(function(t){return nt(n,t.type)});return new $t(p?$:r,i)},$t.prototype.evaluate=function(t){for(var e=null,r=0,n=this.args;r<n.length;r+=1){if(null!==(e=n[r].evaluate(t)))break}return e},$t.prototype.eachChild=function(t){this.args.forEach(t);},$t.prototype.possibleOutputs=function(){return (t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t;},$t.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize());}),t};var Wt=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e;};Wt.prototype.evaluate=function(t){return this.result.evaluate(t)},Wt.prototype.eachChild=function(t){for(var e=0,r=this.bindings;e<r.length;e+=1){t(r[e][1]);}t(this.result);},Wt.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var r=[],n=1;n<t.length-1;n+=2){var i=t[n];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or \'_\'.",n);var a=e.parse(t[n+1],n+1);if(!a)return null;r.push([i,a]);}var o=e.parse(t[t.length-1],t.length-1,void 0,r);return o?new Wt(r,o):null},Wt.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Wt.prototype.serialize=function(){for(var t=["let"],e=0,r=this.bindings;e<r.length;e+=1){var n=r[e],i=n[0],a=n[1];t.push(i,a.serialize());}return t.push(this.result.serialize()),t};var Qt=function(t,e,r){this.type=t,this.index=e,this.input=r;};Qt.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var r=e.parse(t[1],1,H),n=e.parse(t[2],2,tt(e.expectedType||$));if(!r||!n)return null;var i=n.type;return new Qt(i.itemType,r,n)},Qt.prototype.evaluate=function(t){var e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new yt("Array index out of bounds: "+e+" < 0.");if(e>=r.length)throw new yt("Array index out of bounds: "+e+" > "+(r.length-1)+".");if(e!==Math.floor(e))throw new yt("Array index must be an integer, but found "+e+" instead.");return r[e]},Qt.prototype.eachChild=function(t){t(this.index),t(this.input);},Qt.prototype.possibleOutputs=function(){return [void 0]},Qt.prototype.serialize=function(){return ["at",this.index.serialize(),this.input.serialize()]};var te=function(t,e,r,n,i,a){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a;};te.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var r,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var i={},a=[],o=2;o<t.length-1;o+=2){var s=t[o],u=t[o+1];Array.isArray(s)||(s=[s]);var p=e.concat(o);if(0===s.length)return p.error("Expected at least one branch label.");for(var l=0,c=s;l<c.length;l+=1){var h=c[l];if("number"!=typeof h&&"string"!=typeof h)return p.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return p.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return p.error("Numeric branch labels must be integer values.");if(r){if(p.checkSubtype(r,pt(h)))return null}else r=pt(h);if(void 0!==i[String(h)])return p.error("Branch labels must be unique.");i[String(h)]=a.length;}var f=e.parse(u,o,n);if(!f)return null;n=n||f.type,a.push(f);}var y=e.parse(t[1],1,$);if(!y)return null;var d=e.parse(t[t.length-1],t.length-1,n);return d?"value"!==y.type.kind&&e.concat(1).checkSubtype(r,y.type)?null:new te(r,n,y,i,a,d):null},te.prototype.evaluate=function(t){var e=this.input.evaluate(t);return (pt(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},te.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise);},te.prototype.possibleOutputs=function(){return (t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t;},te.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],r=[],n={},i=0,a=Object.keys(this.cases).sort();i<a.length;i+=1){var o=a[i],s=n[t.cases[o]];void 0===s?(n[t.cases[o]]=r.length,r.push([t.cases[o],[o]])):r[s][1].push(o);}for(var u=function(e){return "number"===t.inputType.kind?Number(e):e},p=0,l=r;p<l.length;p+=1){var c=l[p],h=c[0],f=c[1];1===f.length?e.push(u(f[0])):e.push(f.map(u)),e.push(t.outputs[h].serialize());}return e.push(this.otherwise.serialize()),e};var ee=function(t,e,r){this.type=t,this.branches=e,this.otherwise=r;};function re(t,e){return "=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function ne(t,e,r,n){return 0===n.compare(e,r)}function ie(t,e,r){var n="=="!==t&&"!="!==t;return function(){function i(t,e,r){this.type=J,this.lhs=t,this.rhs=e,this.collator=r,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind;}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var r=t[0],a=e.parse(t[1],1,$);if(!a)return null;if(!re(r,a.type))return e.concat(1).error(\'"\'+r+"\\" comparisons are not supported for type \'"+et(a.type)+"\'.");var o=e.parse(t[2],2,$);if(!o)return null;if(!re(r,o.type))return e.concat(2).error(\'"\'+r+"\\" comparisons are not supported for type \'"+et(o.type)+"\'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return e.error("Cannot compare types \'"+et(a.type)+"\' and \'"+et(o.type)+"\'.");n&&("value"===a.type.kind&&"value"!==o.type.kind?a=new mt(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new mt(a.type,[o])));var s=null;if(4===t.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,W)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=pt(a),u=pt(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new yt(\'Expected arguments for "\'+t+\'" to be (string, string) or (number, number), but found (\'+s.kind+", "+u.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var p=pt(a),l=pt(o);if("string"!==p.kind||"string"!==l.kind)return e(i,a,o)}return this.collator?r(i,a,o,this.collator.evaluate(i)):e(i,a,o)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator);},i.prototype.possibleOutputs=function(){return [!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild(function(t){e.push(t.serialize());}),e},i}()}ee.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var n=[],i=1;i<t.length-1;i+=2){var a=e.parse(t[i],i,J);if(!a)return null;var o=e.parse(t[i+1],i+1,r);if(!o)return null;n.push([a,o]),r=r||o.type;}var s=e.parse(t[t.length-1],t.length-1,r);return s?new ee(r,n,s):null},ee.prototype.evaluate=function(t){for(var e=0,r=this.branches;e<r.length;e+=1){var n=r[e],i=n[0],a=n[1];if(i.evaluate(t))return a.evaluate(t)}return this.otherwise.evaluate(t)},ee.prototype.eachChild=function(t){for(var e=0,r=this.branches;e<r.length;e+=1){var n=r[e],i=n[0],a=n[1];t(i),t(a);}t(this.otherwise);},ee.prototype.possibleOutputs=function(){return (t=[]).concat.apply(t,this.branches.map(function(t){t[0];return t[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t;},ee.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize());}),t};var ae=ie("==",function(t,e,r){return e===r},ne),oe=ie("!=",function(t,e,r){return e!==r},function(t,e,r,n){return !ne(0,e,r,n)}),se=ie("<",function(t,e,r){return e<r},function(t,e,r,n){return n.compare(e,r)<0}),ue=ie(">",function(t,e,r){return e>r},function(t,e,r,n){return n.compare(e,r)>0}),pe=ie("<=",function(t,e,r){return e<=r},function(t,e,r,n){return n.compare(e,r)<=0}),le=ie(">=",function(t,e,r){return e>=r},function(t,e,r,n){return n.compare(e,r)>=0}),ce=function(t){this.type=H,this.input=t;};ce.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var r=e.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?e.error("Expected argument of type string or array, but found "+et(r.type)+" instead."):new ce(r):null},ce.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new yt("Expected value to be of type string or array, but found "+et(pt(e))+" instead.")},ce.prototype.eachChild=function(t){t(this.input);},ce.prototype.possibleOutputs=function(){return [void 0]},ce.prototype.serialize=function(){var t=["length"];return this.eachChild(function(e){t.push(e.serialize());}),t};var he={"==":ae,"!=":oe,">":ue,"<":se,">=":le,"<=":pe,array:mt,at:Qt,boolean:mt,case:ee,coalesce:$t,collator:st,format:ht,interpolate:Kt,"interpolate-hcl":Kt,"interpolate-lab":Kt,length:ce,let:Wt,literal:ft,match:te,number:mt,object:mt,step:It,string:mt,"to-color":gt,"to-number":gt,var:zt};function fe(t,e){var r=e[0],n=e[1],i=e[2],a=e[3];r=r.evaluate(t),n=n.evaluate(t),i=i.evaluate(t);var o=a?a.evaluate(t):1,s=ut(r,n,i,o);if(s)throw new yt(s);return new at(r/255*o,n/255*o,i/255*o,o)}function ye(t,e){return t in e}function de(t,e){var r=e[t];return void 0===r?null:r}function me(t){return {type:t}}function ve(t){return {result:"success",value:t}}function ge(t){return {result:"error",value:t}}function xe(t){return "data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function be(t){return !!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function _e(t){return !!t.expression&&t.expression.interpolated}function we(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Ae(t){return "object"==typeof t&&null!==t&&!Array.isArray(t)}function ke(t){return t}function ze(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function Se(t,e,r,n,i){return ze(typeof r===i?n[r]:void 0,t.default,e.default)}function Be(t,e,r){if("number"!==we(r))return ze(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[n-1][0])return t.stops[n-1][1];var i=Pe(t.stops,r);return t.stops[i][1]}function Ie(t,e,r){var n=void 0!==t.base?t.base:1;if("number"!==we(r))return ze(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[i-1][0])return t.stops[i-1][1];var a=Pe(t.stops,r),o=function(t,e,r,n){var i=n-r,a=t-r;return 0===i?0:1===e?a/i:(Math.pow(e,a)-1)/(Math.pow(e,i)-1)}(r,n,t.stops[a][0],t.stops[a+1][0]),s=t.stops[a][1],u=t.stops[a+1][1],p=Pt[e.type]||ke;if(t.colorSpace&&"rgb"!==t.colorSpace){var l=Jt[t.colorSpace];p=function(t,e){return l.reverse(l.interpolate(l.forward(t),l.forward(e),o))};}return "function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=s.evaluate.apply(void 0,t),n=u.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==n)return p(r,n,o)}}:p(s,u,o)}function Ve(t,e,r){return "color"===e.type?r=at.parse(r):we(r)===e.type||"enum"===e.type&&e.values[r]||(r=void 0),ze(r,t.default,e.default)}function Pe(t,e){for(var r,n,i=0,a=t.length-1,o=0;i<=a;){if(r=t[o=Math.floor((i+a)/2)][0],n=t[o+1][0],e===r||e>r&&e<n)return o;r<e?i=o+1:r>e&&(a=o-1);}return Math.max(o-1,0)}_t.register(he,{error:[{kind:"error"},[G],function(t,e){var r=e[0];throw new yt(r.evaluate(t))}],typeof:[G,[$],function(t,e){return et(pt(e[0].evaluate(t)))}],"to-string":[G,[$],function(t,e){var r=e[0],n=typeof(r=r.evaluate(t));return null===r?"":"string"===n||"number"===n||"boolean"===n?String(r):r instanceof at||r instanceof ct?r.toString():JSON.stringify(r)}],"to-boolean":[J,[$],function(t,e){var r=e[0];return Boolean(r.evaluate(t))}],"to-rgba":[tt(H,4),[K],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[K,[H,H,H],fe],rgba:[K,[H,H,H,H],fe],has:{type:J,overloads:[[[G],function(t,e){return ye(e[0].evaluate(t),t.properties())}],[[G,Y],function(t,e){var r=e[0],n=e[1];return ye(r.evaluate(t),n.evaluate(t))}]]},get:{type:$,overloads:[[[G],function(t,e){return de(e[0].evaluate(t),t.properties())}],[[G,Y],function(t,e){var r=e[0],n=e[1];return de(r.evaluate(t),n.evaluate(t))}]]},"feature-state":[$,[G],function(t,e){return de(e[0].evaluate(t),t.featureState||{})}],properties:[Y,[],function(t){return t.properties()}],"geometry-type":[G,[],function(t){return t.geometryType()}],id:[$,[],function(t){return t.id()}],zoom:[H,[],function(t){return t.globals.zoom}],"heatmap-density":[H,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[H,[],function(t){return t.globals.lineProgress||0}],"+":[H,me(H),function(t,e){for(var r=0,n=0,i=e;n<i.length;n+=1){r+=i[n].evaluate(t);}return r}],"*":[H,me(H),function(t,e){for(var r=1,n=0,i=e;n<i.length;n+=1){r*=i[n].evaluate(t);}return r}],"-":{type:H,overloads:[[[H,H],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)-n.evaluate(t)}],[[H],function(t,e){return -e[0].evaluate(t)}]]},"/":[H,[H,H],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)/n.evaluate(t)}],"%":[H,[H,H],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)%n.evaluate(t)}],ln2:[H,[],function(){return Math.LN2}],pi:[H,[],function(){return Math.PI}],e:[H,[],function(){return Math.E}],"^":[H,[H,H],function(t,e){var r=e[0],n=e[1];return Math.pow(r.evaluate(t),n.evaluate(t))}],sqrt:[H,[H],function(t,e){var r=e[0];return Math.sqrt(r.evaluate(t))}],log10:[H,[H],function(t,e){var r=e[0];return Math.log10(r.evaluate(t))}],ln:[H,[H],function(t,e){var r=e[0];return Math.log(r.evaluate(t))}],log2:[H,[H],function(t,e){var r=e[0];return Math.log2(r.evaluate(t))}],sin:[H,[H],function(t,e){var r=e[0];return Math.sin(r.evaluate(t))}],cos:[H,[H],function(t,e){var r=e[0];return Math.cos(r.evaluate(t))}],tan:[H,[H],function(t,e){var r=e[0];return Math.tan(r.evaluate(t))}],asin:[H,[H],function(t,e){var r=e[0];return Math.asin(r.evaluate(t))}],acos:[H,[H],function(t,e){var r=e[0];return Math.acos(r.evaluate(t))}],atan:[H,[H],function(t,e){var r=e[0];return Math.atan(r.evaluate(t))}],min:[H,me(H),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[H,me(H),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],abs:[H,[H],function(t,e){var r=e[0];return Math.abs(r.evaluate(t))}],round:[H,[H],function(t,e){var r=e[0].evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[H,[H],function(t,e){var r=e[0];return Math.floor(r.evaluate(t))}],ceil:[H,[H],function(t,e){var r=e[0];return Math.ceil(r.evaluate(t))}],"filter-==":[J,[G,$],function(t,e){var r=e[0],n=e[1];return t.properties()[r.value]===n.value}],"filter-id-==":[J,[$],function(t,e){var r=e[0];return t.id()===r.value}],"filter-type-==":[J,[G],function(t,e){var r=e[0];return t.geometryType()===r.value}],"filter-<":[J,[G,$],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],a=n.value;return typeof i==typeof a&&i<a}],"filter-id-<":[J,[$],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&&n<i}],"filter->":[J,[G,$],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],a=n.value;return typeof i==typeof a&&i>a}],"filter-id->":[J,[$],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&&n>i}],"filter-<=":[J,[G,$],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],a=n.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[J,[$],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&&n<=i}],"filter->=":[J,[G,$],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],a=n.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[J,[$],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&&n>=i}],"filter-has":[J,[$],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[J,[],function(t){return null!==t.id()}],"filter-type-in":[J,[tt(G)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[J,[tt($)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[J,[G,tt($)],function(t,e){var r=e[0];return e[1].value.indexOf(t.properties()[r.value])>=0}],"filter-in-large":[J,[G,tt($)],function(t,e){var r=e[0],n=e[1];return function(t,e,r,n){for(;r<=n;){var i=r+n>>1;if(e[i]===t)return !0;e[i]>t?n=i-1:r=i+1;}return !1}(t.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:J,overloads:[[[J,J],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)&&n.evaluate(t)}],[me(J),function(t,e){for(var r=0,n=e;r<n.length;r+=1){if(!n[r].evaluate(t))return !1}return !0}]]},any:{type:J,overloads:[[[J,J],function(t,e){var r=e[0],n=e[1];return r.evaluate(t)||n.evaluate(t)}],[me(J),function(t,e){for(var r=0,n=e;r<n.length;r+=1){if(n[r].evaluate(t))return !0}return !1}]]},"!":[J,[J],function(t,e){return !e[0].evaluate(t)}],"is-supported-script":[J,[G],function(t,e){var r=e[0],n=t.globals&&t.globals.isSupportedScript;return !n||n(r.evaluate(t))}],upcase:[G,[G],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[G,[G],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[G,me(G),function(t,e){return e.map(function(e){return e.evaluate(t)}).join("")}],"resolved-locale":[G,[W],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Me=function(t,e){var r;this.expression=t,this._warningHistory={},this._defaultValue="color"===(r=e).type&&Ae(r.default)?new at(0,0,0,0):"color"===r.type?at.parse(r.default)||null:void 0===r.default?null:r.default,"enum"===e.type&&(this._enumValues=e.values);};function Ce(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in he}function Te(t,e){var r=new St(he,[],function(t){var e={color:K,string:G,number:H,enum:G,boolean:J};if("array"===t.type)return tt(e[t.value]||$,t.length);return e[t.type]||null}(e)),n=r.parse(t);return n?ve(new Me(n,e)):ge(r.errors)}Me.prototype.evaluateWithoutErrorHandling=function(t,e,r){return this._evaluator||(this._evaluator=new bt),this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r,this.expression.evaluate(this._evaluator)},Me.prototype.evaluate=function(t,e,r){this._evaluator||(this._evaluator=new bt),this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r;try{var n=this.expression.evaluate(this._evaluator);if(null==n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new yt("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Ee=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!At(e.expression);};Ee.prototype.evaluateWithoutErrorHandling=function(t,e,r){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r)},Ee.prototype.evaluate=function(t,e,r){return this._styleExpression.evaluate(t,e,r)};var Fe=function(t,e,r){this.kind=t,this.zoomStops=r.labels,this._styleExpression=e,this.isStateDependent="camera"!==t&&!At(e.expression),r instanceof Kt&&(this._interpolationType=r.interpolation);};function Oe(t,e){if("error"===(t=Te(t,e)).result)return t;var r=t.value.expression,n=wt(r);if(!n&&!xe(e))return ge([new N("","data expressions not supported")]);var i=kt(r,["zoom"]);if(!i&&!be(e))return ge([new N("","zoom expressions not supported")]);var a=function t(e){var r=null;if(e instanceof Wt)r=t(e.result);else if(e instanceof $t)for(var n=0,i=e.args;n<i.length;n+=1){var a=i[n];if(r=t(a))break}else(e instanceof It||e instanceof Kt)&&e.input instanceof _t&&"zoom"===e.input.name&&(r=e);if(r instanceof N)return r;e.eachChild(function(e){var n=t(e);n instanceof N?r=n:!r&&n?r=new N("",\'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.\'):r&&n&&r!==n&&(r=new N("",\'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.\'));});return r}(r);return a||i?a instanceof N?ge([a]):a instanceof Kt&&!_e(e)?ge([new N("",\'"interpolate" expressions cannot be used with this property\')]):ve(a?new Fe(n?"camera":"composite",t.value,a):new Ee(n?"constant":"source",t.value)):ge([new N("",\'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.\')])}Fe.prototype.evaluateWithoutErrorHandling=function(t,e,r){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r)},Fe.prototype.evaluate=function(t,e,r){return this._styleExpression.evaluate(t,e,r)},Fe.prototype.interpolationFactor=function(t,e,r){return this._interpolationType?Kt.interpolationFactor(this._interpolationType,t,e,r):0};var Le=function(t,e){this._parameters=t,this._specification=e,U(this,function t(e,r){var n,i,a,o="color"===r.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||void 0!==e.property,p=s||!u,l=e.type||(_e(r)?"exponential":"interval");if(o&&((e=U({},e)).stops&&(e.stops=e.stops.map(function(t){return [t[0],at.parse(t[1])]})),e.default?e.default=at.parse(e.default):e.default=at.parse(r.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Jt[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===l)n=Ie;else if("interval"===l)n=Be;else if("categorical"===l){n=Se,i=Object.create(null);for(var c=0,h=e.stops;c<h.length;c+=1){var f=h[c];i[f[0]]=f[1];}a=typeof e.stops[0][0];}else{if("identity"!==l)throw new Error(\'Unknown function type "\'+l+\'"\');n=Ve;}if(s){for(var y={},d=[],m=0;m<e.stops.length;m++){var v=e.stops[m],g=v[0].zoom;void 0===y[g]&&(y[g]={zoom:g,type:e.type,property:e.property,default:e.default,stops:[]},d.push(g)),y[g].stops.push([v[0].value,v[1]]);}for(var x=[],b=0,_=d;b<_.length;b+=1){var w=_[b];x.push([y[w].zoom,t(y[w],r)]);}return {kind:"composite",interpolationFactor:Kt.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:x.map(function(t){return t[0]}),evaluate:function(t,n){var i=t.zoom;return Ie({stops:x,base:e.base},r,i).evaluate(i,n)}}}return p?{kind:"camera",interpolationFactor:"exponential"===l?Kt.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map(function(t){return t[0]}),evaluate:function(t){var o=t.zoom;return n(e,r,o,i,a)}}:{kind:"source",evaluate:function(t,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?ze(e.default,r.default):n(e,r,s,i,a)}}}(this._parameters,this._specification));};function De(t,e){if(Ae(t))return new Le(t,e);if(Ce(t)){var r=Oe(t,e);if("error"===r.result)throw new Error(r.value.map(function(t){return t.key+": "+t.message}).join(", "));return r.value}var n=t;return "string"==typeof t&&"color"===e.type&&(n=at.parse(t)),{kind:"constant",evaluate:function(){return n}}}function je(t){var e=t.key,r=t.value,n=t.valueSpec||{},i=t.objectElementValidators||{},a=t.style,o=t.styleSpec,s=[],u=we(r);if("object"!==u)return [new D(e,r,"object expected, "+u+" found")];for(var p in r){var l=p.split(".")[0],c=n[l]||n["*"],h=void 0;if(i[l])h=i[l];else if(n[l])h=pr;else if(i["*"])h=i["*"];else{if(!n["*"]){s.push(new D(e,r[p],\'unknown property "\'+p+\'"\'));continue}h=pr;}s=s.concat(h({key:(e?e+".":e)+p,value:r[p],valueSpec:c,style:a,styleSpec:o,object:r,objectKey:p},r));}for(var f in n)i[f]||n[f].required&&void 0===n[f].default&&void 0===r[f]&&s.push(new D(e,r,\'missing required property "\'+f+\'"\'));return s}function Ue(t){var e=t.value,r=t.valueSpec,n=t.style,i=t.styleSpec,a=t.key,o=t.arrayElementValidator||pr;if("array"!==we(e))return [new D(a,e,"array expected, "+we(e)+" found")];if(r.length&&e.length!==r.length)return [new D(a,e,"array length "+r.length+" expected, length "+e.length+" found")];if(r["min-length"]&&e.length<r["min-length"])return [new D(a,e,"array length at least "+r["min-length"]+" expected, length "+e.length+" found")];var s={type:r.value};i.$version<7&&(s.function=r.function),"object"===we(r.value)&&(s=r.value);for(var u=[],p=0;p<e.length;p++)u=u.concat(o({array:e,arrayIndex:p,value:e[p],valueSpec:s,style:n,styleSpec:i,key:a+"["+p+"]"}));return u}function qe(t){var e=t.key,r=t.value,n=t.valueSpec,i=we(r);return "number"!==i?[new D(e,r,"number expected, "+i+" found")]:"minimum"in n&&r<n.minimum?[new D(e,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new D(e,r,r+" is greater than the maximum value "+n.maximum)]:[]}function Re(t){var e,r,n,i=t.valueSpec,a=q(t.value.type),o={},s="categorical"!==a&&void 0===t.value.property,u=!s,p="array"===we(t.value.stops)&&"array"===we(t.value.stops[0])&&"object"===we(t.value.stops[0][0]),l=je({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===a)return [new D(t.key,t.value,\'identity function may not have a "stops" property\')];var e=[],r=t.value;e=e.concat(Ue({key:t.key,value:r,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:c})),"array"===we(r)&&0===r.length&&e.push(new D(t.key,r,"array must have at least one stop"));return e},default:function(t){return pr({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return "identity"===a&&s&&l.push(new D(t.key,t.value,\'missing required property "property"\')),"identity"===a||t.value.stops||l.push(new D(t.key,t.value,\'missing required property "stops"\')),"exponential"===a&&t.valueSpec.expression&&!_e(t.valueSpec)&&l.push(new D(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!xe(t.valueSpec)?l.push(new D(t.key,t.value,"property functions not supported")):s&&!be(t.valueSpec)&&l.push(new D(t.key,t.value,"zoom functions not supported"))),"categorical"!==a&&!p||void 0!==t.value.property||l.push(new D(t.key,t.value,\'"property" property is required\')),l;function c(t){var e=[],a=t.value,s=t.key;if("array"!==we(a))return [new D(s,a,"array expected, "+we(a)+" found")];if(2!==a.length)return [new D(s,a,"array length 2 expected, length "+a.length+" found")];if(p){if("object"!==we(a[0]))return [new D(s,a,"object expected, "+we(a[0])+" found")];if(void 0===a[0].zoom)return [new D(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return [new D(s,a,"object stop key must have value")];if(n&&n>q(a[0].zoom))return [new D(s,a[0].zoom,"stop zoom values must appear in ascending order")];q(a[0].zoom)!==n&&(n=q(a[0].zoom),r=void 0,o={}),e=e.concat(je({key:s+"[0]",value:a[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:qe,value:h}}));}else e=e.concat(h({key:s+"[0]",value:a[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},a));return e.concat(pr({key:s+"[1]",value:a[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,n){var s=we(t.value),u=q(t.value),p=null!==t.value?t.value:n;if(e){if(s!==e)return [new D(t.key,p,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return [new D(t.key,p,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var l="number expected, "+s+" found";return xe(i)&&void 0===a&&(l+=\'\\nIf you intended to use a categorical function, specify `"type": "categorical"`.\'),[new D(t.key,p,l)]}return "categorical"!==a||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==a&&"number"===s&&void 0!==r&&u<r?[new D(t.key,p,"stop domain values must appear in ascending order")]:(r=u,"categorical"===a&&u in o?[new D(t.key,p,"stop domain values must be unique")]:(o[u]=!0,[])):[new D(t.key,p,"integer expected, found "+u)]}}function Ne(t){var e=("property"===t.expressionContext?Oe:Te)(R(t.value),t.valueSpec);return "error"===e.result?e.value.map(function(e){return new D(""+t.key+e.key,t.value,e.message)}):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new D(t.key,t.value,\'Invalid data expression for "\'+t.propertyKey+\'". Output values must be contained as literals within the expression.\')]:"property"!==t.expressionContext||"layout"!==t.propertyType||At(e.value._styleExpression.expression)?[]:[new D(t.key,t.value,\'"feature-state" data expressions are not supported with layout properties.\')]}function Ze(t){var e=t.key,r=t.value,n=t.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(q(r))&&i.push(new D(e,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(q(r))&&i.push(new D(e,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),i}function Xe(t){if(!0===t||!1===t)return !0;if(!Array.isArray(t)||0===t.length)return !1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return !1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,r=t.slice(1);e<r.length;e+=1){var n=r[e];if(!Xe(n)&&"boolean"!=typeof n)return !1}return !0;default:return !0}}Le.deserialize=function(t){return new Le(t._parameters,t._specification)},Le.serialize=function(t){return {_parameters:t._parameters,_specification:t._specification}};var He={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ge(t){if(null==t)return function(){return !0};Xe(t)||(t=Ke(t));var e=Te(t,He);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,r){return e.value.evaluate(t,r)}}function Je(t,e){return t<e?-1:t>e?1:0}function Ke(t){if(!t)return !0;var e,r=t[0];return t.length<=1?"any"!==r:"=="===r?Ye(t[1],t[2],"=="):"!="===r?Qe(Ye(t[1],t[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Ye(t[1],t[2],r):"any"===r?(e=t.slice(1),["any"].concat(e.map(Ke))):"all"===r?["all"].concat(t.slice(1).map(Ke)):"none"===r?["all"].concat(t.slice(1).map(Ke).map(Qe)):"in"===r?$e(t[1],t.slice(2)):"!in"===r?Qe($e(t[1],t.slice(2))):"has"===r?We(t[1]):"!has"!==r||Qe(We(t[1]))}function Ye(t,e,r){switch(t){case"$type":return ["filter-type-"+r,e];case"$id":return ["filter-id-"+r,e];default:return ["filter-"+r,t,e]}}function $e(t,e){if(0===e.length)return !1;switch(t){case"$type":return ["filter-type-in",["literal",e]];case"$id":return ["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(Je)]]:["filter-in-small",t,["literal",e]]}}function We(t){switch(t){case"$type":return !0;case"$id":return ["filter-has-id"];default:return ["filter-has",t]}}function Qe(t){return ["!",t]}function tr(t){return Xe(R(t.value))?Ne(U({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var r=e.value;var n=e.key;if("array"!==we(r))return [new D(n,r,"array expected, "+we(r)+" found")];var i=e.styleSpec;var a;var o=[];if(r.length<1)return [new D(n,r,"filter array must have at least 1 element")];o=o.concat(Ze({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec}));switch(q(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===q(r[1])&&o.push(new D(n,r,\'"$type" cannot be use with operator "\'+r[0]+\'"\'));case"==":case"!=":3!==r.length&&o.push(new D(n,r,\'filter array for operator "\'+r[0]+\'" must have 3 elements\'));case"in":case"!in":r.length>=2&&"string"!==(a=we(r[1]))&&o.push(new D(n+"[1]",r[1],"string expected, "+a+" found"));for(var s=2;s<r.length;s++)a=we(r[s]),"$type"===q(r[1])?o=o.concat(Ze({key:n+"["+s+"]",value:r[s],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==a&&"number"!==a&&"boolean"!==a&&o.push(new D(n+"["+s+"]",r[s],"string, number, or boolean expected, "+a+" found"));break;case"any":case"all":case"none":for(var u=1;u<r.length;u++)o=o.concat(t({key:n+"["+u+"]",value:r[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":a=we(r[1]),2!==r.length?o.push(new D(n,r,\'filter array for "\'+r[0]+\'" operator must have 2 elements\')):"string"!==a&&o.push(new D(n+"[1]",r[1],"string expected, "+a+" found"));}return o}(t)}function er(t,e){var r=t.key,n=t.style,i=t.styleSpec,a=t.value,o=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return [];var u=o.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return pr({key:r,value:a,valueSpec:i.transition,style:n,styleSpec:i});var p,l=t.valueSpec||s[o];if(!l)return [new D(r,a,\'unknown property "\'+o+\'"\')];if("string"===we(a)&&xe(l)&&!l.tokens&&(p=/^{([^}]+)}$/.exec(a)))return [new D(r,a,\'"\'+o+\'" does not support interpolation syntax\\nUse an identity property function instead: `{ "type": "identity", "property": \'+JSON.stringify(p[1])+" }`.")];var c=[];return "symbol"===t.layerType&&("text-field"===o&&n&&!n.glyphs&&c.push(new D(r,a,\'use of "text-field" requires a style "glyphs" property\')),"text-font"===o&&Ae(R(a))&&"identity"===q(a.type)&&c.push(new D(r,a,\'"text-font" does not support identity functions\'))),c.concat(pr({key:t.key,value:a,valueSpec:l,style:n,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:o}))}function rr(t){return er(t,"paint")}function nr(t){return er(t,"layout")}function ir(t){var e=[],r=t.value,n=t.key,i=t.style,a=t.styleSpec;r.type||r.ref||e.push(new D(n,r,\'either "type" or "ref" is required\'));var o,s=q(r.type),u=q(r.ref);if(r.id)for(var p=q(r.id),l=0;l<t.arrayIndex;l++){var c=i.layers[l];q(c.id)===p&&e.push(new D(n,r.id,\'duplicate layer id "\'+r.id+\'", previously used at line \'+c.id.__line__));}if("ref"in r)["type","source","source-layer","filter","layout"].forEach(function(t){t in r&&e.push(new D(n,r[t],\'"\'+t+\'" is prohibited for ref layers\'));}),i.layers.forEach(function(t){q(t.id)===u&&(o=t);}),o?o.ref?e.push(new D(n,r.ref,"ref cannot reference another ref layer")):s=q(o.type):e.push(new D(n,r.ref,\'ref layer "\'+u+\'" not found\'));else if("background"!==s)if(r.source){var h=i.sources&&i.sources[r.source],f=h&&q(h.type);h?"vector"===f&&"raster"===s?e.push(new D(n,r.source,\'layer "\'+r.id+\'" requires a raster source\')):"raster"===f&&"raster"!==s?e.push(new D(n,r.source,\'layer "\'+r.id+\'" requires a vector source\')):"vector"!==f||r["source-layer"]?"raster-dem"===f&&"hillshade"!==s?e.push(new D(n,r.source,"raster-dem source can only be used with layer type \'hillshade\'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||e.push(new D(n,r,\'layer "\'+r.id+\'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.\')):e.push(new D(n,r,\'layer "\'+r.id+\'" must specify a "source-layer"\')):e.push(new D(n,r.source,\'source "\'+r.source+\'" not found\'));}else e.push(new D(n,r,\'missing required property "source"\'));return e=e.concat(je({key:n,value:r,valueSpec:a.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return []},type:function(){return pr({key:n+".type",value:r.type,valueSpec:a.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:"type"})},filter:tr,layout:function(t){return je({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return nr(U({layerType:s},t))}}})},paint:function(t){return je({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return rr(U({layerType:s},t))}}})}}}))}function ar(t){var e=t.value,r=t.key,n=t.styleSpec,i=t.style;if(!e.type)return [new D(r,e,\'"type" is required\')];var a=q(e.type),o=[];switch(a){case"vector":case"raster":case"raster-dem":if(o=o.concat(je({key:r,value:e,valueSpec:n["source_"+a.replace("-","_")],style:t.style,styleSpec:n})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&o.push(new D(r+"."+s,e[s],\'a source with a "url" property may not include a "\'+s+\'" property\'));return o;case"geojson":return je({key:r,value:e,valueSpec:n.source_geojson,style:i,styleSpec:n});case"video":return je({key:r,value:e,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return je({key:r,value:e,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return o.push(new D(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),o;default:return Ze({key:r+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function or(t){var e=t.value,r=t.styleSpec,n=r.light,i=t.style,a=[],o=we(e);if(void 0===e)return a;if("object"!==o)return a=a.concat([new D("light",e,"object expected, "+o+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);a=u&&n[u[1]]&&n[u[1]].transition?a.concat(pr({key:s,value:e[s],valueSpec:r.transition,style:i,styleSpec:r})):n[s]?a.concat(pr({key:s,value:e[s],valueSpec:n[s],style:i,styleSpec:r})):a.concat([new D(s,e[s],\'unknown property "\'+s+\'"\')]);}return a}function sr(t){var e=t.value,r=t.key,n=we(e);return "string"!==n?[new D(r,e,"string expected, "+n+" found")]:[]}var ur={"*":function(){return []},array:Ue,boolean:function(t){var e=t.value,r=t.key,n=we(e);return "boolean"!==n?[new D(r,e,"boolean expected, "+n+" found")]:[]},number:qe,color:function(t){var e=t.key,r=t.value,n=we(r);return "string"!==n?[new D(e,r,"color expected, "+n+" found")]:null===it(r)?[new D(e,r,\'color expected, "\'+r+\'" found\')]:[]},constants:j,enum:Ze,filter:tr,function:Re,layer:ir,object:je,source:ar,light:or,string:sr,formatted:function(t){return 0===sr(t).length?[]:Ne(t)}};function pr(t){var e=t.value,r=t.valueSpec,n=t.styleSpec;return r.expression&&Ae(q(e))?Re(t):r.expression&&Ce(R(e))?Ne(t):r.type&&ur[r.type]?ur[r.type](t):je(U({},t,{valueSpec:r.type?n[r.type]:r}))}function lr(t){var e=t.value,r=t.key,n=sr(t);return n.length?n:(-1===e.indexOf("{fontstack}")&&n.push(new D(r,e,\'"glyphs" url must include a "{fontstack}" token\')),-1===e.indexOf("{range}")&&n.push(new D(r,e,\'"glyphs" url must include a "{range}" token\')),n)}function cr(t,e){e=e||L;var r=[];return r=r.concat(pr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:lr,"*":function(){return []}}})),t.constants&&(r=r.concat(j({key:"constants",value:t.constants,style:t,styleSpec:e}))),hr(r)}function hr(t){return [].concat(t).sort(function(t,e){return t.line-e.line})}function fr(t){return function(){return hr(t.apply(this,arguments))}}cr.source=fr(ar),cr.light=fr(or),cr.layer=fr(ir),cr.filter=fr(tr),cr.paintProperty=fr(rr),cr.layoutProperty=fr(nr);var yr=cr,dr=cr.light,mr=cr.paintProperty,vr=cr.layoutProperty;function gr(t,e){var r=!1;if(e&&e.length)for(var n=0,i=e;n<i.length;n+=1){var a=i[n];t.fire(new F(new Error(a.message))),r=!0;}return r}var xr=_r,br=3;function _r(t,e,r){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],r=i[2],this.d=e+2*r;for(var a=0;a<this.d*this.d;a++){var o=i[br+a],s=i[br+a+1];n.push(o===s?null:i.subarray(o,s));}var u=i[br+n.length],p=i[br+n.length+1];this.keys=i.subarray(u,p),this.bboxes=i.subarray(p),this.insert=this._insertReadonly;}else{this.d=e+2*r;for(var l=0;l<this.d*this.d;l++)n.push([]);this.keys=[],this.bboxes=[];}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var c=r/e*t;this.min=-c,this.max=t+c;}_r.prototype.insert=function(t,e,r,n,i){this._forEachCell(e,r,n,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i);},_r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},_r.prototype._insertCell=function(t,e,r,n,i,a){this.cells[i].push(a);},_r.prototype.query=function(t,e,r,n){var i=this.min,a=this.max;if(t<=i&&e<=i&&a<=r&&a<=n)return Array.prototype.slice.call(this.keys);var o=[];return this._forEachCell(t,e,r,n,this._queryCell,o,{}),o},_r.prototype._queryCell=function(t,e,r,n,i,a,o){var s=this.cells[i];if(null!==s)for(var u=this.keys,p=this.bboxes,l=0;l<s.length;l++){var c=s[l];if(void 0===o[c]){var h=4*c;t<=p[h+2]&&e<=p[h+3]&&r>=p[h+0]&&n>=p[h+1]?(o[c]=!0,a.push(u[c])):o[c]=!1;}}},_r.prototype._forEachCell=function(t,e,r,n,i,a,o){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),p=this._convertToCellCoord(r),l=this._convertToCellCoord(n),c=s;c<=p;c++)for(var h=u;h<=l;h++){var f=this.d*h+c;if(i.call(this,t,e,r,n,f,a,o))return}},_r.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},_r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=br+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(e+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=e,o=0;o<t.length;o++){var s=t[o];i[br+o]=a,i.set(s,a),a+=s.length;}return i[br+t.length]=a,i.set(this.keys,a),a+=this.keys.length,i[br+t.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var wr=self.ImageData,Ar={};function kr(t,e,r){void 0===r&&(r={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Ar[t]={klass:e,omit:r.omit||[],shallow:r.shallow||[]};}for(var zr in kr("Object",Object),xr.serialize=function(t,e){var r=t.toArrayBuffer();return e&&e.push(r),{buffer:r}},xr.deserialize=function(t){return new xr(t.buffer)},kr("Grid",xr),kr("Color",at),kr("Error",Error),kr("StylePropertyFunction",Le),kr("StyleExpression",Me,{omit:["_evaluator"]}),kr("ZoomDependentExpression",Fe),kr("ZoomConstantExpression",Ee),kr("CompoundExpression",_t,{omit:["_evaluate"]}),he)he[zr]._classRegistryKey||kr("Expression_"+zr,he[zr]);function Sr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var r=t;return e&&e.push(r.buffer),r}if(t instanceof wr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var n=[],i=0,a=t;i<a.length;i+=1){var o=a[i];n.push(Sr(o,e));}return n}if("object"==typeof t){var s=t.constructor,u=s._classRegistryKey;if(!u)throw new Error("can\'t serialize object of unregistered class");var p=s.serialize?s.serialize(t,e):{};if(!s.serialize){for(var l in t)if(t.hasOwnProperty(l)&&!(Ar[u].omit.indexOf(l)>=0)){var c=t[l];p[l]=Ar[u].shallow.indexOf(l)>=0?c:Sr(c,e);}t instanceof Error&&(p.message=t.message);}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return "Object"!==u&&(p.$name=u),p}throw new Error("can\'t serialize object of type "+typeof t)}function Br(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof wr)return t;if(Array.isArray(t))return t.map(Br);if("object"==typeof t){var e=t.$name||"Object",r=Ar[e].klass;if(!r)throw new Error("can\'t deserialize unregistered class "+e);if(r.deserialize)return r.deserialize(t);for(var n=Object.create(r.prototype),i=0,a=Object.keys(t);i<a.length;i+=1){var o=a[i];if("$name"!==o){var s=t[o];n[o]=Ar[e].shallow.indexOf(o)>=0?s:Br(s);}}return n}throw new Error("can\'t deserialize object of type "+typeof t)}var Ir=function(){this.first=!0;};Ir.prototype.update=function(t,e){var r=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=r,!0))};var Vr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Pr(t){for(var e=0,r=t;e<r.length;e+=1){if(Cr(r[e].charCodeAt(0)))return !0}return !1}function Mr(t){return !Vr.Arabic(t)&&(!Vr["Arabic Supplement"](t)&&(!Vr["Arabic Extended-A"](t)&&(!Vr["Arabic Presentation Forms-A"](t)&&!Vr["Arabic Presentation Forms-B"](t))))}function Cr(t){return 746===t||747===t||!(t<4352)&&(!!Vr["Bopomofo Extended"](t)||(!!Vr.Bopomofo(t)||(!(!Vr["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||(!!Vr["CJK Compatibility Ideographs"](t)||(!!Vr["CJK Compatibility"](t)||(!!Vr["CJK Radicals Supplement"](t)||(!!Vr["CJK Strokes"](t)||(!(!Vr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||(!!Vr["CJK Unified Ideographs Extension A"](t)||(!!Vr["CJK Unified Ideographs"](t)||(!!Vr["Enclosed CJK Letters and Months"](t)||(!!Vr["Hangul Compatibility Jamo"](t)||(!!Vr["Hangul Jamo Extended-A"](t)||(!!Vr["Hangul Jamo Extended-B"](t)||(!!Vr["Hangul Jamo"](t)||(!!Vr["Hangul Syllables"](t)||(!!Vr.Hiragana(t)||(!!Vr["Ideographic Description Characters"](t)||(!!Vr.Kanbun(t)||(!!Vr["Kangxi Radicals"](t)||(!!Vr["Katakana Phonetic Extensions"](t)||(!(!Vr.Katakana(t)||12540===t)||(!(!Vr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||(!(!Vr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(!!Vr["Unified Canadian Aboriginal Syllabics"](t)||(!!Vr["Unified Canadian Aboriginal Syllabics Extended"](t)||(!!Vr["Vertical Forms"](t)||(!!Vr["Yijing Hexagram Symbols"](t)||(!!Vr["Yi Syllables"](t)||!!Vr["Yi Radicals"](t))))))))))))))))))))))))))))))}function Tr(t){return !(Cr(t)||function(t){return !!(Vr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Vr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Vr["Letterlike Symbols"](t)||Vr["Number Forms"](t)||Vr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Vr["Control Pictures"](t)&&9251!==t||Vr["Optical Character Recognition"](t)||Vr["Enclosed Alphanumerics"](t)||Vr["Geometric Shapes"](t)||Vr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Vr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Vr["CJK Symbols and Punctuation"](t)||Vr.Katakana(t)||Vr["Private Use Area"](t)||Vr["CJK Compatibility Forms"](t)||Vr["Small Form Variants"](t)||Vr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Er(t,e){return !(!e&&(t>=1424&&t<=2303||Vr["Arabic Presentation Forms-A"](t)||Vr["Arabic Presentation Forms-B"](t)))&&!(t>=2304&&t<=3583||t>=3840&&t<=4255||Vr.Khmer(t))}var Fr,Or=!1,Lr=null,Dr=!1,jr=new O,Ur={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Dr||null!=Ur.applyArabicShaping}},qr=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ir,this.transition={});};qr.prototype.isSupportedScript=function(t){return function(t,e){for(var r=0,n=t;r<n.length;r+=1)if(!Er(n[r].charCodeAt(0),e))return !1;return !0}(t,Ur.isLoaded())},qr.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},qr.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),r=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*e}};var Rr=function(t,e){this.property=t,this.value=e,this.expression=De(void 0===e?t.specification.default:e,t.specification);};Rr.prototype.isDataDriven=function(){return "source"===this.expression.kind||"composite"===this.expression.kind},Rr.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var Nr=function(t){this.property=t,this.value=new Rr(t,void 0);};Nr.prototype.transitioned=function(t,e){return new Xr(this.property,this.value,e,c({},t.transition,this.transition),t.now)},Nr.prototype.untransitioned=function(){return new Xr(this.property,this.value,null,{},0)};var Zr=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues);};Zr.prototype.getValue=function(t){return g(this._values[t].value.value)},Zr.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Nr(this._values[t].property)),this._values[t].value=new Rr(this._values[t].property,null===e?void 0:g(e));},Zr.prototype.getTransition=function(t){return g(this._values[t].transition)},Zr.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Nr(this._values[t].property)),this._values[t].transition=g(e)||void 0;},Zr.prototype.serialize=function(){for(var t={},e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e],i=this.getValue(n);void 0!==i&&(t[n]=i);var a=this.getTransition(n);void 0!==a&&(t[n+"-transition"]=a);}return t},Zr.prototype.transitioned=function(t,e){for(var r=new Hr(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var a=i[n];r._values[a]=this._values[a].transitioned(t,e._values[a]);}return r},Zr.prototype.untransitioned=function(){for(var t=new Hr(this._properties),e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e];t._values[n]=this._values[n].untransitioned();}return t};var Xr=function(t,e,r,n,i){this.property=t,this.value=e,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,t.specification.transition&&(n.delay||n.duration)&&(this.prior=r);};Xr.prototype.possiblyEvaluate=function(t){var e=t.now||0,r=this.value.possiblyEvaluate(t),n=this.prior;if(n){if(e>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(e<this.begin)return n.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(n.possiblyEvaluate(t),r,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}(i))}return r};var Hr=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues);};Hr.prototype.possiblyEvaluate=function(t){for(var e=new Kr(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var i=n[r];e._values[i]=this._values[i].possiblyEvaluate(t);}return e},Hr.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var r=e[t];if(this._values[r].prior)return !0}return !1};var Gr=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues);};Gr.prototype.getValue=function(t){return g(this._values[t].value)},Gr.prototype.setValue=function(t,e){this._values[t]=new Rr(this._values[t].property,null===e?void 0:g(e));},Gr.prototype.serialize=function(){for(var t={},e=0,r=Object.keys(this._values);e<r.length;e+=1){var n=r[e],i=this.getValue(n);void 0!==i&&(t[n]=i);}return t},Gr.prototype.possiblyEvaluate=function(t){for(var e=new Kr(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var i=n[r];e._values[i]=this._values[i].possiblyEvaluate(t);}return e};var Jr=function(t,e,r){this.property=t,this.value=e,this.parameters=r;};Jr.prototype.isConstant=function(){return "constant"===this.value.kind},Jr.prototype.constantOr=function(t){return "constant"===this.value.kind?this.value.value:t},Jr.prototype.evaluate=function(t,e){return this.property.evaluate(this.value,this.parameters,t,e)};var Kr=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues);};Kr.prototype.get=function(t){return this._values[t]};var Yr=function(t){this.specification=t;};Yr.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Yr.prototype.interpolate=function(t,e,r){var n=Pt[this.specification.type];return n?n(t,e,r):t};var $r=function(t){this.specification=t;};$r.prototype.possiblyEvaluate=function(t,e){return "constant"===t.expression.kind||"camera"===t.expression.kind?new Jr(this,{kind:"constant",value:t.expression.evaluate(e)},e):new Jr(this,t.expression,e)},$r.prototype.interpolate=function(t,e,r){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Jr(this,{kind:"constant",value:void 0},t.parameters);var n=Pt[this.specification.type];return n?new Jr(this,{kind:"constant",value:n(t.value.value,e.value.value,r)},t.parameters):t},$r.prototype.evaluate=function(t,e,r,n){return "constant"===t.kind?t.value:t.evaluate(e,r,n)};var Wr=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(t,e){if(void 0===t.value)return new Jr(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var r=t.expression.evaluate(e),n=this._calculate(r,r,r,e);return new Jr(this,{kind:"constant",value:n},e)}if("camera"===t.expression.kind){var i=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Jr(this,{kind:"constant",value:i},e)}return new Jr(this,t.expression,e)},e.prototype.evaluate=function(t,e,r,n){if("source"===t.kind){var i=t.evaluate(e,r,n);return this._calculate(i,i,i,e)}return "composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},r,n),t.evaluate({zoom:Math.floor(e.zoom)},r,n),t.evaluate({zoom:Math.floor(e.zoom)+1},r,n),e):t.value},e.prototype._calculate=function(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}},e.prototype.interpolate=function(t){return t},e}($r),Qr=function(t){this.specification=t;};Qr.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var r=t.expression.evaluate(e);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new qr(Math.floor(e.zoom-1),e)),t.expression.evaluate(new qr(Math.floor(e.zoom),e)),t.expression.evaluate(new qr(Math.floor(e.zoom+1),e)),e)}},Qr.prototype._calculate=function(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}},Qr.prototype.interpolate=function(t){return t};var tn=function(t){this.specification=t;};tn.prototype.possiblyEvaluate=function(t,e){return !!t.expression.evaluate(e)},tn.prototype.interpolate=function(){return !1};var en=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var r=t[e],n=this.defaultPropertyValues[e]=new Rr(r,void 0),i=this.defaultTransitionablePropertyValues[e]=new Nr(r);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=n.possiblyEvaluate({});}};kr("DataDrivenProperty",$r),kr("DataConstantProperty",Yr),kr("CrossFadedDataDrivenProperty",Wr),kr("CrossFadedProperty",Qr),kr("ColorRampProperty",tn);var rn=function(t){function e(e,r){for(var n in t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return !0},r.layout&&(this._unevaluatedLayout=new Gr(r.layout)),this._transitionablePaint=new Zr(r.paint),e.paint)this.setPaintProperty(n,e.paint[n],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned();}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return "visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,r){if(null!=e){var n="layers."+this.id+".layout."+t;if(this._validate(vr,n,t,e,r))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible";},e.prototype.getPaintProperty=function(t){return d(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,r){if(null!=e){var n="layers."+this.id+".paint."+t;if(this._validate(mr,n,t,e,r))return !1}if(d(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var i=this._transitionablePaint._values[t],a="cross-faded-data-driven"===i.property.specification["property-type"]&&!i.value.value&&e,o=this._transitionablePaint._values[t].value.isDataDriven();this._transitionablePaint.setValue(t,e);var s=this._transitionablePaint._values[t].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(t),s||o||a},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype.isHidden=function(t){return !!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility)},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint);},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t);},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return "none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),v(t,function(t,e){return !(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,r,n,i){return (!i||!1!==i.validate)&&gr(this,t.call(yr,{key:e,layerType:this.type,objectKey:r,value:n,styleSpec:L,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return !1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof Jr&&xe(e.property.specification)&&(("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent))return !0}return !1},e}(O),nn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},an=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8;},on=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0);};function sn(t,e){void 0===e&&(e=1);var r=0,n=0;return {members:t.map(function(t){var i,a=(i=t.type,nn[i].BYTES_PER_ELEMENT),o=r=un(r,Math.max(e,a)),s=t.components||1;return n=Math.max(n,a),r+=a*s,{name:t.name,type:t.type,components:s,offset:o}}),size:un(r,Math.max(n,e)),alignment:e}}function un(t,e){return Math.ceil(t/e)*e}on.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},on.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},on.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews());},on.prototype.clear=function(){this.length=0;},on.prototype.resize=function(t){this.reserve(t),this.length=t;},on.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e);}},on.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var pn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e){var r=this.length;this.resize(r+1);var n=2*r;return this.int16[n+0]=t,this.int16[n+1]=e,r},e.prototype.emplace=function(t,e,r){var n=2*t;return this.int16[n+0]=e,this.int16[n+1]=r,t},e}(on);pn.prototype.bytesPerElement=4,kr("StructArrayLayout2i4",pn);var ln=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n){var i=this.length;this.resize(i+1);var a=4*i;return this.int16[a+0]=t,this.int16[a+1]=e,this.int16[a+2]=r,this.int16[a+3]=n,i},e.prototype.emplace=function(t,e,r,n,i){var a=4*t;return this.int16[a+0]=e,this.int16[a+1]=r,this.int16[a+2]=n,this.int16[a+3]=i,t},e}(on);ln.prototype.bytesPerElement=8,kr("StructArrayLayout4i8",ln);var cn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n,i,a){var o=this.length;this.resize(o+1);var s=6*o;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=i,this.int16[s+5]=a,o},e.prototype.emplace=function(t,e,r,n,i,a,o){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,t},e}(on);cn.prototype.bytesPerElement=12,kr("StructArrayLayout2i4i12",cn);var hn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s){var u=this.length;this.resize(u+1);var p=6*u,l=12*u;return this.int16[p+0]=t,this.int16[p+1]=e,this.int16[p+2]=r,this.int16[p+3]=n,this.uint8[l+8]=i,this.uint8[l+9]=a,this.uint8[l+10]=o,this.uint8[l+11]=s,u},e.prototype.emplace=function(t,e,r,n,i,a,o,s,u){var p=6*t,l=12*t;return this.int16[p+0]=e,this.int16[p+1]=r,this.int16[p+2]=n,this.int16[p+3]=i,this.uint8[l+8]=a,this.uint8[l+9]=o,this.uint8[l+10]=s,this.uint8[l+11]=u,t},e}(on);hn.prototype.bytesPerElement=12,kr("StructArrayLayout4i4ub12",hn);var fn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s){var u=this.length;this.resize(u+1);var p=8*u;return this.uint16[p+0]=t,this.uint16[p+1]=e,this.uint16[p+2]=r,this.uint16[p+3]=n,this.uint16[p+4]=i,this.uint16[p+5]=a,this.uint16[p+6]=o,this.uint16[p+7]=s,u},e.prototype.emplace=function(t,e,r,n,i,a,o,s,u){var p=8*t;return this.uint16[p+0]=e,this.uint16[p+1]=r,this.uint16[p+2]=n,this.uint16[p+3]=i,this.uint16[p+4]=a,this.uint16[p+5]=o,this.uint16[p+6]=s,this.uint16[p+7]=u,t},e}(on);fn.prototype.bytesPerElement=16,kr("StructArrayLayout8ui16",fn);var yn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s){var u=this.length;this.resize(u+1);var p=8*u;return this.int16[p+0]=t,this.int16[p+1]=e,this.int16[p+2]=r,this.int16[p+3]=n,this.uint16[p+4]=i,this.uint16[p+5]=a,this.uint16[p+6]=o,this.uint16[p+7]=s,u},e.prototype.emplace=function(t,e,r,n,i,a,o,s,u){var p=8*t;return this.int16[p+0]=e,this.int16[p+1]=r,this.int16[p+2]=n,this.int16[p+3]=i,this.uint16[p+4]=a,this.uint16[p+5]=o,this.uint16[p+6]=s,this.uint16[p+7]=u,t},e}(on);yn.prototype.bytesPerElement=16,kr("StructArrayLayout4i4ui16",yn);var dn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r){var n=this.length;this.resize(n+1);var i=3*n;return this.float32[i+0]=t,this.float32[i+1]=e,this.float32[i+2]=r,n},e.prototype.emplace=function(t,e,r,n){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=r,this.float32[i+2]=n,t},e}(on);dn.prototype.bytesPerElement=12,kr("StructArrayLayout3f12",dn);var mn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var r=1*e;return this.uint32[r+0]=t,e},e.prototype.emplace=function(t,e){var r=1*t;return this.uint32[r+0]=e,t},e}(on);mn.prototype.bytesPerElement=4,kr("StructArrayLayout1ul4",mn);var vn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s,u,p,l){var c=this.length;this.resize(c+1);var h=12*c,f=6*c;return this.int16[h+0]=t,this.int16[h+1]=e,this.int16[h+2]=r,this.int16[h+3]=n,this.int16[h+4]=i,this.int16[h+5]=a,this.uint32[f+3]=o,this.uint16[h+8]=s,this.uint16[h+9]=u,this.int16[h+10]=p,this.int16[h+11]=l,c},e.prototype.emplace=function(t,e,r,n,i,a,o,s,u,p,l,c){var h=12*t,f=6*t;return this.int16[h+0]=e,this.int16[h+1]=r,this.int16[h+2]=n,this.int16[h+3]=i,this.int16[h+4]=a,this.int16[h+5]=o,this.uint32[f+3]=s,this.uint16[h+8]=u,this.uint16[h+9]=p,this.int16[h+10]=l,this.int16[h+11]=c,t},e}(on);vn.prototype.bytesPerElement=24,kr("StructArrayLayout6i1ul2ui2i24",vn);var gn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n,i,a){var o=this.length;this.resize(o+1);var s=6*o;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=i,this.int16[s+5]=a,o},e.prototype.emplace=function(t,e,r,n,i,a,o){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,t},e}(on);gn.prototype.bytesPerElement=12,kr("StructArrayLayout2i2i2i12",gn);var xn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e){var r=this.length;this.resize(r+1);var n=4*r;return this.uint8[n+0]=t,this.uint8[n+1]=e,r},e.prototype.emplace=function(t,e,r){var n=4*t;return this.uint8[n+0]=e,this.uint8[n+1]=r,t},e}(on);xn.prototype.bytesPerElement=4,kr("StructArrayLayout2ub4",xn);var bn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s,u,p,l,c,h,f){var y=this.length;this.resize(y+1);var d=20*y,m=10*y,v=40*y;return this.int16[d+0]=t,this.int16[d+1]=e,this.uint16[d+2]=r,this.uint16[d+3]=n,this.uint32[m+2]=i,this.uint32[m+3]=a,this.uint32[m+4]=o,this.uint16[d+10]=s,this.uint16[d+11]=u,this.uint16[d+12]=p,this.float32[m+7]=l,this.float32[m+8]=c,this.uint8[v+36]=h,this.uint8[v+37]=f,y},e.prototype.emplace=function(t,e,r,n,i,a,o,s,u,p,l,c,h,f,y){var d=20*t,m=10*t,v=40*t;return this.int16[d+0]=e,this.int16[d+1]=r,this.uint16[d+2]=n,this.uint16[d+3]=i,this.uint32[m+2]=a,this.uint32[m+3]=o,this.uint32[m+4]=s,this.uint16[d+10]=u,this.uint16[d+11]=p,this.uint16[d+12]=l,this.float32[m+7]=c,this.float32[m+8]=h,this.uint8[v+36]=f,this.uint8[v+37]=y,t},e}(on);bn.prototype.bytesPerElement=40,kr("StructArrayLayout2i2ui3ul3ui2f2ub40",bn);var _n=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s,u,p,l,c,h,f){var y=this.length;this.resize(y+1);var d=16*y,m=8*y;return this.int16[d+0]=t,this.int16[d+1]=e,this.int16[d+2]=r,this.int16[d+3]=n,this.uint16[d+4]=i,this.uint16[d+5]=a,this.uint16[d+6]=o,this.uint16[d+7]=s,this.uint16[d+8]=u,this.uint16[d+9]=p,this.uint16[d+10]=l,this.uint16[d+11]=c,this.uint16[d+12]=h,this.uint32[m+7]=f,y},e.prototype.emplace=function(t,e,r,n,i,a,o,s,u,p,l,c,h,f,y){var d=16*t,m=8*t;return this.int16[d+0]=e,this.int16[d+1]=r,this.int16[d+2]=n,this.int16[d+3]=i,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=u,this.uint16[d+8]=p,this.uint16[d+9]=l,this.uint16[d+10]=c,this.uint16[d+11]=h,this.uint16[d+12]=f,this.uint32[m+7]=y,t},e}(on);_n.prototype.bytesPerElement=32,kr("StructArrayLayout4i9ui1ul32",_n);var wn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var r=1*e;return this.float32[r+0]=t,e},e.prototype.emplace=function(t,e){var r=1*t;return this.float32[r+0]=e,t},e}(on);wn.prototype.bytesPerElement=4,kr("StructArrayLayout1f4",wn);var An=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r){var n=this.length;this.resize(n+1);var i=3*n;return this.int16[i+0]=t,this.int16[i+1]=e,this.int16[i+2]=r,n},e.prototype.emplace=function(t,e,r,n){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=r,this.int16[i+2]=n,t},e}(on);An.prototype.bytesPerElement=6,kr("StructArrayLayout3i6",An);var kn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r){var n=this.length;this.resize(n+1);var i=2*n,a=4*n;return this.uint32[i+0]=t,this.uint16[a+2]=e,this.uint16[a+3]=r,n},e.prototype.emplace=function(t,e,r,n){var i=2*t,a=4*t;return this.uint32[i+0]=e,this.uint16[a+2]=r,this.uint16[a+3]=n,t},e}(on);kn.prototype.bytesPerElement=8,kr("StructArrayLayout1ul2ui8",kn);var zn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r){var n=this.length;this.resize(n+1);var i=3*n;return this.uint16[i+0]=t,this.uint16[i+1]=e,this.uint16[i+2]=r,n},e.prototype.emplace=function(t,e,r,n){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=r,this.uint16[i+2]=n,t},e}(on);zn.prototype.bytesPerElement=6,kr("StructArrayLayout3ui6",zn);var Sn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e){var r=this.length;this.resize(r+1);var n=2*r;return this.uint16[n+0]=t,this.uint16[n+1]=e,r},e.prototype.emplace=function(t,e,r){var n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=r,t},e}(on);Sn.prototype.bytesPerElement=4,kr("StructArrayLayout2ui4",Sn);var Bn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var r=1*e;return this.uint16[r+0]=t,e},e.prototype.emplace=function(t,e){var r=1*t;return this.uint16[r+0]=e,t},e}(on);Bn.prototype.bytesPerElement=2,kr("StructArrayLayout1ui2",Bn);var In=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e){var r=this.length;this.resize(r+1);var n=2*r;return this.float32[n+0]=t,this.float32[n+1]=e,r},e.prototype.emplace=function(t,e,r){var n=2*t;return this.float32[n+0]=e,this.float32[n+1]=r,t},e}(on);In.prototype.bytesPerElement=8,kr("StructArrayLayout2f8",In);var Vn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);},e.prototype.emplaceBack=function(t,e,r,n){var i=this.length;this.resize(i+1);var a=4*i;return this.float32[a+0]=t,this.float32[a+1]=e,this.float32[a+2]=r,this.float32[a+3]=n,i},e.prototype.emplace=function(t,e,r,n,i){var a=4*t;return this.float32[a+0]=e,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,t},e}(on);Vn.prototype.bytesPerElement=16,kr("StructArrayLayout4f16",Vn);var Pn=function(t){function e(){t.apply(this,arguments);}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t;},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t;},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(t){this._structArray.int16[this._pos2+2]=t;},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(t){this._structArray.int16[this._pos2+3]=t;},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(t){this._structArray.int16[this._pos2+4]=t;},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(t){this._structArray.int16[this._pos2+5]=t;},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t;},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t;},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t;},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(t){this._structArray.int16[this._pos2+10]=t;},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t;},r.anchorPoint.get=function(){return new a(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,r),e}(an);Pn.prototype.size=24;var Mn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Pn(this,t)},e}(vn);kr("CollisionBoxArray",Mn);var Cn=function(t){function e(){t.apply(this,arguments);}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t;},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t;},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t;},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t;},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t;},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t;},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t;},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t;},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t;},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t;},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t;},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t;},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t;},r.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},r.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t;},Object.defineProperties(e.prototype,r),e}(an);Cn.prototype.size=40;var Tn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Cn(this,t)},e}(bn);kr("PlacedSymbolArray",Tn);var En=function(t){function e(){t.apply(this,arguments);}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},horizontalPlacedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t;},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t;},r.horizontalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.horizontalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t;},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t;},r.key.get=function(){return this._structArray.uint16[this._pos2+4]},r.key.set=function(t){this._structArray.uint16[this._pos2+4]=t;},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+5]},r.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+5]=t;},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+6]},r.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+6]=t;},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},r.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+7]=t;},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t;},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.featureIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t;},r.numGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+10]},r.numGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+10]=t;},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+11]},r.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+11]=t;},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+12]},r.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+12]=t;},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+7]},r.crossTileID.set=function(t){this._structArray.uint32[this._pos4+7]=t;},Object.defineProperties(e.prototype,r),e}(an);En.prototype.size=32;var Fn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new En(this,t)},e}(_n);kr("SymbolInstanceArray",Fn);var On=function(t){function e(){t.apply(this,arguments);}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t;},Object.defineProperties(e.prototype,r),e}(an);On.prototype.size=4;var Ln=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new On(this,t)},e}(wn);kr("GlyphOffsetArray",Ln);var Dn=function(t){function e(){t.apply(this,arguments);}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(t){this._structArray.int16[this._pos2+0]=t;},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(t){this._structArray.int16[this._pos2+1]=t;},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t;},Object.defineProperties(e.prototype,r),e}(an);Dn.prototype.size=6;var jn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new Dn(this,t)},e}(An);kr("SymbolLineVertexArray",jn);var Un=function(t){function e(){t.apply(this,arguments);}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t;},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t;},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t;},Object.defineProperties(e.prototype,r),e}(an);Un.prototype.size=8;var qn=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new Un(this,t)},e}(kn);kr("FeatureIndexArray",qn);var Rn=sn([{name:"a_pos",components:2,type:"Int16"}],4),Nn=Rn.members,Zn=(Rn.size,Rn.alignment,function(t){void 0===t&&(t=[]),this.segments=t;});Zn.prototype.prepareSegment=function(t,e,r){var n=this.segments[this.segments.length-1];return t>Zn.MAX_VERTEX_ARRAY_LENGTH&&b("Max vertices per segment is "+Zn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!n||n.vertexLength+t>Zn.MAX_VERTEX_ARRAY_LENGTH)&&(n={vertexOffset:e.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},this.segments.push(n)),n},Zn.prototype.get=function(){return this.segments},Zn.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var r=e[t];for(var n in r.vaos)r.vaos[n].destroy();}},Zn.simpleSegment=function(t,e,r,n){return new Zn([{vertexOffset:t,primitiveOffset:e,vertexLength:r,primitiveLength:n,vaos:{}}])},Zn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,kr("SegmentVector",Zn);var Xn=function(t,e){return 256*(t=l(Math.floor(t),0,255))+(e=l(Math.floor(e),0,255))},Hn=function(){this.ids=[],this.positions=[],this.indexed=!1;};function Gn(t,e,r){var n=t[e];t[e]=t[r],t[r]=n;}Hn.prototype.add=function(t,e,r,n){this.ids.push(t),this.positions.push(e,r,n);},Hn.prototype.getPositions=function(t){for(var e=0,r=this.ids.length-1;e<r;){var n=e+r>>1;this.ids[n]>=t?r=n:e=n+1;}for(var i=[];this.ids[e]===t;){var a=this.positions[3*e],o=this.positions[3*e+1],s=this.positions[3*e+2];i.push({index:a,start:o,end:s}),e++;}return i},Hn.serialize=function(t,e){var r=new Float64Array(t.ids),n=new Uint32Array(t.positions);return function t(e,r,n,i){if(n>=i)return;var a=e[n+i>>1];var o=n-1;var s=i+1;for(;;){do{o++;}while(e[o]<a);do{s--;}while(e[s]>a);if(o>=s)break;Gn(e,o,s),Gn(r,3*o,3*s),Gn(r,3*o+1,3*s+1),Gn(r,3*o+2,3*s+2);}t(e,r,n,s);t(e,r,s+1,i);}(r,n,0,r.length-1),e.push(r.buffer,n.buffer),{ids:r,positions:n}},Hn.deserialize=function(t){var e=new Hn;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e},kr("FeaturePositionMap",Hn);var Jn=function(t,e){this.gl=t.gl,this.location=e;},Kn=function(t){function e(e,r){t.call(this,e,r),this.current=0;}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t));},e}(Jn),Yn=function(t){function e(e,r){t.call(this,e,r),this.current=0;}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t));},e}(Jn),$n=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0];}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]));},e}(Jn),Wn=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0,0];}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]));},e}(Jn),Qn=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0,0,0];}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]));},e}(Jn),ti=function(t){function e(e,r){t.call(this,e,r),this.current=at.transparent;}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a));},e}(Jn),ei=new Float32Array(16),ri=function(t){function e(e,r){t.call(this,e,r),this.current=ei;}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(Jn);function ni(t){return [Xn(255*t.r,255*t.g),Xn(255*t.b,255*t.a)]}var ii=function(t,e,r){this.value=t,this.names=e,this.uniformNames=this.names.map(function(t){return "u_"+t}),this.type=r,this.maxValue=-1/0;};ii.prototype.defines=function(){return this.names.map(function(t){return "#define HAS_UNIFORM_u_"+t})},ii.prototype.setConstantPatternPositions=function(){},ii.prototype.populatePaintArray=function(){},ii.prototype.updatePaintArray=function(){},ii.prototype.upload=function(){},ii.prototype.destroy=function(){},ii.prototype.setUniforms=function(t,e,r,n){e.set(n.constantOr(this.value));},ii.prototype.getBinding=function(t,e){return "color"===this.type?new ti(t,e):new Yn(t,e)},ii.serialize=function(t){var e=t.value,r=t.names,n=t.type;return {value:Sr(e),names:r,type:n}},ii.deserialize=function(t){var e=t.value,r=t.names,n=t.type;return new ii(Br(e),r,n)};var ai=function(t,e,r){this.value=t,this.names=e,this.uniformNames=this.names.map(function(t){return "u_"+t}),this.type=r,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null};};ai.prototype.defines=function(){return this.names.map(function(t){return "#define HAS_UNIFORM_u_"+t})},ai.prototype.populatePaintArray=function(){},ai.prototype.updatePaintArray=function(){},ai.prototype.upload=function(){},ai.prototype.destroy=function(){},ai.prototype.setConstantPatternPositions=function(t,e){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=e.tlbr;},ai.prototype.setUniforms=function(t,e,r,n,i){var a=this.patternPositions;"u_pattern_to"===i&&a.patternTo&&e.set(a.patternTo),"u_pattern_from"===i&&a.patternFrom&&e.set(a.patternFrom);},ai.prototype.getBinding=function(t,e){return new Qn(t,e)};var oi=function(t,e,r,n){this.expression=t,this.names=e,this.type=r,this.uniformNames=this.names.map(function(t){return "a_"+t}),this.maxValue=-1/0,this.paintVertexAttributes=e.map(function(t){return {name:"a_"+t,type:"Float32",components:"color"===r?2:1,offset:0}}),this.paintVertexArray=new n;};oi.prototype.defines=function(){return []},oi.prototype.setConstantPatternPositions=function(){},oi.prototype.populatePaintArray=function(t,e){var r=this.paintVertexArray,n=r.length;r.reserve(t);var i=this.expression.evaluate(new qr(0),e,{});if("color"===this.type)for(var a=ni(i),o=n;o<t;o++)r.emplaceBack(a[0],a[1]);else{for(var s=n;s<t;s++)r.emplaceBack(i);this.maxValue=Math.max(this.maxValue,i);}},oi.prototype.updatePaintArray=function(t,e,r,n){var i=this.paintVertexArray,a=this.expression.evaluate({zoom:0},r,n);if("color"===this.type)for(var o=ni(a),s=t;s<e;s++)i.emplace(s,o[0],o[1]);else{for(var u=t;u<e;u++)i.emplace(u,a);this.maxValue=Math.max(this.maxValue,a);}},oi.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));},oi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();},oi.prototype.setUniforms=function(t,e){e.set(0);},oi.prototype.getBinding=function(t,e){return new Yn(t,e)};var si=function(t,e,r,n,i,a){this.expression=t,this.names=e,this.uniformNames=this.names.map(function(t){return "a_"+t+"_t"}),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=-1/0;var o=a;this.paintVertexAttributes=e.map(function(t){return {name:"a_"+t,type:"Float32",components:"color"===r?4:2,offset:0}}),this.paintVertexArray=new o;};si.prototype.defines=function(){return []},si.prototype.setConstantPatternPositions=function(){},si.prototype.populatePaintArray=function(t,e){var r=this.paintVertexArray,n=r.length;r.reserve(t);var i=this.expression.evaluate(new qr(this.zoom),e,{}),a=this.expression.evaluate(new qr(this.zoom+1),e,{});if("color"===this.type)for(var o=ni(i),s=ni(a),u=n;u<t;u++)r.emplaceBack(o[0],o[1],s[0],s[1]);else{for(var p=n;p<t;p++)r.emplaceBack(i,a);this.maxValue=Math.max(this.maxValue,i,a);}},si.prototype.updatePaintArray=function(t,e,r,n){var i=this.paintVertexArray,a=this.expression.evaluate({zoom:this.zoom},r,n),o=this.expression.evaluate({zoom:this.zoom+1},r,n);if("color"===this.type)for(var s=ni(a),u=ni(o),p=t;p<e;p++)i.emplace(p,s[0],s[1],u[0],u[1]);else{for(var l=t;l<e;l++)i.emplace(l,a,o);this.maxValue=Math.max(this.maxValue,a,o);}},si.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));},si.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();},si.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},si.prototype.setUniforms=function(t,e,r){e.set(this.interpolationFactor(r.zoom));},si.prototype.getBinding=function(t,e){return new Yn(t,e)};var ui=function(t,e,r,n,i,a,o){this.expression=t,this.names=e,this.type=r,this.uniformNames=this.names.map(function(t){return "a_"+t+"_t"}),this.useIntegerZoom=n,this.zoom=i,this.maxValue=-1/0,this.layerId=o,this.paintVertexAttributes=e.map(function(t){return {name:"a_"+t,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new a,this.zoomOutPaintVertexArray=new a;};ui.prototype.defines=function(){return []},ui.prototype.setConstantPatternPositions=function(){},ui.prototype.populatePaintArray=function(t,e,r){var n=this.zoomInPaintVertexArray,i=this.zoomOutPaintVertexArray,a=this.layerId,o=n.length;if(n.reserve(t),i.reserve(t),r&&e.patterns&&e.patterns[a]){var s=e.patterns[a],u=s.min,p=s.mid,l=s.max,c=r[u],h=r[p],f=r[l];if(!c||!h||!f)return;for(var y=o;y<t;y++)n.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1]),i.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1]);}},ui.prototype.updatePaintArray=function(t,e,r,n,i){var a=this.zoomInPaintVertexArray,o=this.zoomOutPaintVertexArray,s=this.layerId;if(i&&r.patterns&&r.patterns[s]){var u=r.patterns[s],p=u.min,l=u.mid,c=u.max,h=i[p],f=i[l],y=i[c];if(!h||!f||!y)return;for(var d=t;d<e;d++)a.emplace(d,f.tl[0],f.tl[1],f.br[0],f.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1]),o.emplace(d,f.tl[0],f.tl[1],f.br[0],f.br[1],y.tl[0],y.tl[1],y.br[0],y.br[1]);}},ui.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));},ui.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy();},ui.prototype.setUniforms=function(t,e){e.set(0);},ui.prototype.getBinding=function(t,e){return new Yn(t,e)};var pi=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Hn,this._bufferOffset=0;};pi.createDynamic=function(t,e,r){var n=new pi,i=[];for(var a in t.paint._values)if(r(a)){var o=t.paint.get(a);if(o instanceof Jr&&xe(o.property.specification)){var s=ci(a,t.type),u=o.property.specification.type,p=o.property.useIntegerZoom;if("cross-faded"===o.property.specification["property-type"]||"cross-faded-data-driven"===o.property.specification["property-type"])if("constant"===o.value.kind)n.binders[a]=new ai(o.value.value,s,u),i.push("/u_"+a);else{var l=hi(a,u,"source");n.binders[a]=new ui(o.value,s,u,p,e,l,t.id),i.push("/a_"+a);}else if("constant"===o.value.kind)n.binders[a]=new ii(o.value.value,s,u),i.push("/u_"+a);else if("source"===o.value.kind){var c=hi(a,u,"source");n.binders[a]=new oi(o.value,s,u,c),i.push("/a_"+a);}else{var h=hi(a,u,"composite");n.binders[a]=new si(o.value,s,u,p,e,h),i.push("/z_"+a);}}}return n.cacheKey=i.sort().join(""),n},pi.prototype.populatePaintArrays=function(t,e,r,n){for(var i in this.binders){this.binders[i].populatePaintArray(t,e,n);}void 0!==e.id&&this._featureMap.add(+e.id,r,this._bufferOffset,t),this._bufferOffset=t;},pi.prototype.setConstantPatternPositions=function(t,e){for(var r in this.binders){this.binders[r].setConstantPatternPositions(t,e);}},pi.prototype.updatePaintArrays=function(t,e,r,n){var i=!1;for(var a in t)for(var o=0,s=this._featureMap.getPositions(+a);o<s.length;o+=1){var u=s[o],p=e.feature(u.index);for(var l in this.binders){var c=this.binders[l];if(!(c instanceof ii||c instanceof ai)&&!0===c.expression.isStateDependent){var h=r.paint.get(l);c.expression=h.value,c.updatePaintArray(u.start,u.end,p,t[a],n),i=!0;}}}return i},pi.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},pi.prototype.getPaintVertexBuffers=function(){return this._buffers},pi.prototype.getUniforms=function(t,e){var r={};for(var n in this.binders)for(var i=this.binders[n],a=0,o=i.uniformNames;a<o.length;a+=1){var s=o[a];r[s]=i.getBinding(t,e[s]);}return r},pi.prototype.setUniforms=function(t,e,r,n){for(var i in this.binders)for(var a=this.binders[i],o=0,s=a.uniformNames;o<s.length;o+=1){var u=s[o];a.setUniforms(t,e[u],n,r.get(i),u);}},pi.prototype.updatePatternPaintBuffers=function(t){var e=[];for(var r in this.binders){var n=this.binders[r];if(n instanceof ui){var i=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;i&&e.push(i);}else(n instanceof oi||n instanceof si)&&n.paintVertexBuffer&&e.push(n.paintVertexBuffer);}this._buffers=e;},pi.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var r=[];for(var n in this.binders){var i=this.binders[n];(i instanceof oi||i instanceof si)&&i.paintVertexBuffer&&r.push(i.paintVertexBuffer);}this._buffers=r;},pi.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy();};var li=function(t,e,r,n){void 0===n&&(n=function(){return !0}),this.programConfigurations={};for(var i=0,a=e;i<a.length;i+=1){var o=a[i];this.programConfigurations[o.id]=pi.createDynamic(o,r,n),this.programConfigurations[o.id].layoutAttributes=t;}this.needsUpload=!1;};function ci(t,e){return {"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function hi(t,e,r){var n={color:{source:In,composite:Vn},number:{source:wn,composite:In}},i=function(t){return {"line-pattern":{source:fn,composite:fn},"fill-pattern":{source:fn,composite:fn},"fill-extrusion-pattern":{source:fn,composite:fn}}[t]}(t);return i&&i[r]||n[e][r]}li.prototype.populatePaintArrays=function(t,e,r,n){for(var i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(t,e,r,n);this.needsUpload=!0;},li.prototype.updatePaintArrays=function(t,e,r,n){for(var i=0,a=r;i<a.length;i+=1){var o=a[i];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(t,e,o,n)||this.needsUpload;}},li.prototype.get=function(t){return this.programConfigurations[t]},li.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1;}},li.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy();},kr("ConstantBinder",ii),kr("CrossFadedConstantBinder",ai),kr("SourceExpressionBinder",oi),kr("CrossFadedCompositeBinder",ui),kr("CompositeExpressionBinder",si),kr("ProgramConfiguration",pi,{omit:["_buffers"]}),kr("ProgramConfigurationSet",li);var fi=8192;var yi,di=(yi=16,{min:-1*Math.pow(2,yi-1),max:Math.pow(2,yi-1)-1});function mi(t){for(var e=fi/t.extent,r=t.loadGeometry(),n=0;n<r.length;n++)for(var i=r[n],a=0;a<i.length;a++){var o=i[a];o.x=Math.round(o.x*e),o.y=Math.round(o.y*e),(o.x<di.min||o.x>di.max||o.y<di.min||o.y>di.max)&&b("Geometry exceeds allowed extent, reduce your vector tile buffer size");}return r}function vi(t,e,r,n,i){t.emplaceBack(2*e+(n+1)/2,2*r+(i+1)/2);}var gi=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new pn,this.indexArray=new zn,this.segments=new Zn,this.programConfigurations=new li(Nn,t.layers,t.zoom);};function xi(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];if(Ii(i,e))return !0;if(zi(e,i,r))return !0}return !1}function bi(t,e){if(1===t.length&&1===t[0].length)return Bi(e,t[0][0]);for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;i++)if(Bi(t,n[i]))return !0;for(var a=0;a<t.length;a++){for(var o=t[a],s=0;s<o.length;s++)if(Bi(e,o[s]))return !0;for(var u=0;u<e.length;u++)if(Ai(o,e[u]))return !0}return !1}function _i(t,e,r){for(var n=0;n<e.length;n++)for(var i=e[n],a=0;a<t.length;a++){var o=t[a];if(o.length>=3)for(var s=0;s<i.length;s++)if(Ii(o,i[s]))return !0;if(wi(o,i,r))return !0}return !1}function wi(t,e,r){if(t.length>1){if(Ai(t,e))return !0;for(var n=0;n<e.length;n++)if(zi(e[n],t,r))return !0}for(var i=0;i<t.length;i++)if(zi(t[i],e,r))return !0;return !1}function Ai(t,e){if(0===t.length||0===e.length)return !1;for(var r=0;r<t.length-1;r++)for(var n=t[r],i=t[r+1],a=0;a<e.length-1;a++){if(ki(n,i,e[a],e[a+1]))return !0}return !1}function ki(t,e,r,n){return _(t,r,n)!==_(e,r,n)&&_(t,e,r)!==_(t,e,n)}function zi(t,e,r){var n=r*r;if(1===e.length)return t.distSqr(e[0])<n;for(var i=1;i<e.length;i++){if(Si(t,e[i-1],e[i])<n)return !0}return !1}function Si(t,e,r){var n=e.distSqr(r);if(0===n)return t.distSqr(e);var i=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return i<0?t.distSqr(e):i>1?t.distSqr(r):t.distSqr(r.sub(e)._mult(i)._add(e))}function Bi(t,e){for(var r,n,i,a=!1,o=0;o<t.length;o++)for(var s=0,u=(r=t[o]).length-1;s<r.length;u=s++)n=r[s],i=r[u],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(a=!a);return a}function Ii(t,e){for(var r=!1,n=0,i=t.length-1;n<t.length;i=n++){var a=t[n],o=t[i];a.y>e.y!=o.y>e.y&&e.x<(o.x-a.x)*(e.y-a.y)/(o.y-a.y)+a.x&&(r=!r);}return r}function Vi(t,e,r){var n=e.paint.get(t).value;return "constant"===n.kind?n.value:r.programConfigurations.get(e.id).binders[t].maxValue}function Pi(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Mi(t,e,r,n,i){if(!e[0]&&!e[1])return t;var o=a.convert(e);"viewport"===r&&o._rotate(-n);for(var s=[],u=0;u<t.length;u++){for(var p=t[u],l=[],c=0;c<p.length;c++)l.push(p[c].sub(o._mult(i)));s.push(l);}return s}gi.prototype.populate=function(t,e){for(var r=0,n=t;r<n.length;r+=1){var i=n[r],a=i.feature,o=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new qr(this.zoom),a)){var u=mi(a);this.addFeature(a,u,o),e.featureIndex.insert(a,u,o,s,this.index);}}},gi.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r);},gi.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},gi.prototype.uploadPending=function(){return !this.uploaded||this.programConfigurations.needsUpload},gi.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Nn),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;},gi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());},gi.prototype.addFeature=function(t,e,r){for(var n=0,i=e;n<i.length;n+=1)for(var a=0,o=i[n];a<o.length;a+=1){var s=o[a],u=s.x,p=s.y;if(!(u<0||u>=fi||p<0||p>=fi)){var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),c=l.vertexLength;vi(this.layoutVertexArray,u,p,-1,-1),vi(this.layoutVertexArray,u,p,1,-1),vi(this.layoutVertexArray,u,p,1,1),vi(this.layoutVertexArray,u,p,-1,1),this.indexArray.emplaceBack(c,c+1,c+2),this.indexArray.emplaceBack(c,c+3,c+2),l.vertexLength+=4,l.primitiveLength+=2;}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,{});},kr("CircleBucket",gi,{omit:["layers"]});var Ci={paint:new en({"circle-radius":new $r(L.paint_circle["circle-radius"]),"circle-color":new $r(L.paint_circle["circle-color"]),"circle-blur":new $r(L.paint_circle["circle-blur"]),"circle-opacity":new $r(L.paint_circle["circle-opacity"]),"circle-translate":new Yr(L.paint_circle["circle-translate"]),"circle-translate-anchor":new Yr(L.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yr(L.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yr(L.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new $r(L.paint_circle["circle-stroke-width"]),"circle-stroke-color":new $r(L.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new $r(L.paint_circle["circle-stroke-opacity"])})},Ti="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;function Ei(){var t=new Ti(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Fi(){var t=new Ti(3);return t[0]=0,t[1]=0,t[2]=0,t}function Oi(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function Li(t,e,r){var n=new Ti(3);return n[0]=t,n[1]=e,n[2]=r,n}function Di(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function ji(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ui(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2];return t[0]=i*u-a*s,t[1]=a*o-n*u,t[2]=n*s-i*o,t}var qi,Ri=Oi,Ni=(qi=Fi(),function(t,e,r,n,i,a){var o,s;for(e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)qi[0]=t[o],qi[1]=t[o+1],qi[2]=t[o+2],i(qi,qi,a),t[o]=qi[0],t[o+1]=qi[1],t[o+2]=qi[2];return t});function Zi(){var t=new Ti(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Xi(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o),t}function Hi(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}var Gi=function(){var t=Zi();return function(e,r,n,i,a,o){var s,u;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function Ji(){var t=new Ti(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ki(t,e,r,n){var i,a,o,s,u,p=e[0],l=e[1],c=e[2],h=e[3],f=r[0],y=r[1],d=r[2],m=r[3];return (a=p*f+l*y+c*d+h*m)<0&&(a=-a,f=-f,y=-y,d=-d,m=-m),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-n)*i)/o,u=Math.sin(n*i)/o):(s=1-n,u=n),t[0]=s*p+u*f,t[1]=s*l+u*y,t[2]=s*c+u*d,t[3]=s*h+u*m,t}var Yi,$i,Wi,Qi,ta,ea,ra=Xi;Yi=Fi(),$i=Li(1,0,0),Wi=Li(0,1,0),Qi=Ji(),ta=Ji(),ea=Ei();!function(){var t,e=((t=new Ti(2))[0]=0,t[1]=0,t);}();var na=function(t){function e(e){t.call(this,e,Ci);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new gi(t)},e.prototype.queryRadius=function(t){var e=t;return Vi("circle-radius",this,e)+Vi("circle-stroke-width",this,e)+Pi(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,i,a,o,s){for(var u=Mi(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),p=this.paint.get("circle-radius").evaluate(e,r)+this.paint.get("circle-stroke-width").evaluate(e,r),l="map"===this.paint.get("circle-pitch-alignment"),c=l?u:function(t,e,r){return t.map(function(t){return t.map(function(t){return ia(t,e,r)})})}(u,s,a),h=l?p*o:p,f=0,y=n;f<y.length;f+=1)for(var d=0,m=y[f];d<m.length;d+=1){var v=m[d],g=l?v:ia(v,s,a),x=h,b=Hi([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?x*=b[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(x*=a.cameraToCenterDistance/b[3]),xi(c,g,x))return !0}return !1},e}(rn);function ia(t,e,r){var n=Hi([],[t.x,t.y,0,1],e);return new a((n[0]/n[3]+1)*r.width*.5,(n[1]/n[3]+1)*r.height*.5)}var aa=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gi);function oa(t,e,r,n){var i=e.width,a=e.height;if(n){if(n.length!==i*a*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(i*a*r);return t.width=i,t.height=a,t.data=n,t}function sa(t,e,r){var n=e.width,i=e.height;if(n!==t.width||i!==t.height){var a=oa({},{width:n,height:i},r);ua(t,a,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,i)},r),t.width=n,t.height=i,t.data=a.data;}}function ua(t,e,r,n,i,a){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=t.data,s=e.data,u=0;u<i.height;u++)for(var p=((r.y+u)*t.width+r.x)*a,l=((n.y+u)*e.width+n.x)*a,c=0;c<i.width*a;c++)s[l+c]=o[p+c];return e}kr("HeatmapBucket",aa,{omit:["layers"]});var pa=function(t,e){oa(this,t,1,e);};pa.prototype.resize=function(t){sa(this,t,1);},pa.prototype.clone=function(){return new pa({width:this.width,height:this.height},new Uint8Array(this.data))},pa.copy=function(t,e,r,n,i){ua(t,e,r,n,i,1);};var la=function(t,e){oa(this,t,4,e);};la.prototype.resize=function(t){sa(this,t,4);},la.prototype.clone=function(){return new la({width:this.width,height:this.height},new Uint8Array(this.data))},la.copy=function(t,e,r,n,i){ua(t,e,r,n,i,4);},kr("AlphaImage",pa),kr("RGBAImage",la);var ca={paint:new en({"heatmap-radius":new $r(L.paint_heatmap["heatmap-radius"]),"heatmap-weight":new $r(L.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yr(L.paint_heatmap["heatmap-intensity"]),"heatmap-color":new tn(L.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yr(L.paint_heatmap["heatmap-opacity"])})};function ha(t,e){for(var r=new Uint8Array(1024),n={},i=0,a=0;i<256;i++,a+=4){n[e]=i/255;var o=t.evaluate(n);r[a+0]=Math.floor(255*o.r/o.a),r[a+1]=Math.floor(255*o.g/o.a),r[a+2]=Math.floor(255*o.b/o.a),r[a+3]=Math.floor(255*o.a);}return new la({width:256,height:1},r)}var fa=function(t){function e(e){t.call(this,e,ca),this._updateColorRamp();}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new aa(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp();},e.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=ha(t,"heatmapDensity"),this.colorRampTexture=null;},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null);},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return !1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(rn),ya={paint:new en({"hillshade-illumination-direction":new Yr(L.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yr(L.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yr(L.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yr(L.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yr(L.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yr(L.paint_hillshade["hillshade-accent-color"])})},da=function(t){function e(e){t.call(this,e,ya);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(rn),ma=sn([{name:"a_pos",components:2,type:"Int16"}],4),va=ma.members,ga=(ma.size,ma.alignment,ba),xa=ba;function ba(t,e,r){r=r||2;var n,i,a,o,s,u,p,l=e&&e.length,c=l?e[0]*r:t.length,h=_a(t,0,c,r,!0),f=[];if(!h)return f;if(l&&(h=function(t,e,r,n){var i,a,o,s,u,p=[];for(i=0,a=e.length;i<a;i++)o=e[i]*n,s=i<a-1?e[i+1]*n:t.length,(u=_a(t,o,s,n,!1))===u.next&&(u.steiner=!0),p.push(Ma(u));for(p.sort(Ia),i=0;i<p.length;i++)Va(p[i],r),r=wa(r,r.next);return r}(t,e,h,r)),t.length>80*r){n=a=t[0],i=o=t[1];for(var y=r;y<c;y+=r)(s=t[y])<n&&(n=s),(u=t[y+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);p=0!==(p=Math.max(a-n,o-i))?1/p:0;}return Aa(h,f,r,n,i,p),f}function _a(t,e,r,n,i){var a,o;if(i===Ra(t,e,r,n)>0)for(a=e;a<r;a+=n)o=ja(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=ja(a,t[a],t[a+1],o);return o&&Fa(o,o.next)&&(Ua(o),o=o.next),o}function wa(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Fa(n,n.next)&&0!==Ea(n.prev,n,n.next))n=n.next;else{if(Ua(n),(n=e=n.prev)===n.next)break;r=!0;}}while(r||n!==e);return e}function Aa(t,e,r,n,i,a,o){if(t){!o&&a&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=Pa(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,a,o,s,u,p=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<p&&(s++,n=n.nextZ);e++);for(u=p;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n;}a.nextZ=null,p*=2;}while(o>1)}(i);}(t,n,i,a);for(var s,u,p=t;t.prev!==t.next;)if(s=t.prev,u=t.next,a?za(t,n,i,a):ka(t))e.push(s.i/r),e.push(t.i/r),e.push(u.i/r),Ua(t),t=u.next,p=u.next;else if((t=u)===p){o?1===o?Aa(t=Sa(t,e,r),e,r,n,i,a,2):2===o&&Ba(t,e,r,n,i,a):Aa(wa(t),e,r,n,i,a,1);break}}}function ka(t){var e=t.prev,r=t,n=t.next;if(Ea(e,r,n)>=0)return !1;for(var i=t.next.next;i!==t.prev;){if(Ca(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Ea(i.prev,i,i.next)>=0)return !1;i=i.next;}return !0}function za(t,e,r,n){var i=t.prev,a=t,o=t.next;if(Ea(i,a,o)>=0)return !1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,p=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,l=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,c=Pa(s,u,e,r,n),h=Pa(p,l,e,r,n),f=t.prevZ,y=t.nextZ;f&&f.z>=c&&y&&y.z<=h;){if(f!==t.prev&&f!==t.next&&Ca(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Ea(f.prev,f,f.next)>=0)return !1;if(f=f.prevZ,y!==t.prev&&y!==t.next&&Ca(i.x,i.y,a.x,a.y,o.x,o.y,y.x,y.y)&&Ea(y.prev,y,y.next)>=0)return !1;y=y.nextZ;}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&Ca(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Ea(f.prev,f,f.next)>=0)return !1;f=f.prevZ;}for(;y&&y.z<=h;){if(y!==t.prev&&y!==t.next&&Ca(i.x,i.y,a.x,a.y,o.x,o.y,y.x,y.y)&&Ea(y.prev,y,y.next)>=0)return !1;y=y.nextZ;}return !0}function Sa(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!Fa(i,a)&&Oa(i,n,n.next,a)&&La(i,a)&&La(a,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(a.i/r),Ua(n),Ua(n.next),n=t=a),n=n.next;}while(n!==t);return n}function Ba(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ta(o,s)){var u=Da(o,s);return o=wa(o,o.next),u=wa(u,u.next),Aa(o,e,r,n,i,a),void Aa(u,e,r,n,i,a)}s=s.next;}o=o.next;}while(o!==t)}function Ia(t,e){return t.x-e.x}function Va(t,e){if(e=function(t,e){var r,n=e,i=t.x,a=t.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next;}}n=n.next;}while(n!==e);if(!r)return null;if(i===o)return r.prev;var u,p=r,l=r.x,c=r.y,h=1/0;n=r.next;for(;n!==p;)i>=n.x&&n.x>=l&&i!==n.x&&Ca(a<c?i:o,a,l,c,a<c?o:i,a,n.x,n.y)&&((u=Math.abs(a-n.y)/(i-n.x))<h||u===h&&n.x>r.x)&&La(n,t)&&(r=n,h=u),n=n.next;return r}(t,e)){var r=Da(e,t);wa(r,r.next);}}function Pa(t,e,r,n,i){return (t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ma(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next;}while(e!==t);return r}function Ca(t,e,r,n,i,a,o,s){return (i-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(n-s)-(r-o)*(e-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function Ta(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Oa(r,r.next,t,e))return !0;r=r.next;}while(r!==t);return !1}(t,e)&&La(t,e)&&La(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;}while(r!==t);return n}(t,e)}function Ea(t,e,r){return (e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Fa(t,e){return t.x===e.x&&t.y===e.y}function Oa(t,e,r,n){return !!(Fa(t,e)&&Fa(r,n)||Fa(t,n)&&Fa(r,e))||Ea(t,e,r)>0!=Ea(t,e,n)>0&&Ea(r,n,t)>0!=Ea(r,n,e)>0}function La(t,e){return Ea(t.prev,t,t.next)<0?Ea(t,e,t.next)>=0&&Ea(t,t.prev,e)>=0:Ea(t,e,t.prev)<0||Ea(t,t.next,e)<0}function Da(t,e){var r=new qa(t.i,t.x,t.y),n=new qa(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function ja(t,e,r,n){var i=new qa(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ua(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ);}function qa(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function Ra(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}ba.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(Ra(t,0,a,r));if(i)for(var s=0,u=e.length;s<u;s++){var p=e[s]*r,l=s<u-1?e[s+1]*r:t.length;o-=Math.abs(Ra(t,p,l,r));}var c=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,f=n[s+1]*r,y=n[s+2]*r;c+=Math.abs((t[h]-t[y])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[y+1]-t[h+1]));}return 0===o&&0===c?0:Math.abs((c-o)/o)},ba.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n));}return r},ga.default=xa;var Na=Xa,Za=Xa;function Xa(t,e,r,n,i){!function t(e,r,n,i,a){for(;i>n;){if(i-n>600){var o=i-n+1,s=r-n+1,u=Math.log(o),p=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*p*(o-p)/o)*(s-o/2<0?-1:1),c=Math.max(n,Math.floor(r-s*p/o+l)),h=Math.min(i,Math.floor(r+(o-s)*p/o+l));t(e,r,c,h,a);}var f=e[r],y=n,d=i;for(Ha(e,n,r),a(e[i],f)>0&&Ha(e,n,i);y<d;){for(Ha(e,y,d),y++,d--;a(e[y],f)<0;)y++;for(;a(e[d],f)>0;)d--;}0===a(e[n],f)?Ha(e,n,d):Ha(e,++d,i),d<=r&&(n=d+1),r<=d&&(i=d-1);}}(t,e,r||0,n||t.length-1,i||Ga);}function Ha(t,e,r){var n=t[e];t[e]=t[r],t[r]=n;}function Ga(t,e){return t<e?-1:t>e?1:0}function Ja(t,e){var r=t.length;if(r<=1)return [t];for(var n,i,a=[],o=0;o<r;o++){var s=w(t[o]);0!==s&&(t[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(n&&a.push(n),n=[t[o]]):n.push(t[o]));}if(n&&a.push(n),e>1)for(var u=0;u<a.length;u++)a[u].length<=e||(Na(a[u],e,1,a[u].length-1,Ka),a[u]=a[u].slice(0,e));return a}function Ka(t,e){return e.area-t.area}function Ya(t,e,r){for(var n=r.patternDependencies,i=!1,a=0,o=e;a<o.length;a+=1){var s=o[a].paint.get(t+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,n[u.to]=!0,n[u.from]=!0);}return i}function $a(t,e,r,n,i){for(var a=i.patternDependencies,o=0,s=e;o<s.length;o+=1){var u=s[o],p=u.paint.get(t+"-pattern").value;if("constant"!==p.kind){var l=p.evaluate({zoom:n-1},r,{}),c=p.evaluate({zoom:n},r,{}),h=p.evaluate({zoom:n+1},r,{});a[l]=!0,a[c]=!0,a[h]=!0,r.patterns[u.id]={min:l,mid:c,max:h};}}return r}Na.default=Za;var Wa=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new pn,this.indexArray=new zn,this.indexArray2=new Sn,this.programConfigurations=new li(va,t.layers,t.zoom),this.segments=new Zn,this.segments2=new Zn;};Wa.prototype.populate=function(t,e){this.features=[],this.hasPattern=Ya("fill",this.layers,e);for(var r=0,n=t;r<n.length;r+=1){var i=n[r],a=i.feature,o=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new qr(this.zoom),a)){var u=mi(a),p={sourceLayerIndex:s,index:o,geometry:u,properties:a.properties,type:a.type,patterns:{}};void 0!==a.id&&(p.id=a.id),this.hasPattern?this.features.push($a("fill",this.layers,p,this.zoom,e)):this.addFeature(p,u,o,{}),e.featureIndex.insert(a,u,o,s,this.index);}}},Wa.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r);},Wa.prototype.addFeatures=function(t,e){for(var r=0,n=this.features;r<n.length;r+=1){var i=n[r],a=i.geometry;this.addFeature(i,a,i.index,e);}},Wa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Wa.prototype.uploadPending=function(){return !this.uploaded||this.programConfigurations.needsUpload},Wa.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,va),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0;},Wa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy());},Wa.prototype.addFeature=function(t,e,r,n){for(var i=0,a=Ja(e,500);i<a.length;i+=1){for(var o=a[i],s=0,u=0,p=o;u<p.length;u+=1){s+=p[u].length;}for(var l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),c=l.vertexLength,h=[],f=[],y=0,d=o;y<d.length;y+=1){var m=d[y];if(0!==m.length){m!==o[0]&&f.push(h.length/2);var v=this.segments2.prepareSegment(m.length,this.layoutVertexArray,this.indexArray2),g=v.vertexLength;this.layoutVertexArray.emplaceBack(m[0].x,m[0].y),this.indexArray2.emplaceBack(g+m.length-1,g),h.push(m[0].x),h.push(m[0].y);for(var x=1;x<m.length;x++)this.layoutVertexArray.emplaceBack(m[x].x,m[x].y),this.indexArray2.emplaceBack(g+x-1,g+x),h.push(m[x].x),h.push(m[x].y);v.vertexLength+=m.length,v.primitiveLength+=m.length;}}for(var b=ga(h,f),_=0;_<b.length;_+=3)this.indexArray.emplaceBack(c+b[_],c+b[_+1],c+b[_+2]);l.vertexLength+=s,l.primitiveLength+=b.length/3;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,n);},kr("FillBucket",Wa,{omit:["layers","features"]});var Qa={paint:new en({"fill-antialias":new Yr(L.paint_fill["fill-antialias"]),"fill-opacity":new $r(L.paint_fill["fill-opacity"]),"fill-color":new $r(L.paint_fill["fill-color"]),"fill-outline-color":new $r(L.paint_fill["fill-outline-color"]),"fill-translate":new Yr(L.paint_fill["fill-translate"]),"fill-translate-anchor":new Yr(L.paint_fill["fill-translate-anchor"]),"fill-pattern":new Wr(L.paint_fill["fill-pattern"])})},to=function(t){function e(e){t.call(this,e,Qa);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"]);},e.prototype.createBucket=function(t){return new Wa(t)},e.prototype.queryRadius=function(){return Pi(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,i,a,o){return bi(Mi(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),n)},e}(rn),eo=sn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ro=eo.members,no=(eo.size,eo.alignment,Math.pow(2,13));function io(t,e,r,n,i,a,o,s){t.emplaceBack(e,r,2*Math.floor(n*no)+o,i*no*2,a*no*2,Math.round(s));}var ao=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new cn,this.indexArray=new zn,this.programConfigurations=new li(ro,t.layers,t.zoom),this.segments=new Zn;};function oo(t,e){return t.x===e.x&&(t.x<0||t.x>fi)||t.y===e.y&&(t.y<0||t.y>fi)}function so(t){return t.every(function(t){return t.x<0})||t.every(function(t){return t.x>fi})||t.every(function(t){return t.y<0})||t.every(function(t){return t.y>fi})}ao.prototype.populate=function(t,e){this.features=[],this.hasPattern=Ya("fill-extrusion",this.layers,e);for(var r=0,n=t;r<n.length;r+=1){var i=n[r],a=i.feature,o=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new qr(this.zoom),a)){var u=mi(a),p={sourceLayerIndex:s,index:o,geometry:u,properties:a.properties,type:a.type,patterns:{}};void 0!==a.id&&(p.id=a.id),this.hasPattern?this.features.push($a("fill-extrusion",this.layers,p,this.zoom,e)):this.addFeature(p,u,o,{}),e.featureIndex.insert(a,u,o,s,this.index);}}},ao.prototype.addFeatures=function(t,e){for(var r=0,n=this.features;r<n.length;r+=1){var i=n[r],a=i.geometry;this.addFeature(i,a,i.index,e);}},ao.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r);},ao.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ao.prototype.uploadPending=function(){return !this.uploaded||this.programConfigurations.needsUpload},ao.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ro),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;},ao.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());},ao.prototype.addFeature=function(t,e,r,n){for(var i=0,a=Ja(e,500);i<a.length;i+=1){for(var o=a[i],s=0,u=0,p=o;u<p.length;u+=1){s+=p[u].length;}for(var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),c=0,h=o;c<h.length;c+=1){var f=h[c];if(0!==f.length&&!so(f))for(var y=0,d=0;d<f.length;d++){var m=f[d];if(d>=1){var v=f[d-1];if(!oo(m,v)){l.vertexLength+4>Zn.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var g=m.sub(v)._perp()._unit(),x=v.dist(m);y+x>32768&&(y=0),io(this.layoutVertexArray,m.x,m.y,g.x,g.y,0,0,y),io(this.layoutVertexArray,m.x,m.y,g.x,g.y,0,1,y),y+=x,io(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,0,y),io(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,1,y);var b=l.vertexLength;this.indexArray.emplaceBack(b,b+1,b+2),this.indexArray.emplaceBack(b+1,b+2,b+3),l.vertexLength+=4,l.primitiveLength+=2;}}}}l.vertexLength+s>Zn.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray));for(var _=[],w=[],A=l.vertexLength,k=0,z=o;k<z.length;k+=1){var S=z[k];if(0!==S.length){S!==o[0]&&w.push(_.length/2);for(var B=0;B<S.length;B++){var I=S[B];io(this.layoutVertexArray,I.x,I.y,0,0,1,1,0),_.push(I.x),_.push(I.y);}}}for(var V=ga(_,w),P=0;P<V.length;P+=3)this.indexArray.emplaceBack(A+V[P],A+V[P+1],A+V[P+2]);l.primitiveLength+=V.length/3,l.vertexLength+=s;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,n);},kr("FillExtrusionBucket",ao,{omit:["layers","features"]});var uo={paint:new en({"fill-extrusion-opacity":new Yr(L["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new $r(L["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yr(L["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yr(L["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Wr(L["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new $r(L["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new $r(L["paint_fill-extrusion"]["fill-extrusion-base"])})},po=function(t){function e(e){t.call(this,e,uo);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new ao(t)},e.prototype.queryRadius=function(){return Pi(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,i,a,o){return bi(Mi(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,o),n)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null);},e}(rn),lo=sn([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),co=lo.members,ho=(lo.size,lo.alignment,fo);function fo(t,e,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=i,t.readFields(yo,this,e);}function yo(t,e,r){1==t?e.id=r.readVarint():2==t?function(t,e){var r=t.readVarint()+t.pos;for(;t.pos<r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i;}}(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos);}function mo(t){for(var e,r,n=0,i=0,a=t.length,o=a-1;i<a;o=i++)e=t[i],n+=((r=t[o]).x-e.x)*(e.y+r.y);return n}fo.types=["Unknown","Point","LineString","Polygon"],fo.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,i=0,o=0,s=0,u=[];t.pos<r;){if(i<=0){var p=t.readVarint();n=7&p,i=p>>3;}if(i--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&u.push(e),e=[]),e.push(new a(o,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone());}}return e&&u.push(e),u},fo.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,a=0,o=1/0,s=-1/0,u=1/0,p=-1/0;t.pos<e;){if(n<=0){var l=t.readVarint();r=7&l,n=l>>3;}if(n--,1===r||2===r)(i+=t.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=t.readSVarint())<u&&(u=a),a>p&&(p=a);else if(7!==r)throw new Error("unknown command "+r)}return [o,u,s,p]},fo.prototype.toGeoJSON=function(t,e,r){var n,i,a=this.extent*Math.pow(2,r),o=this.extent*t,s=this.extent*e,u=this.loadGeometry(),p=fo.types[this.type];function l(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+s)/a;t[e]=[360*(r.x+o)/a-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90];}}switch(this.type){case 1:var c=[];for(n=0;n<u.length;n++)c[n]=u[n][0];l(u=c);break;case 2:for(n=0;n<u.length;n++)l(u[n]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return [t];for(var r,n,i=[],a=0;a<e;a++){var o=mo(t[a]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(r&&i.push(r),r=[t[a]]):r.push(t[a]));}r&&i.push(r);return i}(u),n=0;n<u.length;n++)for(i=0;i<u[n].length;i++)l(u[n][i]);}1===u.length?u=u[0]:p="Multi"+p;var h={type:"Feature",geometry:{type:p,coordinates:u},properties:this.properties};return "id"in this&&(h.id=this.id),h};var vo=go;function go(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(xo,this,e),this.length=this._features.length;}function xo(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(function(t){var e=null,r=t.readVarint()+t.pos;for(;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null;}return e}(r));}function bo(t,e,r){if(3===t){var n=new vo(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n);}}go.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new ho(this._pbf,e,this.extent,this._keys,this._values)};var _o={VectorTile:function(t,e){this.layers=t.readFields(bo,{},e);},VectorTileFeature:ho,VectorTileLayer:vo},wo=_o.VectorTileFeature.types,Ao=63,ko=Math.cos(Math.PI/180*37.5),zo=.5,So=Math.pow(2,14)/zo;function Bo(t,e,r,n,i,a,o){t.emplaceBack(e.x,e.y,n?1:0,i?1:-1,Math.round(Ao*r.x)+128,Math.round(Ao*r.y)+128,1+(0===a?0:a<0?-1:1)|(o*zo&63)<<2,o*zo>>6);}var Io=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new hn,this.indexArray=new zn,this.programConfigurations=new li(co,t.layers,t.zoom),this.segments=new Zn;};function Vo(t,e){return (t/e.tileTotal*(e.end-e.start)+e.start)*(So-1)}Io.prototype.populate=function(t,e){this.features=[],this.hasPattern=Ya("line",this.layers,e);for(var r=0,n=t;r<n.length;r+=1){var i=n[r],a=i.feature,o=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new qr(this.zoom),a)){var u=mi(a),p={sourceLayerIndex:s,index:o,geometry:u,properties:a.properties,type:a.type,patterns:{}};void 0!==a.id&&(p.id=a.id),this.hasPattern?this.features.push($a("line",this.layers,p,this.zoom,e)):this.addFeature(p,u,o,{}),e.featureIndex.insert(a,u,o,s,this.index);}}},Io.prototype.update=function(t,e,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r);},Io.prototype.addFeatures=function(t,e){for(var r=0,n=this.features;r<n.length;r+=1){var i=n[r],a=i.geometry;this.addFeature(i,a,i.index,e);}},Io.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Io.prototype.uploadPending=function(){return !this.uploaded||this.programConfigurations.needsUpload},Io.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,co),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;},Io.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());},Io.prototype.addFeature=function(t,e,r,n){for(var i=this.layers[0].layout,a=i.get("line-join").evaluate(t,{}),o=i.get("line-cap"),s=i.get("line-miter-limit"),u=i.get("line-round-limit"),p=0,l=e;p<l.length;p+=1){var c=l[p];this.addLine(c,t,a,o,s,u,r,n);}},Io.prototype.addLine=function(t,e,r,n,i,a,o,s){var u=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(u={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var p="Polygon"===wo[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var c=0;c<l-1&&t[c].equals(t[c+1]);)c++;if(!(l<(p?3:2))){u&&(u.tileTotal=function(t,e,r){for(var n,i,a=0,o=e;o<r-1;o++)n=t[o],i=t[o+1],a+=n.dist(i);return a}(t,c,l)),"bevel"===r&&(i=1.05);var h=fi/(512*this.overscaling)*15,f=t[c],y=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.distance=0;var d,m,v,g=n,x=p?"butt":n,b=!0,_=void 0,w=void 0,A=void 0,k=void 0;this.e1=this.e2=this.e3=-1,p&&(d=t[l-2],k=f.sub(d)._unit()._perp());for(var z=c;z<l;z++)if(!(w=p&&z===l-1?t[c+1]:t[z+1])||!t[z].equals(w)){k&&(A=k),d&&(_=d),d=t[z],k=w?w.sub(d)._unit()._perp():A;var S=(A=A||k).add(k);0===S.x&&0===S.y||S._unit();var B=S.x*k.x+S.y*k.y,I=0!==B?1/B:1/0,V=B<ko&&_&&w;if(V&&z>c){var P=d.dist(_);if(P>2*h){var M=d.sub(d.sub(_)._mult(h/P)._round());this.distance+=M.dist(_),this.addCurrentVertex(M,this.distance,A.mult(1),0,0,!1,y,u),_=M;}}var C=_&&w,T=C?r:w?g:x;if(C&&"round"===T&&(I<a?T="miter":I<=2&&(T="fakeround")),"miter"===T&&I>i&&(T="bevel"),"bevel"===T&&(I>2&&(T="flipbevel"),I<i&&(T="miter")),_&&(this.distance+=d.dist(_)),"miter"===T)S._mult(I),this.addCurrentVertex(d,this.distance,S,0,0,!1,y,u);else if("flipbevel"===T){if(I>100)S=k.clone().mult(-1);else{var E=A.x*k.y-A.y*k.x>0?-1:1,F=I*A.add(k).mag()/A.sub(k).mag();S._perp()._mult(F*E);}this.addCurrentVertex(d,this.distance,S,0,0,!1,y,u),this.addCurrentVertex(d,this.distance,S.mult(-1),0,0,!1,y,u);}else if("bevel"===T||"fakeround"===T){var O=A.x*k.y-A.y*k.x>0,L=-Math.sqrt(I*I-1);if(O?(v=0,m=L):(m=0,v=L),b||this.addCurrentVertex(d,this.distance,A,m,v,!1,y,u),"fakeround"===T){for(var D=Math.floor(8*(.5-(B-.5))),j=void 0,U=0;U<D;U++)j=k.mult((U+1)/(D+1))._add(A)._unit(),this.addPieSliceVertex(d,this.distance,j,O,y,u);this.addPieSliceVertex(d,this.distance,S,O,y,u);for(var q=D-1;q>=0;q--)j=A.mult((q+1)/(D+1))._add(k)._unit(),this.addPieSliceVertex(d,this.distance,j,O,y,u);}w&&this.addCurrentVertex(d,this.distance,k,-m,-v,!1,y,u);}else"butt"===T?(b||this.addCurrentVertex(d,this.distance,A,0,0,!1,y,u),w&&this.addCurrentVertex(d,this.distance,k,0,0,!1,y,u)):"square"===T?(b||(this.addCurrentVertex(d,this.distance,A,1,1,!1,y,u),this.e1=this.e2=-1),w&&this.addCurrentVertex(d,this.distance,k,-1,-1,!1,y,u)):"round"===T&&(b||(this.addCurrentVertex(d,this.distance,A,0,0,!1,y,u),this.addCurrentVertex(d,this.distance,A,1,1,!0,y,u),this.e1=this.e2=-1),w&&(this.addCurrentVertex(d,this.distance,k,-1,-1,!0,y,u),this.addCurrentVertex(d,this.distance,k,0,0,!1,y,u)));if(V&&z<l-1){var R=d.dist(w);if(R>2*h){var N=d.add(w.sub(d)._mult(h/R)._round());this.distance+=N.dist(d),this.addCurrentVertex(N,this.distance,k.mult(1),0,0,!1,y,u),d=N;}}b=!1;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,s);}},Io.prototype.addCurrentVertex=function(t,e,r,n,i,a,o,s){var u,p=this.layoutVertexArray,l=this.indexArray;s&&(e=Vo(e,s)),u=r.clone(),n&&u._sub(r.perp()._mult(n)),Bo(p,t,u,a,!1,n,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=r.mult(-1),i&&u._sub(r.perp()._mult(i)),Bo(p,t,u,a,!0,-i,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>So/2&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,r,n,i,a,o));},Io.prototype.addPieSliceVertex=function(t,e,r,n,i,a){r=r.mult(n?-1:1);var o=this.layoutVertexArray,s=this.indexArray;a&&(e=Vo(e,a)),Bo(o,t,r,!1,n,0,e),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),n?this.e2=this.e3:this.e1=this.e3;},kr("LineBucket",Io,{omit:["layers","features"]});var Po=new en({"line-cap":new Yr(L.layout_line["line-cap"]),"line-join":new $r(L.layout_line["line-join"]),"line-miter-limit":new Yr(L.layout_line["line-miter-limit"]),"line-round-limit":new Yr(L.layout_line["line-round-limit"])}),Mo={paint:new en({"line-opacity":new $r(L.paint_line["line-opacity"]),"line-color":new $r(L.paint_line["line-color"]),"line-translate":new Yr(L.paint_line["line-translate"]),"line-translate-anchor":new Yr(L.paint_line["line-translate-anchor"]),"line-width":new $r(L.paint_line["line-width"]),"line-gap-width":new $r(L.paint_line["line-gap-width"]),"line-offset":new $r(L.paint_line["line-offset"]),"line-blur":new $r(L.paint_line["line-blur"]),"line-dasharray":new Qr(L.paint_line["line-dasharray"]),"line-pattern":new Wr(L.paint_line["line-pattern"]),"line-gradient":new tn(L.paint_line["line-gradient"])}),layout:Po},Co=new(function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,r){return r=new qr(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),t.prototype.possiblyEvaluate.call(this,e,r)},e.prototype.evaluate=function(e,r,n,i){return r=c({},r,{zoom:Math.floor(r.zoom)}),t.prototype.evaluate.call(this,e,r,n,i)},e}($r))(Mo.paint.properties["line-width"].specification);Co.useIntegerZoom=!0;var To=function(t){function e(e){t.call(this,e,Mo);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient();},e.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=ha(t,"lineProgress"),this.gradientTexture=null;},e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=Co.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e);},e.prototype.createBucket=function(t){return new Io(t)},e.prototype.queryRadius=function(t){var e=t,r=Eo(Vi("line-width",this,e),Vi("line-gap-width",this,e)),n=Vi("line-offset",this,e);return r/2+Math.abs(n)+Pi(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,r,n,i,o,s){var u=Mi(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),p=s/2*Eo(this.paint.get("line-width").evaluate(e,r),this.paint.get("line-gap-width").evaluate(e,r)),l=this.paint.get("line-offset").evaluate(e,r);return l&&(n=function(t,e){for(var r=[],n=new a(0,0),i=0;i<t.length;i++){for(var o=t[i],s=[],u=0;u<o.length;u++){var p=o[u-1],l=o[u],c=o[u+1],h=0===u?n:l.sub(p)._unit()._perp(),f=u===o.length-1?n:c.sub(l)._unit()._perp(),y=h._add(f)._unit(),d=y.x*f.x+y.y*f.y;y._mult(1/d),s.push(y._mult(e)._add(l));}r.push(s);}return r}(n,l*s)),_i(u,n,p)},e}(rn);function Eo(t,e){return e>0?e+2*t:t}var Fo=sn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),Oo=sn([{name:"a_projected_pos",components:3,type:"Float32"}],4),Lo=(sn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),sn([{name:"a_placed",components:2,type:"Uint8"}],4)),Do=(sn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),sn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),jo=sn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);sn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),sn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"horizontalPlacedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"}]),sn([{type:"Float32",name:"offsetX"}]),sn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function Uo(t,e,r){var n=e.layout.get("text-transform").evaluate(r,{});return "uppercase"===n?t=t.toLocaleUpperCase():"lowercase"===n&&(t=t.toLocaleLowerCase()),Ur.applyArabicShaping&&(t=Ur.applyArabicShaping(t)),t}function qo(t,e,r){return t instanceof ct?(t.sections.forEach(function(t){t.text=Uo(t.text,e,r);}),t):Uo(t,e,r)}var Ro={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var No=function(t){function e(e,r,n,i){t.call(this,e,r),this.angle=n,void 0!==i&&(this.segment=i);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(a);kr("Anchor",No);var Zo=256;function Xo(t,e){var r=e.expression;if("constant"===r.kind)return {functionType:"constant",layoutSize:r.evaluate(new qr(t+1))};if("source"===r.kind)return {functionType:"source"};for(var n=r.zoomStops,i=0;i<n.length&&n[i]<=t;)i++;for(var a=i=Math.max(0,i-1);a<n.length&&n[a]<t+1;)a++;a=Math.min(n.length-1,a);var o={min:n[i],max:n[a]};return "composite"===r.kind?{functionType:"composite",zoomRange:o,propertyValue:e.value}:{functionType:"camera",layoutSize:r.evaluate(new qr(t+1)),zoomRange:o,sizeRange:{min:r.evaluate(new qr(o.min)),max:r.evaluate(new qr(o.max))},propertyValue:e.value}}var Ho=_o.VectorTileFeature.types,Go=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Jo(t,e,r,n,i,a,o,s){t.emplaceBack(e,r,Math.round(32*n),Math.round(32*i),a,o,s?s[0]:0,s?s[1]:0);}function Ko(t,e,r){t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r);}var Yo=function(t){this.layoutVertexArray=new yn,this.indexArray=new zn,this.programConfigurations=t,this.segments=new Zn,this.dynamicLayoutVertexArray=new dn,this.opacityVertexArray=new mn,this.placedSymbolArray=new Tn;};Yo.prototype.upload=function(t,e,r,n){r&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Fo.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Oo.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Go,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(t);},Yo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy());},kr("SymbolBuffers",Yo);var $o=function(t,e,r){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new r,this.segments=new Zn,this.collisionVertexArray=new xn;};$o.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Lo.members,!0);},$o.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy());},kr("CollisionBuffers",$o);var Wo=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Xo(this.zoom,e["text-size"]),this.iconSizeData=Xo(this.zoom,e["icon-size"]);var r=this.layers[0].layout,n="viewport-y"===r.get("symbol-z-order");this.sortFeaturesByY=n&&(r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")),this.sourceID=t.sourceID;};Wo.prototype.createArrays=function(){this.text=new Yo(new li(Fo.members,this.layers,this.zoom,function(t){return /^text/.test(t)})),this.icon=new Yo(new li(Fo.members,this.layers,this.zoom,function(t){return /^icon/.test(t)})),this.collisionBox=new $o(gn,Do.members,Sn),this.collisionCircle=new $o(gn,jo.members,zn),this.glyphOffsetArray=new Ln,this.lineVertexArray=new jn,this.symbolInstances=new Fn;},Wo.prototype.calculateGlyphDependencies=function(t,e,r,n){for(var i=0;i<t.length;i++)if(e[t.charCodeAt(i)]=!0,r&&n){var a=Ro[t.charAt(i)];a&&(e[a.charCodeAt(0)]=!0);}},Wo.prototype.populate=function(t,e){var r=this.layers[0],n=r.layout,i=n.get("text-font"),a=n.get("text-field"),o=n.get("icon-image"),s=("constant"!==a.value.kind||a.value.value.toString().length>0)&&("constant"!==i.value.kind||i.value.value.length>0),u="constant"!==o.value.kind||o.value.value&&o.value.value.length>0;if(this.features=[],s||u){for(var p=e.iconDependencies,l=e.glyphDependencies,c=new qr(this.zoom),h=0,f=t;h<f.length;h+=1){var y=f[h],d=y.feature,m=y.index,v=y.sourceLayerIndex;if(r._featureFilter(c,d)){var g=void 0;s&&(g=qo(g=r.getValueAndResolveTokens("text-field",d),r,d));var x=void 0;if(u&&(x=r.getValueAndResolveTokens("icon-image",d)),g||x){var b={text:g,icon:x,index:m,sourceLayerIndex:v,geometry:mi(d),properties:d.properties,type:Ho[d.type]};if(void 0!==d.id&&(b.id=d.id),this.features.push(b),x&&(p[x]=!0),g){var _=i.evaluate(d,{}).join(","),w=l[_]=l[_]||{},A="map"===n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement");if(g instanceof ct)for(var k=0,z=g.sections;k<z.length;k+=1){var S=z[k],B=Pr(g.toString()),I=S.fontStack||_,V=l[I]=l[I]||{};this.calculateGlyphDependencies(S.text,V,A,B);}else{var P=Pr(g);this.calculateGlyphDependencies(g,w,A,P);}}}}}"line"===n.get("symbol-placement")&&(this.features=function(t){var e={},r={},n=[],i=0;function a(e){n.push(t[e]),i++;}function o(t,e,i){var a=r[t];return delete r[t],r[e]=a,n[a].geometry[0].pop(),n[a].geometry[0]=n[a].geometry[0].concat(i[0]),a}function s(t,r,i){var a=e[r];return delete e[r],e[t]=a,n[a].geometry[0].shift(),n[a].geometry[0]=i[0].concat(n[a].geometry[0]),a}function u(t,e,r){var n=r?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}for(var p=0;p<t.length;p++){var l=t[p],c=l.geometry,h=l.text instanceof ct?l.text.toString():l.text;if(h){var f=u(h,c),y=u(h,c,!0);if(f in r&&y in e&&r[f]!==e[y]){var d=s(f,y,c),m=o(f,y,n[d].geometry);delete e[f],delete r[y],r[u(h,n[m].geometry,!0)]=m,n[d].geometry=null;}else f in r?o(f,y,c):y in e?s(f,y,c):(a(p),e[f]=i-1,r[y]=i-1);}else a(p);}return n.filter(function(t){return t.geometry})}(this.features));}},Wo.prototype.update=function(t,e,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,r),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,r));},Wo.prototype.isEmpty=function(){return 0===this.symbolInstances.length},Wo.prototype.uploadPending=function(){return !this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Wo.prototype.upload=function(t){this.uploaded||(this.collisionBox.upload(t),this.collisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0;},Wo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy();},Wo.prototype.addToLineVertexArray=function(t,e){var r=this.lineVertexArray.length;if(void 0!==t.segment){for(var n=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),a={},o=t.segment+1;o<e.length;o++)a[o]={x:e[o].x,y:e[o].y,tileUnitDistanceFromAnchor:n},o<e.length-1&&(n+=e[o+1].dist(e[o]));for(var s=t.segment||0;s>=0;s--)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var p=a[u];this.lineVertexArray.emplaceBack(p.x,p.y,p.tileUnitDistanceFromAnchor);}}return {lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},Wo.prototype.addSymbols=function(t,e,r,n,i,a,o,s,u,p){for(var l=t.indexArray,c=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,f=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),y=this.glyphOffsetArray.length,d=f.vertexLength,m=0,v=e;m<v.length;m+=1){var g=v[m],x=g.tl,b=g.tr,_=g.bl,w=g.br,A=g.tex,k=f.vertexLength,z=g.glyphOffset[1];Jo(c,s.x,s.y,x.x,z+x.y,A.x,A.y,r),Jo(c,s.x,s.y,b.x,z+b.y,A.x+A.w,A.y,r),Jo(c,s.x,s.y,_.x,z+_.y,A.x,A.y+A.h,r),Jo(c,s.x,s.y,w.x,z+w.y,A.x+A.w,A.y+A.h,r),Ko(h,s,0),l.emplaceBack(k,k+1,k+2),l.emplaceBack(k+1,k+2,k+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(g.glyphOffset[0]);}t.placedSymbolArray.emplaceBack(s.x,s.y,y,this.glyphOffsetArray.length-y,d,u,p,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],o,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,a,a.index,{});},Wo.prototype._addCollisionDebugVertex=function(t,e,r,n,i,a){return e.emplaceBack(0,0),t.emplaceBack(r.x,r.y,n,i,Math.round(a.x),Math.round(a.y))},Wo.prototype.addCollisionDebugVertices=function(t,e,r,n,i,o,s,u){var p=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=p.vertexLength,c=i.layoutVertexArray,h=i.collisionVertexArray,f=s.anchorX,y=s.anchorY;if(this._addCollisionDebugVertex(c,h,o,f,y,new a(t,e)),this._addCollisionDebugVertex(c,h,o,f,y,new a(r,e)),this._addCollisionDebugVertex(c,h,o,f,y,new a(r,n)),this._addCollisionDebugVertex(c,h,o,f,y,new a(t,n)),p.vertexLength+=4,u){var d=i.indexArray;d.emplaceBack(l,l+1,l+2),d.emplaceBack(l,l+2,l+3),p.primitiveLength+=2;}else{var m=i.indexArray;m.emplaceBack(l,l+1),m.emplaceBack(l+1,l+2),m.emplaceBack(l+2,l+3),m.emplaceBack(l+3,l),p.primitiveLength+=4;}},Wo.prototype.addDebugCollisionBoxes=function(t,e,r){for(var n=t;n<e;n++){var i=this.collisionBoxArray.get(n),a=i.x1,o=i.y1,s=i.x2,u=i.y2,p=i.radius>0;this.addCollisionDebugVertices(a,o,s,u,p?this.collisionCircle:this.collisionBox,i.anchorPoint,r,p);}},Wo.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e);}},Wo.prototype._deserializeCollisionBoxesForSymbol=function(t,e,r,n,i){for(var a={},o=e;o<r;o++){var s=t.get(o);if(0===s.radius){a.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},a.textFeatureIndex=s.featureIndex;break}a.textCircles||(a.textCircles=[],a.textFeatureIndex=s.featureIndex);a.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1);}for(var u=n;u<i;u++){var p=t.get(u);if(0===p.radius){a.iconBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},a.iconFeatureIndex=p.featureIndex;break}}return a},Wo.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var r=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,r.textBoxStartIndex,r.textBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex));}},Wo.prototype.hasTextData=function(){return this.text.segments.get().length>0},Wo.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Wo.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},Wo.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},Wo.prototype.addIndicesForPlacedTextSymbol=function(t){for(var e=this.text.placedSymbolArray.get(t),r=e.vertexStartIndex+4*e.numGlyphs,n=e.vertexStartIndex;n<r;n+=4)this.text.indexArray.emplaceBack(n,n+1,n+2),this.text.indexArray.emplaceBack(n+1,n+2,n+3);},Wo.prototype.sortFeatures=function(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var e=[],r=0;r<this.symbolInstances.length;r++)e.push(r);for(var n=Math.sin(t),i=Math.cos(t),a=[],o=[],s=0;s<this.symbolInstances.length;s++){var u=this.symbolInstances.get(s);a.push(0|Math.round(n*u.anchorX+i*u.anchorY)),o.push(u.featureIndex);}e.sort(function(t,e){return a[t]-a[e]||o[e]-o[t]}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var p=0,l=e;p<l.length;p+=1){var c=l[p],h=this.symbolInstances.get(c);this.featureSortOrder.push(h.featureIndex),h.horizontalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.horizontalPlacedTextSymbolIndex),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.verticalPlacedTextSymbolIndex);var f=this.icon.placedSymbolArray.get(c);if(f.numGlyphs){var y=f.vertexStartIndex;this.icon.indexArray.emplaceBack(y,y+1,y+2),this.icon.indexArray.emplaceBack(y+1,y+2,y+3);}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray);}},kr("SymbolBucket",Wo,{omit:["layers","collisionBoxArray","features","compareText"]}),Wo.MAX_GLYPHS=65535,Wo.addDynamicAttributes=Ko;var Qo=new en({"symbol-placement":new Yr(L.layout_symbol["symbol-placement"]),"symbol-spacing":new Yr(L.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yr(L.layout_symbol["symbol-avoid-edges"]),"symbol-z-order":new Yr(L.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yr(L.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yr(L.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yr(L.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yr(L.layout_symbol["icon-rotation-alignment"]),"icon-size":new $r(L.layout_symbol["icon-size"]),"icon-text-fit":new Yr(L.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yr(L.layout_symbol["icon-text-fit-padding"]),"icon-image":new $r(L.layout_symbol["icon-image"]),"icon-rotate":new $r(L.layout_symbol["icon-rotate"]),"icon-padding":new Yr(L.layout_symbol["icon-padding"]),"icon-keep-upright":new Yr(L.layout_symbol["icon-keep-upright"]),"icon-offset":new $r(L.layout_symbol["icon-offset"]),"icon-anchor":new $r(L.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yr(L.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yr(L.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yr(L.layout_symbol["text-rotation-alignment"]),"text-field":new $r(L.layout_symbol["text-field"]),"text-font":new $r(L.layout_symbol["text-font"]),"text-size":new $r(L.layout_symbol["text-size"]),"text-max-width":new $r(L.layout_symbol["text-max-width"]),"text-line-height":new Yr(L.layout_symbol["text-line-height"]),"text-letter-spacing":new $r(L.layout_symbol["text-letter-spacing"]),"text-justify":new $r(L.layout_symbol["text-justify"]),"text-anchor":new $r(L.layout_symbol["text-anchor"]),"text-max-angle":new Yr(L.layout_symbol["text-max-angle"]),"text-rotate":new $r(L.layout_symbol["text-rotate"]),"text-padding":new Yr(L.layout_symbol["text-padding"]),"text-keep-upright":new Yr(L.layout_symbol["text-keep-upright"]),"text-transform":new $r(L.layout_symbol["text-transform"]),"text-offset":new $r(L.layout_symbol["text-offset"]),"text-allow-overlap":new Yr(L.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yr(L.layout_symbol["text-ignore-placement"]),"text-optional":new Yr(L.layout_symbol["text-optional"])}),ts={paint:new en({"icon-opacity":new $r(L.paint_symbol["icon-opacity"]),"icon-color":new $r(L.paint_symbol["icon-color"]),"icon-halo-color":new $r(L.paint_symbol["icon-halo-color"]),"icon-halo-width":new $r(L.paint_symbol["icon-halo-width"]),"icon-halo-blur":new $r(L.paint_symbol["icon-halo-blur"]),"icon-translate":new Yr(L.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yr(L.paint_symbol["icon-translate-anchor"]),"text-opacity":new $r(L.paint_symbol["text-opacity"]),"text-color":new $r(L.paint_symbol["text-color"]),"text-halo-color":new $r(L.paint_symbol["text-halo-color"]),"text-halo-width":new $r(L.paint_symbol["text-halo-width"]),"text-halo-blur":new $r(L.paint_symbol["text-halo-blur"]),"text-translate":new Yr(L.paint_symbol["text-translate"]),"text-translate-anchor":new Yr(L.paint_symbol["text-translate-anchor"])}),layout:Qo},es=function(t){function e(e){t.call(this,e,ts);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));},e.prototype.getValueAndResolveTokens=function(t,e){var r,n=this.layout.get(t).evaluate(e,{}),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||Ce(i.value)?n:(r=e.properties,n.replace(/{([^{}]+)}/g,function(t,e){return e in r?String(r[e]):""}))},e.prototype.createBucket=function(t){return new Wo(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return !1},e}(rn),rs={paint:new en({"background-color":new Yr(L.paint_background["background-color"]),"background-pattern":new Qr(L.paint_background["background-pattern"]),"background-opacity":new Yr(L.paint_background["background-opacity"])})},ns=function(t){function e(e){t.call(this,e,rs);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(rn),is={paint:new en({"raster-opacity":new Yr(L.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yr(L.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yr(L.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yr(L.paint_raster["raster-brightness-max"]),"raster-saturation":new Yr(L.paint_raster["raster-saturation"]),"raster-contrast":new Yr(L.paint_raster["raster-contrast"]),"raster-resampling":new Yr(L.paint_raster["raster-resampling"]),"raster-fade-duration":new Yr(L.paint_raster["raster-fade-duration"])})},as={circle:na,heatmap:fa,hillshade:da,fill:to,"fill-extrusion":po,line:To,symbol:es,background:ns,raster:function(t){function e(e){t.call(this,e,is);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(rn)};function os(t){for(var e=0,r=0,n=0,i=t;n<i.length;n+=1){var a=i[n];e+=a.w*a.h,r=Math.max(r,a.w);}t.sort(function(t,e){return e.h-t.h});for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}],s=0,u=0,p=0,l=t;p<l.length;p+=1)for(var c=l[p],h=o.length-1;h>=0;h--){var f=o[h];if(!(c.w>f.w||c.h>f.h)){if(c.x=f.x,c.y=f.y,u=Math.max(u,c.y+c.h),s=Math.max(s,c.x+c.w),c.w===f.w&&c.h===f.h){var y=o.pop();h<o.length&&(o[h]=y);}else c.h===f.h?(f.x+=c.w,f.w-=c.w):c.w===f.w?(f.y+=c.h,f.h-=c.h):(o.push({x:f.x+c.w,y:f.y,w:f.w-c.w,h:c.h}),f.y+=c.h,f.h-=c.h);break}}return {w:s,h:u,fill:e/(s*u)||0}}var ss=function(t,e){var r=e.pixelRatio;this.paddedRect=t,this.pixelRatio=r;},us={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};us.tl.get=function(){return [this.paddedRect.x+1,this.paddedRect.y+1]},us.br.get=function(){return [this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},us.tlbr.get=function(){return this.tl.concat(this.br)},us.displaySize.get=function(){return [(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(ss.prototype,us);var ps=function(t,e){var r={},n={},i=[];for(var a in t){var o=t[a],s={x:0,y:0,w:o.data.width+2,h:o.data.height+2};i.push(s),r[a]=new ss(s,o);}for(var u in e){var p=e[u],l={x:0,y:0,w:p.data.width+2,h:p.data.height+2};i.push(l),n[u]=new ss(l,p);}var c=os(i),h=c.w,f=c.h,y=new la({width:h||1,height:f||1});for(var d in t){var m=t[d],v=r[d].paddedRect;la.copy(m.data,y,{x:0,y:0},{x:v.x+1,y:v.y+1},m.data);}for(var g in e){var x=e[g],b=n[g].paddedRect,_=b.x+1,w=b.y+1,A=x.data.width,k=x.data.height;la.copy(x.data,y,{x:0,y:0},{x:_,y:w},x.data),la.copy(x.data,y,{x:0,y:k-1},{x:_,y:w-1},{width:A,height:1}),la.copy(x.data,y,{x:0,y:0},{x:_,y:w+k},{width:A,height:1}),la.copy(x.data,y,{x:A-1,y:0},{x:_-1,y:w},{width:1,height:k}),la.copy(x.data,y,{x:0,y:0},{x:_+A,y:w},{width:1,height:k});}this.image=y,this.iconPositions=r,this.patternPositions=n;};kr("ImagePosition",ss),kr("ImageAtlas",ps);var ls=self.HTMLImageElement,cs=self.HTMLCanvasElement,hs=self.HTMLVideoElement,fs=self.ImageData,ys=function(t,e,r,n){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(e,n);};ys.prototype.update=function(t,e){var r=t.width,n=t.height,i=!this.size||this.size[0]!==r||this.size[1]!==n,a=this.context,o=a.gl;this.useMipmap=Boolean(e&&e.useMipmap),o.bindTexture(o.TEXTURE_2D,this.texture),i?(this.size=[r,n],a.pixelStoreUnpack.set(1),this.format!==o.RGBA||e&&!1===e.premultiply||a.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof ls||t instanceof cs||t instanceof hs||t instanceof fs?o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,o.UNSIGNED_BYTE,t):o.texImage2D(o.TEXTURE_2D,0,this.format,r,n,0,this.format,o.UNSIGNED_BYTE,t.data)):t instanceof ls||t instanceof cs||t instanceof hs||t instanceof fs?o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,t):o.texSubImage2D(o.TEXTURE_2D,0,0,0,r,n,o.RGBA,o.UNSIGNED_BYTE,t.data),this.useMipmap&&this.isSizePowerOfTwo()&&o.generateMipmap(o.TEXTURE_2D);},ys.prototype.bind=function(t,e,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e);},ys.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ys.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null;};var ds=function(t,e,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,p=u>>1,l=-7,c=r?i-1:0,h=r?-1:1,f=t[e+c];for(c+=h,a=f&(1<<-l)-1,f>>=-l,l+=s;l>0;a=256*a+t[e+c],c+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+t[e+c],c+=h,l-=8);if(0===a)a=1-p;else{if(a===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=p;}return (f?-1:1)*o*Math.pow(2,a-n)},ms=function(t,e,r,n,i,a){var o,s,u,p=8*a-i-1,l=(1<<p)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,y=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=l?(s=0,o=l):o+c>=1?(s=(e*u-1)*Math.pow(2,i),o+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=255&s,f+=y,s/=256,i-=8);for(o=o<<i|s,p+=i;p>0;t[r+f]=255&o,f+=y,o/=256,p-=8);t[r+f-y]|=128*d;},vs=gs;function gs(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length;}gs.Varint=0,gs.Fixed64=1,gs.Bytes=2,gs.Fixed32=5;function xs(t){return t.type===gs.Bytes?t.readVarint()+t.pos:t.pos+1}function bs(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function _s(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i];}function ws(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r]);}function As(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r]);}function ks(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r]);}function zs(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r]);}function Ss(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r]);}function Bs(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r]);}function Is(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r]);}function Vs(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r]);}function Ps(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r]);}function Ms(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Cs(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24;}function Ts(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}gs.prototype={destroy:function(){this.buf=null;},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,a=this.pos;this.type=7&n,t(i,e,this),this.pos===a&&this.skip(n);}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Ms(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Ts(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Ms(this.buf,this.pos)+4294967296*Ms(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Ms(this.buf,this.pos)+4294967296*Ts(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=ds(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=ds(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,i,a=r.buf;if(i=a[r.pos++],n=(112&i)>>4,i<128)return bs(t,n,e);if(i=a[r.pos++],n|=(127&i)<<3,i<128)return bs(t,n,e);if(i=a[r.pos++],n|=(127&i)<<10,i<128)return bs(t,n,e);if(i=a[r.pos++],n|=(127&i)<<17,i<128)return bs(t,n,e);if(i=a[r.pos++],n|=(127&i)<<24,i<128)return bs(t,n,e);if(i=a[r.pos++],n|=(1&i)<<31,i<128)return bs(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,r){var n="",i=e;for(;i<r;){var a,o,s,u=t[i],p=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l>r)break;1===l?u<128&&(p=u):2===l?128==(192&(a=t[i+1]))&&(p=(31&u)<<6|63&a)<=127&&(p=null):3===l?(a=t[i+1],o=t[i+2],128==(192&a)&&128==(192&o)&&((p=(15&u)<<12|(63&a)<<6|63&o)<=2047||p>=55296&&p<=57343)&&(p=null)):4===l&&(a=t[i+1],o=t[i+2],s=t[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&((p=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||p>=1114112)&&(p=null)),null===p?(p=65533,l=1):p>65535&&(p-=65536,n+=String.fromCharCode(p>>>10&1023|55296),p=56320|1023&p),n+=String.fromCharCode(p),i+=l;}return n}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var r=xs(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=xs(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=xs(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=xs(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=xs(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=xs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=xs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=xs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=xs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===gs.Varint)for(;this.buf[this.pos++]>127;);else if(e===gs.Bytes)this.pos=this.readVarint()+this.pos;else if(e===gs.Fixed32)this.pos+=4;else{if(e!==gs.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8;}},writeTag:function(t,e){this.writeVarint(t<<3|e);},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e;}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Cs(this.buf,t,this.pos),this.pos+=4;},writeSFixed32:function(t){this.realloc(4),Cs(this.buf,t,this.pos),this.pos+=4;},writeFixed64:function(t){this.realloc(8),Cs(this.buf,-1&t,this.pos),Cs(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8;},writeSFixed64:function(t){this.realloc(8),Cs(this.buf,-1&t,this.pos),Cs(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8;},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn\'t fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t;}(r,0,e),function(t,e){var r=(7&t)<<4;if(e.buf[e.pos++]|=r|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t;}(n,e);}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))));},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t);},writeBoolean:function(t){this.writeVarint(Boolean(t));},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,a=0;a<e.length;a++){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){n>56319||a+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null;}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128);}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&_s(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r;},writeFloat:function(t){this.realloc(4),ms(this.buf,t,this.pos,!0,23,4),this.pos+=4;},writeDouble:function(t){this.realloc(8),ms(this.buf,t,this.pos,!0,52,8),this.pos+=8;},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r];},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&_s(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n;},writeMessage:function(t,e,r){this.writeTag(t,gs.Bytes),this.writeRawMessage(e,r);},writePackedVarint:function(t,e){this.writeMessage(t,ws,e);},writePackedSVarint:function(t,e){this.writeMessage(t,As,e);},writePackedBoolean:function(t,e){this.writeMessage(t,Ss,e);},writePackedFloat:function(t,e){this.writeMessage(t,ks,e);},writePackedDouble:function(t,e){this.writeMessage(t,zs,e);},writePackedFixed32:function(t,e){this.writeMessage(t,Bs,e);},writePackedSFixed32:function(t,e){this.writeMessage(t,Is,e);},writePackedFixed64:function(t,e){this.writeMessage(t,Vs,e);},writePackedSFixed64:function(t,e){this.writeMessage(t,Ps,e);},writeBytesField:function(t,e){this.writeTag(t,gs.Bytes),this.writeBytes(e);},writeFixed32Field:function(t,e){this.writeTag(t,gs.Fixed32),this.writeFixed32(e);},writeSFixed32Field:function(t,e){this.writeTag(t,gs.Fixed32),this.writeSFixed32(e);},writeFixed64Field:function(t,e){this.writeTag(t,gs.Fixed64),this.writeFixed64(e);},writeSFixed64Field:function(t,e){this.writeTag(t,gs.Fixed64),this.writeSFixed64(e);},writeVarintField:function(t,e){this.writeTag(t,gs.Varint),this.writeVarint(e);},writeSVarintField:function(t,e){this.writeTag(t,gs.Varint),this.writeSVarint(e);},writeStringField:function(t,e){this.writeTag(t,gs.Bytes),this.writeString(e);},writeFloatField:function(t,e){this.writeTag(t,gs.Fixed32),this.writeFloat(e);},writeDoubleField:function(t,e){this.writeTag(t,gs.Fixed64),this.writeDouble(e);},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e));}};var Es=3;function Fs(t,e,r){1===t&&r.readMessage(Os,e);}function Os(t,e,r){if(3===t){var n=r.readMessage(Ls,{}),i=n.id,a=n.bitmap,o=n.width,s=n.height,u=n.left,p=n.top,l=n.advance;e.push({id:i,bitmap:new pa({width:o+2*Es,height:s+2*Es},a),metrics:{width:o,height:s,left:u,top:p,advance:l}});}}function Ls(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&&(e.advance=r.readVarint());}var Ds=Es,js=function(t,e,r){this.target=t,this.parent=e,this.mapId=r,this.callbacks={},this.callbackID=0,y(["receive"],this),this.target.addEventListener("message",this.receive,!1);};function Us(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return [t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}js.prototype.send=function(t,e,r,n){var i=r?this.mapId+":"+this.callbackID++:null;r&&(this.callbacks[i]=r);var a=[];this.target.postMessage({targetMapId:n,sourceMapId:this.mapId,type:t,id:String(i),data:Sr(e,a)},a);},js.prototype.receive=function(t){var e,r=this,n=t.data,i=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var a=function(t,e){var n=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(i),error:t?Sr(t):null,data:Sr(e,n)},n);};if("<response>"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e&&n.error?e(Br(n.error)):e&&e(null,Br(n.data));else if(void 0!==n.id&&this.parent[n.type])this.parent[n.type](n.sourceMapId,Br(n.data),a);else if(void 0!==n.id&&this.parent.getWorkerSource){var o=n.type.split("."),s=Br(n.data);this.parent.getWorkerSource(n.sourceMapId,o[0],s.source)[o[1]](s,a);}else this.parent[n.type](Br(n.data));}},js.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1);};var qs=function(t,e,r){this.z=t,this.x=e,this.y=r,this.key=Zs(0,t,e,r);};qs.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},qs.prototype.url=function(t,e){var r,n,i,a,o,s=(r=this.x,n=this.y,i=this.z,a=Us(256*r,256*(n=Math.pow(2,i)-n-1),i),o=Us(256*(r+1),256*(n+1),i),a[0]+","+a[1]+","+o[0]+","+o[1]),u=function(t,e,r){for(var n,i="",a=t;a>0;a--)i+=(e&(n=1<<a-1)?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)};var Rs=function(t,e){this.wrap=t,this.canonical=e,this.key=Zs(t,e.z,e.x,e.y);},Ns=function(t,e,r,n,i){this.overscaledZ=t,this.wrap=e,this.canonical=new qs(r,+n,+i),this.key=Zs(e,t,n,i);};function Zs(t,e,r,n){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*n+r)+e}Ns.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Ns.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Ns(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ns(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Ns.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Ns.prototype.children=function(t){if(this.overscaledZ>=t)return [new Ns(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return [new Ns(e,this.wrap,e,r,n),new Ns(e,this.wrap,e,r+1,n),new Ns(e,this.wrap,e,r,n+1),new Ns(e,this.wrap,e,r+1,n+1)]},Ns.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Ns.prototype.wrapped=function(){return new Ns(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ns.prototype.unwrapTo=function(t){return new Ns(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Ns.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ns.prototype.toUnwrapped=function(){return new Rs(this.wrap,this.canonical)},Ns.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ns.prototype.toCoordinate=function(){return new i(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},kr("CanonicalTileID",qs),kr("OverscaledTileID",Ns,{omit:["posMatrix"]});var Xs=function(t,e,r){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return b(\'"\'+r+\'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".\');var n=this.dim=e.height;this.border=Math.max(Math.ceil(e.height/2),1),this.stride=this.dim+2*this.border,this.data=new Int32Array(this.stride*this.stride);for(var i=e.data,a="terrarium"===r?this._unpackTerrarium:this._unpackMapbox,o=0;o<n;o++)for(var s=0;s<n;s++){var u=4*(o*n+s);this.set(s,o,a(i[u],i[u+1],i[u+2]));}for(var p=0;p<n;p++)this.set(-1,p,this.get(0,p)),this.set(n,p,this.get(n-1,p)),this.set(p,-1,this.get(p,0)),this.set(p,n,this.get(p,n-1));this.set(-1,-1,this.get(0,0)),this.set(n,-1,this.get(n-1,0)),this.set(-1,n,this.get(0,n-1)),this.set(n,n,this.get(n-1,n-1));};Xs.prototype.set=function(t,e,r){this.data[this._idx(t,e)]=r+65536;},Xs.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},Xs.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return (e+this.border)*this.stride+(t+this.border)},Xs.prototype._unpackMapbox=function(t,e,r){return (256*t*256+256*e+r)/10-1e4},Xs.prototype._unpackTerrarium=function(t,e,r){return 256*t+e+r/256-32768},Xs.prototype.getPixels=function(){return new la({width:this.dim+2*this.border,height:this.dim+2*this.border},new Uint8Array(this.data.buffer))},Xs.prototype.backfillBorder=function(t,e,r){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var n=e*this.dim,i=e*this.dim+this.dim,a=r*this.dim,o=r*this.dim+this.dim;switch(e){case-1:n=i-1;break;case 1:i=n+1;}switch(r){case-1:a=o-1;break;case 1:o=a+1;}for(var s=l(n,-this.border,this.dim+this.border),u=l(i,-this.border,this.dim+this.border),p=l(a,-this.border,this.dim+this.border),c=l(o,-this.border,this.dim+this.border),h=-e*this.dim,f=-r*this.dim,y=p;y<c;y++)for(var d=s;d<u;d++)this.set(d,y,t.get(d+h,y+f));},kr("DEMData",Xs);var Hs=sn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);var Gs=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r;}};Gs.prototype.encode=function(t){return this._stringToNumber[t]},Gs.prototype.decode=function(t){return this._numberToString[t]};var Js=function(t,e,r,n){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=r,t._y=n,this.properties=t.properties,null!=t.id&&(this.id=t.id);},Ks={geometry:{configurable:!0}};Ks.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Ks.geometry.set=function(t){this._geometry=t;},Js.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Js.prototype,Ks);var Ys=function(){this.state={},this.stateChanges={};};Ys.prototype.updateState=function(t,e,r){var n=String(e);this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][n]=this.stateChanges[t][n]||{},c(this.stateChanges[t][n],r);},Ys.prototype.getState=function(t,e){var r=String(e),n=this.state[t]||{},i=this.stateChanges[t]||{};return c({},n[r],i[r])},Ys.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e);},Ys.prototype.coalesceChanges=function(t,e){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var i={};for(var a in this.stateChanges[n])this.state[n][a]||(this.state[n][a]={}),c(this.state[n][a],this.stateChanges[n][a]),i[a]=this.state[n][a];r[n]=i;}if(this.stateChanges={},0!==Object.keys(r).length)for(var o in t){t[o].setFeatureState(r,e);}};var $s=function(t,e,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new xr(fi,16,0),this.featureIndexArray=r||new qn;};function Ws(t,e){return e-t}$s.prototype.insert=function(t,e,r,n,i){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);for(var o=0;o<e.length;o++){for(var s=e[o],u=[1/0,1/0,-1/0,-1/0],p=0;p<s.length;p++){var l=s[p];u[0]=Math.min(u[0],l.x),u[1]=Math.min(u[1],l.y),u[2]=Math.max(u[2],l.x),u[3]=Math.max(u[3],l.y);}u[0]<fi&&u[1]<fi&&u[2]>=0&&u[3]>=0&&this.grid.insert(a,u[0],u[1],u[2],u[3]);}},$s.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _o.VectorTile(new vs(this.rawTileData)).layers,this.sourceLayerCoder=new Gs(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},$s.prototype.query=function(t,e,r){var n=this;this.loadVTLayers();for(var i=t.params||{},a=fi/t.tileSize/t.scale,o=Ge(i.filter),s=t.queryGeometry,u=t.queryPadding*a,p=1/0,l=1/0,c=-1/0,h=-1/0,f=0;f<s.length;f++)for(var y=s[f],d=0;d<y.length;d++){var m=y[d];p=Math.min(p,m.x),l=Math.min(l,m.y),c=Math.max(c,m.x),h=Math.max(h,m.y);}var v=this.grid.query(p-u,l-u,c+u,h+u);v.sort(Ws);for(var g,x={},b=function(u){var p=v[u];if(p!==g){g=p;var l=n.featureIndexArray.get(p),c=null;n.loadMatchingFeature(x,l.bucketIndex,l.sourceLayerIndex,l.featureIndex,o,i.layers,e,function(e,i){c||(c=mi(e));var o={};return e.id&&(o=r.getState(i.sourceLayer||"_geojsonTileLayer",e.id)),i.queryIntersectsFeature(s,e,o,c,n.z,t.transform,a,t.posMatrix)});}},_=0;_<v.length;_++)b(_);return x},$s.prototype.loadMatchingFeature=function(t,e,r,n,i,a,o,s){var u=this.bucketLayerIDs[e];if(!a||function(t,e){for(var r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return !0;return !1}(a,u)){var p=this.sourceLayerCoder.decode(r),l=this.vtLayers[p].feature(n);if(i(new qr(this.tileID.overscaledZ),l))for(var c=0;c<u.length;c++){var h=u[c];if(!(a&&a.indexOf(h)<0)){var f=o[h];if(f&&(!s||s(l,f))){var y=new Js(l,this.z,this.x,this.y);y.layer=f.serialize();var d=t[h];void 0===d&&(d=t[h]=[]),d.push({featureIndex:n,feature:y});}}}}},$s.prototype.lookupSymbolFeatures=function(t,e,r,n,i,a){var o={};this.loadVTLayers();for(var s=Ge(n),u=0,p=t;u<p.length;u+=1){var l=p[u];this.loadMatchingFeature(o,e,r,l,s,i,a);}return o},$s.prototype.hasLayer=function(t){for(var e=0,r=this.bucketLayerIDs;e<r.length;e+=1)for(var n=0,i=r[e];n<i.length;n+=1){if(t===i[n])return !0}return !1},kr("FeatureIndex",$s,{omit:["rawTileData","sourceLayerCoder"]});var Qs=function(t,e){this.tileID=t,this.uid=f(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading";};Qs.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<S.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e);},Qs.prototype.wasRequested=function(){return "errored"===this.state||"loaded"===this.state||"reloading"===this.state},Qs.prototype.loadVectorData=function(t,e,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var n in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var r={};if(!e)return r;for(var n=0,i=t;n<i.length;n+=1){var a=i[n],o=a.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==o.length){a.layers=o,a.stateDependentLayers=o.filter(function(t){return t.isStateDependent()});for(var s=0,u=o;s<u.length;s+=1)r[u[s].id]=a;}}return r}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[n];if(i instanceof Wo){if(this.hasSymbolBuckets=!0,!r)break;i.justReloaded=!0;}}for(var a in this.queryPadding=0,this.buckets){var o=this.buckets[a];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(a).queryRadius(o));}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage);}else this.collisionBoxArray=new Mn;},Qs.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded";},Qs.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded";},Qs.prototype.getBucket=function(t){return this.buckets[t.id]},Qs.prototype.upload=function(t){for(var e in this.buckets){var r=this.buckets[e];r.uploadPending()&&r.upload(t);}var n=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ys(t,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ys(t,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null);},Qs.prototype.queryRenderedFeatures=function(t,e,r,n,i,a,o,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,scale:n,tileSize:this.tileSize,posMatrix:s,transform:a,params:i,queryPadding:this.queryPadding*o},t,e):{}},Qs.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var r=this.latestFeatureIndex.loadVTLayers(),n=e?e.sourceLayer:"",i=r._geojsonTileLayer||r[n];if(i)for(var a=Ge(e&&e.filter),o=this.tileID.canonical,s=o.z,u=o.x,p=o.y,l={z:s,x:u,y:p},c=0;c<i.length;c++){var h=i.feature(c);if(a(new qr(this.tileID.overscaledZ),h)){var f=new Js(h,s,u,p);f.tile=l,t.push(f);}}}},Qs.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer);},Qs.prototype.setMask=function(t,e){if(!s(this.mask,t)&&(this.mask=t,this.clearMask(),!s(t,{0:!0}))){var r=new ln,n=new zn;this.segments=new Zn,this.segments.prepareSegment(0,r,n);for(var i=Object.keys(t),o=0;o<i.length;o++){var u=t[i[o]],p=fi>>u.z,l=new a(u.x*p,u.y*p),c=new a(l.x+p,l.y+p),h=this.segments.prepareSegment(4,r,n);r.emplaceBack(l.x,l.y,l.x,l.y),r.emplaceBack(c.x,l.y,c.x,l.y),r.emplaceBack(l.x,c.y,l.x,c.y),r.emplaceBack(c.x,c.y,c.x,c.y);var f=h.vertexLength;n.emplaceBack(f,f+1,f+2),n.emplaceBack(f+1,f+2,f+3),h.vertexLength+=4,h.primitiveLength+=2;}this.maskedBoundsBuffer=e.createVertexBuffer(r,Hs.members),this.maskedIndexBuffer=e.createIndexBuffer(n);}},Qs.prototype.hasData=function(){return "loaded"===this.state||"reloading"===this.state||"expired"===this.state},Qs.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Qs.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var r=function(t){var e={};if(t.replace(/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\"((?:[^"\\\\]|\\\\.)*)\\")))?/g,function(t,r,n,i){var a=n||i;return e[r]=!a||a.toLowerCase(),""}),e["max-age"]){var r=parseInt(e["max-age"],10);isNaN(r)?delete e["max-age"]:e["max-age"]=r;}return e}(t.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"]);}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var n=Date.now(),i=!1;if(this.expirationTime>n)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var a=this.expirationTime-e;a?this.expirationTime=n+Math.max(a,3e4):i=!0;}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0;}},Qs.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Qs.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets){var i=this.buckets[n],a=i.layers[0].sourceLayer||"_geojsonTileLayer",o=r[a],s=t[a];o&&s&&0!==Object.keys(s).length&&(i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(n).queryRadius(i))));}}},Qs.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Qs.prototype.symbolFadeFinished=function(){return !this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<S.now()},Qs.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0;},Qs.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=S.now()+t;};var tu={horizontal:1,vertical:2,horizontalOnly:3},eu=function(){this.text="",this.sectionIndex=[],this.sections=[];};eu.fromFeature=function(t,e){var r=new eu;if(t instanceof ct)for(var n=0;n<t.sections.length;n++){var i=t.sections[n];r.sections.push({scale:i.scale||1,fontStack:i.fontStack||e}),r.text+=i.text;for(var a=0;a<i.text.length;a++)r.sectionIndex.push(n);}else{r.text=t,r.sections.push({scale:1,fontStack:e});for(var o=0;o<t.length;o++)r.sectionIndex.push(0);}return r},eu.prototype.length=function(){return this.text.length},eu.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},eu.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},eu.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r+1)||null,i=t.charCodeAt(r-1)||null;n&&Tr(n)&&!Ro[t[r+1]]||i&&Tr(i)&&!Ro[t[r-1]]||!Ro[t[r]]?e+=t[r]:e+=Ro[t[r]];}return e}(this.text);},eu.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&ru[this.text.charCodeAt(e)];e++)t++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=t&&ru[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(t,r),this.sectionIndex=this.sectionIndex.slice(t,r);},eu.prototype.substring=function(t,e){var r=new eu;return r.text=this.text.substring(t,e),r.sectionIndex=this.sectionIndex.slice(t,e),r.sections=this.sections,r},eu.prototype.toString=function(){return this.text},eu.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(e,r){return Math.max(e,t.sections[r].scale)},0)};var ru={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},nu={};function iu(t,e,r,n){var i=Math.pow(t-e,2);return n?t<e?i/2:2*i:i+Math.abs(r)*r}function au(t,e){var r=0;return 10===t&&(r-=1e4),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function ou(t,e,r,n,i,a){for(var o=null,s=iu(e,r,i,a),u=0,p=n;u<p.length;u+=1){var l=p[u],c=iu(e-l.x,r,i,a)+l.badness;c<=s&&(o=l,s=c);}return {index:t,x:e,priorBreak:o,badness:s}}function su(t,e,r,n){if(!r)return [];if(!t)return [];for(var i,a=[],o=function(t,e,r,n){for(var i=0,a=0;a<t.length();a++){var o=t.getSection(a),s=n[o.fontStack],u=s&&s[t.getCharCode(a)];u&&(i+=u.metrics.advance*o.scale+e);}return i/Math.max(1,Math.ceil(i/r))}(t,e,r,n),s=0,u=0;u<t.length();u++){var p=t.getSection(u),l=t.getCharCode(u),c=n[p.fontStack],h=c&&c[l];h&&!ru[l]&&(s+=h.metrics.advance*p.scale+e),u<t.length()-1&&(nu[l]||!((i=l)<11904)&&(Vr["Bopomofo Extended"](i)||Vr.Bopomofo(i)||Vr["CJK Compatibility Forms"](i)||Vr["CJK Compatibility Ideographs"](i)||Vr["CJK Compatibility"](i)||Vr["CJK Radicals Supplement"](i)||Vr["CJK Strokes"](i)||Vr["CJK Symbols and Punctuation"](i)||Vr["CJK Unified Ideographs Extension A"](i)||Vr["CJK Unified Ideographs"](i)||Vr["Enclosed CJK Letters and Months"](i)||Vr["Halfwidth and Fullwidth Forms"](i)||Vr.Hiragana(i)||Vr["Ideographic Description Characters"](i)||Vr["Kangxi Radicals"](i)||Vr["Katakana Phonetic Extensions"](i)||Vr.Katakana(i)||Vr["Vertical Forms"](i)||Vr["Yi Radicals"](i)||Vr["Yi Syllables"](i)))&&a.push(ou(u+1,s,o,a,au(l,t.getCharCode(u+1)),!1));}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(ou(t.length(),s,o,a,0,!0))}function uu(t){var e=.5,r=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0;}switch(t){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0;}return {horizontalAlign:e,verticalAlign:r}}function pu(t,e,r,n,i){if(i){var a=t[n],o=e[a.fontStack],s=o&&o[a.glyph];if(s)for(var u=s.metrics.advance*a.scale,p=(t[n].x+u)*i,l=r;l<=n;l++)t[l].x-=p;}}nu[10]=!0,nu[32]=!0,nu[38]=!0,nu[40]=!0,nu[41]=!0,nu[43]=!0,nu[45]=!0,nu[47]=!0,nu[173]=!0,nu[183]=!0,nu[8203]=!0,nu[8208]=!0,nu[8211]=!0,nu[8231]=!0,t.createCommonjsModule=e,t.Point=a,t.window=self,t.browser=S,t.uuid=function(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()},t.validateUuid=function(t){return !!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},t.storageAvailable=function(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return !1}},t.warnOnce=b,t.postData=function(t,e,r){var n=P(c(t,{method:"POST"}));return n.onerror=function(){r(new Error(n.statusText));},n.onload=function(){n.status>=200&&n.status<300?r(null,n.response):r(new V(n.statusText,n.status,t.url));},n.send(e),{cancel:function(){return n.abort()}}},t.getJSON=function(t,e){var r=P(t);return r.setRequestHeader("Accept","application/json"),r.onerror=function(){e(new Error(r.statusText));},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&r.response){var n;try{n=JSON.parse(r.response);}catch(t){return e(t)}e(null,n);}else 401===r.status&&t.url.match(/mapbox.com/)?e(new V(r.statusText+": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens",r.status,t.url)):e(new V(r.statusText,r.status,t.url));},r.send(),{cancel:function(){return r.abort()}}},t.getImage=function(t,e){return M(t,function(t,r){if(t)e(t);else if(r){var n=new self.Image,i=self.URL||self.webkitURL;n.onload=function(){e(null,n),i.revokeObjectURL(n.src);};var a=new self.Blob([new Uint8Array(r.data)],{type:"image/png"});n.cacheControl=r.cacheControl,n.expires=r.expires,n.src=r.data.byteLength?i.createObjectURL(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";}})},t.ResourceType=I,t.RGBAImage=la,t.potpack=os,t.ImagePosition=ss,t.Texture=ys,t.getArrayBuffer=M,t.parseGlyphPBF=function(t){return new vs(t).readFields(Fs,[])},t.isChar=Vr,t.asyncAll=function(t,e,r){if(!t.length)return r(null,[]);var n=t.length,i=new Array(t.length),a=null;t.forEach(function(t,o){e(t,function(t,e){t&&(a=t),i[o]=e,0==--n&&r(a,i);});});},t.AlphaImage=pa,t.styleSpec=L,t.endsWith=d,t.extend=c,t.sphericalToCartesian=function(t){var e=t[0],r=t[1],n=t[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(r)*Math.sin(n),y:e*Math.sin(r)*Math.sin(n),z:e*Math.cos(n)}},t.Evented=O,t.validateStyle=yr,t.validateLight=dr,t.emitValidationErrors=gr,t.Color=at,t.number=Vt,t.Properties=en,t.Transitionable=Zr,t.Transitioning=Hr,t.PossiblyEvaluated=Kr,t.DataConstantProperty=Yr,t.uniqueId=f,t.Actor=js,t.pick=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n];i in t&&(r[i]=t[i]);}return r},t.wrap=function(t,e,r){var n=r-e,i=((t-e)%n+n)%n+e;return i===e?r:i},t.clamp=l,t.Event=E,t.ErrorEvent=F,t.OverscaledTileID=Ns,t.EXTENT=fi,t.getCoordinatesCenter=function(t){for(var e=1/0,r=1/0,n=-1/0,a=-1/0,o=0;o<t.length;o++)e=Math.min(e,t[o].column),r=Math.min(r,t[o].row),n=Math.max(n,t[o].column),a=Math.max(a,t[o].row);var s=n-e,u=a-r,p=Math.max(s,u),l=Math.max(0,Math.floor(-Math.log(p)/Math.LN2));return new i((e+n)/2,(r+a)/2,0).zoomTo(l)},t.CanonicalTileID=qs,t.StructArrayLayout4i8=ln,t.rasterBoundsAttributes=Hs,t.SegmentVector=Zn,t.getVideo=function(t,e){var r,n,i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i);};for(var a=0;a<t.length;a++){var o=self.document.createElement("source");r=t[a],n=void 0,(n=self.document.createElement("a")).href=r,(n.protocol!==self.document.location.protocol||n.host!==self.document.location.host)&&(i.crossOrigin="Anonymous"),o.src=t[a],i.appendChild(o);}return {cancel:function(){}}},t.ValidationError=D,t.bindAll=y,t.deepEqual=s,t.Tile=Qs,t.Coordinate=i,t.keysDifference=function(t,e){var r=[];for(var n in t)n in e||r.push(n);return r},t.SourceFeatureState=Ys,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.create=function(){var t=new Ti(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.invert=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],p=e[7],l=e[8],c=e[9],h=e[10],f=e[11],y=e[12],d=e[13],m=e[14],v=e[15],g=r*s-n*o,x=r*u-i*o,b=r*p-a*o,_=n*u-i*s,w=n*p-a*s,A=i*p-a*u,k=l*d-c*y,z=l*m-h*y,S=l*v-f*y,B=c*m-h*d,I=c*v-f*d,V=h*v-f*m,P=g*V-x*I+b*B+_*S-w*z+A*k;return P?(P=1/P,t[0]=(s*V-u*I+p*B)*P,t[1]=(i*I-n*V-a*B)*P,t[2]=(d*A-m*w+v*_)*P,t[3]=(h*w-c*A-f*_)*P,t[4]=(u*S-o*V-p*z)*P,t[5]=(r*V-i*S+a*z)*P,t[6]=(m*b-y*A-v*x)*P,t[7]=(l*A-h*b+f*x)*P,t[8]=(o*I-s*S+p*k)*P,t[9]=(n*S-r*I-a*k)*P,t[10]=(y*w-d*b+v*g)*P,t[11]=(c*b-l*w-f*g)*P,t[12]=(s*z-o*B-u*k)*P,t[13]=(r*B-n*z+i*k)*P,t[14]=(d*x-y*_-m*g)*P,t[15]=(l*_-c*x+h*g)*P,t):null},t.multiply=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],p=e[6],l=e[7],c=e[8],h=e[9],f=e[10],y=e[11],d=e[12],m=e[13],v=e[14],g=e[15],x=r[0],b=r[1],_=r[2],w=r[3];return t[0]=x*n+b*s+_*c+w*d,t[1]=x*i+b*u+_*h+w*m,t[2]=x*a+b*p+_*f+w*v,t[3]=x*o+b*l+_*y+w*g,x=r[4],b=r[5],_=r[6],w=r[7],t[4]=x*n+b*s+_*c+w*d,t[5]=x*i+b*u+_*h+w*m,t[6]=x*a+b*p+_*f+w*v,t[7]=x*o+b*l+_*y+w*g,x=r[8],b=r[9],_=r[10],w=r[11],t[8]=x*n+b*s+_*c+w*d,t[9]=x*i+b*u+_*h+w*m,t[10]=x*a+b*p+_*f+w*v,t[11]=x*o+b*l+_*y+w*g,x=r[12],b=r[13],_=r[14],w=r[15],t[12]=x*n+b*s+_*c+w*d,t[13]=x*i+b*u+_*h+w*m,t[14]=x*a+b*p+_*f+w*v,t[15]=x*o+b*l+_*y+w*g,t},t.translate=function(t,e,r){var n,i,a,o,s,u,p,l,c,h,f,y,d=r[0],m=r[1],v=r[2];return e===t?(t[12]=e[0]*d+e[4]*m+e[8]*v+e[12],t[13]=e[1]*d+e[5]*m+e[9]*v+e[13],t[14]=e[2]*d+e[6]*m+e[10]*v+e[14],t[15]=e[3]*d+e[7]*m+e[11]*v+e[15]):(n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],p=e[6],l=e[7],c=e[8],h=e[9],f=e[10],y=e[11],t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=p,t[7]=l,t[8]=c,t[9]=h,t[10]=f,t[11]=y,t[12]=n*d+s*m+c*v+e[12],t[13]=i*d+u*m+h*v+e[13],t[14]=a*d+p*m+f*v+e[14],t[15]=o*d+l*m+y*v+e[15]),t},t.scale=function(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.rotateX=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],u=e[7],p=e[8],l=e[9],c=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+p*n,t[5]=o*i+l*n,t[6]=s*i+c*n,t[7]=u*i+h*n,t[8]=p*i-a*n,t[9]=l*i-o*n,t[10]=c*i-s*n,t[11]=h*i-u*n,t},t.rotateZ=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],p=e[4],l=e[5],c=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+p*n,t[1]=o*i+l*n,t[2]=s*i+c*n,t[3]=u*i+h*n,t[4]=p*i-a*n,t[5]=l*i-o*n,t[6]=c*i-s*n,t[7]=h*i-u*n,t},t.perspective=function(t,e,r,n,i){var a=1/Math.tan(e/2),o=1/(n-i);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*o,t[15]=0,t},t.ortho=function(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),p=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*p,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(o+a)*p,t[15]=1,t},t.create$1=Zi,t.normalize=Xi,t.transformMat4=Hi,t.forEach=Gi,t.getSizeData=Xo,t.evaluateSizeForFeature=function(t,e,r){var n=e;return "source"===t.functionType?r.lowerSize/Zo:"composite"===t.functionType?Vt(r.lowerSize/Zo,r.upperSize/Zo,n.uSizeT):n.uSize},t.evaluateSizeForZoom=function(t,e,r){if("constant"===t.functionType)return {uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return {uSizeT:0,uSize:0};if("camera"===t.functionType){var n=t.propertyValue,i=t.zoomRange,a=t.sizeRange,o=l(De(n,r.specification).interpolationFactor(e,i.min,i.max),0,1);return {uSizeT:0,uSize:a.min+o*(a.max-a.min)}}var s=t.propertyValue,u=t.zoomRange;return {uSizeT:l(De(s,r.specification).interpolationFactor(e,u.min,u.max),0,1),uSize:0}},t.SIZE_PACK_FACTOR=Zo,t.addDynamicAttributes=Ko,t.properties=ts,t.WritingMode=tu,t.multiPolygonIntersectsBufferedPoint=xi,t.multiPolygonIntersectsMultiPolygon=bi,t.multiPolygonIntersectsBufferedMultiLine=_i,t.polygonIntersectsPolygon=function(t,e){for(var r=0;r<t.length;r++)if(Ii(e,t[r]))return !0;for(var n=0;n<e.length;n++)if(Ii(t,e[n]))return !0;return !!Ai(t,e)},t.distToSegmentSquared=Si,t.SymbolInstanceArray=Fn,t.StyleLayer=rn,t.createStyleLayer=function(t){return new as[t.type](t)},t.clone=g,t.filterObject=v,t.mapObject=m,t.registerForPluginAvailability=function(t){return Lr?t({pluginURL:Lr,completionCallback:Fr}):jr.once("pluginAvailable",t),t},t.evented=jr,t.ZoomHistory=Ir,t.createLayout=sn,t.ProgramConfiguration=pi,t.Uniform1i=Kn,t.Uniform1f=Yn,t.Uniform2f=$n,t.Uniform4f=Qn,t.Uniform3f=Wn,t.UniformMatrix4f=ri,t.create$2=Ei,t.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.create$3=Fi,t.length=Oi,t.fromValues=Li,t.normalize$1=Di,t.dot=ji,t.cross=Ui,t.transformMat3=function(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t},t.len=Ri,t.forEach$1=Ni,t.UniformColor=ti,t.StructArrayLayout2i4=pn,t.StructArrayLayout2ui4=Sn,t.StructArrayLayout3ui6=zn,t.StructArrayLayout1ui2=Bn,t.UnwrappedTileID=Rs,t.create$4=function(){var t=new Ti(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},t.rotate=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=i*u+o*s,t[2]=n*-s+a*u,t[3]=i*-s+o*u,t},t.ease=p,t.bezier=u,t.EvaluationParameters=qr,t.setRTLTextPlugin=function(t,e){if(Or)throw new Error("setRTLTextPlugin cannot be called multiple times.");Or=!0,Lr=S.resolveURL(t),Fr=function(t){t?(Or=!1,Lr=null,e&&e(t)):Dr=!0;},jr.fire(new E("pluginAvailable",{pluginURL:Lr,completionCallback:Fr}));},t.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},t.featureFilter=Ge,t.Anchor=No,t.GLYPH_PBF_BORDER=Ds,t.shapeText=function(t,e,r,n,i,a,o,s,u,p,l){var c=eu.fromFeature(t,r);l===tu.vertical&&c.verticalizePunctuation();var h,f=[],y={positionedGlyphs:f,text:c,top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:l},d=Ur.processBidirectionalText,m=Ur.processStyledBidirectionalText;if(d&&1===c.sections.length){h=[];for(var v=0,g=d(c.toString(),su(c,s,n,e));v<g.length;v+=1){var x=g[v],b=new eu;b.text=x,b.sections=c.sections;for(var _=0;_<x.length;_++)b.sectionIndex.push(0);h.push(b);}}else if(m){h=[];for(var w=0,A=m(c.text,c.sectionIndex,su(c,s,n,e));w<A.length;w+=1){var k=A[w],z=new eu;z.text=k[0],z.sectionIndex=k[1],z.sections=c.sections,h.push(z);}}else h=function(t,e){for(var r=[],n=t.text,i=0,a=0,o=e;a<o.length;a+=1){var s=o[a];r.push(t.substring(i,s)),i=s;}return i<n.length&&r.push(t.substring(i,n.length)),r}(c,su(c,s,n,e));return function(t,e,r,n,i,a,o,s,u){for(var p=0,l=-17,c=0,h=t.positionedGlyphs,f="right"===a?1:"left"===a?0:.5,y=0,d=r;y<d.length;y+=1){var m=d[y];m.trim();var v=m.getMaxScale();if(m.length()){for(var g=h.length,x=0;x<m.length();x++){var b=m.getSection(x),_=m.getCharCode(x),w=24*(v-b.scale),A=e[b.fontStack],k=A&&A[_];k&&(Cr(_)&&o!==tu.horizontal?(h.push({glyph:_,x:p,y:w,vertical:!0,scale:b.scale,fontStack:b.fontStack}),p+=u*b.scale+s):(h.push({glyph:_,x:p,y:l+w,vertical:!1,scale:b.scale,fontStack:b.fontStack}),p+=k.metrics.advance*b.scale+s));}if(h.length!==g){var z=p-s;c=Math.max(z,c),pu(h,e,g,h.length-1,f);}p=0,l+=n*v;}else l+=n;}var S=uu(i),B=S.horizontalAlign,I=S.verticalAlign;!function(t,e,r,n,i,a,o){for(var s=(e-r)*i,u=(-n*o+.5)*a,p=0;p<t.length;p++)t[p].x+=s,t[p].y+=u;}(h,f,B,I,c,n,r.length);var V=l- -17;t.top+=-I*V,t.bottom=t.top+V,t.left+=-B*c,t.right=t.left+c;}(y,e,h,i,a,o,l,s,p),!!f.length&&(y.text=y.text.toString(),y)},t.shapeIcon=function(t,e,r){var n=uu(r),i=n.horizontalAlign,a=n.verticalAlign,o=e[0],s=e[1],u=o-t.displaySize[0]*i,p=u+t.displaySize[0],l=s-t.displaySize[1]*a;return {image:t,top:l,bottom:l+t.displaySize[1],left:u,right:p}},t.allowsVerticalWritingMode=Pr,t.allowsLetterSpacing=function(t){for(var e=0,r=t;e<r.length;e+=1)if(!Mr(r[e].charCodeAt(0)))return !1;return !0},t.classifyRings=Ja,t.SymbolBucket=Wo,t.Formatted=ct,t.register=kr,t.FeatureIndex=$s,t.CollisionBoxArray=Mn,t.DictionaryCoder=Gs,t.LineBucket=Io,t.FillBucket=Wa,t.FillExtrusionBucket=ao,t.ImageAtlas=ps,t.mvt=_o,t.Protobuf=vs,t.DEMData=Xs,t.vectorTile=_o,t.Point$1=a,t.pbf=vs,t.plugin=Ur;});\n\ndefine(["./shared.js"],function(e){"use strict";function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",o=0,i=e;o<i.length;o+=1){n+=t(i[o])+",";}return n+"]"}for(var a=Object.keys(e).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+t(e[a[l]])+",";return s+"}"}function r(r){for(var n="",o=0,i=e.refProperties;o<i.length;o+=1){n+="/"+t(r[i[o]]);}return n}var n=function(e){e&&this.replace(e);};function o(e,t,r,n,o){if(void 0===t.segment)return !0;for(var i=t,a=t.segment+1,s=0;s>-r/2;){if(--a<0)return !1;s-=e[a].dist(i),i=e[a];}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<r/2;){var h=e[a-1],c=e[a],f=e[a+1];if(!f)return !1;var p=h.angleTo(c)-c.angleTo(f);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:p}),u+=p;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>o)return !1;a++,s+=c.dist(f);}return !0}function i(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function a(e,t,r){return e?.6*t*r:0}function s(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function l(t,r,n,l,u,h){for(var c=a(n,u,h),f=s(n,l)*h,p=0,d=i(t)/2,g=0;g<t.length-1;g++){var m=t[g],v=t[g+1],y=m.dist(v);if(p+y>d){var x=(d-p)/y,w=e.number(m.x,v.x,x),M=e.number(m.y,v.y,x),S=new e.Anchor(w,M,v.angleTo(m),g);return S._round(),!c||o(t,S,f,c,r)?S:void 0}p+=y;}}function u(t,r,n,l,u,h,c,f,p){var d=a(l,h,c),g=s(l,u),m=g*c,v=0===t[0].x||t[0].x===p||0===t[0].y||t[0].y===p;return r-m<r/4&&(r=m+r/4),function t(r,n,a,s,l,u,h,c,f){var p=u/2;var d=i(r);var g=0,m=n-a;var v=[];for(var y=0;y<r.length-1;y++){for(var x=r[y],w=r[y+1],M=x.dist(w),S=w.angleTo(x);m+a<g+M;){var _=((m+=a)-g)/M,P=e.number(x.x,w.x,_),b=e.number(x.y,w.y,_);if(P>=0&&P<f&&b>=0&&b<f&&m-p>=0&&m+p<=d){var I=new e.Anchor(P,b,S,y);I._round(),s&&!o(r,I,u,s,l)||v.push(I);}}g+=M;}c||v.length||h||(v=t(r,g/2,a,s,l,u,h,!0,f));return v}(t,v?r/2*f%r:(g/2+2*h)*c*f%r,r,d,n,m,v,!1,p)}n.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[]);},n.prototype.update=function(t,n){for(var o=this,i=0,a=t;i<a.length;i+=1){var s=a[i];o._layerConfigs[s.id]=s;var l=o._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter);}for(var u=0,h=n;u<h.length;u+=1){var c=h[u];delete o._layerConfigs[c],delete o._layers[c];}this.familiesBySource={};for(var f=0,p=function(e){for(var t={},n=0;n<e.length;n++){var o=r(e[n]),i=t[o];i||(i=t[o]=[]),i.push(e[n]);}var a=[];for(var s in t)a.push(t[s]);return a}(e.values(this._layerConfigs));f<p.length;f+=1){var d=p[f].map(function(e){return o._layers[e.id]}),g=d[0];if("none"!==g.visibility){var m=g.source||"",v=o.familiesBySource[m];v||(v=o.familiesBySource[m]={});var y=g.sourceLayer||"_geojsonTileLayer",x=v[y];x||(x=v[y]=[]),x.push(d);}}};var h=function(t,r,n,o,i,a,s,l,u,h,c,f){var p=s.top*l-u,d=s.bottom*l+u,g=s.left*l-u,m=s.right*l+u;if(this.boxStartIndex=t.length,h){var v=d-p,y=m-g;v>0&&(v=Math.max(10*l,v),this._addLineCollisionCircles(t,r,n,n.segment,y,v,o,i,a,c));}else{if(f){var x=new e.Point(g,p),w=new e.Point(m,p),M=new e.Point(g,d),S=new e.Point(m,d),_=f*Math.PI/180;x._rotate(_),w._rotate(_),M._rotate(_),S._rotate(_),g=Math.min(x.x,w.x,M.x,S.x),m=Math.max(x.x,w.x,M.x,S.x),p=Math.min(x.y,w.y,M.y,S.y),d=Math.max(x.y,w.y,M.y,S.y);}t.emplaceBack(n.x,n.y,g,p,m,d,o,i,a,0,0);}this.boxEndIndex=t.length;};h.prototype._addLineCollisionCircles=function(e,t,r,n,o,i,a,s,l,u){var h=i/2,c=Math.floor(o/h)||1,f=1+.4*Math.log(u)/Math.LN2,p=Math.floor(c*f/2),d=-i/2,g=r,m=n+1,v=d,y=-o/2,x=y-o/4;do{if(--m<0){if(v>y)return;m=0;break}v-=t[m].dist(g),g=t[m];}while(v>x);for(var w=t[m].dist(t[m+1]),M=-p;M<c+p;M++){var S=M*h,_=y+S;if(S<0&&(_+=S),S>o&&(_+=S-o),!(_<v)){for(;v+w<_;){if(v+=w,++m+1>=t.length)return;w=t[m].dist(t[m+1]);}var P=_-v,b=t[m],I=t[m+1].sub(b)._unit()._mult(P)._add(b)._round(),T=Math.abs(_-d)<h?0:.8*(_-d);e.emplaceBack(I.x,I.y,-i/2,-i/2,i/2,i/2,a,s,l,i/2,T);}}};var c=p,f=p;function p(e,t){if(!(this instanceof p))return new p(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||d,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r);}function d(e,t){return e<t?-1:e>t?1:0}function g(t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);for(var o=1/0,i=1/0,a=-1/0,s=-1/0,l=t[0],u=0;u<l.length;u++){var h=l[u];(!u||h.x<o)&&(o=h.x),(!u||h.y<i)&&(i=h.y),(!u||h.x>a)&&(a=h.x),(!u||h.y>s)&&(s=h.y);}var f=a-o,p=s-i,d=Math.min(f,p),g=d/2,y=new c(null,m);if(0===d)return new e.Point(o,i);for(var x=o;x<a;x+=d)for(var w=i;w<s;w+=d)y.push(new v(x+g,w+g,g,t));for(var M=function(e){for(var t=0,r=0,n=0,o=e[0],i=0,a=o.length,s=a-1;i<a;s=i++){var l=o[i],u=o[s],h=l.x*u.y-u.x*l.y;r+=(l.x+u.x)*h,n+=(l.y+u.y)*h,t+=3*h;}return new v(r/t,n/t,0,e)}(t),S=y.length;y.length;){var _=y.pop();(_.d>M.d||!M.d)&&(M=_,n&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,S)),_.max-M.d<=r||(g=_.h/2,y.push(new v(_.p.x-g,_.p.y-g,g,t)),y.push(new v(_.p.x+g,_.p.y-g,g,t)),y.push(new v(_.p.x-g,_.p.y+g,g,t)),y.push(new v(_.p.x+g,_.p.y+g,g,t)),S+=4);}return n&&(console.log("num probes: "+S),console.log("best distance: "+M.d)),M.p}function m(e,t){return t.max-e.max}function v(t,r,n,o){this.p=new e.Point(t,r),this.h=n,this.d=function(t,r){for(var n=!1,o=1/0,i=0;i<r.length;i++)for(var a=r[i],s=0,l=a.length,u=l-1;s<l;u=s++){var h=a[s],c=a[u];h.y>t.y!=c.y>t.y&&t.x<(c.x-h.x)*(t.y-h.y)/(c.y-h.y)+h.x&&(n=!n),o=Math.min(o,e.distToSegmentSquared(t,h,c));}return (n?1:-1)*Math.sqrt(o)}(this.p,o),this.max=this.d+this.h*Math.SQRT2;}p.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1);},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o;}t[e]=n;},_down:function(e){for(var t=this.data,r=this.compare,n=this.length>>1,o=t[e];e<n;){var i=1+(e<<1),a=i+1,s=t[i];if(a<this.length&&r(t[a],s)<0&&(i=a,s=t[a]),r(s,o)>=0)break;t[e]=s,e=i;}t[e]=o;}},c.default=f;var y=e.createCommonjsModule(function(e){e.exports=function(e,t){var r,n,o,i,a,s,l,u;for(r=3&e.length,n=e.length-r,o=t,a=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o=27492+(65535&(i=5*(65535&(o=(o^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:o^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295;}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0};}),x=e.createCommonjsModule(function(e){e.exports=function(e,t){for(var r,n=e.length,o=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16);}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0};}),w=y,M=y,S=x;function _(t,r,n,o,i,a){t.createArrays();var s=512*t.overscaling;t.tilePixelRatio=e.EXTENT/s,t.compareText={},t.iconsNeedLinear=!1;var l=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,h={};if("composite"===t.textSizeData.functionType){var c=t.textSizeData.zoomRange,f=c.min,p=c.max;h.compositeTextSizes=[u["text-size"].possiblyEvaluate(new e.EvaluationParameters(f)),u["text-size"].possiblyEvaluate(new e.EvaluationParameters(p))];}if("composite"===t.iconSizeData.functionType){var d=t.iconSizeData.zoomRange,g=d.min,m=d.max;h.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new e.EvaluationParameters(g)),u["icon-size"].possiblyEvaluate(new e.EvaluationParameters(m))];}h.layoutTextSize=u["text-size"].possiblyEvaluate(new e.EvaluationParameters(t.zoom+1)),h.layoutIconSize=u["icon-size"].possiblyEvaluate(new e.EvaluationParameters(t.zoom+1)),h.textMaxSize=u["text-size"].possiblyEvaluate(new e.EvaluationParameters(18));for(var v=24*l.get("text-line-height"),y="map"===l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),x=l.get("text-keep-upright"),w=0,M=t.features;w<M.length;w+=1){var S=M[w],_=l.get("text-font").evaluate(S,{}).join(","),b=n,I={},T=S.text;if(T){var k=T instanceof e.Formatted?T.toString():T,z=l.get("text-offset").evaluate(S,{}).map(function(e){return 24*e}),C=24*l.get("text-letter-spacing").evaluate(S,{}),E=e.allowsLetterSpacing(k)?C:0,L=l.get("text-anchor").evaluate(S,{}),A=l.get("text-justify").evaluate(S,{}),D="point"===l.get("symbol-placement")?24*l.get("text-max-width").evaluate(S,{}):0;I.horizontal=e.shapeText(T,r,_,D,v,L,A,E,z,24,e.WritingMode.horizontal),e.allowsVerticalWritingMode(k)&&y&&x&&(I.vertical=e.shapeText(T,r,_,D,v,L,A,E,z,24,e.WritingMode.vertical));}var O=void 0;if(S.icon){var N=o[S.icon];N&&(O=e.shapeIcon(i[S.icon],l.get("icon-offset").evaluate(S,{}),l.get("icon-anchor").evaluate(S,{})),void 0===t.sdfIcons?t.sdfIcons=N.sdf:t.sdfIcons!==N.sdf&&e.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),N.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==l.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0));}(I.horizontal||O)&&P(t,S,I,O,b,h);}a&&t.generateCollisionDebugBuffers();}function P(t,r,n,o,i,a){var s=a.layoutTextSize.evaluate(r,{}),c=a.layoutIconSize.evaluate(r,{}),f=a.textMaxSize.evaluate(r,{});void 0===f&&(f=s);var p=t.layers[0].layout,d=p.get("text-offset").evaluate(r,{}),m=p.get("icon-offset").evaluate(r,{}),v=s/24,y=t.tilePixelRatio*v,x=t.tilePixelRatio*f/24,M=t.tilePixelRatio*c,S=t.tilePixelRatio*p.get("symbol-spacing"),_=p.get("text-padding")*t.tilePixelRatio,P=p.get("icon-padding")*t.tilePixelRatio,k=p.get("text-max-angle")/180*Math.PI,z="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),C="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),E=p.get("symbol-placement"),L=S/2,A=function(s,l){l.x<0||l.x>=e.EXTENT||l.y<0||l.y>=e.EXTENT||function(t,r,n,o,i,a,s,l,u,c,f,p,d,g,m,v,y,x,M,S,_){var P,T,k=t.addToLineVertexArray(r,n),z=0,C=0,E=0,L=w(o.horizontal?o.horizontal.text:""),A=[];if(o.horizontal){var D=a.layout.get("text-rotate").evaluate(M,{});P=new h(s,n,r,l,u,c,o.horizontal,f,p,d,t.overscaling,D),C+=I(t,r,o.horizontal,a,d,M,g,k,o.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,A,S,_),o.vertical&&(E+=I(t,r,o.vertical,a,d,M,g,k,e.WritingMode.vertical,A,S,_));}var O=P?P.boxStartIndex:t.collisionBoxArray.length,N=P?P.boxEndIndex:t.collisionBoxArray.length;if(i){var R=function(t,r,n,o,i,a){var s,l,u,h,c=r.image,f=n.layout,p=r.top-1/c.pixelRatio,d=r.left-1/c.pixelRatio,g=r.bottom+1/c.pixelRatio,m=r.right+1/c.pixelRatio;if("none"!==f.get("icon-text-fit")&&i){var v=m-d,y=g-p,x=f.get("text-size").evaluate(a,{})/24,w=i.left*x,M=i.right*x,S=i.top*x,_=M-w,P=i.bottom*x-S,b=f.get("icon-text-fit-padding")[0],I=f.get("icon-text-fit-padding")[1],T=f.get("icon-text-fit-padding")[2],k=f.get("icon-text-fit-padding")[3],z="width"===f.get("icon-text-fit")?.5*(P-y):0,C="height"===f.get("icon-text-fit")?.5*(_-v):0,E="width"===f.get("icon-text-fit")||"both"===f.get("icon-text-fit")?_:v,L="height"===f.get("icon-text-fit")||"both"===f.get("icon-text-fit")?P:y;s=new e.Point(w+C-k,S+z-b),l=new e.Point(w+C+I+E,S+z-b),u=new e.Point(w+C+I+E,S+z+T+L),h=new e.Point(w+C-k,S+z+T+L);}else s=new e.Point(d,p),l=new e.Point(m,p),u=new e.Point(m,g),h=new e.Point(d,g);var A=n.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(A){var D=Math.sin(A),O=Math.cos(A),N=[O,-D,D,O];s._matMult(N),l._matMult(N),h._matMult(N),u._matMult(N);}return [{tl:s,tr:l,bl:h,br:u,tex:c.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,i,a,0,o.horizontal,M),F=a.layout.get("icon-rotate").evaluate(M,{});T=new h(s,n,r,l,u,c,i,m,v,!1,t.overscaling,F),z=4*R.length;var B=t.iconSizeData,Z=null;"source"===B.functionType?(Z=[e.SIZE_PACK_FACTOR*a.layout.get("icon-size").evaluate(M,{})])[0]>b&&e.warnOnce(t.layerIds[0]+\': Value for "icon-size" is >= 256. Reduce your "icon-size".\'):"composite"===B.functionType&&((Z=[e.SIZE_PACK_FACTOR*_.compositeIconSizes[0].evaluate(M,{}),e.SIZE_PACK_FACTOR*_.compositeIconSizes[1].evaluate(M,{})])[0]>b||Z[1]>b)&&e.warnOnce(t.layerIds[0]+\': Value for "icon-size" is >= 256. Reduce your "icon-size".\'),t.addSymbols(t.icon,R,Z,x,y,M,!1,r,k.lineStartIndex,k.lineLength);}var j=T?T.boxStartIndex:t.collisionBoxArray.length,G=T?T.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=e.SymbolBucket.MAX_GLYPHS&&e.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");t.symbolInstances.emplaceBack(r.x,r.y,A.length>0?A[0]:-1,A.length>1?A[1]:-1,L,O,N,j,G,l,C,E,z,0);}(t,l,s,n,o,t.layers[0],t.collisionBoxArray,r.index,r.sourceLayerIndex,t.index,y,_,z,d,M,P,C,m,r,i,a);};if("line"===E)for(var D=0,O=function(t,r,n,o,i){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,h=0;h<l.length-1;h++){var c=l[h],f=l[h+1];c.x<r&&f.x<r||(c.x<r?c=new e.Point(r,c.y+(f.y-c.y)*((r-c.x)/(f.x-c.x)))._round():f.x<r&&(f=new e.Point(r,c.y+(f.y-c.y)*((r-c.x)/(f.x-c.x)))._round()),c.y<n&&f.y<n||(c.y<n?c=new e.Point(c.x+(f.x-c.x)*((n-c.y)/(f.y-c.y)),n)._round():f.y<n&&(f=new e.Point(c.x+(f.x-c.x)*((n-c.y)/(f.y-c.y)),n)._round()),c.x>=o&&f.x>=o||(c.x>=o?c=new e.Point(o,c.y+(f.y-c.y)*((o-c.x)/(f.x-c.x)))._round():f.x>=o&&(f=new e.Point(o,c.y+(f.y-c.y)*((o-c.x)/(f.x-c.x)))._round()),c.y>=i&&f.y>=i||(c.y>=i?c=new e.Point(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round():f.y>=i&&(f=new e.Point(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round()),u&&c.equals(u[u.length-1])||(u=[c],a.push(u)),u.push(f)))));}return a}(r.geometry,0,0,e.EXTENT,e.EXTENT);D<O.length;D+=1)for(var N=O[D],R=0,F=u(N,S,k,n.vertical||n.horizontal,o,24,x,t.overscaling,e.EXTENT);R<F.length;R+=1){var B=F[R],Z=n.horizontal;Z&&T(t,Z.text,L,B)||A(N,B);}else if("line-center"===E)for(var j=0,G=r.geometry;j<G.length;j+=1){var J=G[j];if(J.length>1){var X=l(J,k,n.vertical||n.horizontal,o,24,x);X&&A(J,X);}}else if("Polygon"===r.type)for(var V=0,W=e.classifyRings(r.geometry,0);V<W.length;V+=1){var Y=W[V],q=g(Y,16);A(Y[0],new e.Anchor(q.x,q.y,0));}else if("LineString"===r.type)for(var K=0,U=r.geometry;K<U.length;K+=1){var H=U[K];A(H,new e.Anchor(H[0].x,H[0].y,0));}else if("Point"===r.type)for(var Q=0,$=r.geometry;Q<$.length;Q+=1)for(var ee=0,te=$[Q];ee<te.length;ee+=1){var re=te[ee];A([re],new e.Anchor(re.x,re.y,0));}}w.murmur3=M,w.murmur2=S;var b=65535;function I(t,r,n,o,i,a,s,l,u,h,c,f){var p=function(t,r,n,o,i,a){for(var s=n.layout.get("text-rotate").evaluate(i,{})*Math.PI/180,l=n.layout.get("text-offset").evaluate(i,{}).map(function(e){return 24*e}),u=r.positionedGlyphs,h=[],c=0;c<u.length;c++){var f=u[c],p=a[f.fontStack],d=p&&p[f.glyph];if(d){var g=d.rect;if(g){var m=e.GLYPH_PBF_BORDER+1,v=d.metrics.advance*f.scale/2,y=o?[f.x+v,f.y]:[0,0],x=o?[0,0]:[f.x+v+l[0],f.y+l[1]],w=(d.metrics.left-m)*f.scale-v+x[0],M=(-d.metrics.top-m)*f.scale+x[1],S=w+g.w*f.scale,_=M+g.h*f.scale,P=new e.Point(w,M),b=new e.Point(S,M),I=new e.Point(w,_),T=new e.Point(S,_);if(o&&f.vertical){var k=new e.Point(-v,v),z=-Math.PI/2,C=new e.Point(5,0);P._rotateAround(z,k)._add(C),b._rotateAround(z,k)._add(C),I._rotateAround(z,k)._add(C),T._rotateAround(z,k)._add(C);}if(s){var E=Math.sin(s),L=Math.cos(s),A=[L,-E,E,L];P._matMult(A),b._matMult(A),I._matMult(A),T._matMult(A);}h.push({tl:P,tr:b,bl:I,br:T,tex:g,writingMode:r.writingMode,glyphOffset:y});}}}return h}(0,n,o,i,a,c),d=t.textSizeData,g=null;return "source"===d.functionType?(g=[e.SIZE_PACK_FACTOR*o.layout.get("text-size").evaluate(a,{})])[0]>b&&e.warnOnce(t.layerIds[0]+\': Value for "text-size" is >= 256. Reduce your "text-size".\'):"composite"===d.functionType&&((g=[e.SIZE_PACK_FACTOR*f.compositeTextSizes[0].evaluate(a,{}),e.SIZE_PACK_FACTOR*f.compositeTextSizes[1].evaluate(a,{})])[0]>b||g[1]>b)&&e.warnOnce(t.layerIds[0]+\': Value for "text-size" is >= 256. Reduce your "text-size".\'),t.addSymbols(t.text,p,g,s,i,a,u,r,l.lineStartIndex,l.lineLength),h.push(t.text.placedSymbolArray.length-1),4*p.length}function T(e,t,r,n){var o=e.compareText;if(t in o){for(var i=o[t],a=i.length-1;a>=0;a--)if(n.dist(i[a])<r)return !0}else o[t]=[];return o[t].push(n),!1}var k=function(t){var r={},n=[];for(var o in t){var i=t[o],a=r[o]={};for(var s in i){var l=i[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};n.push(u),a[s]={rect:u,metrics:l.metrics};}}}var h=e.potpack(n),c=h.w,f=h.h,p=new e.AlphaImage({width:c||1,height:f||1});for(var d in t){var g=t[d];for(var m in g){var v=g[+m];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var y=r[d][m].rect;e.AlphaImage.copy(v.bitmap,p,{x:0,y:0},{x:y.x+1,y:y.y+1},v.bitmap);}}}this.image=p,this.positions=r;};e.register("GlyphAtlas",k);var z=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming;};function C(t,r){for(var n=new e.EvaluationParameters(r),o=0,i=t;o<i.length;o+=1){i[o].recalculate(n);}}z.prototype.parse=function(t,r,n,o){var i=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var a=new e.DictionaryCoder(Object.keys(t.layers).sort()),s=new e.FeatureIndex(this.tileID);s.bucketLayerIDs=[];var l,u,h,c,f={},p={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},d=r.familiesBySource[this.source];for(var g in d){var m=t.layers[g];if(m){1===m.version&&e.warnOnce(\'Vector tile source "\'+i.source+\'" layer "\'+g+\'" does not use vector tile spec v2 and therefore may have some rendering errors.\');for(var v=a.encode(g),y=[],x=0;x<m.length;x++){var w=m.feature(x);y.push({feature:w,index:x,sourceLayerIndex:v});}for(var M=0,S=d[g];M<S.length;M+=1){var P=S[M],b=P[0];if(!(b.minzoom&&i.zoom<Math.floor(b.minzoom)))if(!(b.maxzoom&&i.zoom>=b.maxzoom))if("none"!==b.visibility)C(P,i.zoom),(f[b.id]=b.createBucket({index:s.bucketLayerIDs.length,layers:P,zoom:i.zoom,pixelRatio:i.pixelRatio,overscaling:i.overscaling,collisionBoxArray:i.collisionBoxArray,sourceLayerIndex:v,sourceID:i.source})).populate(y,p),s.bucketLayerIDs.push(P.map(function(e){return e.id}));}}}var I=e.mapObject(p.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(I).length?n.send("getGlyphs",{uid:this.uid,stacks:I},function(e,t){l||(l=e,u=t,E.call(i));}):u={};var T=Object.keys(p.iconDependencies);T.length?n.send("getImages",{icons:T},function(e,t){l||(l=e,h=t,E.call(i));}):h={};var z=Object.keys(p.patternDependencies);function E(){if(l)return o(l);if(u&&h&&c){var t=new k(u),r=new e.ImageAtlas(h,c);for(var n in f){var i=f[n];i instanceof e.SymbolBucket?(C(i.layers,this.zoom),_(i,u,t.positions,h,r.iconPositions,this.showCollisionBoxes)):i.hasPattern&&(i instanceof e.LineBucket||i instanceof e.FillBucket||i instanceof e.FillExtrusionBucket)&&(C(i.layers,this.zoom),i.addFeatures(p,r.patternPositions));}this.status="done",o(null,{buckets:e.values(f).filter(function(e){return !e.isEmpty()}),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r});}}z.length?n.send("getImages",{icons:z},function(e,t){l||(l=e,c=t,E.call(i));}):c={},E.call(this);};var E="undefined"!=typeof performance,L={getEntriesByName:function(e){return !!(E&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(e)},mark:function(e){return !!(E&&performance&&performance.mark)&&performance.mark(e)},measure:function(e,t,r){return !!(E&&performance&&performance.measure)&&performance.measure(e,t,r)},clearMarks:function(e){return !!(E&&performance&&performance.clearMarks)&&performance.clearMarks(e)},clearMeasures:function(e){return !!(E&&performance&&performance.clearMeasures)&&performance.clearMeasures(e)}},A=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},L.mark(this._marks.start);};function D(t,r){var n=e.getArrayBuffer(t.request,function(t,n){t?r(t):n&&r(null,{vectorTile:new e.mvt.VectorTile(new e.Protobuf(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires});});return function(){n.cancel(),r();}}A.prototype.finish=function(){L.mark(this._marks.end);var e=L.getEntriesByName(this._marks.measure);return 0===e.length&&(L.measure(this._marks.measure,this._marks.start,this._marks.end),e=L.getEntriesByName(this._marks.measure),L.clearMarks(this._marks.start),L.clearMarks(this._marks.end),L.clearMeasures(this._marks.measure)),e},L.Performance=A;var O=function(e,t,r){this.actor=e,this.layerIndex=t,this.loadVectorData=r||D,this.loading={},this.loaded={};};O.prototype.loadTile=function(t,r){var n=this,o=t.uid;this.loading||(this.loading={});var i=!!(t&&t.request&&t.request.collectResourceTiming)&&new L.Performance(t.request),a=this.loading[o]=new z(t);a.abort=this.loadVectorData(t,function(t,s){if(delete n.loading[o],t||!s)return r(t);var l=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl);var h={};if(i){var c=i.finish();c&&(h.resourceTiming=JSON.parse(JSON.stringify(c)));}a.vectorTile=s.vectorTile,a.parse(s.vectorTile,n.layerIndex,n.actor,function(t,n){if(t||!n)return r(t);r(null,e.extend({rawTileData:l.slice(0)},n,u,h));}),n.loaded=n.loaded||{},n.loaded[o]=a;});},O.prototype.reloadTile=function(e,t){var r=this.loaded,n=e.uid,o=this;if(r&&r[n]){var i=r[n];i.showCollisionBoxes=e.showCollisionBoxes;var a=function(e,r){var n=i.reloadCallback;n&&(delete i.reloadCallback,i.parse(i.vectorTile,o.layerIndex,o.actor,n)),t(e,r);};"parsing"===i.status?i.reloadCallback=a:"done"===i.status&&i.parse(i.vectorTile,this.layerIndex,this.actor,a);}},O.prototype.abortTile=function(e,t){var r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t();},O.prototype.removeTile=function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t();};var N=function(){this.loaded={};};N.prototype.loadTile=function(t,r){var n=t.uid,o=t.encoding,i=t.rawImageData,a=new e.DEMData(n,i,o);this.loaded=this.loaded||{},this.loaded[n]=a,r(null,a);},N.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r];};var R={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function F(e){var t=0;if(e&&e.length>0){t+=Math.abs(B(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(B(e[r]));}return t}function B(e){var t,r,n,o,i,a,s=0,l=e.length;if(l>2){for(a=0;a<l;a++)a===l-2?(n=l-2,o=l-1,i=0):a===l-1?(n=l-1,o=0,i=1):(n=a,o=a+1,i=a+2),t=e[n],r=e[o],s+=(Z(e[i][0])-Z(t[0]))*Math.sin(Z(r[1]));s=s*R.RADIUS*R.RADIUS/2;}return s}function Z(e){return e*Math.PI/180}var j={geometry:function e(t){var r,n=0;switch(t.type){case"Polygon":return F(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=F(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},ring:B},G=function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(J(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(e,t){"Polygon"===e.type?e.coordinates=X(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(J(X,t)));return e}(t,r);default:return t}};function J(e,t){return function(r){return e(r,t)}}function X(e,t){t=!!t,e[0]=V(e[0],t);for(var r=1;r<e.length;r++)e[r]=V(e[r],!t);return e}function V(e,t){return function(e){return j.ring(e)>=0}(e)===t?e:e.reverse()}var W=e.mvt.VectorTileFeature.prototype.toGeoJSON,Y=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10));};Y.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,n=this._feature.geometry;r<n.length;r+=1){var o=n[r];t.push([new e.Point(o[0],o[1])]);}return t}for(var i=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,h=s[a];u<h.length;u+=1){var c=h[u];l.push(new e.Point(c[0],c[1]));}i.push(l);}return i},Y.prototype.toGeoJSON=function(e,t,r){return W.call(this,e,t,r)};var q=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t;};q.prototype.feature=function(e){return new Y(this._features[e])};var K=e.vectorTile.VectorTileFeature,U=H;function H(e,t){this.options=t||{},this.features=e,this.length=e.length;}function Q(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096;}H.prototype.feature=function(e){return new Q(this.features[e],this.options.extent)},Q.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],o=[],i=0;i<n.length;i++)o.push(new e.Point$1(n[i][0],n[i][1]));this.geometry.push(o);}return this.geometry},Q.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,o=-1/0,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),o=Math.max(o,l.y);}return [t,n,r,o]},Q.prototype.toGeoJSON=K.prototype.toGeoJSON;var $=ne,ee=ne,te=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new U(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return ne({layers:r})},re=U;function ne(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,oe,e.layers[r]);}(t,r),r.finish()}function oe(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,ie,n);var o=n.keys;for(r=0;r<o.length;r++)t.writeStringField(3,o[r]);var i=n.values;for(r=0;r<i.length;r++)t.writeMessage(4,he,i[r]);}function ie(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,ae,e),t.writeVarintField(3,r.type),t.writeMessage(4,ue,r);}function ae(e,t){var r=e.feature,n=e.keys,o=e.values,i=e.keycache,a=e.valuecache;for(var s in r.properties){var l=i[s];void 0===l&&(n.push(s),l=n.length-1,i[s]=l),t.writeVarint(l);var u=r.properties[s],h=typeof u;"string"!==h&&"boolean"!==h&&"number"!==h&&(u=JSON.stringify(u));var c=h+":"+u,f=a[c];void 0===f&&(o.push(u),f=o.length-1,a[c]=f),t.writeVarint(f);}}function se(e,t){return (t<<3)+(7&e)}function le(e){return e<<1^e>>31}function ue(e,t){for(var r=e.loadGeometry(),n=e.type,o=0,i=0,a=r.length,s=0;s<a;s++){var l=r[s],u=1;1===n&&(u=l.length),t.writeVarint(se(1,u));for(var h=3===n?l.length-1:l.length,c=0;c<h;c++){1===c&&1!==n&&t.writeVarint(se(2,h-1));var f=l[c].x-o,p=l[c].y-i;t.writeVarint(le(f)),t.writeVarint(le(p)),o+=f,i+=p;}3===n&&t.writeVarint(se(7,0));}}function he(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e));}function ce(e,t,r,n,o,i){if(!(o-n<=r)){var a=Math.floor((n+o)/2);!function e(t,r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=n-o+1,u=Math.log(s),h=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*h*(s-h)/s)*(l-s/2<0?-1:1),f=Math.max(o,Math.floor(n-l*h/s+c)),p=Math.min(i,Math.floor(n+(s-l)*h/s+c));e(t,r,n,f,p,a);}var d=r[2*n+a],g=o,m=i;for(fe(t,r,o,n),r[2*i+a]>d&&fe(t,r,o,i);g<m;){for(fe(t,r,g,m),g++,m--;r[2*g+a]<d;)g++;for(;r[2*m+a]>d;)m--;}r[2*o+a]===d?fe(t,r,o,m):fe(t,r,++m,i),m<=n&&(o=m+1),n<=m&&(i=m-1);}}(e,t,a,n,o,i%2),ce(e,t,r,n,a-1,i+1),ce(e,t,r,a+1,o,i+1);}}function fe(e,t,r,n){pe(e,r,n),pe(t,2*r,2*n),pe(t,2*r+1,2*n+1);}function pe(e,t,r){var n=e[t];e[t]=e[r],e[r]=n;}function de(e,t,r,n){var o=e-r,i=t-n;return o*o+i*i}function ge(e,t,r,n,o){return new me(e,t,r,n,o)}function me(e,t,r,n,o){t=t||ve,r=r||ye,o=o||Array,this.nodeSize=n||64,this.points=e,this.ids=new o(e.length),this.coords=new o(2*e.length);for(var i=0;i<e.length;i++)this.ids[i]=i,this.coords[2*i]=t(e[i]),this.coords[2*i+1]=r(e[i]);ce(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0);}function ve(e){return e[0]}function ye(e){return e[1]}function xe(e){this.options=be(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1);}function we(e,t,r,n,o){return {x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function Me(e){return {type:"Feature",id:e.id,properties:Se(e),geometry:{type:"Point",coordinates:[(n=e.x,360*(n-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,n;}function Se(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return be(be({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function _e(e){return e/360+.5}function Pe(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function be(e,t){for(var r in t)e[r]=t[r];return e}function Ie(e){return e.x}function Te(e){return e.y}function ke(e,t,r,n,o,i){var a=o-r,s=i-n;if(0!==a||0!==s){var l=((e-r)*a+(t-n)*s)/(a*a+s*s);l>1?(r=o,n=i):l>0&&(r+=a*l,n+=s*l);}return (a=e-r)*a+(s=t-n)*s}function ze(e,t,r,n){var o={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)Ce(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)Ce(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)Ce(e,t[n][o]);}(o),o}function Ce(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1]);}function Ee(e,t,r,n){if(t.geometry){var o=t.geometry.coordinates,i=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===i)Le(o,s);else if("MultiPoint"===i)for(var u=0;u<o.length;u++)Le(o[u],s);else if("LineString"===i)Ae(o,s,a,!1);else if("MultiLineString"===i){if(r.lineMetrics){for(u=0;u<o.length;u++)s=[],Ae(o[u],s,a,!1),e.push(ze(l,"LineString",s,t.properties));return}De(o,s,a,!1);}else if("Polygon"===i)De(o,s,a,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(u=0;u<t.geometry.geometries.length;u++)Ee(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<o.length;u++){var h=[];De(o[u],h,a,!0),s.push(h);}}e.push(ze(l,i,s,t.properties));}}function Le(e,t){t.push(Oe(e[0])),t.push(Ne(e[1])),t.push(0);}function Ae(e,t,r,n){for(var o,i,a=0,s=0;s<e.length;s++){var l=Oe(e[s][0]),u=Ne(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=n?(o*u-l*i)/2:Math.sqrt(Math.pow(l-o,2)+Math.pow(u-i,2))),o=l,i=u;}var h=t.length-3;t[2]=1,function e(t,r,n,o){for(var i,a=o,s=n-r>>1,l=n-r,u=t[r],h=t[r+1],c=t[n],f=t[n+1],p=r+3;p<n;p+=3){var d=ke(t[p],t[p+1],u,h,c,f);if(d>a)i=p,a=d;else if(d===a){var g=Math.abs(p-s);g<l&&(i=p,l=g);}}a>o&&(i-r>3&&e(t,r,i,o),t[i+2]=a,n-i>3&&e(t,i,n,o));}(t,0,h,r),t[h+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size;}function De(e,t,r,n){for(var o=0;o<e.length;o++){var i=[];Ae(e[o],i,r,n),t.push(i);}}function Oe(e){return e/360+.5}function Ne(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Re(e,t,r,n,o,i,a,s){if(n/=t,i>=(r/=t)&&a<n)return e;if(a<r||i>=n)return null;for(var l=[],u=0;u<e.length;u++){var h=e[u],c=h.geometry,f=h.type,p=0===o?h.minX:h.minY,d=0===o?h.maxX:h.maxY;if(p>=r&&d<n)l.push(h);else if(!(d<r||p>=n)){var g=[];if("Point"===f||"MultiPoint"===f)Fe(c,g,r,n,o);else if("LineString"===f)Be(c,g,r,n,o,!1,s.lineMetrics);else if("MultiLineString"===f)je(c,g,r,n,o,!1);else if("Polygon"===f)je(c,g,r,n,o,!0);else if("MultiPolygon"===f)for(var m=0;m<c.length;m++){var v=[];je(c[m],v,r,n,o,!0),v.length&&g.push(v);}if(g.length){if(s.lineMetrics&&"LineString"===f){for(m=0;m<g.length;m++)l.push(ze(h.id,f,g[m],h.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===g.length?(f="LineString",g=g[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===g.length?"Point":"MultiPoint"),l.push(ze(h.id,f,g,h.tags));}}}return l.length?l:null}function Fe(e,t,r,n,o){for(var i=0;i<e.length;i+=3){var a=e[i+o];a>=r&&a<=n&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]));}}function Be(e,t,r,n,o,i,a){for(var s,l,u=Ze(e),h=0===o?Je:Xe,c=e.start,f=0;f<e.length-3;f+=3){var p=e[f],d=e[f+1],g=e[f+2],m=e[f+3],v=e[f+4],y=0===o?p:d,x=0===o?m:v,w=!1;a&&(s=Math.sqrt(Math.pow(p-m,2)+Math.pow(d-v,2))),y<r?x>=r&&(l=h(u,p,d,m,v,r),a&&(u.start=c+s*l)):y>=n?x<n&&(l=h(u,p,d,m,v,n),a&&(u.start=c+s*l)):Ge(u,p,d,g),x<r&&y>=r&&(l=h(u,p,d,m,v,r),w=!0),x>n&&y<=n&&(l=h(u,p,d,m,v,n),w=!0),!i&&w&&(a&&(u.end=c+s*l),t.push(u),u=Ze(e)),a&&(c+=s);}var M=e.length-3;p=e[M],d=e[M+1],g=e[M+2],(y=0===o?p:d)>=r&&y<=n&&Ge(u,p,d,g),M=u.length-3,i&&M>=3&&(u[M]!==u[0]||u[M+1]!==u[1])&&Ge(u,u[0],u[1],u[2]),u.length&&t.push(u);}function Ze(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function je(e,t,r,n,o,i){for(var a=0;a<e.length;a++)Be(e[a],t,r,n,o,i,!1);}function Ge(e,t,r,n){e.push(t),e.push(r),e.push(n);}function Je(e,t,r,n,o,i){var a=(i-t)/(n-t);return e.push(i),e.push(r+(o-r)*a),e.push(1),a}function Xe(e,t,r,n,o,i){var a=(i-r)/(o-r);return e.push(t+(n-t)*a),e.push(i),e.push(1),a}function Ve(e,t){for(var r=[],n=0;n<e.length;n++){var o,i=e[n],a=i.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=We(i.geometry,t);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<i.geometry.length;s++)o.push(We(i.geometry[s],t));}else if("MultiPolygon"===a)for(o=[],s=0;s<i.geometry.length;s++){for(var l=[],u=0;u<i.geometry[s].length;u++)l.push(We(i.geometry[s][u],t));o.push(l);}r.push(ze(i.id,a,o,i.tags));}return r}function We(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function Ye(e,t){if(e.transformed)return e;var r,n,o,i=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,h=l.type;if(l.geometry=[],1===h)for(n=0;n<u.length;n+=2)l.geometry.push(qe(u[n],u[n+1],t,i,a,s));else for(n=0;n<u.length;n++){var c=[];for(o=0;o<u[n].length;o+=2)c.push(qe(u[n][o],u[n][o+1],t,i,a,s));l.geometry.push(c);}}return e.transformed=!0,e}function qe(e,t,r,n,o,i){return [Math.round(r*(e*n-o)),Math.round(r*(t*n-i))]}function Ke(e,t,r,n,o){for(var i=t===o.maxZoom?0:o.tolerance/((1<<t)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,Ue(a,e[s],i,o);var l=e[s].minX,u=e[s].minY,h=e[s].maxX,c=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),h>a.maxX&&(a.maxX=h),c>a.maxY&&(a.maxY=c);}return a}function Ue(e,t,r,n){var o=t.geometry,i=t.type,a=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)He(a,o,e,r,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<o.length;s++)He(a,o[s],e,r,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var l=0;l<o.length;l++){var u=o[l];for(s=0;s<u.length;s++)He(a,u[s],e,r,!0,0===s);}if(a.length){var h=t.tags||null;if("LineString"===i&&n.lineMetrics){for(var c in h={},t.tags)h[c]=t.tags[c];h.mapbox_clip_start=o.start/o.size,h.mapbox_clip_end=o.end/o.size;}var f={geometry:a,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:h};null!==t.id&&(f.id=t.id),e.features.push(f);}}function He(e,t,r,n,o,i){var a=n*n;if(n>0&&t.size<(o?a:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;o&&function(e,t){for(var r=0,n=0,o=e.length,i=o-2;n<o;i=n,n+=2)r+=(e[n]-e[i])*(e[n+1]+e[i+1]);if(r>0===t)for(n=0,o=e.length;n<o/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[o-2-n],e[n+1]=e[o-1-n],e[o-2-n]=a,e[o-1-n]=s;}}(s,i),e.push(s);}}function Qe(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)Ee(r,e.features[n],t,n);else"Feature"===e.type?Ee(r,e,t):Ee(r,{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,o=Re(e,1,-1-r,r,0,-1,2,t),i=Re(e,1,1-r,2+r,0,-1,2,t);return (o||i)&&(n=Re(e,1,-r,1+r,0,-1,2,t)||[],o&&(n=Ve(o,1).concat(n)),i&&(n=n.concat(Ve(i,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)));}function $e(e,t,r){return 32*((1<<e)*r+t)+e}function et(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var o=new q(n.features),i=$(o);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:o,rawData:i.buffer});}$.fromVectorTileJs=ee,$.fromGeojsonVt=te,$.GeoJSONWrapper=re,me.prototype={range:function(e,t,r,n){return function(e,t,r,n,o,i,a){for(var s,l,u=[0,e.length-1,0],h=[];u.length;){var c=u.pop(),f=u.pop(),p=u.pop();if(f-p<=a)for(var d=p;d<=f;d++)s=t[2*d],l=t[2*d+1],s>=r&&s<=o&&l>=n&&l<=i&&h.push(e[d]);else{var g=Math.floor((p+f)/2);s=t[2*g],l=t[2*g+1],s>=r&&s<=o&&l>=n&&l<=i&&h.push(e[g]);var m=(c+1)%2;(0===c?r<=s:n<=l)&&(u.push(p),u.push(g-1),u.push(m)),(0===c?o>=s:i>=l)&&(u.push(g+1),u.push(f),u.push(m));}}return h}(this.ids,this.coords,e,t,r,n,this.nodeSize)},within:function(e,t,r){return function(e,t,r,n,o,i){for(var a=[0,e.length-1,0],s=[],l=o*o;a.length;){var u=a.pop(),h=a.pop(),c=a.pop();if(h-c<=i)for(var f=c;f<=h;f++)de(t[2*f],t[2*f+1],r,n)<=l&&s.push(e[f]);else{var p=Math.floor((c+h)/2),d=t[2*p],g=t[2*p+1];de(d,g,r,n)<=l&&s.push(e[p]);var m=(u+1)%2;(0===u?r-o<=d:n-o<=g)&&(a.push(c),a.push(p-1),a.push(m)),(0===u?r+o>=d:n+o>=g)&&(a.push(p+1),a.push(h),a.push(m));}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)}},xe.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return {}},map:function(e){return e}},load:function(e){var t=this.options.log;t&&console.time("total time");var r="prepare "+e.length+" points";t&&console.time(r),this.points=e;for(var n,o,i,a=[],s=0;s<e.length;s++)e[s].geometry&&a.push((n=e[s],o=s,void 0,{x:_e((i=n.geometry.coordinates)[0]),y:Pe(i[1]),zoom:1/0,index:o,parentId:-1}));this.trees[this.options.maxZoom+1]=ge(a,Ie,Te,this.options.nodeSize,Float32Array),t&&console.timeEnd(r);for(var l=this.options.maxZoom;l>=this.options.minZoom;l--){var u=+Date.now();a=this._cluster(a,l),this.trees[l]=ge(a,Ie,Te,this.options.nodeSize,Float32Array),t&&console.log("z%d: %d clusters in %dms",l,a.length,+Date.now()-u);}return t&&console.timeEnd("total time"),this},getClusters:function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),o=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){var a=this.getClusters([r,n,180,i],t),s=this.getClusters([-180,n,o,i],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=l.range(_e(r),Pe(i),_e(o),Pe(n)),h=[],c=0;c<u.length;c++){var f=l.points[u[c]];h.push(f.numPoints?Me(f):this.points[f.index]);}return h},getChildren:function(e){var t=e>>5,r=e%32,n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);var i=o.points[t];if(!i)throw new Error(n);for(var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=o.within(i.x,i.y,a),l=[],u=0;u<s.length;u++){var h=o.points[s[u]];h.parentId===e&&l.push(h.numPoints?Me(h):this.points[h.index]);}if(0===l.length)throw new Error(n);return l},getLeaves:function(e,t,r){t=t||10,r=r||0;var n=[];return this._appendLeaves(n,e,t,r,0),n},getTile:function(e,t,r){var n=this.trees[this._limitZoom(e)],o=Math.pow(2,e),i=this.options.extent,a=this.options.radius/i,s=(r-a)/o,l=(r+1+a)/o,u={features:[]};return this._addTileFeatures(n.range((t-a)/o,s,(t+1+a)/o,l),n.points,t,r,o,u),0===t&&this._addTileFeatures(n.range(1-a/o,s,1,l),n.points,o,r,o,u),t===o-1&&this._addTileFeatures(n.range(0,s,a/o,l),n.points,-1,r,o,u),u.features.length?u:null},getClusterExpansionZoom:function(e){for(var t=e%32-1;t<this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id;}return t},_appendLeaves:function(e,t,r,n,o){for(var i=this.getChildren(t),a=0;a<i.length;a++){var s=i[a].properties;if(s&&s.cluster?o+s.point_count<=n?o+=s.point_count:o=this._appendLeaves(e,s.cluster_id,r,n,o):o<n?o++:e.push(i[a]),e.length===r)break}return o},_addTileFeatures:function(e,t,r,n,o,i){for(var a=0;a<e.length;a++){var s=t[e[a]],l={type:1,geometry:[[Math.round(this.options.extent*(s.x*o-r)),Math.round(this.options.extent*(s.y*o-n))]],tags:s.numPoints?Se(s):this.points[s.index].properties},u=s.numPoints?s.id:this.points[s.index].id;void 0!==u&&(l.id=u),i.features.push(l);}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var r=[],n=this.options.radius/(this.options.extent*Math.pow(2,t)),o=0;o<e.length;o++){var i=e[o];if(!(i.zoom<=t)){i.zoom=t;var a=this.trees[t+1],s=a.within(i.x,i.y,n),l=i.numPoints||1,u=i.x*l,h=i.y*l,c=null;this.options.reduce&&(c=this.options.initial(),this._accumulate(c,i));for(var f=(o<<5)+(t+1),p=0;p<s.length;p++){var d=a.points[s[p]];if(!(d.zoom<=t)){d.zoom=t;var g=d.numPoints||1;u+=d.x*g,h+=d.y*g,l+=g,d.parentId=f,this.options.reduce&&this._accumulate(c,d);}}1===l?r.push(i):(i.parentId=f,r.push(we(u/l,h/l,f,l,c)));}}return r},_accumulate:function(e,t){var r=t.numPoints?t.properties:this.options.map(this.points[t.index].properties);this.options.reduce(e,r);}},Qe.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qe.prototype.splitTile=function(e,t,r,n,o,i,a){for(var s=[e,t,r,n],l=this.options,u=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var h=1<<t,c=$e(t,r,n),f=this.tiles[c];if(!f&&(u>1&&console.time("creation"),f=this.tiles[c]=Ke(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++;}if(f.source=e,o){if(t===l.maxZoom||t===o)continue;var d=1<<o-t;if(r!==Math.floor(i/d)||n!==Math.floor(a/d))continue}else if(t===l.indexMaxZoom||f.numPoints<=l.indexMaxPoints)continue;if(f.source=null,0!==e.length){u>1&&console.time("clipping");var g,m,v,y,x,w,M=.5*l.buffer/l.extent,S=.5-M,_=.5+M,P=1+M;g=m=v=y=null,x=Re(e,h,r-M,r+_,0,f.minX,f.maxX,l),w=Re(e,h,r+S,r+P,0,f.minX,f.maxX,l),e=null,x&&(g=Re(x,h,n-M,n+_,1,f.minY,f.maxY,l),m=Re(x,h,n+S,n+P,1,f.minY,f.maxY,l),x=null),w&&(v=Re(w,h,n-M,n+_,1,f.minY,f.maxY,l),y=Re(w,h,n+S,n+P,1,f.minY,f.maxY,l),w=null),u>1&&console.timeEnd("clipping"),s.push(g||[],t+1,2*r,2*n),s.push(m||[],t+1,2*r,2*n+1),s.push(v||[],t+1,2*r+1,2*n),s.push(y||[],t+1,2*r+1,2*n+1);}}},Qe.prototype.getTile=function(e,t,r){var n=this.options,o=n.extent,i=n.debug;if(e<0||e>24)return null;var a=1<<e,s=$e(e,t=(t%a+a)%a,r);if(this.tiles[s])return Ye(this.tiles[s],o);i>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,u=e,h=t,c=r;!l&&u>0;)u--,h=Math.floor(h/2),c=Math.floor(c/2),l=this.tiles[$e(u,h,c)];return l&&l.source?(i>1&&console.log("found parent tile z%d-%d-%d",u,h,c),i>1&&console.time("drilling down"),this.splitTile(l.source,u,h,c,e,t,r),i>1&&console.timeEnd("drilling down"),this.tiles[s]?Ye(this.tiles[s],o):null):null};var tt=function(t){function r(e,r,n){t.call(this,e,r,et),n&&(this.loadGeoJSON=n);}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData());},r.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var t=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var n=!!(r&&r.request&&r.request.collectResourceTiming)&&new L.Performance(r.request);this.loadGeoJSON(r,function(o,i){if(o||!i)return t(o);if("object"!=typeof i)return t(new Error("Input data is not a valid GeoJSON object."));G(i,!0);try{e._geoJSONIndex=r.cluster?(a=r.superclusterOptions,new xe(a)).load(i.features):function(e,t){return new Qe(e,t)}(i,r.geojsonVtOptions);}catch(o){return t(o)}e.loaded={};var a,s={};if(n){var l=n.finish();l&&(s.resourceTiming={},s.resourceTiming[r.source]=JSON.parse(JSON.stringify(l)));}t(null,s);});}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData());},r.prototype.reloadTile=function(e,r){var n=this.loaded,o=e.uid;return n&&n[o]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t();},r.prototype.getClusterExpansionZoom=function(e,t){t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId));},r.prototype.getClusterChildren=function(e,t){t(null,this._geoJSONIndex.getChildren(e.clusterId));},r.prototype.getClusterLeaves=function(e,t){t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset));},r}(O),rt=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.workerSourceTypes={vector:O,geojson:tt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error(\'Worker source with name "\'+e+\'" already registered.\');r.workerSourceTypes[e]=t;},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isLoaded())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText;};};return rt.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r();},rt.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r();},rt.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r);},rt.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r);},rt.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r);},rt.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r);},rt.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r);},rt.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t);},rt.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r();}},rt.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r();}catch(e){r(e.toString());}},rt.prototype.loadRTLTextPlugin=function(t,r,n){try{e.plugin.isLoaded()||(this.self.importScripts(r),n(e.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+r)));}catch(e){n(e.toString());}},rt.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},rt.prototype.getWorkerSource=function(e,t,r){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){var o={send:function(t,r,o){n.actor.send(t,r,o,e);}};this.workerSources[e][t][r]=new this.workerSourceTypes[t](o,this.getLayerIndex(e));}return this.workerSources[e][t][r]},rt.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new N),this.demWorkerSources[e][t]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&new rt(self),rt});\n\ndefine(["./shared.js"],function(t){"use strict";var e=t.createCommonjsModule(function(t){function e(t){return !!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return !1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0;}catch(e){t=!1;}e&&e.terminate();return URL.revokeObjectURL(n),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){void 0===i[t]&&(i[t]=function(t){var i=document.createElement("canvas"),n=Object.create(e.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,i.probablySupportsContext?i.probablySupportsContext("webgl",n)||i.probablySupportsContext("experimental-webgl",n):i.supportsContext?i.supportsContext("webgl",n)||i.supportsContext("experimental-webgl",n):i.getContext("webgl",n)||i.getContext("experimental-webgl",n)}(t));return i[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var i={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};}),i={create:function(e,i,n){var o=t.window.document.createElement(e);return i&&(o.className=i),n&&n.appendChild(o),o},createNS:function(e,i){return t.window.document.createElementNS(e,i)}},n=t.window.document?t.window.document.documentElement.style:null;function o(t){if(!n)return null;for(var e=0;e<t.length;e++)if(t[e]in n)return t[e];return t[0]}var r,a=o(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);i.disableDrag=function(){n&&a&&(r=n[a],n[a]="none");},i.enableDrag=function(){n&&a&&(n[a]=r);};var s=o(["transform","WebkitTransform"]);i.setTransform=function(t,e){t.style[s]=e;};var l=!1;try{var c=Object.defineProperty({},"passive",{get:function(){l=!0;}});t.window.addEventListener("test",c,c),t.window.removeEventListener("test",c,c);}catch(t){l=!1;}i.addEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&l?t.addEventListener(e,i,n):t.addEventListener(e,i,n.capture);},i.removeEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&l?t.removeEventListener(e,i,n):t.removeEventListener(e,i,n.capture);};var h=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",h,!0);};i.suppressClick=function(){t.window.addEventListener("click",h,!0),t.window.setTimeout(function(){t.window.removeEventListener("click",h,!0);},0);},i.mousePos=function(e,i){var n=e.getBoundingClientRect();return i=i.touches?i.touches[0]:i,new t.Point(i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop)},i.touchPos=function(e,i){for(var n=e.getBoundingClientRect(),o=[],r="touchend"===i.type?i.changedTouches:i.touches,a=0;a<r.length;a++)o.push(new t.Point(r[a].clientX-n.left-e.clientLeft,r[a].clientY-n.top-e.clientTop));return o},i.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},i.remove=function(t){t.parentNode&&t.parentNode.removeChild(t);};var u={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return 0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":"https://events.mapbox.com/events/v2"},REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},p="See https://www.mapbox.com/api-documentation/#access-tokens";function d(t,e){var i=b(u.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!u.REQUIRE_ACCESS_TOKEN)return w(t);if(!(e=e||u.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+p);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+p);return t.params.push("access_token="+e),w(t)}function _(t){return 0===t.indexOf("mapbox:")}var f=function(t,e){if(!_(t))return t;var i=b(t);return i.path="/fonts/v1"+i.path,d(i,e)},m=function(t,e){if(!_(t))return t;var i=b(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),d(i,e)},g=function(t,e,i,n){var o=b(t);return _(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+i,d(o,n)):(o.path+=""+e+i,w(o))},v=/(\\.(png|jpg)\\d*)(?=$)/,y=function(e,i,n){if(!i||!_(i))return e;var o=b(e),r=t.browser.devicePixelRatio>=2||512===n?"@2x":"",a=t.browser.supportsWebp?".webp":"$1";return o.path=o.path.replace(v,""+r+a),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(u.ACCESS_TOKEN||""));}(o.params),w(o)};var x=/^(\\w+):\\/\\/([^/?]*)(\\/[^?]+)?\\??(.+)?/;function b(t){var e=t.match(x);if(!e)throw new Error("Unable to parse URL object");return {protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function w(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var E=function(){this.eventData={anonId:null,lastSuccess:null,accessToken:u.ACCESS_TOKEN},this.queue=[],this.pending=!1,this.pendingRequest=null;};E.prototype.postTurnstileEvent=function(e){u.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(t){return /(mapbox\\.c)(n|om)/i.test(t)})&&this.queueRequest(t.browser.now());},E.prototype.queueRequest=function(t){this.queue.push(t),this.processRequests();},E.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var i="mapbox.turnstileEventData:"+(u.ACCESS_TOKEN||""),n=t.storageAvailable("localStorage"),o=!!this.eventData.accessToken&&this.eventData.accessToken!==u.ACCESS_TOKEN;if(o&&(this.eventData.anonId=this.eventData.lastSuccess=null),(!this.eventData.anonId||!this.eventData.lastSuccess)&&n)try{var r=t.window.localStorage.getItem(i);r&&(this.eventData=JSON.parse(r));}catch(e){t.warnOnce("Unable to read from LocalStorage");}t.validateUuid(this.eventData.anonId)||(this.eventData.anonId=t.uuid(),o=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var s=new Date(this.eventData.lastSuccess),l=new Date(a),c=(a-this.eventData.lastSuccess)/864e5;o=o||c>=1||c<-1||s.getDate()!==l.getDate();}if(!o)return this.processRequests();var h=b(u.EVENTS_URL);h.params.push("access_token="+(u.ACCESS_TOKEN||""));var p={url:w(h),headers:{"Content-Type":"text/plain"}},d=JSON.stringify([{event:"appUserTurnstile",created:new Date(a).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.49.0","enabled.telemetry":!1,userId:this.eventData.anonId}]);this.pendingRequest=t.postData(p,d,function(o){if(e.pendingRequest=null,!o){if(e.eventData.lastSuccess=a,e.eventData.accessToken=u.ACCESS_TOKEN,n)try{t.window.localStorage.setItem(i,JSON.stringify(e.eventData));}catch(e){t.warnOnce("Unable to write to LocalStorage");}e.processRequests();}});}};var T=new E,S=T.postTurnstileEvent.bind(T);var I=function(){this.images={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0;};I.prototype.isLoaded=function(){return this.loaded},I.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,i=this.requestors;e<i.length;e+=1){var n=i[e],o=n.ids,r=n.callback;this._notify(o,r);}this.requestors=[];}},I.prototype.getImage=function(t){return this.images[t]},I.prototype.addImage=function(t,e){this.images[t]=e;},I.prototype.removeImage=function(t){delete this.images[t],delete this.patterns[t];},I.prototype.listImages=function(){return Object.keys(this.images)},I.prototype.getImages=function(t,e){var i=!0;if(!this.isLoaded())for(var n=0,o=t;n<o.length;n+=1){var r=o[n];this.images[r]||(i=!1);}this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e});},I.prototype._notify=function(t,e){for(var i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=this.images[r];a&&(i[r]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf});}e(null,i);},I.prototype.getPixelSize=function(){var t=this.atlasImage;return {width:t.width,height:t.height}},I.prototype.getPattern=function(e){var i=this.patterns[e];if(i)return i.position;var n=this.getImage(e);if(!n)return null;var o={w:n.data.width+2,h:n.data.height+2,x:0,y:0},r=new t.ImagePosition(o,n);return this.patterns[e]={bin:o,position:r},this._updatePatternAtlas(),r},I.prototype.bind=function(e){var i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE);},I.prototype._updatePatternAtlas=function(){var e=[];for(var i in this.patterns)e.push(this.patterns[i].bin);var n=t.potpack(e),o=n.w,r=n.h,a=this.atlasImage;for(var s in a.resize({width:o||1,height:r||1}),this.patterns){var l=this.patterns[s].bin,c=l.x+1,h=l.y+1,u=this.images[s].data,p=u.width,d=u.height;t.RGBAImage.copy(u,a,{x:0,y:0},{x:c,y:h},{width:p,height:d}),t.RGBAImage.copy(u,a,{x:0,y:d-1},{x:c,y:h-1},{width:p,height:1}),t.RGBAImage.copy(u,a,{x:0,y:0},{x:c,y:h+d},{width:p,height:1}),t.RGBAImage.copy(u,a,{x:p-1,y:0},{x:c-1,y:h},{width:1,height:d}),t.RGBAImage.copy(u,a,{x:0,y:0},{x:c+p,y:h},{width:1,height:d});}this.dirty=!0;};var C=P,z=1e20;function P(t,e,i,n,o,r){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=r||"normal",this.radius=i||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1));}function R(t,e,i,n,o,r,a){for(var s=0;s<e;s++){for(var l=0;l<i;l++)n[l]=t[l*e+s];for(A(n,o,r,a,i),l=0;l<i;l++)t[l*e+s]=o[l];}for(l=0;l<i;l++){for(s=0;s<e;s++)n[s]=t[l*e+s];for(A(n,o,r,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(o[s]);}}function A(t,e,i,n,o){i[0]=0,n[0]=-z,n[1]=+z;for(var r=1,a=0;r<o;r++){for(var s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);s<=n[a];)a--,s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);i[++a]=r,n[a]=s,n[a+1]=+z;}for(r=0,a=0;r<o;r++){for(;n[a+1]<r;)a++;e[r]=(r-i[a])*(r-i[a])+t[i[a]];}}P.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?z:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?z:0===o?0:Math.pow(Math.max(0,o-.5),2);}for(R(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),R(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var r=this.gridOuter[n]-this.gridInner[n];i[n]=Math.max(0,Math.min(255,Math.round(255-255*(r/this.radius+this.cutoff))));}return i};var L=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={};};L.prototype.setURL=function(t){this.url=t;},L.prototype.getGlyphs=function(e,i){var n=this,o=[];for(var r in e)for(var a=0,s=e[r];a<s.length;a+=1){var l=s[a];o.push({stack:r,id:l});}t.asyncAll(o,function(t,e){var i=t.stack,o=t.id,r=n.entries[i];r||(r=n.entries[i]={glyphs:{},requests:{}});var a=r.glyphs[o];if(void 0===a)if(a=n._tinySDF(r,i,o))e(null,{stack:i,id:o,glyph:a});else{var s=Math.floor(o/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var l=r.requests[s];l||(l=r.requests[s]=[],L.loadGlyphRange(i,s,n.url,n.requestTransform,function(t,e){if(e)for(var i in e)r.glyphs[+i]=e[+i];for(var n=0,o=l;n<o.length;n+=1){(0,o[n])(t,e);}delete r.requests[s];})),l.push(function(t,n){t?e(t):n&&e(null,{stack:i,id:o,glyph:n[o]||null});});}}else e(null,{stack:i,id:o,glyph:a});},function(t,e){if(t)i(t);else if(e){for(var n={},o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.stack,l=a.id,c=a.glyph;(n[s]||(n[s]={}))[l]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics};}i(null,n);}});},L.prototype._tinySDF=function(e,i,n){var o=this.localIdeographFontFamily;if(o&&(t.isChar["CJK Unified Ideographs"](n)||t.isChar["Hangul Syllables"](n))){var r=e.tinySDF;if(!r){var a="400";/bold/i.test(i)?a="900":/medium/i.test(i)?a="500":/light/i.test(i)&&(a="200"),r=e.tinySDF=new L.TinySDF(24,3,8,.25,o,a);}return {id:n,bitmap:new t.AlphaImage({width:30,height:30},r.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},L.loadGlyphRange=function(e,i,n,o,r){var a=256*i,s=a+255,l=o(f(n).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,function(e,i){if(e)r(e);else if(i){for(var n={},o=0,a=t.parseGlyphPBF(i.data);o<a.length;o+=1){var s=a[o];n[s.id]=s;}r(null,n);}});},L.TinySDF=C;var D=function(){this.specification=t.styleSpec.light.position;};D.prototype.possiblyEvaluate=function(e,i){return t.sphericalToCartesian(e.expression.evaluate(i))},D.prototype.interpolate=function(e,i,n){return {x:t.number(e.x,i.x,n),y:t.number(e.y,i.y,n),z:t.number(e.z,i.z,n)}};var M=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new D,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),k=function(e){function i(i){e.call(this),this._transitionable=new t.Transitionable(M),this.setLight(i),this._transitioning=this._transitionable.untransitioned();}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var i in e){var n=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),n):this._transitionable.setValue(i,n);}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning);},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t);},i.prototype._validate=function(e,i){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},i}(t.Evented),B=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={};};B.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},B.prototype.addDash=function(e,i){var n=i?7:0,o=2*n+1;if(this.nextRow+o>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var r=0,a=0;a<e.length;a++)r+=e[a];for(var s=this.width/r,l=s/2,c=e.length%2==1,h=-n;h<=n;h++)for(var u=this.nextRow+n+h,p=this.width*u,d=c?-e[e.length-1]:0,_=e[0],f=1,m=0;m<this.width;m++){for(;_<m/s;)d=_,_+=e[f],c&&f===e.length-1&&(_+=e[0]),f++;var g=Math.abs(m-d*s),v=Math.abs(m-_*s),y=Math.min(g,v),x=f%2==1,b=void 0;if(i){var w=n?h/n*(l+1):0;if(x){var E=l-Math.abs(w);b=Math.sqrt(y*y+E*E);}else b=l-Math.sqrt(y*y+w*w);}else b=(x?1:-1)*y;this.data[3+4*(p+m)]=Math.max(0,Math.min(255,b+128));}var T={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:r};return this.nextRow+=o,this.dirty=!0,T},B.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data));};var O=function e(i,n){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),r=0;r<o.length;r++){var a=o[r],s=new e.Actor(a,n,this.id);s.name="Worker "+r,this.actors.push(s);}};function F(e,i,n){var o=function(e,i){if(e)return n(e);if(i){var o=t.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),n(null,o);}};return e.url?t.getJSON(i(m(e.url),t.ResourceType.Source),o):t.browser.frame(function(){return o(null,e)})}O.prototype.broadcast=function(e,i,n){n=n||function(){},t.asyncAll(this.actors,function(t,n){t.send(e,i,n);},n);},O.prototype.send=function(t,e,i,n){return ("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i),n},O.prototype.remove=function(){this.actors.forEach(function(t){t.remove();}),this.actors=[],this.workerPool.release(this.id);},O.Actor=t.Actor;var U=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};U.prototype.wrap=function(){return new U(t.wrap(this.lng,-180,180),this.lat)},U.prototype.toArray=function(){return [this.lng,this.lat]},U.prototype.toString=function(){return "LngLat("+this.lng+", "+this.lat+")"},U.prototype.toBounds=function(t){var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new N(new U(this.lng-i,this.lat-e),new U(this.lng+i,this.lat+e))},U.convert=function(t){if(t instanceof U)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new U(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new U(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var N=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]));};N.prototype.setNorthEast=function(t){return this._ne=t instanceof U?new U(t.lng,t.lat):U.convert(t),this},N.prototype.setSouthWest=function(t){return this._sw=t instanceof U?new U(t.lng,t.lat):U.convert(t),this},N.prototype.extend=function(t){var e,i,n=this._sw,o=this._ne;if(t instanceof U)e=t,i=t;else{if(!(t instanceof N))return Array.isArray(t)?t.every(Array.isArray)?this.extend(N.convert(t)):this.extend(U.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(i.lng,o.lng),o.lat=Math.max(i.lat,o.lat)):(this._sw=new U(e.lng,e.lat),this._ne=new U(i.lng,i.lat)),this},N.prototype.getCenter=function(){return new U((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},N.prototype.getSouthWest=function(){return this._sw},N.prototype.getNorthEast=function(){return this._ne},N.prototype.getNorthWest=function(){return new U(this.getWest(),this.getNorth())},N.prototype.getSouthEast=function(){return new U(this.getEast(),this.getSouth())},N.prototype.getWest=function(){return this._sw.lng},N.prototype.getSouth=function(){return this._sw.lat},N.prototype.getEast=function(){return this._ne.lng},N.prototype.getNorth=function(){return this._ne.lat},N.prototype.toArray=function(){return [this._sw.toArray(),this._ne.toArray()]},N.prototype.toString=function(){return "LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},N.prototype.isEmpty=function(){return !(this._sw&&this._ne)},N.convert=function(t){return !t||t instanceof N?t:new N(t)};var Z=function(t,e,i){this.bounds=N.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24;};Z.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},Z.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),i=Math.floor(this.latY(this.bounds.getNorth(),t.z)),n=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),o=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<n&&t.y>=i&&t.y<o},Z.prototype.lngX=function(t,e){return (t+180)*(Math.pow(2,e)/360)},Z.prototype.latY=function(e,i){var n=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),o=Math.pow(2,i)/(2*Math.PI);return Math.pow(2,i-1)+.5*Math.log((1+n)/(1-n))*-o};var q=function(e){function i(i,n,o,r){if(e.call(this),this.id=i,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(n,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r);}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=F(this._options,this.map._transformRequest,function(i,n){e._tileJSONRequest=null,i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new Z(n.bounds,e.minzoom,e.maxzoom)),S(n.tiles),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})));});},i.prototype.hasTile=function(t){return !this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load();},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,i){var n=y(e.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(n,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function r(t,n){return e.aborted?i(null):t&&404!==t.status?i(t):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&n&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}o.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",o,r.bind(this)):"loading"===e.state?e.reloadCallback=i:this.dispatcher.send("reloadTile",o,r.bind(this),e.workerID);},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID);},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID);},i.prototype.hasTransition=function(){return !1},i}(t.Evented),V=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]));}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=F(this._options,this.map._transformRequest,function(i,n){e._tileJSONRequest=null,i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new Z(n.bounds,e.minzoom,e.maxzoom)),S(n.tiles),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})));});},i.prototype.onAdd=function(t){this.map=t,this.load();},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return !this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,i){var n=this,o=y(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(o,t.ResourceType.Tile),function(o,r){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(o)e.state="errored",i(o);else if(r){n.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var a=n.map.painter.context,s=a.gl;e.texture=n.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new t.Texture(a,r,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",i(null);}});},i.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e();},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e();},i.prototype.hasTransition=function(){return !1},i}(t.Evented),j=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},n),this.encoding=n.encoding||"mapbox";}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return {type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,i){var n=y(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(n,t.ResourceType.Tile),function(n,o){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var r=t.browser.getImageData(o),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:r,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",a,function(t,n){t&&(e.state="errored",i(t));n&&(e.dem=n,e.needsHillshadePrepare=!0,e.state="loaded",i(null));}.bind(this)));}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID);},i.prototype._getNeighboringTiles=function(e){var i=e.canonical,n=Math.pow(2,i.z),o=(i.x-1+n)%n,r=0===i.x?e.wrap-1:e.wrap,a=(i.x+1+n)%n,s=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID);},i}(V),G=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(r),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution);var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions);}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(i){if(i)e.fire(new t.ErrorEvent(i));else{var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",n));}});},i.prototype.onAdd=function(t){this.map=t,this.load();},i.prototype.setData=function(e){var i=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)i.fire(new t.ErrorEvent(e));else{var n={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(n.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new t.Event("data",n));}}),this},i.prototype.getClusterExpansionZoom=function(t,e){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e,this.workerID),this},i.prototype.getClusterChildren=function(t,e){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e,this.workerID),this},i.prototype.getClusterLeaves=function(t,e,i,n){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:i},n,this.workerID),this},i.prototype._updateWorkerData=function(e){var i=this,n=t.extend({},this.workerOptions),o=this._data;"string"==typeof o?(n.request=this.map._transformRequest(t.browser.resolveURL(o),t.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(t,o){i._removed||o&&o.abandoned||(i._loaded=!0,o&&o.resourceTiming&&o.resourceTiming[i.id]&&(i._resourceTiming=o.resourceTiming[i.id].slice(0)),i.dispatcher.send(i.type+".coalesce",{source:n.source},null,i.workerID),e(t));},this.workerID);},i.prototype.loadTile=function(e,i){var n=this,o=void 0===e.workerID?"loadTile":"reloadTile",r={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send(o,r,function(t,r){return e.unloadVectorData(),e.aborted?i(null):t?i(t):(e.loadVectorData(r,n.map.painter,"reloadTile"===o),i(null))},this.workerID);},i.prototype.abortTile=function(t){t.aborted=!0;},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID);},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID);},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return !1},i}(t.Evented),W=function(e){function i(t,i,n,o){e.call(this),this.id=t,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=i;}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.image=t.browser.getImageData(n),e._finishLoading());});},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})));},i.prototype.onAdd=function(t){this.map=t,this.load();},i.prototype.setCoordinates=function(e){this.coordinates=e;var i=this.map,n=e.map(function(t){return i.transform.locationCoordinate(U.convert(t)).zoomTo(0)}),o=this.centerCoord=t.getCoordinatesCenter(n);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.tileID=new t.CanonicalTileID(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var r=n.map(function(e){var i=e.zoomTo(o.zoom);return new t.Point(Math.round((i.column-o.column)*t.EXTENT),Math.round((i.row-o.row)*t.EXTENT))});return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture);}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null));},i.prototype.serialize=function(){return {type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return !1},i}(t.Evented),X=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.roundZoom=!0,this.type="video",this.options=i;}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,i=this.options;this.urls=[];for(var n=0,o=i.urls;n<o.length;n+=1){var r=o[n];e.urls.push(e.map._transformRequest(r,t.ResourceType.Source).url);}t.getVideo(this.urls,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map._rerender();}),e.map&&e.video.play(),e._finishLoading());});},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)));},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture);}}},i.prototype.serialize=function(){return {type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(W),H=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(function(t){return !Array.isArray(t)||2!==t.length||t.some(function(t){return "number"!=typeof t})})||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,\'"coordinates" property must be an array of 4 longitude/latitude array pairs\'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,\'missing required property "coordinates"\'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,\'optional "animate" property must be a boolean value\'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,\'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance\'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+i,null,\'missing required property "canvas"\'))),this.options=n,this.animate=void 0===n.animate||n.animate;}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender();},this.pause=function(){this._playing=!1;},this._finishLoading());},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play();},i.prototype.onRemove=function(){this.pause();},i.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var i=this.map.painter.context,n=i.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?e?this.texture.update(this.canvas):this._playing&&(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.canvas)):(this.texture=new t.Texture(i,this.canvas,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[o];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture);}}},i.prototype.serialize=function(){return {type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var i=e[t];if(isNaN(i)||i<=0)return !0}return !1},i}(W),K={vector:q,raster:V,"raster-dem":j,geojson:G,video:X,image:W,canvas:H},Y=function(e,i,n,o){var r=new K[i.type](e,i,n,o);if(r.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+r.id);return t.bindAll(["load","abort","unload","serialize","prepare"],r),r};function J(t,e,i,n,o){var r=o.maxPitchScaleFactor(),a=t.tilesIn(i,r);a.sort(Q);for(var s=[],l=0,c=a;l<c.length;l+=1){var h=c[l];s.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(e,t._state,h.queryGeometry,h.scale,n,o,r,t.transform.calculatePosMatrix(h.tileID.toUnwrapped()))});}var u=function(t){for(var e={},i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.queryResults,s=r.wrappedTileID,l=i[s]=i[s]||{};for(var c in a)for(var h=a[c],u=l[c]=l[c]||{},p=e[c]=e[c]||[],d=0,_=h;d<_.length;d+=1){var f=_[d];u[f.featureIndex]||(u[f.featureIndex]=!0,p.push(f.feature));}}return e}(s);for(var p in u)u[p].forEach(function(e){var i=t.getFeatureState(e.layer["source-layer"],e.id);e.source=e.layer.source,e.layer["source-layer"]&&(e.sourceLayer=e.layer["source-layer"]),e.state=i;});return u}function Q(t,e){var i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}var $=function(t,e){this.max=t,this.onRemove=e,this.reset();};$.prototype.reset=function(){for(var t in this.data)for(var e=0,i=this.data[t];e<i.length;e+=1){var n=i[e];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value);}return this.data={},this.order=[],this},$.prototype.add=function(t,e,i){var n=this,o=t.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var r={value:e,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout(function(){n.remove(t,r);},i)),this.data[o].push(r),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a);}return this},$.prototype.has=function(t){return t.wrapped().key in this.data},$.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},$.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},$.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},$.prototype.remove=function(t,e){if(!this.has(t))return this;var i=t.wrapped().key,n=void 0===e?0:this.data[i].indexOf(e),o=this.data[i][n];return this.data[i].splice(n,1),o.timeout&&clearTimeout(o.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(o.value),this.order.splice(this.order.indexOf(i),1),this},$.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this};var tt=function(t,e,i){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer;};tt.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null);},tt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer);},tt.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer);},tt.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer);};var et={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},it=function(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer;};it.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer);},it.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer);},it.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var n=this.attributes[i],o=e.attributes[n.name];void 0!==o&&t.enableVertexAttribArray(o);}},it.prototype.setVertexAttribPointers=function(t,e,i){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],r=e.attributes[o.name];void 0!==r&&t.vertexAttribPointer(r,o.components,t[et[o.type]],!1,this.itemSize,o.offset+this.itemSize*(i||0));}},it.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer);};var nt=function(e){this.context=e,this.current=t.Color.transparent;};nt.prototype.get=function(){return this.current},nt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t);};var ot=function(t){this.context=t,this.current=1;};ot.prototype.get=function(){return this.current},ot.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t);};var rt=function(t){this.context=t,this.current=0;};rt.prototype.get=function(){return this.current},rt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t);};var at=function(t){this.context=t,this.current=[!0,!0,!0,!0];};at.prototype.get=function(){return this.current},at.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t);};var st=function(t){this.context=t,this.current=!0;};st.prototype.get=function(){return this.current},st.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t);};var lt=function(t){this.context=t,this.current=255;};lt.prototype.get=function(){return this.current},lt.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t);};var ct=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255};};ct.prototype.get=function(){return this.current},ct.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t);};var ht=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP];};ht.prototype.get=function(){return this.current},ht.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t);};var ut=function(t){this.context=t,this.current=!1;};ut.prototype.get=function(){return this.current},ut.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t;}};var pt=function(t){this.context=t,this.current=[0,1];};pt.prototype.get=function(){return this.current},pt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t);};var dt=function(t){this.context=t,this.current=!1;};dt.prototype.get=function(){return this.current},dt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t;}};var _t=function(t){this.context=t,this.current=t.gl.LESS;};_t.prototype.get=function(){return this.current},_t.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t);};var ft=function(t){this.context=t,this.current=!1;};ft.prototype.get=function(){return this.current},ft.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t;}};var mt=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO];};mt.prototype.get=function(){return this.current},mt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t);};var gt=function(e){this.context=e,this.current=t.Color.transparent;};gt.prototype.get=function(){return this.current},gt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t);};var vt=function(t){this.context=t,this.current=null;};vt.prototype.get=function(){return this.current},vt.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t);};var yt=function(t){this.context=t,this.current=t.gl.TEXTURE0;};yt.prototype.get=function(){return this.current},yt.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t);};var xt=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight];};xt.prototype.get=function(){return this.current},xt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t);};var bt=function(t){this.context=t,this.current=null;};bt.prototype.get=function(){return this.current},bt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t;}};var wt=function(t){this.context=t,this.current=null;};wt.prototype.get=function(){return this.current},wt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t;}};var Et=function(t){this.context=t,this.current=null;};Et.prototype.get=function(){return this.current},Et.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t;}};var Tt=function(t){this.context=t,this.current=null;};Tt.prototype.get=function(){return this.current},Tt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t;}};var St=function(t){this.context=t,this.current=null;};St.prototype.get=function(){return this.current},St.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t;};var It=function(t){this.context=t,this.current=null;};It.prototype.get=function(){return this.current},It.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t);};var Ct=function(t){this.context=t,this.current=4;};Ct.prototype.get=function(){return this.current},Ct.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t;}};var zt=function(t){this.context=t,this.current=!1;};zt.prototype.get=function(){return this.current},zt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t;}};var Pt=function(t,e){this.context=t,this.current=null,this.parent=e;};Pt.prototype.get=function(){return this.current};var Rt=function(t){function e(e,i){t.call(this,e,i),this.dirty=!1;}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1;}},e.prototype.setDirty=function(){this.dirty=!0;},e}(Pt),At=function(t){function e(){t.apply(this,arguments);}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t;}},e}(Pt),Lt=function(t,e,i){this.context=t,this.width=e,this.height=i;var n=t.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new Rt(t,o),this.depthAttachment=new At(t,o);};Lt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i),t.deleteFramebuffer(this.framebuffer);};var Dt=function(t,e,i){this.func=t,this.mask=e,this.range=i;};Dt.ReadOnly=!1,Dt.ReadWrite=!0,Dt.disabled=new Dt(519,Dt.ReadOnly,[0,1]);var Mt=function(t,e,i,n,o,r){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=o,this.pass=r;};Mt.disabled=new Mt({func:519,mask:0},0,0,7680,7680,7680);var kt=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i;};kt.Replace=[1,0],kt.disabled=new kt(kt.Replace,t.Color.transparent,[!1,!1,!1,!1]),kt.unblended=new kt(kt.Replace,t.Color.transparent,[!0,!0,!0,!0]),kt.alphaBlended=new kt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Bt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new nt(this),this.clearDepth=new ot(this),this.clearStencil=new rt(this),this.colorMask=new at(this),this.depthMask=new st(this),this.stencilMask=new lt(this),this.stencilFunc=new ct(this),this.stencilOp=new ht(this),this.stencilTest=new ut(this),this.depthRange=new pt(this),this.depthTest=new dt(this),this.depthFunc=new _t(this),this.blend=new ft(this),this.blendFunc=new mt(this),this.blendColor=new gt(this),this.program=new vt(this),this.activeTexture=new yt(this),this.viewport=new xt(this),this.bindFramebuffer=new bt(this),this.bindRenderbuffer=new wt(this),this.bindTexture=new Et(this),this.bindVertexBuffer=new Tt(this),this.bindElementBuffer=new St(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new It(this),this.pixelStoreUnpack=new Ct(this),this.pixelStoreUnpackPremultiplyAlpha=new zt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear");};Bt.prototype.createIndexBuffer=function(t,e){return new tt(this,t,e)},Bt.prototype.createVertexBuffer=function(t,e,i){return new it(this,t,e,i)},Bt.prototype.createRenderbuffer=function(t,e,i){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),o},Bt.prototype.createFramebuffer=function(t,e){return new Lt(this,t,e)},Bt.prototype.clear=function(t){var e=t.color,i=t.depth,n=this.gl,o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(o|=n.DEPTH_BUFFER_BIT,this.clearDepth.set(i),this.depthMask.set(!0)),n.clear(o);},Bt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1);},Bt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1);},Bt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,kt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask);};var Ot=function(e){function i(i,n,o){var r=this;e.call(this),this.id=i,this.dispatcher=o,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform));}),this.on("error",function(){r._sourceErrored=!0;}),this._source=Y(i,n,o,this),this._tiles={},this._cache=new $(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new t.SourceFeatureState;}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t);},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t);},i.prototype.loaded=function(){if(this._sourceErrored)return !0;if(!this._sourceLoaded)return !1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return !1}return !0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0;},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform);}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles)this._tiles[e].upload(t);},i.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Ut)},i.prototype.getRenderableIds=function(e){var i=this,n=[];for(var o in i._tiles)i._isIdRenderable(+o,e)&&n.push(+o);return e?n.sort(function(e,n){var o=i._tiles[e].tileID,r=i._tiles[n].tileID,a=new t.Point(o.canonical.x,o.canonical.y)._rotate(i.transform.angle),s=new t.Point(r.canonical.x,r.canonical.y)._rotate(i.transform.angle);return o.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x}):n.sort(Ut)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return !!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading");},i.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)));},i.prototype._tileLoaded=function(e,i,n,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}));},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),i=0;i<e.length;i++){var n=e[i];if(t.neighboringTiles&&t.neighboringTiles[n]){var o=this.getTileByID(n);r(t,o),r(o,t);}}function r(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),r=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+o)?i+=o:1===Math.abs(i-o)&&(i-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[r]&&(t.neighboringTiles[r].backfilled=!0)));}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._retainLoadedChildren=function(t,e,i,n){for(var o in this._tiles){var r=this._tiles[o];if(!(n[o]||!r.hasData()||r.tileID.overscaledZ<=e||r.tileID.overscaledZ>i)){for(var a=r.tileID;r&&r.tileID.overscaledZ>e+1;){var s=r.tileID.scaledTo(r.tileID.overscaledZ-1);(r=this._tiles[s.key])&&r.hasData()&&(a=s);}for(var l=a;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){n[a.key]=a;break}}}},i.prototype.findLoadedParent=function(t,e){for(var i=t.overscaledZ-1;i>=e;i--){var n=t.scaledTo(i);if(!n)return;var o=String(n.key),r=this._tiles[o];if(r&&r.hasData())return r;if(this._cache.has(n))return this._cache.get(n)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),i=Math.floor(5*e),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(n);},i.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,i=Math.round(e);if(this._prevLng=t,i){var n={};for(var o in this._tiles){var r=this._tiles[o];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+i),n[r.tileID.key]=r;}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var l=this._tiles[s];this._setTileReloadTimer(s,l);}}},i.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var o;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(t){return n._source.hasTile(t)}))):o=[];var r=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(r-i.maxOverzooming,this._source.minzoom),s=Math.max(r+i.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(o,r);if(Nt(this._source.type)){for(var c={},h={},u=0,p=Object.keys(l);u<p.length;u+=1){var d=p[u],_=l[d],f=n._tiles[d];if(f&&!(f.fadeEndTime&&f.fadeEndTime<=t.browser.now())){var m=n.findLoadedParent(_,a);m&&(n._addTile(m.tileID),c[m.tileID.key]=m.tileID),h[d]=_;}}for(var g in this._retainLoadedChildren(h,r,s,l),c)l[g]||(n._coveredTiles[g]=!0,l[g]=c[g]);}for(var v in l)n._tiles[v].clearFadeHold();for(var y=0,x=t.keysDifference(this._tiles,l);y<x.length;y+=1){var b=x[y],w=n._tiles[b];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(n.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||n._removeTile(b);}}},i.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t);},i.prototype._updateRetainedTiles=function(t,e){for(var n={},o={},r=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s={},l=0,c=t;l<c.length;l+=1){var h=c[l],u=this._addTile(h);n[h.key]=h,u.hasData()||e<this._source.maxzoom&&(s[h.key]=h);}this._retainLoadedChildren(s,e,a,n);for(var p=0,d=t;p<d.length;p+=1){var _=d[p],f=this._tiles[_.key];if(!f.hasData()){if(e+1>this._source.maxzoom){var m=_.children(this._source.maxzoom)[0],g=this.getTile(m);if(g&&g.hasData()){n[m.key]=m;continue}}else{var v=_.children(this._source.maxzoom);if(n[v[0].key]&&n[v[1].key]&&n[v[2].key]&&n[v[3].key])continue}for(var y=f.wasRequested(),x=_.overscaledZ-1;x>=r;--x){var b=_.scaledTo(x);if(o[b.key])break;if(o[b.key]=!0,!(f=this.getTile(b))&&y&&(f=this._addTile(b)),f&&(n[b.key]=b,y=f.wasRequested(),f.hasData()))break}}}return n},i.prototype._addTile=function(e){var i=this._tiles[e.key];if(i)return i;(i=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));var n=Boolean(i);return n||(i=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i?(i.uses++,this._tiles[e.key]=i,n||this._source.fire(new t.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t];},n));},i.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))));},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset();},i.prototype.tilesIn=function(e,i){for(var n=[],o=this.getIds(),r=1/0,a=1/0,s=-1/0,l=-1/0,c=e[0].zoom,h=0;h<e.length;h++){var u=e[h];r=Math.min(r,u.column),a=Math.min(a,u.row),s=Math.max(s,u.column),l=Math.max(l,u.row);}for(var p=0;p<o.length;p++){var d=this._tiles[o[p]];if(!d.holdingForFade()){var _=d.tileID,f=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),m=i*d.queryPadding*t.EXTENT/d.tileSize/f,g=[Ft(_,new t.Coordinate(r,a,c)),Ft(_,new t.Coordinate(s,l,c))];if(g[0].x-m<t.EXTENT&&g[0].y-m<t.EXTENT&&g[1].x+m>=0&&g[1].y+m>=0){for(var v=[],y=0;y<e.length;y++)v.push(Ft(_,e[y]));n.push({tile:d,tileID:_,queryGeometry:[v],scale:f});}}}return n},i.prototype.getVisibleCoordinates=function(t){for(var e=this,i=this.getRenderableIds(t).map(function(t){return e._tiles[t].tileID}),n=0,o=i;n<o.length;n+=1){var r=o[n];r.posMatrix=e.transform.calculatePosMatrix(r.toUnwrapped());}return i},i.prototype.hasTransition=function(){if(this._source.hasTransition())return !0;if(Nt(this._source.type))for(var e in this._tiles){var i=this._tiles[e];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=t.browser.now())return !0}return !1},i.prototype.setFeatureState=function(t,e,i){t=t||"_geojsonTileLayer",this._state.updateState(t,e,i);},i.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},i}(t.Evented);function Ft(e,i){var n=i.zoomTo(e.canonical.z);return new t.Point((n.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*t.EXTENT,(n.row-e.canonical.y)*t.EXTENT)}function Ut(t,e){return t%32-e%32||e-t}function Nt(t){return "raster"===t||"image"===t||"video"===t}function Zt(){return new t.window.Worker(kn.workerUrl)}Ot.maxOverzooming=10,Ot.maxUnderzooming=3;var qt,Vt=function(){this.active={};};function jt(e,i){var n={};for(var o in e)"ref"!==o&&(n[o]=e[o]);return t.refProperties.forEach(function(t){t in i&&(n[t]=i[t]);}),n}function Gt(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=jt(t[n],e[t[n].ref]));return t}Vt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Vt.workerCount;)this.workers.push(new Zt);return this.active[t]=!0,this.workers.slice()},Vt.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate();}),this.workers=null);},Vt.workerCount=Math.max(Math.floor(t.browser.hardwareConcurrency/2),1);var Wt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Xt(t,e,i){i.push({command:Wt.addSource,args:[t,e[t]]});}function Ht(t,e,i){e.push({command:Wt.removeSource,args:[t]}),i[t]=!0;}function Kt(t,e,i,n){Ht(t,i,n),Xt(t,e,i);}function Yt(e,i,n){var o;for(o in e[n])if(e[n].hasOwnProperty(o)&&"data"!==o&&!t.deepEqual(e[n][o],i[n][o]))return !1;for(o in i[n])if(i[n].hasOwnProperty(o)&&"data"!==o&&!t.deepEqual(e[n][o],i[n][o]))return !1;return !0}function Jt(e,i,n,o,r,a){var s;for(s in i=i||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}));}function Qt(t){return t.id}function $t(t,e){return t[e.id]=e,t}function te(e,i){if(!e)return [{command:Wt.setStyle,args:[i]}];var n=[];try{if(!t.deepEqual(e.version,i.version))return [{command:Wt.setStyle,args:[i]}];t.deepEqual(e.center,i.center)||n.push({command:Wt.setCenter,args:[i.center]}),t.deepEqual(e.zoom,i.zoom)||n.push({command:Wt.setZoom,args:[i.zoom]}),t.deepEqual(e.bearing,i.bearing)||n.push({command:Wt.setBearing,args:[i.bearing]}),t.deepEqual(e.pitch,i.pitch)||n.push({command:Wt.setPitch,args:[i.pitch]}),t.deepEqual(e.sprite,i.sprite)||n.push({command:Wt.setSprite,args:[i.sprite]}),t.deepEqual(e.glyphs,i.glyphs)||n.push({command:Wt.setGlyphs,args:[i.glyphs]}),t.deepEqual(e.transition,i.transition)||n.push({command:Wt.setTransition,args:[i.transition]}),t.deepEqual(e.light,i.light)||n.push({command:Wt.setLight,args:[i.light]});var o={},r=[];!function(e,i,n,o){var r;for(r in i=i||{},e=e||{})e.hasOwnProperty(r)&&(i.hasOwnProperty(r)||Ht(r,n,o));for(r in i)i.hasOwnProperty(r)&&(e.hasOwnProperty(r)?t.deepEqual(e[r],i[r])||("geojson"===e[r].type&&"geojson"===i[r].type&&Yt(e,i,r)?n.push({command:Wt.setGeoJSONSourceData,args:[r,i[r].data]}):Kt(r,i,n,o)):Xt(r,i,n));}(e.sources,i.sources,r,o);var a=[];e.layers&&e.layers.forEach(function(t){o[t.source]?n.push({command:Wt.removeLayer,args:[t.id]}):a.push(t);}),n=n.concat(r),function(e,i,n){i=i||[];var o,r,a,s,l,c,h,u=(e=e||[]).map(Qt),p=i.map(Qt),d=e.reduce($t,{}),_=i.reduce($t,{}),f=u.slice(),m=Object.create(null);for(o=0,r=0;o<u.length;o++)a=u[o],_.hasOwnProperty(a)?r++:(n.push({command:Wt.removeLayer,args:[a]}),f.splice(f.indexOf(a,r),1));for(o=0,r=0;o<p.length;o++)a=p[p.length-1-o],f[f.length-1-o]!==a&&(d.hasOwnProperty(a)?(n.push({command:Wt.removeLayer,args:[a]}),f.splice(f.lastIndexOf(a,f.length-r),1)):r++,c=f[f.length-o],n.push({command:Wt.addLayer,args:[_[a],c]}),f.splice(f.length-o,0,a),m[a]=!0);for(o=0;o<p.length;o++)if(s=d[a=p[o]],l=_[a],!m[a]&&!t.deepEqual(s,l))if(t.deepEqual(s.source,l.source)&&t.deepEqual(s["source-layer"],l["source-layer"])&&t.deepEqual(s.type,l.type)){for(h in Jt(s.layout,l.layout,n,a,null,Wt.setLayoutProperty),Jt(s.paint,l.paint,n,a,null,Wt.setPaintProperty),t.deepEqual(s.filter,l.filter)||n.push({command:Wt.setFilter,args:[a,l.filter]}),t.deepEqual(s.minzoom,l.minzoom)&&t.deepEqual(s.maxzoom,l.maxzoom)||n.push({command:Wt.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(h)&&"layout"!==h&&"paint"!==h&&"filter"!==h&&"metadata"!==h&&"minzoom"!==h&&"maxzoom"!==h&&(0===h.indexOf("paint.")?Jt(s[h],l[h],n,a,h.slice(6),Wt.setPaintProperty):t.deepEqual(s[h],l[h])||n.push({command:Wt.setLayerProperty,args:[a,h,l[h]]}));for(h in l)l.hasOwnProperty(h)&&!s.hasOwnProperty(h)&&"layout"!==h&&"paint"!==h&&"filter"!==h&&"metadata"!==h&&"minzoom"!==h&&"maxzoom"!==h&&(0===h.indexOf("paint.")?Jt(s[h],l[h],n,a,h.slice(6),Wt.setPaintProperty):t.deepEqual(s[h],l[h])||n.push({command:Wt.setLayerProperty,args:[a,h,l[h]]}));}else n.push({command:Wt.removeLayer,args:[a]}),c=f[f.lastIndexOf(a)+1],n.push({command:Wt.addLayer,args:[l,c]});}(a,i.layers,n);}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:Wt.setStyle,args:[i]}];}return n}var ee=function(t,e,i){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var r=0;r<this.xCellCount*this.yCellCount;r++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0;};ee.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},ee.prototype.insert=function(t,e,i,n,o){this._forEachCell(e,i,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(o);},ee.prototype.insertCircle=function(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n);},ee.prototype._insertBoxCell=function(t,e,i,n,o,r){this.boxCells[o].push(r);},ee.prototype._insertCircleCell=function(t,e,i,n,o,r){this.circleCells[o].push(r);},ee.prototype._query=function(t,e,i,n,o,r){if(i<0||t>this.width||n<0||e>this.height)return !o&&[];var a=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n){if(o)return !0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var c=this.circles[3*l],h=this.circles[3*l+1],u=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:c-u,y1:h-u,x2:c+u,y2:h+u});}return r?a.filter(r):a}var p={hitTest:o,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,i,n,this._queryCell,a,p,r),o?a.length>0:a},ee.prototype._queryCircle=function(t,e,i,n,o){var r=t-i,a=t+i,s=e-i,l=e+i;if(a<0||r>this.width||l<0||s>this.height)return !n&&[];var c=[],h={hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(r,s,a,l,this._queryCellCircle,c,h,o),n?c.length>0:c},ee.prototype.query=function(t,e,i,n,o){return this._query(t,e,i,n,!1,o)},ee.prototype.hitTest=function(t,e,i,n,o){return this._query(t,e,i,n,!0,o)},ee.prototype.hitTestCircle=function(t,e,i,n){return this._queryCircle(t,e,i,!0,n)},ee.prototype._queryCell=function(t,e,i,n,o,r,a,s){var l=a.seenUids,c=this.boxCells[o];if(null!==c)for(var h=this.bboxes,u=0,p=c;u<p.length;u+=1){var d=p[u];if(!l.box[d]){l.box[d]=!0;var _=4*d;if(t<=h[_+2]&&e<=h[_+3]&&i>=h[_+0]&&n>=h[_+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return r.push(!0),!0;r.push({key:this.boxKeys[d],x1:h[_],y1:h[_+1],x2:h[_+2],y2:h[_+3]});}}}var f=this.circleCells[o];if(null!==f)for(var m=this.circles,g=0,v=f;g<v.length;g+=1){var y=v[g];if(!l.circle[y]){l.circle[y]=!0;var x=3*y;if(this._circleAndRectCollide(m[x],m[x+1],m[x+2],t,e,i,n)&&(!s||s(this.circleKeys[y]))){if(a.hitTest)return r.push(!0),!0;var b=m[x],w=m[x+1],E=m[x+2];r.push({key:this.circleKeys[y],x1:b-E,y1:w-E,x2:b+E,y2:w+E});}}}},ee.prototype._queryCellCircle=function(t,e,i,n,o,r,a,s){var l=a.circle,c=a.seenUids,h=this.boxCells[o];if(null!==h)for(var u=this.bboxes,p=0,d=h;p<d.length;p+=1){var _=d[p];if(!c.box[_]){c.box[_]=!0;var f=4*_;if(this._circleAndRectCollide(l.x,l.y,l.radius,u[f+0],u[f+1],u[f+2],u[f+3])&&(!s||s(this.boxKeys[_])))return r.push(!0),!0}}var m=this.circleCells[o];if(null!==m)for(var g=this.circles,v=0,y=m;v<y.length;v+=1){var x=y[v];if(!c.circle[x]){c.circle[x]=!0;var b=3*x;if(this._circlesCollide(g[b],g[b+1],g[b+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[x])))return r.push(!0),!0}}},ee.prototype._forEachCell=function(t,e,i,n,o,r,a,s){for(var l=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(n),p=l;p<=h;p++)for(var d=c;d<=u;d++){var _=this.xCellCount*d+p;if(o.call(this,t,e,i,n,_,r,a,s))return}},ee.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},ee.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},ee.prototype._circlesCollide=function(t,e,i,n,o,r){var a=n-t,s=o-e,l=i+r;return l*l>a*a+s*s},ee.prototype._circleAndRectCollide=function(t,e,i,n,o,r,a){var s=(r-n)/2,l=Math.abs(t-(n+s));if(l>s+i)return !1;var c=(a-o)/2,h=Math.abs(e-(o+c));if(h>c+i)return !1;if(l<=s||h<=c)return !0;var u=l-s,p=h-c;return u*u+p*p<=i*i};var ie=t.properties.layout;function ne(e,i,n,o,r){var a=t.identity(new Float32Array(16));return i?(t.identity(a),t.scale(a,a,[1/r,1/r,1]),n||t.rotateZ(a,a,o.angle)):(t.scale(a,a,[o.width/2,-o.height/2,1]),t.translate(a,a,[1,-1,0]),t.multiply(a,a,e)),a}function oe(e,i,n,o,r){var a=t.identity(new Float32Array(16));return i?(t.multiply(a,a,e),t.scale(a,a,[r,r,1]),n||t.rotateZ(a,a,-o.angle)):(t.scale(a,a,[1,-1,1]),t.translate(a,a,[-1,-1,0]),t.scale(a,a,[2/o.width,2/o.height,1])),a}function re(e,i){var n=[e.x,e.y,0,1];fe(n,n,i);var o=n[3];return {point:new t.Point(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function ae(t,e){var i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function se(e,i,n,o,r,a,s,l){var c=o?e.textSizeData:e.iconSizeData,h=t.evaluateSizeForZoom(c,n.transform.zoom,ie.properties[o?"text-size":"icon-size"]),u=[256/n.width*2+1,256/n.height*2+1],p=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var d=e.lineVertexArray,_=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,f=n.transform.width/n.transform.height,m=!1,g=0;g<_.length;g++){var v=_.get(g);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!m)_e(v.numGlyphs,p);else{m=!1;var y=[v.anchorX,v.anchorY,0,1];if(t.transformMat4(y,y,i),ae(y,u)){var x=.5+y[3]/n.transform.cameraToCenterDistance*.5,b=t.evaluateSizeForFeature(c,h,v),w=s?b*x:b/x,E=new t.Point(v.anchorX,v.anchorY),T=re(E,r).point,S={},I=he(v,w,!1,l,i,r,a,e.glyphOffsetArray,d,p,T,E,S,f);m=I.useVertical,(I.notEnoughRoom||m||I.needsFlipping&&he(v,w,!0,l,i,r,a,e.glyphOffsetArray,d,p,T,E,S,f).notEnoughRoom)&&_e(v.numGlyphs,p);}else _e(v.numGlyphs,p);}}o?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p);}function le(t,e,i,n,o,r,a,s,l,c,h,u){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,_=s.lineStartIndex+s.lineLength,f=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(p-1),g=pe(t*f,i,n,o,r,a,s.segment,d,_,l,c,h,u);if(!g)return null;var v=pe(t*m,i,n,o,r,a,s.segment,d,_,l,c,h,u);return v?{first:g,last:v}:null}function ce(e,i,n,o){if(e===t.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*o)return {useVertical:!0};return (e===t.WritingMode.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function he(e,i,n,o,r,a,s,l,c,h,u,p,d,_){var f,m=i/24,g=e.lineOffsetX*i,v=e.lineOffsetY*i;if(e.numGlyphs>1){var y=e.glyphStartIndex+e.numGlyphs,x=e.lineStartIndex,b=e.lineStartIndex+e.lineLength,w=le(m,l,g,v,n,u,p,e,c,a,d,!1);if(!w)return {notEnoughRoom:!0};var E=re(w.first.point,s).point,T=re(w.last.point,s).point;if(o&&!n){var S=ce(e.writingMode,E,T,_);if(S)return S}f=[w.first];for(var I=e.glyphStartIndex+1;I<y-1;I++)f.push(pe(m*l.getoffsetX(I),g,v,n,u,p,e.segment,x,b,c,a,d,!1));f.push(w.last);}else{if(o&&!n){var C=re(p,r).point,z=e.lineStartIndex+e.segment+1,P=new t.Point(c.getx(z),c.gety(z)),R=re(P,r),A=R.signedDistanceFromCamera>0?R.point:ue(p,P,C,1,r),L=ce(e.writingMode,C,A,_);if(L)return L}var D=pe(m*l.getoffsetX(e.glyphStartIndex),g,v,n,u,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,a,d,!1);if(!D)return {notEnoughRoom:!0};f=[D];}for(var M=0,k=f;M<k.length;M+=1){var B=k[M];t.addDynamicAttributes(h,B.point,B.angle);}return {}}function ue(t,e,i,n,o){var r=re(t.add(t.sub(e)._unit()),o).point,a=i.sub(r);return i.add(a._mult(n/a.mag()))}function pe(e,i,n,o,r,a,s,l,c,h,u,p,d){var _=o?e-i:e+i,f=_>0?1:-1,m=0;o&&(f*=-1,m=Math.PI),f<0&&(m+=Math.PI);for(var g=f>0?l+s:l+s+1,v=g,y=r,x=r,b=0,w=0,E=Math.abs(_);b+w<=E;){if((g+=f)<l||g>=c)return null;if(x=y,void 0===(y=p[g])){var T=new t.Point(h.getx(g),h.gety(g)),S=re(T,u);if(S.signedDistanceFromCamera>0)y=p[g]=S.point;else{var I=g-f;y=ue(0===b?a:new t.Point(h.getx(I),h.gety(I)),T,x,E-b+1,u);}}b+=w,w=x.dist(y);}var C=(E-b)/w,z=y.sub(x),P=z.mult(C)._add(x);return P._add(z._unit()._perp()._mult(n*f)),{point:P,angle:m+Math.atan2(y.y-x.y,y.x-x.x),tileDistance:d?{prevTileDistance:g-f===v?0:h.gettileUnitDistanceFromAnchor(g-f),lastSegmentViewportDistance:E-b}:null}}var de=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function _e(t,e){for(var i=0;i<t;i++){var n=e.length;e.resize(n+4),e.float32.set(de,3*n);}}function fe(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t[3]=i[3]*n+i[7]*o+i[15],t}var me=function(t,e,i){void 0===e&&(e=new ee(t.width+200,t.height+200,25)),void 0===i&&(i=new ee(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200;};function ge(t,e,i){t[e+4]=i?1:0;}function ve(e,i,n){return i*(t.EXTENT/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}me.prototype.placeCollisionBox=function(t,e,i,n,o){var r=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),a=i*r.perspectiveRatio,s=t.x1*a+r.point.x,l=t.y1*a+r.point.y,c=t.x2*a+r.point.x,h=t.y2*a+r.point.y;return !this.isInsideGrid(s,l,c,h)||!e&&this.grid.hitTest(s,l,c,h,o)?{box:[],offscreen:!1}:{box:[s,l,c,h],offscreen:this.isOffscreen(s,l,c,h)}},me.prototype.approximateTileDistance=function(t,e,i,n,o){var r=o?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*i;return t.prevTileDistance+a+(r-1)*a*Math.abs(Math.sin(e))},me.prototype.placeCollisionCircles=function(e,i,n,o,r,a,s,l,c,h,u,p,d){var _=[],f=this.projectAnchor(c,r.anchorX,r.anchorY),m=l/24,g=r.lineOffsetX*l,v=r.lineOffsetY*l,y=new t.Point(r.anchorX,r.anchorY),x=le(m,s,g,v,!1,re(y,h).point,y,r,a,h,{},!0),b=!1,w=!1,E=!0,T=f.perspectiveRatio*o,S=1/(o*n),I=0,C=0;x&&(I=this.approximateTileDistance(x.first.tileDistance,x.first.angle,S,f.cameraDistance,p),C=this.approximateTileDistance(x.last.tileDistance,x.last.angle,S,f.cameraDistance,p));for(var z=0;z<e.length;z+=5){var P=e[z],R=e[z+1],A=e[z+2],L=e[z+3];if(!x||L<-I||L>C)ge(e,z,!1);else{var D=this.projectPoint(c,P,R),M=A*T;if(_.length>0){var k=D.x-_[_.length-4],B=D.y-_[_.length-3];if(M*M*2>k*k+B*B)if(z+8<e.length){var O=e[z+8];if(O>-I&&O<C){ge(e,z,!1);continue}}}var F=z/5;_.push(D.x,D.y,M,F),ge(e,z,!0);var U=D.x-M,N=D.y-M,Z=D.x+M,q=D.y+M;if(E=E&&this.isOffscreen(U,N,Z,q),w=w||this.isInsideGrid(U,N,Z,q),!i&&this.grid.hitTestCircle(D.x,D.y,M,d)){if(!u)return {circles:[],offscreen:!1};b=!0;}}}return {circles:b||!w?[]:_,offscreen:E}},me.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return {};for(var i=[],n=1/0,o=1/0,r=-1/0,a=-1/0,s=0,l=e;s<l.length;s+=1){var c=l[s],h=new t.Point(c.x+100,c.y+100);n=Math.min(n,h.x),o=Math.min(o,h.y),r=Math.max(r,h.x),a=Math.max(a,h.y),i.push(h);}for(var u={},p={},d=0,_=this.grid.query(n,o,r,a).concat(this.ignoredGrid.query(n,o,r,a));d<_.length;d+=1){var f=_[d],m=f.key;if(void 0===u[m.bucketInstanceId]&&(u[m.bucketInstanceId]={}),!u[m.bucketInstanceId][m.featureIndex]){var g=[new t.Point(f.x1,f.y1),new t.Point(f.x2,f.y1),new t.Point(f.x2,f.y2),new t.Point(f.x1,f.y2)];t.polygonIntersectsPolygon(i,g)&&(u[m.bucketInstanceId][m.featureIndex]=!0,void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]=[]),p[m.bucketInstanceId].push(m.featureIndex));}}return p},me.prototype.insertCollisionBox=function(t,e,i,n,o){var r={bucketInstanceId:i,featureIndex:n,collisionGroupID:o};(e?this.ignoredGrid:this.grid).insert(r,t[0],t[1],t[2],t[3]);},me.prototype.insertCollisionCircles=function(t,e,i,n,o){for(var r=e?this.ignoredGrid:this.grid,a={bucketInstanceId:i,featureIndex:n,collisionGroupID:o},s=0;s<t.length;s+=4)r.insertCircle(a,t[s],t[s+1],t[s+2]);},me.prototype.projectAnchor=function(t,e,i){var n=[e,i,0,1];return fe(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},me.prototype.projectPoint=function(e,i,n){var o=[i,n,0,1];return fe(o,o,e),new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},me.prototype.projectAndGetPerspectiveRatio=function(e,i,n){var o=[i,n,0,1];return fe(o,o,e),{point:new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},me.prototype.isOffscreen=function(t,e,i,n){return i<100||t>=this.screenRightBoundary||n<100||e>this.screenBottomBoundary},me.prototype.isInsideGrid=function(t,e,i,n){return i>=0&&t<this.gridRightBoundary&&n>=0&&e<this.gridBottomBoundary};var ye=function(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i;};ye.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var xe=function(t,e,i,n,o){this.text=new ye(t?t.text:null,e,i,o),this.icon=new ye(t?t.icon:null,e,n,o);};xe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var be=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i;},we=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={};};we.prototype.get=function(t){if(this.crossSourceCollisions)return {ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}};}return this.collisionGroups[t]};var Ee=function(t,e,i){this.transform=t.clone(),this.collisionIndex=new me(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new we(i);};function Te(t,e,i){t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0);}Ee.prototype.placeLayerTile=function(e,i,n,o){var r=i.getBucket(e),a=i.latestFeatureIndex;if(r&&a&&e.id===r.layerIds[0]){var s=i.collisionBoxArray,l=r.layers[0].layout,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),h=i.tileSize/t.EXTENT,u=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),p=ne(u,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,ve(i,1,this.transform.zoom)),d=ne(u,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,ve(i,1,this.transform.zoom));this.retainedQueryData[r.bucketInstanceId]=new function(t,e,i,n,o){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=i,this.bucketIndex=n,this.tileID=o;}(r.bucketInstanceId,a,r.sourceLayerIndex,r.index,i.tileID),this.placeLayerBucket(r,u,p,d,c,h,n,i.holdingForFade(),o,s);}},Ee.prototype.placeLayerBucket=function(e,i,n,o,r,a,s,l,c,h){var u=e.layers[0].layout,p=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,t.properties.layout.properties["text-size"]),d=u.get("text-optional"),_=u.get("icon-optional"),f=this.collisionGroups.get(e.sourceID);!e.collisionArrays&&h&&e.deserializeCollisionBoxes(h);for(var m=0;m<e.symbolInstances.length;m++){var g=e.symbolInstances.get(m);if(!c[g.crossTileID]){if(l){this.placements[g.crossTileID]=new be(!1,!1,!1);continue}var v=!1,y=!1,x=!0,b=null,w=null,E=null,T=0,S=0,I=e.collisionArrays[m];I.textFeatureIndex&&(T=I.textFeatureIndex),I.textBox&&(v=(b=this.collisionIndex.placeCollisionBox(I.textBox,u.get("text-allow-overlap"),a,i,f.predicate)).box.length>0,x=x&&b.offscreen);var C=I.textCircles;if(C){var z=e.text.placedSymbolArray.get(g.horizontalPlacedTextSymbolIndex),P=t.evaluateSizeForFeature(e.textSizeData,p,z);w=this.collisionIndex.placeCollisionCircles(C,u.get("text-allow-overlap"),r,a,z,e.lineVertexArray,e.glyphOffsetArray,P,i,n,s,"map"===u.get("text-pitch-alignment"),f.predicate),v=u.get("text-allow-overlap")||w.circles.length>0,x=x&&w.offscreen;}I.iconFeatureIndex&&(S=I.iconFeatureIndex),I.iconBox&&(y=(E=this.collisionIndex.placeCollisionBox(I.iconBox,u.get("icon-allow-overlap"),a,i,f.predicate)).box.length>0,x=x&&E.offscreen);var R=d||0===g.numGlyphVertices&&0===g.numVerticalGlyphVertices,A=_||0===g.numIconVertices;R||A?A?R||(y=y&&v):v=y&&v:y=v=y&&v,v&&b&&this.collisionIndex.insertCollisionBox(b.box,u.get("text-ignore-placement"),e.bucketInstanceId,T,f.ID),y&&E&&this.collisionIndex.insertCollisionBox(E.box,u.get("icon-ignore-placement"),e.bucketInstanceId,S,f.ID),v&&w&&this.collisionIndex.insertCollisionCircles(w.circles,u.get("text-ignore-placement"),e.bucketInstanceId,T,f.ID),this.placements[g.crossTileID]=new be(v,y,x||e.justReloaded),c[g.crossTileID]=!0;}}e.justReloaded=!1;},Ee.prototype.commit=function(t,e){this.commitTime=e;var i=!1,n=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var r in this.placements){var a=this.placements[r],s=o[r];s?(this.opacities[r]=new xe(s,n,a.text,a.icon),i=i||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[r]=new xe(null,n,a.text,a.icon,a.skipFade),i=i||a.text||a.icon);}for(var l in o){var c=o[l];if(!this.opacities[l]){var h=new xe(c,n,!1,!1);h.isHidden()||(this.opacities[l]=h,i=i||c.text.placed||c.icon.placed);}}i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e);},Ee.prototype.updateLayerOpacities=function(t,e){for(var i={},n=0,o=e;n<o.length;n+=1){var r=o[n],a=r.getBucket(t);a&&r.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,i,r.collisionBoxArray);}},Ee.prototype.updateBucketOpacities=function(t,e,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();var n=t.layers[0].layout,o=new xe(null,0,!1,!1,!0),r=n.get("text-allow-overlap"),a=n.get("icon-allow-overlap"),s=new xe(null,0,r&&(a||!t.hasIconData()||n.get("icon-optional")),a&&(r||!t.hasTextData()||n.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasCollisionBoxData()||t.hasCollisionCircleData())&&t.deserializeCollisionBoxes(i);for(var l=0;l<t.symbolInstances.length;l++){var c=t.symbolInstances.get(l),h=e[c.crossTileID],u=this.opacities[c.crossTileID];h?u=o:u||(u=s,this.opacities[c.crossTileID]=u),e[c.crossTileID]=!0;var p=c.numGlyphVertices>0||c.numVerticalGlyphVertices>0,d=c.numIconVertices>0;if(p){for(var _=Le(u.text),f=(c.numGlyphVertices+c.numVerticalGlyphVertices)/4,m=0;m<f;m++)t.text.opacityVertexArray.emplaceBack(_);t.text.placedSymbolArray.get(c.horizontalPlacedTextSymbolIndex).hidden=u.text.isHidden(),c.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(c.verticalPlacedTextSymbolIndex).hidden=u.text.isHidden());}if(d){for(var g=Le(u.icon),v=0;v<c.numIconVertices/4;v++)t.icon.opacityVertexArray.emplaceBack(g);t.icon.placedSymbolArray.get(l).hidden=u.icon.isHidden();}if(t.hasCollisionBoxData()||t.hasCollisionCircleData()){var y=t.collisionArrays[l];if(y){y.textBox&&Te(t.collisionBox.collisionVertexArray,u.text.placed,!1),y.iconBox&&Te(t.collisionBox.collisionVertexArray,u.icon.placed,!1);var x=y.textCircles;if(x&&t.hasCollisionCircleData())for(var b=0;b<x.length;b+=5){var w=h||0===x[b+4];Te(t.collisionCircle.collisionVertexArray,u.text.placed,w);}}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray);},Ee.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Ee.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Ee.prototype.stillRecent=function(t){return "undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},Ee.prototype.setStale=function(){this.stale=!0;};var Se=Math.pow(2,25),Ie=Math.pow(2,24),Ce=Math.pow(2,17),ze=Math.pow(2,16),Pe=Math.pow(2,9),Re=Math.pow(2,8),Ae=Math.pow(2,1);function Le(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*Se+e*Ie+i*Ce+e*ze+i*Pe+e*Re+i*Ae+e}var De=function(){this._currentTileIndex=0,this._seenCrossTileIDs={};};De.prototype.continuePlacement=function(t,e,i,n,o){for(;this._currentTileIndex<t.length;){var r=t[this._currentTileIndex];if(e.placeLayerTile(n,r,i,this._seenCrossTileIDs),this._currentTileIndex++,o())return !0}};var Me=function(t,e,i,n,o,r){this.placement=new Ee(t,o,r),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1;};Me.prototype.isDone=function(){return this._done},Me.prototype.continuePlacement=function(e,i,n){for(var o=this,r=t.browser.now(),a=function(){var e=t.browser.now()-r;return !o._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=i[e[o._currentPlacementIndex]],l=o.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(o._inProgressLayer||(o._inProgressLayer=new De),o._inProgressLayer.continuePlacement(n[s.source],o.placement,o._showCollisionBoxes,s,a))return;delete o._inProgressLayer;}o._currentPlacementIndex--;}this._done=!0;},Me.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var ke=512/t.EXTENT/2,Be=function(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var n=0;n<e.length;n++){var o=e.get(n),r=o.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,t)});}};Be.prototype.getScaledCoordinates=function(e,i){var n=i.canonical.z-this.tileID.canonical.z,o=ke/Math.pow(2,n);return {x:Math.floor((i.canonical.x*t.EXTENT+e.anchorX)*o),y:Math.floor((i.canonical.y*t.EXTENT+e.anchorY)*o)}},Be.prototype.findMatches=function(t,e,i){for(var n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0;o<t.length;o++){var r=t.get(o);if(!r.crossTileID){var a=this.indexedSymbolInstances[r.key];if(a)for(var s=this.getScaledCoordinates(r,e),l=0,c=a;l<c.length;l+=1){var h=c[l];if(Math.abs(h.coord.x-s.x)<=n&&Math.abs(h.coord.y-s.y)<=n&&!i[h.crossTileID]){i[h.crossTileID]=!0,r.crossTileID=h.crossTileID;break}}}}};var Oe=function(){this.maxCrossTileID=0;};Oe.prototype.generate=function(){return ++this.maxCrossTileID};var Fe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0;};Fe.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var i in this.indexes){var n=this.indexes[i],o={};for(var r in n){var a=n[r];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),o[a.tileID.key]=a;}this.indexes[i]=o;}this.lng=t;},Fe.prototype.addBucket=function(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return !1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key]);}for(var n=0;n<e.symbolInstances.length;n++){e.symbolInstances.get(n).crossTileID=0;}this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var o=this.usedCrossTileIDs[t.overscaledZ];for(var r in this.indexes){var a=this.indexes[r];if(Number(r)>t.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,o);}else{var c=a[t.scaledTo(Number(r)).key];c&&c.findMatches(e.symbolInstances,t,o);}}for(var h=0;h<e.symbolInstances.length;h++){var u=e.symbolInstances.get(h);u.crossTileID||(u.crossTileID=i.generate(),o[u.crossTileID]=!0);}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Be(t,e.symbolInstances,e.bucketInstanceId),!0},Fe.prototype.removeBucketCrossTileIDs=function(t,e){for(var i in e.indexedSymbolInstances)for(var n=0,o=e.indexedSymbolInstances[i];n<o.length;n+=1){var r=o[n];delete this.usedCrossTileIDs[t][r.crossTileID];}},Fe.prototype.removeStaleBuckets=function(t){var e=!1;for(var i in this.indexes){var n=this.indexes[i];for(var o in n)t[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[o]),delete n[o],e=!0);}return e};var Ue=function(){this.layerIndexes={},this.crossTileIDs=new Oe,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={};};Ue.prototype.addLayer=function(t,e,i){var n=this.layerIndexes[t.id];void 0===n&&(n=this.layerIndexes[t.id]=new Fe);var o=!1,r={};n.handleWrapJump(i);for(var a=0,s=e;a<s.length;a+=1){var l=s[a],c=l.getBucket(t);c&&t.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,c,this.crossTileIDs)&&(o=!0),r[c.bucketInstanceId]=!0);}return n.removeStaleBuckets(r)&&(o=!0),o},Ue.prototype.pruneUnusedLayers=function(t){var e={};for(var i in t.forEach(function(t){e[t]=!0;}),this.layerIndexes)e[i]||delete this.layerIndexes[i];};var Ne=function(e,i){return t.emitValidationErrors(e,i&&i.filter(function(t){return "source.canvas"!==t.identifier}))},Ze=t.pick(Wt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),qe=t.pick(Wt,["setCenter","setZoom","setBearing","setPitch"]),Ve=function(e){function i(n,o){var r=this;void 0===o&&(o={}),e.call(this),this.map=n,this.dispatcher=new O((qt||(qt=new Vt),qt),this),this.imageManager=new I,this.glyphManager=new L(n._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new B(256,512),this.crossTileSymbolIndex=new Ue,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload();}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var n in r._layers){var o=r._layers[n];o.source===i.id&&r._validateLayer(o);}}}});}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof i.validate?i.validate:!_(e);e=function(t,e){if(!_(t))return t;var i=b(t);return i.path="/styles/v1"+i.path,d(i,e)}(e,i.accessToken);var r=this.map._transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(r,function(e,i){n._request=null,e?n.fire(new t.ErrorEvent(e)):i&&n._load(i,o);});},i.prototype.loadJSON=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame(function(){n._request=null,n._load(e,!1!==i.validate);});},i.prototype._load=function(e,i){var n=this;if(!i||!Ne(this,t.validateStyle(e))){for(var o in this._loaded=!0,this.stylesheet=e,e.sources)n.addSource(o,e.sources[o],{validate:!1});e.sprite?this._spriteRequest=function(e,i,n){var o,r,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(i(g(e,s,".json"),t.ResourceType.SpriteJSON),function(t,e){l=null,a||(a=t,o=e,h());}),c=t.getImage(i(g(e,s,".png"),t.ResourceType.SpriteImage),function(t,e){c=null,a||(a=t,r=e,h());});function h(){if(a)n(a);else if(o&&r){var e=t.browser.getImageData(r),i={};for(var s in o){var l=o[s],c=l.width,h=l.height,u=l.x,p=l.y,d=l.sdf,_=l.pixelRatio,f=new t.RGBAImage({width:c,height:h});t.RGBAImage.copy(e,f,{x:u,y:p},{x:0,y:0},{width:c,height:h}),i[s]={data:f,pixelRatio:_,sdf:d};}n(null,i);}}return {cancel:function(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null);}}}(e.sprite,this.map._transformRequest,function(e,i){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(i)for(var o in i)n.imageManager.addImage(o,i[o]);n.imageManager.setLoaded(!0),n.fire(new t.Event("data",{dataType:"style"}));}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var r=Gt(this.stylesheet.layers);this._order=r.map(function(t){return t.id}),this._layers={};for(var a=0,s=r;a<s.length;a+=1){var l=s[a];(l=t.createStyleLayer(l)).setEventedParent(n,{layer:{id:l.id}}),n._layers[l.id]=l;}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new k(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"));}},i.prototype._validateLayer=function(e){var i=this.sourceCaches[e.source];if(i){var n=e.sourceLayer;if(n){var o=i.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error(\'Source layer "\'+n+\'" does not exist on source "\'+o.id+\'" as specified by style layer "\'+e.id+\'"\')));}}},i.prototype.loaded=function(){if(!this._loaded)return !1;if(Object.keys(this._updatedSources).length)return !1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return !1;return !!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return !0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return !0;for(var e in this._layers)if(this._layers[e].hasTransition())return !0;return !1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){if(this._changed){var i=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var o in(i.length||n.length)&&this._updateWorkerLayers(i,n),this._updatedSources){var r=this._updatedSources[o];"reload"===r?this._reloadSource(o):"clear"===r&&this._clearSource(o);}for(var a in this._updatedPaintProps)this._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire(new t.Event("data",{dataType:"style"}));}for(var s in this.sourceCaches)this.sourceCaches[s].used=!1;for(var l=0,c=this._order;l<c.length;l+=1){var h=c[l],u=this._layers[h];u.recalculate(e),!u.isHidden(e.zoom)&&u.source&&(this.sourceCaches[u.source].used=!0);}this.light.recalculate(e),this.z=e.zoom;}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e});},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={};},i.prototype.setState=function(e){var i=this;if(this._checkLoaded(),Ne(this,t.validateStyle(e)))return !1;(e=t.clone(e)).layers=Gt(e.layers);var n=te(this.serialize(),e).filter(function(t){return !(t.command in qe)});if(0===n.length)return !1;var o=n.filter(function(t){return !(t.command in Ze)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&i[t.command].apply(i,t.args);}),this.stylesheet=e,!0},i.prototype.addImage=function(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this.fire(new t.Event("data",{dataType:"style"}));},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}));},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(e,i,n){var o=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(i).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(i.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,i,null,n)){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var r=this.sourceCaches[e]=new Ot(e,i,this.dispatcher);r.style=this,r.setEventedParent(this,function(){return {isSourceLoaded:o.loaded(),source:r.serialize(),sourceId:e}}),r.onAdd(this.map),this._changed=!0;}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var i in this._layers)if(this._layers[i].source===e)return this.fire(new t.ErrorEvent(new Error(\'Source "\'+e+\'" cannot be removed while layer "\'+i+\'" is using it.\')));var n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0;},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0;},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,i,n){this._checkLoaded();var o=e.id;if(this.getLayer(o))this.fire(new t.ErrorEvent(new Error(\'Layer with id "\'+o+\'" already exists on this map\')));else if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone(e),e=t.extend(e,{source:o})),!this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},n)){var r=t.createStyleLayer(e);this._validateLayer(r),r.setEventedParent(this,{layer:{id:o}});var a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)this.fire(new t.ErrorEvent(new Error(\'Layer with id "\'+i+\'" does not exist on this map.\')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=r,this._removedLayers[o]&&r.source){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==r.type?this._updatedSources[r.source]="clear":(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause());}this._updateLayer(r);}}},i.prototype.moveLayer=function(e,i){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==i){var n=this._order.indexOf(e);this._order.splice(n,1);var o=i?this._order.indexOf(i):this._order.length;i&&-1===o?this.fire(new t.ErrorEvent(new Error(\'Layer with id "\'+i+\'" does not exist on this map.\'))):(this._order.splice(o,0,e),this._layerOrderChanged=!0);}}else this.fire(new t.ErrorEvent(new Error("The layer \'"+e+"\' does not exist in the map\'s style and cannot be moved.")));},i.prototype.removeLayer=function(e){this._checkLoaded();var i=this._layers[e];if(i){i.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e];}else this.fire(new t.ErrorEvent(new Error("The layer \'"+e+"\' does not exist in the map\'s style and cannot be removed.")));},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?o.minzoom===i&&o.maxzoom===n||(null!=i&&(o.minzoom=i),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer \'"+e+"\' does not exist in the map\'s style and cannot have zoom extent.")));},i.prototype.setFilter=function(e,i){this._checkLoaded();var n=this.getLayer(e);if(n){if(!t.deepEqual(n.filter,i))return null==i?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(t.validateStyle.filter,"layers."+n.id+".filter",i)||(n.filter=t.clone(i),this._updateLayer(n)))}else this.fire(new t.ErrorEvent(new Error("The layer \'"+e+"\' does not exist in the map\'s style and cannot be filtered.")));},i.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(i),n)||(o.setLayoutProperty(i,n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer \'"+e+"\' does not exist in the map\'s style and cannot be styled.")));},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(i),n)||(o.setPaintProperty(i,n)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer \'"+e+"\' does not exist in the map\'s style and cannot be styled.")));},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.setFeatureState=function(e,i){this._checkLoaded();var n=e.source,o=e.sourceLayer,r=this.sourceCaches[n],a=parseInt(e.id,10);void 0!==r?"vector"!==r.getSource().type||o?isNaN(a)||a<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):r.setFeatureState(o,a,i):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))):this.fire(new t.ErrorEvent(new Error("The source \'"+n+"\' does not exist in the map\'s style.")));},i.prototype.getFeatureState=function(e){this._checkLoaded();var i=e.source,n=e.sourceLayer,o=this.sourceCaches[i],r=parseInt(e.id,10);if(void 0!==o)if("vector"!==o.getSource().type||n){if(!(isNaN(r)||r<0))return o.getFeatureState(n,r);this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")));}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new t.ErrorEvent(new Error("The source \'"+i+"\' does not exist in the map\'s style.")));},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var e=this;return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(t){return void 0!==t})},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0;},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],i=this._order.length-1;i>=0;i--)for(var n=this._order[i],o=0,r=t;o<r.length;o+=1){var a=r[o][n];if(a)for(var s=0,l=a;s<l.length;s+=1){var c=l[s];e.push(c);}}return e},i.prototype.queryRenderedFeatures=function(e,i,n){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter);var o={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var r=0,a=i.layers;r<a.length;r+=1){var s=a[r],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer \'"+s+"\' does not exist in the map\'s style and cannot be queried for features."))),[];o[l.source]=!0;}}var c=[],h=e.map(function(t){return n.pointCoordinate(t)});for(var u in this.sourceCaches)i.layers&&!o[u]||c.push(J(this.sourceCaches[u],this._layers,h,i,n));return this.placement&&c.push(function(t,e,i,n,o,r){for(var a={},s=o.queryRenderedSymbols(i),l=[],c=0,h=Object.keys(s).map(Number);c<h.length;c+=1){var u=h[c];l.push(r[u]);}l.sort(Q);for(var p=function(){var e=_[d],i=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,n.filter,n.layers,t);for(var o in i){var r=a[o]=a[o]||[],l=i[o];l.sort(function(t,i){var n=e.featureSortOrder;if(n){var o=n.indexOf(t.featureIndex);return n.indexOf(i.featureIndex)-o}return i.featureIndex-t.featureIndex});for(var c=0,h=l;c<h.length;c+=1){var u=h[c];r.push(u.feature);}}},d=0,_=l;d<_.length;d+=1)p();var f=function(i){a[i].forEach(function(n){var o=t[i],r=e[o.source].getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r;});};for(var m in a)f(m);return a}(this._layers,this.sourceCaches,e,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(c)},i.prototype.querySourceFeatures=function(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter);var n=this.sourceCaches[e];return n?function(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],o={},r=0;r<i.length;r++){var a=i[r],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,e));}return n}(n,i):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error(\'A source type called "\'+t+\'" already exists.\')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var i=this.light.getLight(),n=!1;for(var o in e)if(!t.deepEqual(e[o],i[o])){n=!0;break}if(n){var r={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(r);}},i.prototype._validate=function(e,i,n,o,r){return (!r||!1!==r.validate)&&Ne(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:n,styleSpec:t.styleSpec},o)))},i.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove();},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles();},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload();},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t);},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t);},i.prototype._updatePlacement=function(e,i,n,o){for(var r=!1,a=!1,s={},l=0,c=this._order;l<c.length;l+=1){var h=c[l],u=this._layers[h];if("symbol"===u.type){if(!s[u.source]){var p=this.sourceCaches[u.source];s[u.source]=p.getRenderableIds(!0).map(function(t){return p.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)});}var d=this.crossTileSymbolIndex.addLayer(u,s[u.source],e.center.lng);r=r||d;}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var _=this._layerOrderChanged;if((_||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now()))&&(this.pauseablePlacement=new Me(e,this._order,_,i,n,o),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,t.browser.now()),a=!0),r&&this.pauseablePlacement.placement.setStale()),a||r)for(var f=0,m=this._order;f<m.length;f+=1){var g=m[f],v=this._layers[g];"symbol"===v.type&&this.placement.updateLayerOpacities(v,s[v.source]);}return !this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles();},i.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i);},i.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i);},i}(t.Evented);Ve.getSourceType=function(t){return K[t]},Ve.setSourceType=function(t,e){K[t]=e;},Ve.registerForPluginAvailability=t.registerForPluginAvailability;var je=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ge={prelude:{fragmentSource:"#ifdef GL_ES\\nprecision mediump float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\\n",vertexSource:"#ifdef GL_ES\\nprecision highp float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\\n\\n// Unpack a pair of values that have been packed into a single float.\\n// The packed values are assumed to be 8-bit unsigned integers, and are\\n// packed like so:\\n// packedValue = floor(input[0]) * 256 + input[1],\\nvec2 unpack_float(const float packedValue) {\\n    int packedIntValue = int(packedValue);\\n    int v0 = packedIntValue / 256;\\n    return vec2(v0, packedIntValue - v0 * 256);\\n}\\n\\nvec2 unpack_opacity(const float packedOpacity) {\\n    int intOpacity = int(packedOpacity) / 2;\\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\\n}\\n\\n// To minimize the number of attributes needed, we encode a 4-component\\n// color into a pair of floats (i.e. a vec2) as follows:\\n// [ floor(color.r * 255) * 256 + color.g * 255,\\n//   floor(color.b * 255) * 256 + color.g * 255 ]\\nvec4 decode_color(const vec2 encodedColor) {\\n    return vec4(\\n        unpack_float(encodedColor[0]) / 255.0,\\n        unpack_float(encodedColor[1]) / 255.0\\n    );\\n}\\n\\n// Unpack a pair of paint values and interpolate between them.\\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\\n    return mix(packedValue[0], packedValue[1], t);\\n}\\n\\n// Unpack a pair of paint values and interpolate between them.\\nvec4 unpack_mix_color(const vec4 packedColors, const float t) {\\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\\n    return mix(minColor, maxColor, t);\\n}\\n\\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\\n// vec2 offset = mod(pixel_coord, size)\\n//\\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\\n//\\n// The pixel_coord is passed in as two 16 bit values:\\n// pixel_coord_upper = floor(pixel_coord / 2^16)\\n// pixel_coord_lower = mod(pixel_coord, 2^16)\\n//\\n// The offset is calculated in a series of steps that should preserve this precision:\\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\\n\\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\\n}\\n"},background:{fragmentSource:"uniform vec4 u_color;\\nuniform float u_opacity;\\n\\nvoid main() {\\n    gl_FragColor = u_color * u_opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"attribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n}\\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\\nuniform vec2 u_pattern_br_a;\\nuniform vec2 u_pattern_tl_b;\\nuniform vec2 u_pattern_br_b;\\nuniform vec2 u_texsize;\\nuniform float u_mix;\\nuniform float u_opacity;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\n\\nvoid main() {\\n    vec2 imagecoord = mod(v_pos_a, 1.0);\\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\\n    vec4 color1 = texture2D(u_image, pos);\\n\\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\\n    vec4 color2 = texture2D(u_image, pos2);\\n\\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform vec2 u_pattern_size_a;\\nuniform vec2 u_pattern_size_b;\\nuniform vec2 u_pixel_coord_upper;\\nuniform vec2 u_pixel_coord_lower;\\nuniform float u_scale_a;\\nuniform float u_scale_b;\\nuniform float u_tile_units_to_pixels;\\n\\nattribute vec2 a_pos;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n\\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\\n}\\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\n\\nvarying vec3 v_data;\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 color\\n    #pragma mapbox: initialize mediump float radius\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize highp vec4 stroke_color\\n    #pragma mapbox: initialize mediump float stroke_width\\n    #pragma mapbox: initialize lowp float stroke_opacity\\n\\n    vec2 extrude = v_data.xy;\\n    float extrude_length = length(extrude);\\n\\n    lowp float antialiasblur = v_data.z;\\n    float antialiased_blur = -max(blur, antialiasblur);\\n\\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\\n\\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\\n        antialiased_blur,\\n        0.0,\\n        extrude_length - radius / (radius + stroke_width)\\n    );\\n\\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform bool u_scale_with_map;\\nuniform bool u_pitch_with_map;\\nuniform vec2 u_extrude_scale;\\nuniform highp float u_camera_to_center_distance;\\n\\nattribute vec2 a_pos;\\n\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\n\\nvarying vec3 v_data;\\n\\nvoid main(void) {\\n    #pragma mapbox: initialize highp vec4 color\\n    #pragma mapbox: initialize mediump float radius\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize highp vec4 stroke_color\\n    #pragma mapbox: initialize mediump float stroke_width\\n    #pragma mapbox: initialize lowp float stroke_opacity\\n\\n    // unencode the extrusion vector that we snuck into the a_pos vector\\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\\n\\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\\n    // in extrusion data\\n    vec2 circle_center = floor(a_pos * 0.5);\\n    if (u_pitch_with_map) {\\n        vec2 corner_position = circle_center;\\n        if (u_scale_with_map) {\\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\\n        } else {\\n            // Pitching the circle with the map effectively scales it with the map\\n            // To counteract the effect for pitch-scale: viewport, we rescale the\\n            // whole circle based on the pitch scaling effect at its central point\\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\\n        }\\n\\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\\n    } else {\\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\\n\\n        if (u_scale_with_map) {\\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\\n        } else {\\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\\n        }\\n    }\\n\\n    // This is a minimum blur distance that serves as a faux-antialiasing for\\n    // the circle. since blur is a ratio of the circle\'s size and the intent is\\n    // to keep the blur at roughly 1px, the two are inversely related.\\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\\n\\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\\n}\\n"},clippingMask:{fragmentSource:"void main() {\\n    gl_FragColor = vec4(1.0);\\n}\\n",vertexSource:"attribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n}\\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\\n\\nuniform highp float u_intensity;\\nvarying vec2 v_extrude;\\n\\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\\n#define GAUSS_COEF 0.3989422804014327\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp float weight\\n\\n    // Kernel density estimation with a Gaussian kernel of size 5x5\\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\\n\\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"#pragma mapbox: define highp float weight\\n#pragma mapbox: define mediump float radius\\n\\nuniform mat4 u_matrix;\\nuniform float u_extrude_scale;\\nuniform float u_opacity;\\nuniform float u_intensity;\\n\\nattribute vec2 a_pos;\\n\\nvarying vec2 v_extrude;\\n\\n// Effective \\"0\\" in the kernel density texture to adjust the kernel size to;\\n// this empirically chosen number minimizes artifacts on overlapping kernels\\n// for typical heatmap cases (assuming clustered source)\\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\\n\\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\\n#define GAUSS_COEF 0.3989422804014327\\n\\nvoid main(void) {\\n    #pragma mapbox: initialize highp float weight\\n    #pragma mapbox: initialize mediump float radius\\n\\n    // unencode the extrusion vector that we snuck into the a_pos vector\\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\\n\\n    // This \'extrude\' comes in ranging from [-1, -1], to [1, 1].  We\'ll use\\n    // it to produce the vertices of a square mesh framing the point feature\\n    // we\'re adding to the kernel density texture.  We\'ll also pass it as\\n    // a varying, so that the fragment shader can determine the distance of\\n    // each fragment from the point feature.\\n    // Before we do so, we need to scale it up sufficiently so that the\\n    // kernel falls effectively to zero at the edge of the mesh.\\n    // That is, we want to know S such that\\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\\n    // Which solves to:\\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\\n\\n    // Pass the varying in units of radius\\n    v_extrude = S * unscaled_extrude;\\n\\n    // Scale by radius and the zoom-based scale factor to produce actual\\n    // mesh position\\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\\n\\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\\n    // in extrusion data\\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\\n\\n    gl_Position = u_matrix * pos;\\n}\\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\\nuniform sampler2D u_color_ramp;\\nuniform float u_opacity;\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    float t = texture2D(u_image, v_pos).r;\\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\\n    gl_FragColor = color * u_opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(0.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform vec2 u_world;\\nattribute vec2 a_pos;\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\\n\\n    v_pos.x = a_pos.x;\\n    v_pos.y = 1.0 - a_pos.y;\\n}\\n"},collisionBox:{fragmentSource:"\\nvarying float v_placed;\\nvarying float v_notUsed;\\n\\nvoid main() {\\n\\n    float alpha = 0.5;\\n\\n    // Red = collision, hide label\\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\\n\\n    // Blue = no collision, label is showing\\n    if (v_placed > 0.5) {\\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\\n    }\\n\\n    if (v_notUsed > 0.5) {\\n        // This box not used, fade it out\\n        gl_FragColor *= .1;\\n    }\\n}",vertexSource:"attribute vec2 a_pos;\\nattribute vec2 a_anchor_pos;\\nattribute vec2 a_extrude;\\nattribute vec2 a_placed;\\n\\nuniform mat4 u_matrix;\\nuniform vec2 u_extrude_scale;\\nuniform float u_camera_to_center_distance;\\n\\nvarying float v_placed;\\nvarying float v_notUsed;\\n\\nvoid main() {\\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\\n    highp float camera_to_anchor_distance = projectedPoint.w;\\n    highp float collision_perspective_ratio = clamp(\\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\\n        4.0);\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\\n\\n    v_placed = a_placed.x;\\n    v_notUsed = a_placed.y;\\n}\\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\\n\\nvarying float v_placed;\\nvarying float v_notUsed;\\nvarying float v_radius;\\nvarying vec2 v_extrude;\\nvarying vec2 v_extrude_scale;\\n\\nvoid main() {\\n    float alpha = 0.5;\\n\\n    // Red = collision, hide label\\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\\n\\n    // Blue = no collision, label is showing\\n    if (v_placed > 0.5) {\\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\\n    }\\n\\n    if (v_notUsed > 0.5) {\\n        // This box not used, fade it out\\n        color *= .2;\\n    }\\n\\n    float extrude_scale_length = length(v_extrude_scale);\\n    float extrude_length = length(v_extrude) * extrude_scale_length;\\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\\n    float radius = v_radius * extrude_scale_length;\\n\\n    float distance_to_edge = abs(extrude_length - radius);\\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\\n\\n    gl_FragColor = opacity_t * color;\\n}\\n",vertexSource:"attribute vec2 a_pos;\\nattribute vec2 a_anchor_pos;\\nattribute vec2 a_extrude;\\nattribute vec2 a_placed;\\n\\nuniform mat4 u_matrix;\\nuniform vec2 u_extrude_scale;\\nuniform float u_camera_to_center_distance;\\n\\nvarying float v_placed;\\nvarying float v_notUsed;\\nvarying float v_radius;\\n\\nvarying vec2 v_extrude;\\nvarying vec2 v_extrude_scale;\\n\\nvoid main() {\\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\\n    highp float camera_to_anchor_distance = projectedPoint.w;\\n    highp float collision_perspective_ratio = clamp(\\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\\n        4.0);\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\\n\\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\\n\\n    v_placed = a_placed.x;\\n    v_notUsed = a_placed.y;\\n    v_radius = abs(a_extrude.y); // We don\'t pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\\n\\n    v_extrude = a_extrude * padding_factor;\\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\\n}\\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\\n\\nvoid main() {\\n    gl_FragColor = u_color;\\n}\\n",vertexSource:"attribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n}\\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 color\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    gl_FragColor = color * opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"attribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\n\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 color\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n}\\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\n\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 outline_color\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    float dist = length(v_pos - gl_FragCoord.xy);\\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\\n    gl_FragColor = outline_color * (alpha * opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"attribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\nuniform vec2 u_world;\\n\\nvarying vec2 v_pos;\\n\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 outline_color\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\\n}\\n"},fillOutlinePattern:{fragmentSource:"\\nuniform vec2 u_texsize;\\nuniform sampler2D u_image;\\nuniform float u_fade;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\nvarying vec2 v_pos;\\n\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump vec4 pattern_from\\n    #pragma mapbox: initialize mediump vec4 pattern_to\\n\\n    vec2 pattern_tl_a = pattern_from.xy;\\n    vec2 pattern_br_a = pattern_from.zw;\\n    vec2 pattern_tl_b = pattern_to.xy;\\n    vec2 pattern_br_b = pattern_to.zw;\\n\\n    vec2 imagecoord = mod(v_pos_a, 1.0);\\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\\n    vec4 color1 = texture2D(u_image, pos);\\n\\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\\n    vec4 color2 = texture2D(u_image, pos2);\\n\\n    // find distance to outline for alpha interpolation\\n\\n    float dist = length(v_pos - gl_FragCoord.xy);\\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\\n\\n\\n    gl_FragColor = mix(color1, color2, u_fade) * alpha * opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform vec2 u_world;\\nuniform vec2 u_pixel_coord_upper;\\nuniform vec2 u_pixel_coord_lower;\\nuniform vec4 u_scale;\\n\\nattribute vec2 a_pos;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\nvarying vec2 v_pos;\\n\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump vec4 pattern_from\\n    #pragma mapbox: initialize mediump vec4 pattern_to\\n\\n    vec2 pattern_tl_a = pattern_from.xy;\\n    vec2 pattern_br_a = pattern_from.zw;\\n    vec2 pattern_tl_b = pattern_to.xy;\\n    vec2 pattern_br_b = pattern_to.zw;\\n\\n    float pixelRatio = u_scale.x;\\n    float tileRatio = u_scale.y;\\n    float fromScale = u_scale.z;\\n    float toScale = u_scale.w;\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n\\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\\n\\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileRatio, a_pos);\\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileRatio, a_pos);\\n\\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\\n}\\n"},fillPattern:{fragmentSource:"uniform vec2 u_texsize;\\nuniform float u_fade;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\n\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump vec4 pattern_from\\n    #pragma mapbox: initialize mediump vec4 pattern_to\\n\\n    vec2 pattern_tl_a = pattern_from.xy;\\n    vec2 pattern_br_a = pattern_from.zw;\\n    vec2 pattern_tl_b = pattern_to.xy;\\n    vec2 pattern_br_b = pattern_to.zw;\\n\\n    vec2 imagecoord = mod(v_pos_a, 1.0);\\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\\n    vec4 color1 = texture2D(u_image, pos);\\n\\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\\n    vec4 color2 = texture2D(u_image, pos2);\\n\\n    gl_FragColor = mix(color1, color2, u_fade) * opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform vec2 u_pixel_coord_upper;\\nuniform vec2 u_pixel_coord_lower;\\nuniform vec4 u_scale;\\n\\nattribute vec2 a_pos;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\n\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump vec4 pattern_from\\n    #pragma mapbox: initialize mediump vec4 pattern_to\\n\\n    vec2 pattern_tl_a = pattern_from.xy;\\n    vec2 pattern_br_a = pattern_from.zw;\\n    vec2 pattern_tl_b = pattern_to.xy;\\n    vec2 pattern_br_b = pattern_to.zw;\\n\\n    float pixelRatio = u_scale.x;\\n    float tileZoomRatio = u_scale.y;\\n    float fromScale = u_scale.z;\\n    float toScale = u_scale.w;\\n\\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n\\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileZoomRatio, a_pos);\\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileZoomRatio, a_pos);\\n}\\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n#pragma mapbox: define highp vec4 color\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float base\\n    #pragma mapbox: initialize lowp float height\\n    #pragma mapbox: initialize highp vec4 color\\n\\n    gl_FragColor = v_color;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform vec3 u_lightcolor;\\nuniform lowp vec3 u_lightpos;\\nuniform lowp float u_lightintensity;\\n\\nattribute vec2 a_pos;\\nattribute vec4 a_normal_ed;\\n\\nvarying vec4 v_color;\\n\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n\\n#pragma mapbox: define highp vec4 color\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float base\\n    #pragma mapbox: initialize lowp float height\\n    #pragma mapbox: initialize highp vec4 color\\n\\n    vec3 normal = a_normal_ed.xyz;\\n\\n    base = max(0.0, base);\\n    height = max(0.0, height);\\n\\n    float t = mod(normal.x, 2.0);\\n\\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\\n\\n    // Relative luminance (how dark/bright is the surface color?)\\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\\n\\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\\n\\n    // Add slight ambient lighting so no extrusions are totally black\\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\\n    color += ambientlight;\\n\\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\\n\\n    // Adjust directional so that\\n    // the range of values for highlight/shading is narrower\\n    // with lower light intensity\\n    // and with lighter/brighter surface colors\\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\\n\\n    // Add gradient along z axis of side surfaces\\n    if (normal.y != 0.0) {\\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\\n    }\\n\\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\\n    // with lower bounds adjusted to hue of light\\n    // so that shading is tinted with the complementary (opposite) color to the light color\\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\\n}\\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_texsize;\\nuniform float u_fade;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\nvarying vec4 v_lighting;\\n\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float base\\n    #pragma mapbox: initialize lowp float height\\n    #pragma mapbox: initialize mediump vec4 pattern_from\\n    #pragma mapbox: initialize mediump vec4 pattern_to\\n\\n    vec2 pattern_tl_a = pattern_from.xy;\\n    vec2 pattern_br_a = pattern_from.zw;\\n    vec2 pattern_tl_b = pattern_to.xy;\\n    vec2 pattern_br_b = pattern_to.zw;\\n\\n    vec2 imagecoord = mod(v_pos_a, 1.0);\\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\\n    vec4 color1 = texture2D(u_image, pos);\\n\\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\\n    vec4 color2 = texture2D(u_image, pos2);\\n\\n    vec4 mixedColor = mix(color1, color2, u_fade);\\n\\n    gl_FragColor = mixedColor * v_lighting;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform vec2 u_pixel_coord_upper;\\nuniform vec2 u_pixel_coord_lower;\\nuniform float u_height_factor;\\nuniform vec4 u_scale;\\n\\nuniform vec3 u_lightcolor;\\nuniform lowp vec3 u_lightpos;\\nuniform lowp float u_lightintensity;\\n\\nattribute vec2 a_pos;\\nattribute vec4 a_normal_ed;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\nvarying vec4 v_lighting;\\n\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float base\\n    #pragma mapbox: initialize lowp float height\\n    #pragma mapbox: initialize mediump vec4 pattern_from\\n    #pragma mapbox: initialize mediump vec4 pattern_to\\n\\n    vec2 pattern_tl_a = pattern_from.xy;\\n    vec2 pattern_br_a = pattern_from.zw;\\n    vec2 pattern_tl_b = pattern_to.xy;\\n    vec2 pattern_br_b = pattern_to.zw;\\n\\n    float pixelRatio = u_scale.x;\\n    float tileRatio = u_scale.y;\\n    float fromScale = u_scale.z;\\n    float toScale = u_scale.w;\\n\\n    vec3 normal = a_normal_ed.xyz;\\n    float edgedistance = a_normal_ed.w;\\n\\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\\n\\n    base = max(0.0, base);\\n    height = max(0.0, height);\\n\\n    float t = mod(normal.x, 2.0);\\n    float z = t > 0.0 ? height : base;\\n\\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\\n\\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\\n        ? a_pos // extrusion top\\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\\n\\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileRatio, pos);\\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileRatio, pos);\\n\\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\\n\\n    if (normal.y != 0.0) {\\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\\n    }\\n\\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\\n}\\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\\nuniform float u_opacity;\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(0.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform vec2 u_world;\\nattribute vec2 a_pos;\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\\n\\n    v_pos.x = a_pos.x;\\n    v_pos.y = 1.0 - a_pos.y;\\n}\\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\\nprecision highp float;\\n#endif\\n\\nuniform sampler2D u_image;\\nvarying vec2 v_pos;\\nuniform vec2 u_dimension;\\nuniform float u_zoom;\\nuniform float u_maxzoom;\\n\\nfloat getElevation(vec2 coord, float bias) {\\n    // Convert encoded elevation value to meters\\n    vec4 data = texture2D(u_image, coord) * 255.0;\\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\\n}\\n\\nvoid main() {\\n    vec2 epsilon = 1.0 / u_dimension;\\n\\n    // queried pixels:\\n    // +-----------+\\n    // |   |   |   |\\n    // | a | b | c |\\n    // |   |   |   |\\n    // +-----------+\\n    // |   |   |   |\\n    // | d | e | f |\\n    // |   |   |   |\\n    // +-----------+\\n    // |   |   |   |\\n    // | g | h | i |\\n    // |   |   |   |\\n    // +-----------+\\n\\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\\n    float e = getElevation(v_pos, 0.0);\\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\\n\\n    // here we divide the x and y slopes by 8 * pixel size\\n    // where pixel size (aka meters/pixel) is:\\n    // circumference of the world / (pixels per tile * number of tiles)\\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\\n    // we want to vertically exaggerate the hillshading though, because otherwise\\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\\n    // Here we use a=0.3 which works out to the expression below. see \\n    // nickidlugash\'s awesome breakdown for more info\\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\\n\\n    vec2 deriv = vec2(\\n        (c + f + f + i) - (a + d + d + g),\\n        (g + h + h + i) - (a + b + b + c)\\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\\n\\n    gl_FragColor = clamp(vec4(\\n        deriv.x / 2.0 + 0.5,\\n        deriv.y / 2.0 + 0.5,\\n        1.0,\\n        1.0), 0.0, 1.0);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\n\\nattribute vec2 a_pos;\\nattribute vec2 a_texture_pos;\\n\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\\n}\\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\\nvarying vec2 v_pos;\\n\\nuniform vec2 u_latrange;\\nuniform vec2 u_light;\\nuniform vec4 u_shadow;\\nuniform vec4 u_highlight;\\nuniform vec4 u_accent;\\n\\n#define PI 3.141592653589793\\n\\nvoid main() {\\n    vec4 pixel = texture2D(u_image, v_pos);\\n\\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\\n\\n    // We divide the slope by a scale factor based on the cosin of the pixel\'s approximate latitude\\n    // to account for mercator projection distortion. see #4807 for details\\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\\n    // We also multiply the slope by an arbitrary z-factor of 1.25\\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\\n\\n    float intensity = u_light.x;\\n    // We add PI to make this property match the global light object, which adds PI/2 to the light\'s azimuthal\\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\\n    float azimuth = u_light.y + PI;\\n\\n    // We scale the slope exponentially based on intensity, using a calculation similar to\\n    // the exponential interpolation function in the style spec:\\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\\n    // so that higher intensity values create more opaque hillshading.\\n    float base = 1.875 - intensity * 1.75;\\n    float maxValue = 0.5 * PI;\\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\\n\\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\\n    // so that the accent color\'s rate of change eases in while the shade color\'s eases out.\\n    float accent = cos(scaledSlope);\\n    // We multiply both the accent and shade color by a clamped intensity value\\n    // so that intensities >= 0.5 do not additionally affect the color values\\n    // while intensity values < 0.5 make the overall color more transparent.\\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\n\\nattribute vec2 a_pos;\\nattribute vec2 a_texture_pos;\\n\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    v_pos = a_texture_pos / 8192.0;\\n}\\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n\\nvarying vec2 v_width2;\\nvarying vec2 v_normal;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 color\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * v_width2.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_width2.t) or when fading out\\n    // (v_width2.s)\\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\\n\\n    gl_FragColor = color * (alpha * opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"\\n\\n// the distance over which the line edge fades out.\\n// Retina devices need a smaller distance to avoid aliasing.\\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\\n\\n// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\"special\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\nattribute vec4 a_pos_normal;\\nattribute vec4 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform mediump float u_ratio;\\nuniform vec2 u_gl_units_to_pixels;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying float v_gamma_scale;\\nvarying highp float v_linesofar;\\n\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float width\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 color\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump float gapwidth\\n    #pragma mapbox: initialize lowp float offset\\n    #pragma mapbox: initialize mediump float width\\n\\n    vec2 a_extrude = a_data.xy - 128.0;\\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\\n\\n    v_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0;\\n\\n    vec2 pos = a_pos_normal.xy;\\n\\n    // x is 1 if it\'s a round cap, 0 otherwise\\n    // y is 1 if the normal points up, and -1 if it points down\\n    mediump vec2 normal = a_pos_normal.zw;\\n    v_normal = normal;\\n\\n    // these transformations used to be applied in the JS and native code bases.\\n    // moved them into the shader for clarity and simplicity.\\n    gapwidth = gapwidth / 2.0;\\n    float halfwidth = width / 2.0;\\n    offset = -1.0 * offset;\\n\\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    mediump vec2 dist = outset * a_extrude * scale;\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we\'re drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    mediump float u = 0.5 * a_direction;\\n    mediump float t = 1.0 - abs(u);\\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\\n\\n    // calculate how much the perspective view squishes or stretches the extrude\\n    float extrude_length_without_perspective = length(dist);\\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\\n\\n    v_width2 = vec2(outset, inset);\\n}\\n"},lineGradient:{fragmentSource:"\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_width2;\\nvarying vec2 v_normal;\\nvarying float v_gamma_scale;\\nvarying highp float v_lineprogress;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * v_width2.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_width2.t) or when fading out\\n    // (v_width2.s)\\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\\n\\n    // For gradient lines, v_lineprogress is the ratio along the entire line,\\n    // scaled to [0, 2^15), and the gradient ramp is stored in a texture.\\n    vec4 color = texture2D(u_image, vec2(v_lineprogress, 0.5));\\n\\n    gl_FragColor = color * (alpha * opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"\\n// the attribute conveying progress along a line is scaled to [0, 2^15)\\n#define MAX_LINE_DISTANCE 32767.0\\n\\n// the distance over which the line edge fades out.\\n// Retina devices need a smaller distance to avoid aliasing.\\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\\n\\n// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\"special\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\nattribute vec4 a_pos_normal;\\nattribute vec4 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform mediump float u_ratio;\\nuniform vec2 u_gl_units_to_pixels;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying float v_gamma_scale;\\nvarying highp float v_lineprogress;\\n\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float width\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump float gapwidth\\n    #pragma mapbox: initialize lowp float offset\\n    #pragma mapbox: initialize mediump float width\\n\\n    vec2 a_extrude = a_data.xy - 128.0;\\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\\n\\n    v_lineprogress = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0 / MAX_LINE_DISTANCE;\\n\\n    vec2 pos = a_pos_normal.xy;\\n\\n    // x is 1 if it\'s a round cap, 0 otherwise\\n    // y is 1 if the normal points up, and -1 if it points down\\n    mediump vec2 normal = a_pos_normal.zw;\\n    v_normal = normal;\\n\\n    // these transformations used to be applied in the JS and native code bases.\\n    // moved them into the shader for clarity and simplicity.\\n    gapwidth = gapwidth / 2.0;\\n    float halfwidth = width / 2.0;\\n    offset = -1.0 * offset;\\n\\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    mediump vec2 dist = outset * a_extrude * scale;\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we\'re drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    mediump float u = 0.5 * a_direction;\\n    mediump float t = 1.0 - abs(u);\\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\\n\\n    // calculate how much the perspective view squishes or stretches the extrude\\n    float extrude_length_without_perspective = length(dist);\\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\\n\\n    v_width2 = vec2(outset, inset);\\n}\\n"},linePattern:{fragmentSource:"uniform vec2 u_texsize;\\nuniform float u_fade;\\nuniform mediump vec4 u_scale;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying float v_linesofar;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize mediump vec4 pattern_from\\n    #pragma mapbox: initialize mediump vec4 pattern_to\\n\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    vec2 pattern_tl_a = pattern_from.xy;\\n    vec2 pattern_br_a = pattern_from.zw;\\n    vec2 pattern_tl_b = pattern_to.xy;\\n    vec2 pattern_br_b = pattern_to.zw;\\n\\n    float pixelRatio = u_scale.x;\\n    float tileZoomRatio = u_scale.y;\\n    float fromScale = u_scale.z;\\n    float toScale = u_scale.w;\\n\\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\\n\\n    vec2 pattern_size_a = vec2(display_size_a.x * fromScale / tileZoomRatio, display_size_a.y);\\n    vec2 pattern_size_b = vec2(display_size_b.x * toScale / tileZoomRatio, display_size_b.y);\\n\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * v_width2.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_width2.t) or when fading out\\n    // (v_width2.s)\\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\\n\\n    float x_a = mod(v_linesofar / pattern_size_a.x, 1.0);\\n    float x_b = mod(v_linesofar / pattern_size_b.x, 1.0);\\n\\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\\n    // to ensure we don\'t sample outside the designated symbol on the sprite sheet.\\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\\n    // the texture coordinate\\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (pattern_size_a.y + 2.0) / 2.0) / pattern_size_a.y);\\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (pattern_size_b.y + 2.0) / 2.0) / pattern_size_b.y);\\n    vec2 pos_a = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, vec2(x_a, y_a));\\n    vec2 pos_b = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, vec2(x_b, y_b));\\n\\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\\n\\n    gl_FragColor = color * alpha * opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\"special\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\n// We scale the distance before adding it to the buffers so that we can store\\n// long distances for long segments. Use this value to unscale the distance.\\n#define LINE_DISTANCE_SCALE 2.0\\n\\n// the distance over which the line edge fades out.\\n// Retina devices need a smaller distance to avoid aliasing.\\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\\n\\nattribute vec4 a_pos_normal;\\nattribute vec4 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform vec2 u_gl_units_to_pixels;\\nuniform mediump float u_ratio;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying float v_linesofar;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize lowp float offset\\n    #pragma mapbox: initialize mediump float gapwidth\\n    #pragma mapbox: initialize mediump float width\\n    #pragma mapbox: initialize mediump vec4 pattern_from\\n    #pragma mapbox: initialize mediump vec4 pattern_to\\n\\n    vec2 a_extrude = a_data.xy - 128.0;\\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\\n    // float tileRatio = u_scale.y;\\n    vec2 pos = a_pos_normal.xy;\\n\\n    // x is 1 if it\'s a round cap, 0 otherwise\\n    // y is 1 if the normal points up, and -1 if it points down\\n    mediump vec2 normal = a_pos_normal.zw;\\n    v_normal = normal;\\n\\n    // these transformations used to be applied in the JS and native code bases.\\n    // moved them into the shader for clarity and simplicity.\\n    gapwidth = gapwidth / 2.0;\\n    float halfwidth = width / 2.0;\\n    offset = -1.0 * offset;\\n\\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    mediump vec2 dist = outset * a_extrude * scale;\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we\'re drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    mediump float u = 0.5 * a_direction;\\n    mediump float t = 1.0 - abs(u);\\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\\n\\n    // calculate how much the perspective view squishes or stretches the extrude\\n    float extrude_length_without_perspective = length(dist);\\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\\n\\n    v_linesofar = a_linesofar;\\n    v_width2 = vec2(outset, inset);\\n}\\n"},lineSDF:{fragmentSource:"\\nuniform sampler2D u_image;\\nuniform float u_sdfgamma;\\nuniform float u_mix;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying vec2 v_tex_a;\\nvarying vec2 v_tex_b;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float floorwidth\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 color\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump float width\\n    #pragma mapbox: initialize lowp float floorwidth\\n\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * v_width2.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_width2.t) or when fading out\\n    // (v_width2.s)\\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\\n\\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\\n\\n    gl_FragColor = color * (alpha * opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\"special\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\n// We scale the distance before adding it to the buffers so that we can store\\n// long distances for long segments. Use this value to unscale the distance.\\n#define LINE_DISTANCE_SCALE 2.0\\n\\n// the distance over which the line edge fades out.\\n// Retina devices need a smaller distance to avoid aliasing.\\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\\n\\nattribute vec4 a_pos_normal;\\nattribute vec4 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform mediump float u_ratio;\\nuniform vec2 u_patternscale_a;\\nuniform float u_tex_y_a;\\nuniform vec2 u_patternscale_b;\\nuniform float u_tex_y_b;\\nuniform vec2 u_gl_units_to_pixels;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying vec2 v_tex_a;\\nvarying vec2 v_tex_b;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float floorwidth\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 color\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump float gapwidth\\n    #pragma mapbox: initialize lowp float offset\\n    #pragma mapbox: initialize mediump float width\\n    #pragma mapbox: initialize lowp float floorwidth\\n\\n    vec2 a_extrude = a_data.xy - 128.0;\\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\\n\\n    vec2 pos = a_pos_normal.xy;\\n\\n    // x is 1 if it\'s a round cap, 0 otherwise\\n    // y is 1 if the normal points up, and -1 if it points down\\n    mediump vec2 normal = a_pos_normal.zw;\\n    v_normal = normal;\\n\\n    // these transformations used to be applied in the JS and native code bases.\\n    // moved them into the shader for clarity and simplicity.\\n    gapwidth = gapwidth / 2.0;\\n    float halfwidth = width / 2.0;\\n    offset = -1.0 * offset;\\n\\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    mediump vec2 dist =outset * a_extrude * scale;\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we\'re drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    mediump float u = 0.5 * a_direction;\\n    mediump float t = 1.0 - abs(u);\\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\\n\\n    // calculate how much the perspective view squishes or stretches the extrude\\n    float extrude_length_without_perspective = length(dist);\\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\\n\\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\\n\\n    v_width2 = vec2(outset, inset);\\n}\\n"},raster:{fragmentSource:"uniform float u_fade_t;\\nuniform float u_opacity;\\nuniform sampler2D u_image0;\\nuniform sampler2D u_image1;\\nvarying vec2 v_pos0;\\nvarying vec2 v_pos1;\\n\\nuniform float u_brightness_low;\\nuniform float u_brightness_high;\\n\\nuniform float u_saturation_factor;\\nuniform float u_contrast_factor;\\nuniform vec3 u_spin_weights;\\n\\nvoid main() {\\n\\n    // read and cross-fade colors from the main and parent tiles\\n    vec4 color0 = texture2D(u_image0, v_pos0);\\n    vec4 color1 = texture2D(u_image1, v_pos1);\\n    if (color0.a > 0.0) {\\n        color0.rgb = color0.rgb / color0.a;\\n    }\\n    if (color1.a > 0.0) {\\n        color1.rgb = color1.rgb / color1.a;\\n    }\\n    vec4 color = mix(color0, color1, u_fade_t);\\n    color.a *= u_opacity;\\n    vec3 rgb = color.rgb;\\n\\n    // spin\\n    rgb = vec3(\\n        dot(rgb, u_spin_weights.xyz),\\n        dot(rgb, u_spin_weights.zxy),\\n        dot(rgb, u_spin_weights.yzx));\\n\\n    // saturation\\n    float average = (color.r + color.g + color.b) / 3.0;\\n    rgb += (average - rgb) * u_saturation_factor;\\n\\n    // contrast\\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\\n\\n    // brightness\\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\\n\\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"uniform mat4 u_matrix;\\nuniform vec2 u_tl_parent;\\nuniform float u_scale_parent;\\nuniform float u_buffer_scale;\\n\\nattribute vec2 a_pos;\\nattribute vec2 a_texture_pos;\\n\\nvarying vec2 v_pos0;\\nvarying vec2 v_pos1;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    // We are using Int16 for texture position coordinates to give us enough precision for\\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\\n    // as an arbitrarily high number to preserve adequate precision when rendering.\\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\\n    // so math for modifying either is consistent.\\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\\n}\\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\\n\\n#pragma mapbox: define lowp float opacity\\n\\nvarying vec2 v_tex;\\nvarying float v_fade_opacity;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    lowp float alpha = opacity * v_fade_opacity;\\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"const float PI = 3.141592653589793;\\n\\nattribute vec4 a_pos_offset;\\nattribute vec4 a_data;\\nattribute vec3 a_projected_pos;\\nattribute float a_fade_opacity;\\n\\nuniform bool u_is_size_zoom_constant;\\nuniform bool u_is_size_feature_constant;\\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\\nuniform highp float u_size; // used when size is both zoom and feature constant\\nuniform highp float u_camera_to_center_distance;\\nuniform highp float u_pitch;\\nuniform bool u_rotate_symbol;\\nuniform highp float u_aspect_ratio;\\nuniform float u_fade_change;\\n\\n#pragma mapbox: define lowp float opacity\\n\\nuniform mat4 u_matrix;\\nuniform mat4 u_label_plane_matrix;\\nuniform mat4 u_gl_coord_matrix;\\n\\nuniform bool u_is_text;\\nuniform bool u_pitch_with_map;\\n\\nuniform vec2 u_texsize;\\n\\nvarying vec2 v_tex;\\nvarying float v_fade_opacity;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    vec2 a_pos = a_pos_offset.xy;\\n    vec2 a_offset = a_pos_offset.zw;\\n\\n    vec2 a_tex = a_data.xy;\\n    vec2 a_size = a_data.zw;\\n\\n    highp float segment_angle = -a_projected_pos[2];\\n\\n    float size;\\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\\n        size = mix(a_size[0], a_size[1], u_size_t) / 256.0;\\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\\n        size = a_size[0] / 256.0;\\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\\n        size = u_size;\\n    } else {\\n        size = u_size;\\n    }\\n\\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\\n    highp float camera_to_anchor_distance = projectedPoint.w;\\n    // See comments in symbol_sdf.vertex\\n    highp float distance_ratio = u_pitch_with_map ?\\n        camera_to_anchor_distance / u_camera_to_center_distance :\\n        u_camera_to_center_distance / camera_to_anchor_distance;\\n    highp float perspective_ratio = clamp(\\n            0.5 + 0.5 * distance_ratio,\\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\\n            4.0);\\n\\n    size *= perspective_ratio;\\n\\n    float fontScale = u_is_text ? size / 24.0 : size;\\n\\n    highp float symbol_rotation = 0.0;\\n    if (u_rotate_symbol) {\\n        // See comments in symbol_sdf.vertex\\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\\n\\n        vec2 a = projectedPoint.xy / projectedPoint.w;\\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\\n\\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\\n    }\\n\\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\\n\\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\\n\\n    v_tex = a_tex / u_texsize;\\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\\n}\\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\\n\\nuniform bool u_is_halo;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n\\nuniform sampler2D u_texture;\\nuniform highp float u_gamma_scale;\\nuniform bool u_is_text;\\n\\nvarying vec2 v_data0;\\nvarying vec3 v_data1;\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 fill_color\\n    #pragma mapbox: initialize highp vec4 halo_color\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize lowp float halo_width\\n    #pragma mapbox: initialize lowp float halo_blur\\n\\n    vec2 tex = v_data0.xy;\\n    float gamma_scale = v_data1.x;\\n    float size = v_data1.y;\\n    float fade_opacity = v_data1[2];\\n\\n    float fontScale = u_is_text ? size / 24.0 : size;\\n\\n    lowp vec4 color = fill_color;\\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\\n    lowp float buff = (256.0 - 64.0) / 256.0;\\n    if (u_is_halo) {\\n        color = halo_color;\\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\\n    }\\n\\n    lowp float dist = texture2D(u_texture, tex).a;\\n    highp float gamma_scaled = gamma * gamma_scale;\\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\\n\\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n",vertexSource:"const float PI = 3.141592653589793;\\n\\nattribute vec4 a_pos_offset;\\nattribute vec4 a_data;\\nattribute vec3 a_projected_pos;\\nattribute float a_fade_opacity;\\n\\n// contents of a_size vary based on the type of property value\\n// used for {text,icon}-size.\\n// For constants, a_size is disabled.\\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\\n// For composite functions:\\n// [ text-size(lowerZoomStop, feature),\\n//   text-size(upperZoomStop, feature) ]\\nuniform bool u_is_size_zoom_constant;\\nuniform bool u_is_size_feature_constant;\\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\\nuniform highp float u_size; // used when size is both zoom and feature constant\\n\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n\\nuniform mat4 u_matrix;\\nuniform mat4 u_label_plane_matrix;\\nuniform mat4 u_gl_coord_matrix;\\n\\nuniform bool u_is_text;\\nuniform bool u_pitch_with_map;\\nuniform highp float u_pitch;\\nuniform bool u_rotate_symbol;\\nuniform highp float u_aspect_ratio;\\nuniform highp float u_camera_to_center_distance;\\nuniform float u_fade_change;\\n\\nuniform vec2 u_texsize;\\n\\nvarying vec2 v_data0;\\nvarying vec3 v_data1;\\n\\nvoid main() {\\n    #pragma mapbox: initialize highp vec4 fill_color\\n    #pragma mapbox: initialize highp vec4 halo_color\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize lowp float halo_width\\n    #pragma mapbox: initialize lowp float halo_blur\\n\\n    vec2 a_pos = a_pos_offset.xy;\\n    vec2 a_offset = a_pos_offset.zw;\\n\\n    vec2 a_tex = a_data.xy;\\n    vec2 a_size = a_data.zw;\\n\\n    highp float segment_angle = -a_projected_pos[2];\\n    float size;\\n\\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\\n        size = mix(a_size[0], a_size[1], u_size_t) / 256.0;\\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\\n        size = a_size[0] / 256.0;\\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\\n        size = u_size;\\n    } else {\\n        size = u_size;\\n    }\\n\\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\\n    highp float camera_to_anchor_distance = projectedPoint.w;\\n    // If the label is pitched with the map, layout is done in pitched space,\\n    // which makes labels in the distance smaller relative to viewport space.\\n    // We counteract part of that effect by multiplying by the perspective ratio.\\n    // If the label isn\'t pitched with the map, we do layout in viewport space,\\n    // which makes labels in the distance larger relative to the features around\\n    // them. We counteract part of that effect by dividing by the perspective ratio.\\n    highp float distance_ratio = u_pitch_with_map ?\\n        camera_to_anchor_distance / u_camera_to_center_distance :\\n        u_camera_to_center_distance / camera_to_anchor_distance;\\n    highp float perspective_ratio = clamp(\\n        0.5 + 0.5 * distance_ratio,\\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\\n        4.0);\\n\\n    size *= perspective_ratio;\\n\\n    float fontScale = u_is_text ? size / 24.0 : size;\\n\\n    highp float symbol_rotation = 0.0;\\n    if (u_rotate_symbol) {\\n        // Point labels with \'rotation-alignment: map\' are horizontal with respect to tile units\\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\\n        // space, project it, and measure its angle in projected space.\\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\\n\\n        vec2 a = projectedPoint.xy / projectedPoint.w;\\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\\n\\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\\n    }\\n\\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\\n\\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\\n    float gamma_scale = gl_Position.w;\\n\\n    vec2 tex = a_tex / u_texsize;\\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\\n\\n    v_data0 = vec2(tex.x, tex.y);\\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\\n}\\n"}},We=/#pragma mapbox: ([\\w]+) ([\\w]+) ([\\w]+) ([\\w]+)/g,Xe=function(t){var e=Ge[t],i={};e.fragmentSource=e.fragmentSource.replace(We,function(t,e,n,o,r){return i[r]=!0,"define"===e?"\\n#ifndef HAS_UNIFORM_u_"+r+"\\nvarying "+n+" "+o+" "+r+";\\n#else\\nuniform "+n+" "+o+" u_"+r+";\\n#endif\\n":"\\n#ifdef HAS_UNIFORM_u_"+r+"\\n    "+n+" "+o+" "+r+" = u_"+r+";\\n#endif\\n"}),e.vertexSource=e.vertexSource.replace(We,function(t,e,n,o,r){var a="float"===o?"vec2":"vec4",s=r.match(/color/)?"color":a;return i[r]?"define"===e?"\\n#ifndef HAS_UNIFORM_u_"+r+"\\nuniform lowp float a_"+r+"_t;\\nattribute "+n+" "+a+" a_"+r+";\\nvarying "+n+" "+o+" "+r+";\\n#else\\nuniform "+n+" "+o+" u_"+r+";\\n#endif\\n":"vec4"===s?"\\n#ifndef HAS_UNIFORM_u_"+r+"\\n    "+r+" = a_"+r+";\\n#else\\n    "+n+" "+o+" "+r+" = u_"+r+";\\n#endif\\n":"\\n#ifndef HAS_UNIFORM_u_"+r+"\\n    "+r+" = unpack_mix_"+s+"(a_"+r+", a_"+r+"_t);\\n#else\\n    "+n+" "+o+" "+r+" = u_"+r+";\\n#endif\\n":"define"===e?"\\n#ifndef HAS_UNIFORM_u_"+r+"\\nuniform lowp float a_"+r+"_t;\\nattribute "+n+" "+a+" a_"+r+";\\n#else\\nuniform "+n+" "+o+" u_"+r+";\\n#endif\\n":"vec4"===s?"\\n#ifndef HAS_UNIFORM_u_"+r+"\\n    "+n+" "+o+" "+r+" = a_"+r+";\\n#else\\n    "+n+" "+o+" "+r+" = u_"+r+";\\n#endif\\n":"\\n#ifndef HAS_UNIFORM_u_"+r+"\\n    "+n+" "+o+" "+r+" = unpack_mix_"+s+"(a_"+r+", a_"+r+"_t);\\n#else\\n    "+n+" "+o+" "+r+" = u_"+r+";\\n#endif\\n"});};for(var He in Ge)Xe(He);var Ke=Ge,Ye=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null;};Ye.prototype.bind=function(t,e,i,n,o,r,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==n.length,c=0;!l&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(l=!0);var h=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||l||this.boundIndexBuffer!==o||this.boundVertexOffset!==r||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||h?this.freshBind(e,i,n,o,r,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind());},Ye.prototype.freshBind=function(t,e,i,n,o,r,a){var s,l=t.numAttributes,c=this.context,h=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=r,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var u=l;u<s;u++)h.disableVertexAttribArray(u);}e.enableAttributes(h,t);for(var p=0,d=i;p<d.length;p+=1){d[p].enableAttributes(h,t);}r&&r.enableAttributes(h,t),a&&a.enableAttributes(h,t),e.bind(),e.setVertexAttribPointers(h,t,o);for(var _=0,f=i;_<f.length;_+=1){var m=f[_];m.bind(),m.setVertexAttribPointers(h,t,o);}r&&(r.bind(),r.setVertexAttribPointers(h,t,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(h,t,o)),c.currentNumAttributes=l;},Ye.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null);};var Je=function(e,i,n,o,r){var a=e.gl;this.program=a.createProgram();var s=n.defines().concat("#define DEVICE_PIXEL_RATIO "+t.browser.devicePixelRatio.toFixed(1));r&&s.push("#define OVERDRAW_INSPECTOR;");var l=s.concat(Ke.prelude.fragmentSource,i.fragmentSource).join("\\n"),c=s.concat(Ke.prelude.vertexSource,i.vertexSource).join("\\n"),h=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(h,l),a.compileShader(h),a.attachShader(this.program,h);var u=a.createShader(a.VERTEX_SHADER);a.shaderSource(u,c),a.compileShader(u),a.attachShader(this.program,u);for(var p=n.layoutAttributes||[],d=0;d<p.length;d++)a.bindAttribLocation(this.program,d,p[d].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var _={},f=0;f<this.numAttributes;f++){var m=a.getActiveAttrib(this.program,f);m&&(this.attributes[m.name]=a.getAttribLocation(this.program,m.name));}for(var g=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),v=0;v<g;v++){var y=a.getActiveUniform(this.program,v);y&&(_[y.name]=a.getUniformLocation(this.program,y.name));}this.fixedUniforms=o(e,_),this.binderUniforms=n.getUniforms(e,_);};function Qe(e,i,n){var o=1/ve(n,1,i.transform.tileZoom),r=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,i.transform.tileZoom)/r,s=a*(n.tileID.canonical.x+n.tileID.wrap*r),l=a*n.tileID.canonical.y;return {u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,o,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}Je.prototype.draw=function(t,e,i,n,o,r,a,s,l,c,h,u,p,d,_){var f,m=t.gl;for(var g in t.program.set(this.program),t.setDepthMode(i),t.setStencilMode(n),t.setColorMode(o),this.fixedUniforms)this.fixedUniforms[g].set(r[g]);p&&p.setUniforms(t,this.binderUniforms,h,{zoom:u});for(var v=(f={},f[m.LINES]=2,f[m.TRIANGLES]=3,f[m.LINE_STRIP]=1,f)[e],y=0,x=c.get();y<x.length;y+=1){var b=x[y],w=b.vaos||(b.vaos={});(w[a]||(w[a]=new Ye)).bind(t,this,s,p?p.getPaintVertexBuffers():[],l,b.vertexOffset,d,_),m.drawElements(e,b.primitiveLength*v,m.UNSIGNED_SHORT,b.primitiveOffset*v*2);}};var $e=function(e,i){var n=i.style.light,o=n.properties.get("position"),r=[o.x,o.y,o.z],a=t.create$2();"viewport"===n.properties.get("anchor")&&t.fromRotation(a,-i.transform.angle),t.transformMat3(r,r,a);var s=n.properties.get("color");return {u_matrix:e,u_lightpos:r,u_lightintensity:n.properties.get("intensity"),u_lightcolor:[s.r,s.g,s.b]}},ti=function(e,i,n,o,r){return t.extend($e(e,i),Qe(o,i,r),{u_height_factor:-Math.pow(2,n.overscaledZ)/r.tileSize/8})},ei=function(e,i,n){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var r=e.context.gl;return {u_matrix:o,u_world:[r.drawingBufferWidth,r.drawingBufferHeight],u_image:n,u_opacity:i.paint.get("fill-extrusion-opacity")}},ii=function(t){return {u_matrix:t}},ni=function(e,i,n,o){return t.extend(ii(e),Qe(n,i,o))},oi=function(t,e){return {u_matrix:t,u_world:e}},ri=function(e,i,n,o,r){return t.extend(ni(e,i,n,o),{u_world:r})},ai=function(t,e,i,n){var o,r,a=t.transform;if("map"===n.paint.get("circle-pitch-alignment")){var s=ve(i,1,a.zoom);o=!0,r=[s,s];}else o=!1,r=a.pixelsToGLUnits;return {u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(e.posMatrix,i,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_extrude_scale:r}},si=function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,i.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,i.u_overscale_factor)}},li=function(t,e,i){var n=ve(i,1,e.zoom),o=Math.pow(2,e.zoom-i.tileID.overscaledZ),r=i.tileID.overscaleFactor();return {u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[e.pixelsToGLUnits[0]/(n*o),e.pixelsToGLUnits[1]/(n*o)],u_overscale_factor:r}},ci=function(t,e){return {u_matrix:t,u_color:e}},hi=function(t){return {u_matrix:t}},ui=function(t,e,i,n){return {u_matrix:t,u_extrude_scale:ve(e,1,i),u_intensity:n}},pi=function(e,i,n,o){var r=t.create();t.ortho(r,0,e.width,e.height,0,0,1);var a=e.context.gl;return {u_matrix:r,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:n,u_color_ramp:o,u_opacity:i.paint.get("heatmap-opacity")}},di=function(e,i,n){var o=n.paint.get("hillshade-shadow-color"),r=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);return "viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle),{u_matrix:e.transform.calculatePosMatrix(i.tileID.toUnwrapped(),!0),u_image:0,u_latrange:function(e,i){var n=i.toCoordinate(),o=new t.Coordinate(n.column,n.row+1,n.zoom);return [e.transform.coordinateLocation(n).lat,e.transform.coordinateLocation(o).lat]}(e,i.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:o,u_highlight:r,u_accent:a}},_i=function(e,i){var n=e.dem.dim,o=t.create();return t.ortho(o,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(o,o,[0,-t.EXTENT,0]),{u_matrix:o,u_image:1,u_dimension:[2*n,2*n],u_zoom:e.tileID.overscaledZ,u_maxzoom:i}};var fi=function(t,e,i){var n=t.transform;return {u_matrix:xi(t,e,i),u_ratio:1/ve(e,1,n.zoom),u_gl_units_to_pixels:[1/n.pixelsToGLUnits[0],1/n.pixelsToGLUnits[1]]}},mi=function(e,i,n){return t.extend(fi(e,i,n),{u_image:0})},gi=function(e,i,n,o){var r=e.transform,a=yi(i,r);return {u_matrix:xi(e,i,n),u_texsize:i.imageAtlasTexture.size,u_ratio:1/ve(i,1,r.zoom),u_image:0,u_scale:[t.browser.devicePixelRatio,a,o.fromScale,o.toScale],u_fade:o.t,u_gl_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},vi=function(e,i,n,o,r){var a=e.transform,s=e.lineAtlas,l=yi(i,a),c="round"===n.layout.get("line-cap"),h=s.getDash(o.from,c),u=s.getDash(o.to,c),p=h.width*r.fromScale,d=u.width*r.toScale;return t.extend(fi(e,i,n),{u_patternscale_a:[l/p,-h.height/2],u_patternscale_b:[l/d,-u.height/2],u_sdfgamma:s.width/(256*Math.min(p,d)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:h.y,u_tex_y_b:u.y,u_mix:r.t})};function yi(t,e){return 1/ve(t,1,e.tileZoom)}function xi(t,e,i){return t.translatePosMatrix(e.tileID.posMatrix,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}var bi=function(t,e,i,n,o){return {u_matrix:t,u_tl_parent:e,u_scale_parent:i,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(a=o.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(r=o.paint.get("raster-contrast"),r>0?1/(1-r):1+r),u_spin_weights:function(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return [(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}(o.paint.get("raster-hue-rotate"))};var r,a;};var wi=function(t,e,i,n,o,r,a,s,l,c){var h=o.transform;return {u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:h.cameraToCenterDistance,u_pitch:h.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:h.width/h.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:r,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},Ei=function(e,i,n,o,r,a,s,l,c,h,u){var p=r.transform;return t.extend(wi(e,i,n,o,r,a,s,l,c,h),{u_gamma_scale:o?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_is_halo:+u})},Ti=function(t,e,i){return {u_matrix:t,u_opacity:e,u_color:i}},Si=function(e,i,n,o,r,a){return t.extend(function(t,e,i,n){var o=i.imageManager.getPattern(t.from),r=i.imageManager.getPattern(t.to),a=i.imageManager.getPixelSize(),s=a.width,l=a.height,c=Math.pow(2,n.tileID.overscaledZ),h=n.tileSize*Math.pow(2,i.transform.tileZoom)/c,u=h*(n.tileID.canonical.x+n.tileID.wrap*c),p=h*n.tileID.canonical.y;return {u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:r.tl,u_pattern_br_b:r.br,u_texsize:[s,l],u_mix:e.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:r.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/ve(n,1,i.transform.tileZoom),u_pixel_coord_upper:[u>>16,p>>16],u_pixel_coord_lower:[65535&u,65535&p]}}(o,a,n,r),{u_matrix:e,u_opacity:i})},Ii={fillExtrusion:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor)}},fillExtrusionPattern:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_height_factor:new t.Uniform1f(e,i.u_height_factor),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},extrusionTexture:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_opacity:new t.Uniform1f(e,i.u_opacity)}},fill:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},fillPattern:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},fillOutline:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world)}},fillOutlinePattern:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},circle:function(e,i){return {u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,i.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},collisionBox:si,collisionCircle:si,debug:function(e,i){return {u_color:new t.UniformColor(e,i.u_color),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},clippingMask:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},heatmap:function(e,i){return {u_extrude_scale:new t.Uniform1f(e,i.u_extrude_scale),u_intensity:new t.Uniform1f(e,i.u_intensity),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}},heatmapTexture:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_color_ramp:new t.Uniform1i(e,i.u_color_ramp),u_opacity:new t.Uniform1f(e,i.u_opacity)}},hillshade:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_latrange:new t.Uniform2f(e,i.u_latrange),u_light:new t.Uniform2f(e,i.u_light),u_shadow:new t.UniformColor(e,i.u_shadow),u_highlight:new t.UniformColor(e,i.u_highlight),u_accent:new t.UniformColor(e,i.u_accent)}},hillshadePrepare:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_dimension:new t.Uniform2f(e,i.u_dimension),u_zoom:new t.Uniform1f(e,i.u_zoom),u_maxzoom:new t.Uniform1f(e,i.u_maxzoom)}},line:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels)}},lineGradient:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_image:new t.Uniform1i(e,i.u_image)}},linePattern:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_texsize:new t.Uniform2f(e,i.u_texsize),u_ratio:new t.Uniform1f(e,i.u_ratio),u_image:new t.Uniform1i(e,i.u_image),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_scale:new t.Uniform4f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}},lineSDF:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,i.u_gl_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,i.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,i.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,i.u_sdfgamma),u_image:new t.Uniform1i(e,i.u_image),u_tex_y_a:new t.Uniform1f(e,i.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,i.u_tex_y_b),u_mix:new t.Uniform1f(e,i.u_mix)}},raster:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_tl_parent:new t.Uniform2f(e,i.u_tl_parent),u_scale_parent:new t.Uniform1f(e,i.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,i.u_buffer_scale),u_fade_t:new t.Uniform1f(e,i.u_fade_t),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image0:new t.Uniform1i(e,i.u_image0),u_image1:new t.Uniform1i(e,i.u_image1),u_brightness_low:new t.Uniform1f(e,i.u_brightness_low),u_brightness_high:new t.Uniform1f(e,i.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,i.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,i.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,i.u_spin_weights)}},symbolIcon:function(e,i){return {u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,i.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture)}},symbolSDF:function(e,i){return {u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,i.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_is_halo:new t.Uniform1f(e,i.u_is_halo)}},background:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_color:new t.UniformColor(e,i.u_color)}},backgroundPattern:function(e,i){return {u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image:new t.Uniform1i(e,i.u_image),u_pattern_tl_a:new t.Uniform2f(e,i.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,i.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,i.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,i.u_pattern_br_b),u_texsize:new t.Uniform2f(e,i.u_texsize),u_mix:new t.Uniform1f(e,i.u_mix),u_pattern_size_a:new t.Uniform2f(e,i.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,i.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,i.u_scale_a),u_scale_b:new t.Uniform1f(e,i.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,i.u_tile_units_to_pixels)}}};function Ci(e,i){for(var n=e.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),o=0;o<n.length;o++){var r={},a=n[o],s=n.slice(o+1);zi(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),r),a.setMask(r,i);}}function zi(e,i,n,o,r){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(i.key===s.tileID.key)return;if(s.tileID.isChildOf(i)){for(var l=i.children(1/0),c=0;c<l.length;c++){zi(e,l[c],n.slice(a),o,r);}return}}var h=i.overscaledZ-e.overscaledZ,u=new t.CanonicalTileID(h,i.canonical.x-(e.canonical.x<<h),i.canonical.y-(e.canonical.y<<h));r[u.key]=r[u.key]||u;}function Pi(t,e,i,n,o){for(var r=t.context,a=r.gl,s=o?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),l=0;l<n.length;l++){var c=n[l],h=e.getTile(c),u=h.getBucket(i);if(u){var p=o?u.collisionCircle:u.collisionBox;p&&s.draw(r,o?a.TRIANGLES:a.LINES,Dt.disabled,Mt.disabled,t.colorModeForRenderPass(),li(c.posMatrix,t.transform,h),i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,null,t.transform.zoom,null,null,p.collisionVertexBuffer);}}}var Ri=t.identity(new Float32Array(16)),Ai=t.properties.layout;function Li(e,i,n,o,r,a,s,l,c,h,u,p){for(var d,_,f=e.context,m=f.gl,g=e.transform,v="map"===l,y="map"===c,x=v&&"point"!==n.layout.get("symbol-placement"),b=v&&!y&&!x,w=y?e.depthModeForSublayer(0,Dt.ReadOnly):Dt.disabled,E=0,T=o;E<T.length;E+=1){var S=T[E],I=i.getTile(S),C=I.getBucket(n);if(C){var z=r?C.text:C.icon;if(z&&z.segments.get().length){var P=z.programConfigurations.get(n.id),R=r||C.sdfIcons,A=r?C.textSizeData:C.iconSizeData;d||(d=e.useProgram(R?"symbolSDF":"symbolIcon",P),_=t.evaluateSizeForZoom(A,g.zoom,Ai.properties[r?"text-size":"icon-size"])),f.activeTexture.set(m.TEXTURE0);var L=void 0;if(r)I.glyphAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),L=I.glyphAtlasTexture.size;else{var D=1!==n.layout.get("icon-size").constantOr(0)||C.iconsNeedLinear,M=y||0!==g.pitch;I.imageAtlasTexture.bind(R||e.options.rotating||e.options.zooming||D||M?m.LINEAR:m.NEAREST,m.CLAMP_TO_EDGE),L=I.imageAtlasTexture.size;}var k=ve(I,1,e.transform.zoom),B=ne(S.posMatrix,y,v,e.transform,k),O=oe(S.posMatrix,y,v,e.transform,k);x&&se(C,S.posMatrix,e,r,B,O,y,h);var F=e.translatePosMatrix(S.posMatrix,I,a,s),U=x?Ri:B,N=e.translatePosMatrix(O,I,a,s,!0),Z=void 0;if(R){var q=0!==n.paint.get(r?"text-halo-width":"icon-halo-width").constantOr(1);Z=Ei(A.functionType,_,b,y,e,F,U,N,r,L,!0),q&&Di(z,n,e,d,w,u,p,Z),Z.u_is_halo=0;}else Z=wi(A.functionType,_,b,y,e,F,U,N,r,L);Di(z,n,e,d,w,u,p,Z);}}}}function Di(t,e,i,n,o,r,a,s){var l=i.context,c=l.gl;n.draw(l,c.TRIANGLES,o,r,a,s,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,e.paint,i.transform.zoom,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer);}function Mi(t,e,i,n,o,r,a){var s,l,c,h,u,p=t.context.gl,d=i.paint.get("fill-pattern"),_=d&&d.constantOr(1),f=i.getCrossfadeParameters();a?(l=_&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(l=_?"fillPattern":"fill",s=p.TRIANGLES);for(var m=0,g=n;m<g.length;m+=1){var v=g[m],y=e.getTile(v);if(!_||y.patternsLoaded()){var x=y.getBucket(i);if(x){var b=x.programConfigurations.get(i.id),w=t.useProgram(l,b);_&&(t.context.activeTexture.set(p.TEXTURE0),y.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),b.updatePatternPaintBuffers(f));var E=d.constantOr(null);if(E&&y.imageAtlas){var T=y.imageAtlas.patternPositions[E.to],S=y.imageAtlas.patternPositions[E.from];T&&S&&b.setConstantPatternPositions(T,S);}var I=t.translatePosMatrix(v.posMatrix,y,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(a){h=x.indexBuffer2,u=x.segments2;var C=[p.drawingBufferWidth,p.drawingBufferHeight];c="fillOutlinePattern"===l&&_?ri(I,t,f,y,C):oi(I,C);}else h=x.indexBuffer,u=x.segments,c=_?ni(I,t,f,y):ii(I);w.draw(t.context,s,o,t.stencilModeForClipping(v),r,c,i.id,x.layoutVertexBuffer,h,u,i.paint,t.transform.zoom,b);}}}}function ki(t,e,i,n,o,r){var a=t.context,s=a.gl,l=e.fbo;if(l){var c=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var h=di(t,e,i);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?c.draw(a,s.TRIANGLES,n,o,r,h,i.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):c.draw(a,s.TRIANGLES,n,o,r,h,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments);}}function Bi(e,i,n,o,r,a,s){var l=e.context,c=l.gl;if(i.dem&&i.dem.data){var h=i.dem.dim,u=i.dem.getPixels();if(l.activeTexture.set(c.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(i.tileSize),i.demTexture){var p=i.demTexture;p.update(u,{premultiply:!1}),p.bind(c.NEAREST,c.CLAMP_TO_EDGE);}else i.demTexture=new t.Texture(l,u,c.RGBA,{premultiply:!1}),i.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);l.activeTexture.set(c.TEXTURE0);var d=i.fbo;if(!d){var _=new t.Texture(l,{width:h,height:h,data:null},c.RGBA);_.bind(c.LINEAR,c.CLAMP_TO_EDGE),(d=i.fbo=l.createFramebuffer(h,h)).colorAttachment.set(_.texture);}l.bindFramebuffer.set(d.framebuffer),l.viewport.set([0,0,h,h]),e.useProgram("hillshadePrepare").draw(l,c.TRIANGLES,r,a,s,_i(i,o),n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),i.needsHillshadePrepare=!1;}}function Oi(e,i,n,o,r){var a=o.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),l=(s-e.timeAdded)/a,c=i?(s-i.timeAdded)/a:-1,h=n.getSource(),u=r.coveringZoomLevel({tileSize:h.tileSize,roundZoom:h.roundZoom}),p=!i||Math.abs(i.tileID.overscaledZ-u)>Math.abs(e.tileID.overscaledZ-u),d=p&&e.refreshedUponExpiration?1:t.clamp(p?l:1-c,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return {opacity:1,mix:0}}function Fi(e,i,n){var o=e.context,r=o.gl,a=n.posMatrix,s=e.useProgram("debug"),l=Dt.disabled,c=Mt.disabled,h=e.colorModeForRenderPass(),u="$debug";s.draw(o,r.LINE_STRIP,l,c,h,ci(a,t.Color.red),u,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);for(var p=function(t,e,i,n){n=n||1;var o,r,a,s,l,c,h,u,p=[];for(o=0,r=t.length;o<r;o++)if(l=Ui[t[o]]){for(u=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?u=null:(c=e+l[1][a]*n,h=i-l[1][a+1]*n,u&&p.push(u.x,u.y,c,h),u={x:c,y:h});e+=l[0]*n;}return p}(n.toString(),50,200,5),d=new t.StructArrayLayout2i4,_=new t.StructArrayLayout2ui4,f=0;f<p.length;f+=2)d.emplaceBack(p[f],p[f+1]),_.emplaceBack(f,f+1);for(var m=o.createVertexBuffer(d,je.members),g=o.createIndexBuffer(_),v=t.SegmentVector.simpleSegment(0,0,d.length/2,d.length/2),y=i.getTile(n).tileSize,x=t.EXTENT/(Math.pow(2,e.transform.zoom-n.overscaledZ)*y),b=[[-1,-1],[-1,1],[1,-1],[1,1]],w=0;w<b.length;w++){var E=b[w];s.draw(o,r.LINES,l,c,h,ci(t.translate([],a,[x*E[0],x*E[1],0]),t.Color.white),u,m,g,v);}s.draw(o,r.LINES,l,c,h,ci(a,t.Color.black),u,m,g,v);}var Ui={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],\'"\':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"\'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};var Ni={symbol:function(t,e,i,n){if("translucent"===t.renderPass){var o=Mt.disabled,r=t.colorModeForRenderPass();0!==i.paint.get("icon-opacity").constantOr(1)&&Li(t,e,i,n,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),o,r),0!==i.paint.get("text-opacity").constantOr(1)&&Li(t,e,i,n,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),o,r),e.map.showCollisionBoxes&&function(t,e,i,n){Pi(t,e,i,n,!1),Pi(t,e,i,n,!0);}(t,e,i,n);}},circle:function(t,e,i,n){if("translucent"===t.renderPass){var o=i.paint.get("circle-opacity"),r=i.paint.get("circle-stroke-width"),a=i.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==r.constantOr(1)&&0!==a.constantOr(1))for(var s=t.context,l=s.gl,c=t.depthModeForSublayer(0,Dt.ReadOnly),h=Mt.disabled,u=t.colorModeForRenderPass(),p=0;p<n.length;p++){var d=n[p],_=e.getTile(d),f=_.getBucket(i);if(f){var m=f.programConfigurations.get(i.id);t.useProgram("circle",m).draw(s,l.TRIANGLES,c,h,u,ai(t,d,_,i),i.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,i.paint,t.transform.zoom,m);}}}},heatmap:function(e,i,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var r=e.context,a=r.gl,s=e.depthModeForSublayer(0,Dt.ReadOnly),l=Mt.disabled,c=new kt([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,i){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=i.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,i,n,o){var r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i.width/4,i.height/4,0,r.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),o.colorAttachment.set(n),e.extTextureHalfFloat&&r.checkFramebufferStatus(r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),t(e,i,n,o));}(t,e,r,o);}}(r,e,n),r.clear({color:t.Color.transparent});for(var h=0;h<o.length;h++){var u=o[h];if(!i.hasRenderableParent(u)){var p=i.getTile(u),d=p.getBucket(n);if(d){var _=d.programConfigurations.get(n.id),f=e.useProgram("heatmap",_),m=e.transform.zoom;f.draw(r,a.TRIANGLES,s,l,c,ui(u.posMatrix,p,m,n.paint.get("heatmap-intensity")),n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,n.paint,e.transform.zoom,_);}}}r.viewport.set([0,0,e.width,e.height]);}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){var n=e.context,o=n.gl,r=i.heatmapFbo;if(r){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=i.colorRampTexture;a||(a=i.colorRampTexture=new t.Texture(n,i.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(n,o.TRIANGLES,Dt.disabled,Mt.disabled,e.colorModeForRenderPass(),pi(e,i,0,1),i.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,i.paint,e.transform.zoom);}}(e,n));},line:function(e,i,n,o){if("translucent"===e.renderPass){var r=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==r.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,Dt.ReadOnly),l=e.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),h=n.paint.get("line-pattern"),u=h.constantOr(1),p=n.paint.get("line-gradient"),d=n.getCrossfadeParameters(),_=c?"lineSDF":u?"linePattern":p?"lineGradient":"line",f=e.context,m=f.gl,g=!0;if(p){f.activeTexture.set(m.TEXTURE0);var v=n.gradientTexture;if(!n.gradient)return;v||(v=n.gradientTexture=new t.Texture(f,n.gradient,m.RGBA)),v.bind(m.LINEAR,m.CLAMP_TO_EDGE);}for(var y=0,x=o;y<x.length;y+=1){var b=x[y],w=i.getTile(b);if(!u||w.patternsLoaded()){var E=w.getBucket(n);if(E){var T=E.programConfigurations.get(n.id),S=e.context.program.get(),I=e.useProgram(_,T),C=g||I.program!==S,z=h.constantOr(null);if(z&&w.imageAtlas){var P=w.imageAtlas.patternPositions[z.to],R=w.imageAtlas.patternPositions[z.from];P&&R&&T.setConstantPatternPositions(P,R);}var A=c?vi(e,w,n,c,d):u?gi(e,w,n,d):p?mi(e,w,n):fi(e,w,n);c&&(C||e.lineAtlas.dirty)?(f.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(f)):u&&(f.activeTexture.set(m.TEXTURE0),w.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),T.updatePatternPaintBuffers(d)),I.draw(f,m.TRIANGLES,s,e.stencilModeForClipping(b),l,A,n.id,E.layoutVertexBuffer,E.indexBuffer,E.segments,n.paint,e.transform.zoom,T),g=!1;}}}}}},fill:function(e,i,n,o){var r=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),l=n.paint.get("fill-pattern").constantOr(1)||1!==r.constantOr(t.Color.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===l&&Mi(e,i,n,o,e.depthModeForSublayer(1,"opaque"===e.renderPass?Dt.ReadWrite:Dt.ReadOnly),s,!1),"translucent"===e.renderPass&&n.paint.get("fill-antialias")&&Mi(e,i,n,o,e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,Dt.ReadOnly),s,!0);}},"fill-extrusion":function(e,i,n,o){0!==n.paint.get("fill-extrusion-opacity")&&("offscreen"===e.renderPass?(function(e,i){var n=e.context,o=n.gl,r=i.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!r){var a=new t.Texture(n,{width:e.width,height:e.height,data:null},o.RGBA);a.bind(o.LINEAR,o.CLAMP_TO_EDGE),(r=i.viewportFrame=n.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture);}n.bindFramebuffer.set(r.framebuffer),r.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(n.clear({depth:1}),e.depthRboNeedsClear=!1),n.clear({color:t.Color.transparent});}(e,n),function(t,e,i,n,o,r,a){for(var s=t.context,l=s.gl,c=i.paint.get("fill-extrusion-pattern"),h=c.constantOr(1),u=i.getCrossfadeParameters(),p=0,d=n;p<d.length;p+=1){var _=d[p],f=e.getTile(_),m=f.getBucket(i);if(m){var g=m.programConfigurations.get(i.id),v=t.useProgram(h?"fillExtrusionPattern":"fillExtrusion",g);h&&(t.context.activeTexture.set(l.TEXTURE0),f.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),g.updatePatternPaintBuffers(u));var y=c.constantOr(null);if(y&&f.imageAtlas){var x=f.imageAtlas.patternPositions[y.to],b=f.imageAtlas.patternPositions[y.from];x&&b&&g.setConstantPatternPositions(x,b);}var w=t.translatePosMatrix(_.posMatrix,f,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),E=h?ti(w,t,_,u,f):$e(w,t);v.draw(s,s.gl.TRIANGLES,o,r,a,E,i.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,i.paint,t.transform.zoom,g);}}}(e,i,n,o,new Dt(e.context.gl.LEQUAL,Dt.ReadWrite,[0,1]),Mt.disabled,e.colorModeForRenderPass())):"translucent"===e.renderPass&&function(t,e){var i=e.viewportFrame;if(i){var n=t.context,o=n.gl;n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),t.useProgram("extrusionTexture").draw(n,o.TRIANGLES,Dt.disabled,Mt.disabled,t.colorModeForRenderPass(),ei(t,e,0),e.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,e.paint,t.transform.zoom);}}(e,n));},hillshade:function(t,e,i,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var o=t.context,r=e.getSource().maxzoom,a=t.depthModeForSublayer(0,Dt.ReadOnly),s=Mt.disabled,l=t.colorModeForRenderPass(),c=0,h=n;c<h.length;c+=1){var u=h[c],p=e.getTile(u);p.needsHillshadePrepare&&"offscreen"===t.renderPass?Bi(t,p,i,r,a,s,l):"translucent"===t.renderPass&&ki(t,p,i,a,s,l);}o.viewport.set([0,0,t.width,t.height]);}},raster:function(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity"))for(var o=t.context,r=o.gl,a=e.getSource(),s=t.useProgram("raster"),l=Mt.disabled,c=t.colorModeForRenderPass(),h=n.length&&n[0].overscaledZ,u=0,p=n;u<p.length;u+=1){var d=p[u],_=t.depthModeForSublayer(d.overscaledZ-h,1===i.paint.get("raster-opacity")?Dt.ReadWrite:Dt.ReadOnly,r.LESS),f=e.getTile(d),m=t.transform.calculatePosMatrix(d.toUnwrapped(),!0);f.registerFadeDuration(i.paint.get("raster-fade-duration"));var g=e.findLoadedParent(d,0),v=Oi(f,g,e,i,t.transform),y=void 0,x=void 0,b="nearest"===i.paint.get("raster-resampling")?r.NEAREST:r.LINEAR;o.activeTexture.set(r.TEXTURE0),f.texture.bind(b,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(r.TEXTURE1),g?(g.texture.bind(b,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),y=Math.pow(2,g.tileID.overscaledZ-f.tileID.overscaledZ),x=[f.tileID.canonical.x*y%1,f.tileID.canonical.y*y%1]):f.texture.bind(b,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST);var w=bi(m,x||[0,0],y||1,v,i);a instanceof W?s.draw(o,r.TRIANGLES,_,l,c,w,i.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):f.maskedBoundsBuffer&&f.maskedIndexBuffer&&f.segments?s.draw(o,r.TRIANGLES,_,l,c,w,i.id,f.maskedBoundsBuffer,f.maskedIndexBuffer,f.segments,i.paint,t.transform.zoom):s.draw(o,r.TRIANGLES,_,l,c,w,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments);}},background:function(t,e,i){var n=i.paint.get("background-color"),o=i.paint.get("background-opacity");if(0!==o){var r=t.context,a=r.gl,s=t.transform,l=s.tileSize,c=i.paint.get("background-pattern");if(!t.isPatternMissing(c)){var h=c||1!==n.a||1!==o?"translucent":"opaque";if(t.renderPass===h){var u=Mt.disabled,p=t.depthModeForSublayer(0,"opaque"===h?Dt.ReadWrite:Dt.ReadOnly),d=t.colorModeForRenderPass(),_=t.useProgram(c?"backgroundPattern":"background"),f=s.coveringTiles({tileSize:l});c&&(r.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var m=i.getCrossfadeParameters(),g=0,v=f;g<v.length;g+=1){var y=v[g],x=t.transform.calculatePosMatrix(y.toUnwrapped()),b=c?Si(x,o,t,c,{tileID:y,tileSize:l},m):Ti(x,o,n);_.draw(r,a.TRIANGLES,p,u,d,b,i.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments);}}}}},debug:function(t,e,i){for(var n=0;n<i.length;n++)Fi(t,e,i[n]);}},Zi=function(e,i){this.context=new Bt(e),this.transform=i,this._tileTextures={},this.setup(),this.numSublayers=Ot.maxUnderzooming+Ot.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.ProgramConfiguration,this.crossTileSymbolIndex=new Ue;};function qi(t,e){if(t.row>e.row){var i=t;t=e,e=i;}return {x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function Vi(t,e,i,n,o){var r=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s;}for(var l=t.dx/t.dy,c=e.dx/e.dy,h=t.dx>0,u=e.dx<0,p=r;p<a;p++){var d=l*Math.max(0,Math.min(t.dy,p+h-t.y0))+t.x0,_=c*Math.max(0,Math.min(e.dy,p+u-e.y0))+e.x0;o(Math.floor(_),Math.ceil(d),p);}}function ji(t,e,i,n,o,r){var a,s=qi(t,e),l=qi(e,i),c=qi(i,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>c.dy&&(a=s,s=c,c=a),l.dy>c.dy&&(a=l,l=c,c=a),s.dy&&Vi(c,s,n,o,r),l.dy&&Vi(c,l,n,o,r);}Zi.prototype.resize=function(e,i){var n=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=i*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,r=this.style._order;o<r.length;o+=1){var a=r[o];this.style._layers[a].resize();}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null);},Zi.prototype.setup=function(){var e=this.context,i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(i,je.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(n,je.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var o=new t.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(t.EXTENT,0,t.EXTENT,0),o.emplaceBack(0,t.EXTENT,0,t.EXTENT),o.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(o,t.rasterBoundsAttributes.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(r,je.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new Mt({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO);},Zi.prototype.clearStencil=function(){var e=this.context,i=e.gl,n=t.create();t.ortho(n,0,this.width,this.height,0,0,1),t.scale(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,i.TRIANGLES,Dt.disabled,this.stencilClearMode,kt.disabled,hi(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments);},Zi.prototype._renderTileClippingMasks=function(t){var e=this.context,i=e.gl;e.setColorMode(kt.disabled),e.setDepthMode(Dt.disabled);var n=this.useProgram("clippingMask"),o=1;this._tileClippingMaskIDs={};for(var r=0,a=t;r<a.length;r+=1){var s=a[r],l=this._tileClippingMaskIDs[s.key]=o++;n.draw(e,i.TRIANGLES,Dt.disabled,new Mt({func:i.ALWAYS,mask:0},l,255,i.KEEP,i.KEEP,i.REPLACE),kt.disabled,hi(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments);}},Zi.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Mt({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},Zi.prototype.colorModeForRenderPass=function(){var e=this.context.gl;if(this._showOverdrawInspector){return new kt([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0])}return "opaque"===this.renderPass?kt.unblended:kt.alphaBlended},Zi.prototype.depthModeForSublayer=function(t,e,i){var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,o=n-1+this.depthRange;return new Dt(i||this.context.gl.LEQUAL,e,[o,n])},Zi.prototype.render=function(e,i){this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now());var n=this.style._order,o=this.style.sourceCaches;for(var r in o){var a=o[r];a.used&&a.prepare(this.context);}var s,l={},c={},h={};for(var u in o){var p=o[u];l[u]=p.getVisibleCoordinates(),c[u]=l[u].slice().reverse(),h[u]=p.getVisibleCoordinates(!0).reverse();}for(var d in o){var _=o[d],f=_.getSource();if("raster"===f.type||"raster-dem"===f.type){for(var m=[],g=0,v=l[d];g<v.length;g+=1){var y=v[g];m.push(_.getTile(y));}Ci(m,this.context);}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var x=0,b=n;x<b.length;x+=1){var w=b[x],E=this.style._layers[w];if(E.hasOffscreenPass()&&!E.isHidden(this.transform.zoom)){var T=c[E.source];T.length&&this.renderLayer(this,o[E.source],E,T);}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){var S=this.style._layers[n[this.currentLayer]],I=o[S.source],C=l[S.source];S.source!==s&&I&&(this.clearStencil(),I.getSource().isTileClipped&&this._renderTileClippingMasks(C)),this.renderLayer(this,I,S,C),s=S.source;}for(this.renderPass="translucent",this.currentLayer=0,s=null;this.currentLayer<n.length;this.currentLayer++){var z=this.style._layers[n[this.currentLayer]],P=o[z.source],R=("symbol"===z.type?h:c)[z.source];z.source!==s&&P&&(this.clearStencil(),P.getSource().isTileClipped&&this._renderTileClippingMasks(l[z.source])),this.renderLayer(this,P,z,R),s=z.source;}if(this.options.showTileBoundaries)for(var A in o){Ni.debug(this,o[A],l[A]);break}},Zi.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height));},Zi.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&(this.id=i.id,Ni[i.type](t,e,i,n));},Zi.prototype.translatePosMatrix=function(e,i,n,o,r){if(!n[0]&&!n[1])return e;var a=r?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l];}var c=[r?n[0]:ve(i,n[0],this.transform.zoom),r?n[1]:ve(i,n[1],this.transform.zoom),0],h=new Float32Array(16);return t.translate(h,e,c),h},Zi.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t];},Zi.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},Zi.prototype.isPatternMissing=function(t){if(!t)return !1;var e=this.imageManager.getPattern(t.from),i=this.imageManager.getPattern(t.to);return !e||!i},Zi.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new Je(this.context,Ke[t],e,Ii[t],this._showOverdrawInspector)),this.cache[i]};var Gi=function(t,e,i){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=e||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new U(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={};},Wi={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};Gi.prototype.clone=function(){var t=new Gi(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},Wi.minZoom.get=function(){return this._minZoom},Wi.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t));},Wi.maxZoom.get=function(){return this._maxZoom},Wi.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t));},Wi.renderWorldCopies.get=function(){return this._renderWorldCopies},Wi.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t;},Wi.worldSize.get=function(){return this.tileSize*this.scale},Wi.centerPoint.get=function(){return this.size._div(2)},Wi.size.get=function(){return new t.Point(this.width,this.height)},Wi.bearing.get=function(){return -this.angle/Math.PI*180},Wi.bearing.set=function(e){var i=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=t.create$4(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle));},Wi.pitch.get=function(){return this._pitch/Math.PI*180},Wi.pitch.set=function(e){var i=t.clamp(e,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices());},Wi.fov.get=function(){return this._fov/Math.PI*180},Wi.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices());},Wi.zoom.get=function(){return this._zoom},Wi.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices());},Wi.center.get=function(){return this._center},Wi.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices());},Gi.prototype.coveringZoomLevel=function(t){return (t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Gi.prototype.getVisibleUnwrappedCoordinates=function(e){var i=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new t.Point(0,0),0),o=this.pointCoordinate(new t.Point(this.width,0),0),r=this.pointCoordinate(new t.Point(this.width,this.height),0),a=this.pointCoordinate(new t.Point(0,this.height),0),s=Math.floor(Math.min(n.column,o.column,r.column,a.column)),l=Math.floor(Math.max(n.column,o.column,r.column,a.column)),c=s-1;c<=l+1;c++)0!==c&&i.push(new t.UnwrappedTileID(c,e));return i},Gi.prototype.coveringTiles=function(e){var i=this.coveringZoomLevel(e),n=i;if(void 0!==e.minzoom&&i<e.minzoom)return [];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);var o=this.pointCoordinate(this.centerPoint,i),r=new t.Point(o.column-.5,o.row-.5);return function(e,i,n,o){void 0===o&&(o=!0);var r=1<<e,a={};function s(i,s,l){var c,h,u,p;if(l>=0&&l<=r)for(c=i;c<s;c++)h=Math.floor(c/r),u=(c%r+r)%r,0!==h&&!0!==o||(p=new t.OverscaledTileID(n,h,e,u,l),a[p.key]=p);}return ji(i[0],i[1],i[2],0,r,s),ji(i[2],i[3],i[0],0,r,s),Object.keys(a).map(function(t){return a[t]})}(i,[this.pointCoordinate(new t.Point(0,0),i),this.pointCoordinate(new t.Point(this.width,0),i),this.pointCoordinate(new t.Point(this.width,this.height),i),this.pointCoordinate(new t.Point(0,this.height),i)],e.reparseOverscaled?n:i,this._renderWorldCopies).sort(function(t,e){return r.dist(t.canonical)-r.dist(e.canonical)})},Gi.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices();},Wi.unmodified.get=function(){return this._unmodified},Gi.prototype.zoomScale=function(t){return Math.pow(2,t)},Gi.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Gi.prototype.project=function(e){return new t.Point(this.lngX(e.lng),this.latY(e.lat))},Gi.prototype.unproject=function(t){return new U(this.xLng(t.x),this.yLat(t.y))},Wi.x.get=function(){return this.lngX(this.center.lng)},Wi.y.get=function(){return this.latY(this.center.lat)},Wi.point.get=function(){return new t.Point(this.x,this.y)},Gi.prototype.lngX=function(t){return (180+t)*this.worldSize/360},Gi.prototype.latY=function(e){return e=t.clamp(e,-this.maxValidLatitude,this.maxValidLatitude),(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*this.worldSize/360},Gi.prototype.xLng=function(t){return 360*t/this.worldSize-180},Gi.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},Gi.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap());},Gi.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Gi.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Gi.prototype.locationCoordinate=function(e){return new t.Coordinate(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Gi.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new U(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},Gi.prototype.pointCoordinate=function(e,i){void 0===i&&(i=this.tileZoom);var n=[e.x,e.y,0,1],o=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(o,o,this.pixelMatrixInverse);var r=n[3],a=o[3],s=n[0]/r,l=o[0]/a,c=n[1]/r,h=o[1]/a,u=n[2]/r,p=o[2]/a,d=u===p?0:(0-u)/(p-u);return new t.Coordinate(t.number(s,l,d)/this.tileSize,t.number(c,h,d)/this.tileSize,this.zoom)._zoomTo(i)},Gi.prototype.coordinatePoint=function(e){var i=e.zoomTo(this.zoom),n=[i.column*this.tileSize,i.row*this.tileSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},Gi.prototype.getBounds=function(){return (new N).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},Gi.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new N([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Gi.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude]);},Gi.prototype.calculatePosMatrix=function(e,i){void 0===i&&(i=!1);var n=e.key,o=i?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var r=e.canonical,a=this.worldSize/this.zoomScale(r.z),s=r.x+Math.pow(2,r.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*a,r.y*a,0]),t.scale(l,l,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),o[n]=new Float32Array(l),o[n]},Gi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,i,n,o,r=-90,a=90,s=-180,l=180,c=this.size,h=this._unmodified;if(this.latRange){var u=this.latRange;r=this.latY(u[1]),e=(a=this.latY(u[0]))-r<c.y?c.y/(a-r):0;}if(this.lngRange){var p=this.lngRange;s=this.lngX(p[0]),i=(l=this.lngX(p[1]))-s<c.x?c.x/(l-s):0;}var d=Math.max(i||0,e||0);if(d)return this.center=this.unproject(new t.Point(i?(l+s)/2:this.x,e?(a+r)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=h,void(this._constraining=!1);if(this.latRange){var _=this.y,f=c.y/2;_-f<r&&(o=r+f),_+f>a&&(o=a-f);}if(this.lngRange){var m=this.x,g=c.x/2;m-g<s&&(n=s+g),m+g>l&&(n=l-g);}void 0===n&&void 0===o||(this.center=this.unproject(new t.Point(void 0!==n?n:this.x,void 0!==o?o:this.y))),this._unmodified=h,this._constraining=!1;}},Gi.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,i=Math.PI/2+this._pitch,n=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-i-e),o=this.x,r=this.y,a=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),s=new Float64Array(16);t.perspective(s,this._fov,this.width/this.height,1,a),t.scale(s,s,[1,-1,1]),t.translate(s,s,[0,0,-this.cameraToCenterDistance]),t.rotateX(s,s,this._pitch),t.rotateZ(s,s,this.angle),t.translate(s,s,[-o,-r,0]);var l=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));t.scale(s,s,[1,1,l,1]),this.projMatrix=s;var c=this.width%2/2,h=this.height%2/2,u=Math.cos(this.angle),p=Math.sin(this.angle),d=o-Math.round(o)+u*c+p*h,_=r-Math.round(r)+u*h+p*c,f=new Float64Array(s);if(t.translate(f,f,[d>.5?d-1:d,_>.5?_-1:_,0]),this.alignedProjMatrix=f,s=t.create(),t.scale(s,s,[this.width/2,-this.height/2,1]),t.translate(s,s,[1,-1,0]),this.pixelMatrix=t.multiply(new Float64Array(16),s,this.projMatrix),!(s=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=s,this._posMatrixCache={},this._alignedPosMatrixCache={};}},Gi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)).zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1];return t.transformMat4(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(Gi.prototype,Wi);var Xi=function(){var e,i,n,o,r;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),i=300,n=!1,o=0,r=function(){o=0,n&&(e(),o=setTimeout(r,i),n=!1);},function(){return n=!0,o||r(),o});};Xi.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Xi.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Xi.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),r=Math.round(e.lng*o)/o,a=Math.round(e.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch(),c="";return c+=t?"#/"+r+"/"+a+"/"+i:"#"+i+"/"+a+"/"+r,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+="/"+Math.round(l)),c},Xi.prototype._onHashChange=function(){var e=t.window.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},Xi.prototype._updateHashUnthrottled=function(){var e=this.getHashString();t.window.history.replaceState(t.window.history.state,"",e);};var Hi=function(e){function n(n,o,r,a){void 0===a&&(a={});var s=i.mousePos(o.getCanvasContainer(),r),l=o.unproject(s);e.call(this,n,t.extend({point:s,lngLat:l,originalEvent:r},a)),this._defaultPrevented=!1,this.target=o;}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0;},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,o),n}(t.Event),Ki=function(e){function n(n,o,r){var a=i.touchPos(o.getCanvasContainer(),r),s=a.map(function(t){return o.unproject(t)}),l=a.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new t.Point(0,0)),c=o.unproject(l);e.call(this,n,{points:a,point:l,lngLats:s,lngLat:c,originalEvent:r}),this._defaultPrevented=!1;}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0;},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,o),n}(t.Event),Yi=function(t){function e(e,i,n){t.call(this,e,{originalEvent:n}),this._defaultPrevented=!1;}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0;},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,i),e}(t.Event),Ji=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this);};Ji.prototype.isEnabled=function(){return !!this._enabled},Ji.prototype.isActive=function(){return !!this._active},Ji.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around);},Ji.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1);},Ji.prototype.onWheel=function(e){if(this.isEnabled()){var i=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=t.browser.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this.isActive()||this._start(e)),e.preventDefault();}},Ji.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t);},Ji.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var n=i.mousePos(this._el,e);this._around=U.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame));}},Ji.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var i=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var r="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(r*o))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0;}var a="number"==typeof this._targetZoom?this._targetZoom:i.zoom,s=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&s&&l){var h=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),u=l(h);i.zoom=t.number(s,a,u),h<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):c=!0;}else i.zoom=a,c=!0;i.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),c&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom;},200));}},Ji.prototype._smoothOutEasing=function(e){var i=t.ease;if(this._prevEase){var n=this._prevEase,o=(t.browser.now()-n.start)/n.duration,r=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-a*a);i=t.bezier(a,s,.25,1);}return this._prevEase={start:t.browser.now(),duration:e,easing:i},i};var Qi=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=i.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this);};Qi.prototype.isEnabled=function(){return !!this._enabled},Qi.prototype.isActive=function(){return !!this._active},Qi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0);},Qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1);},Qi.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),i.disableDrag(),this._startPos=this._lastPos=i.mousePos(this._el,e),this._active=!0);},Qi.prototype._onMouseMove=function(t){var e=i.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=e,this._box||(this._box=i.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(n.x,e.x),r=Math.max(n.x,e.x),a=Math.min(n.y,e.y),s=Math.max(n.y,e.y);i.setTransform(this._box,"translate("+o+"px,"+a+"px)"),this._box.style.width=r-o+"px",this._box.style.height=s-a+"px";}},Qi.prototype._onMouseUp=function(e){if(0===e.button){var n=this._startPos,o=i.mousePos(this._el,e);this._finish(),i.suppressClick(),n.x===o.x&&n.y===o.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(n,o,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}));}},Qi.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t));},Qi.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(i.remove(this._box),this._box=null),i.enableDrag(),delete this._startPos,delete this._lastPos;},Qi.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))};var $i=t.bezier(0,0,.25,1),tn=function(e,i){this._map=e,this._el=i.element||e.getCanvasContainer(),this._state="disabled",this._button=i.button||"right",this._bearingSnap=i.bearingSnap||0,this._pitchWithRotate=!1!==i.pitchWithRotate,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this);};tn.prototype.isEnabled=function(){return "disabled"!==this._state},tn.prototype.isActive=function(){return "active"===this._state},tn.prototype.enable=function(){this.isEnabled()||(this._state="enabled");},tn.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled";}},tn.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=i.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==i.mouseButton(e))return;this._eventButton=0;}i.disableDrag(),t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=i.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault();}},tn.prototype._onMouseMove=function(t){var e=i.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)));},tn.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var i=this._map.transform,n=this._startPos,o=this._lastPos,r=.8*(n.x-o.x),a=-.5*(n.y-o.y),s=i.bearing-r,l=i.pitch-a,c=this._inertia,h=c[c.length-1];this._drainInertiaBuffer(),c.push([t.browser.now(),this._map._normalizeBearing(s,h[1])]),i.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),i.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._startPos=this._lastPos;}},tn.prototype._onMouseUp=function(t){if(i.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",i.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind();}},tn.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind();}},tn.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),i.enableDrag();},tn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos;},tn.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),o=this._inertia,r=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t);};if(o.length<2)r();else{var a=o[0],s=o[o.length-1],l=o[o.length-2],c=i._normalizeBearing(n,l[1]),h=s[1]-a[1],u=h<0?-1:1,p=(s[0]-a[0])/1e3;if(0!==h&&0!==p){var d=Math.abs(h*(.25/p));d>180&&(d=180);var _=d/180;c+=u*d*(_/2),Math.abs(i._normalizeBearing(c,0))<this._bearingSnap&&(c=i._normalizeBearing(0,c)),i.rotateTo(c,{duration:1e3*_,easing:$i,noMoveStart:!0},{originalEvent:t});}else r();}},tn.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},tn.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>0&&i-e[0][0]>160;)e.shift();};var en=t.bezier(0,0,.3,1),nn=function(e,i){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=i.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this);};nn.prototype.isEnabled=function(){return "disabled"!==this._state},nn.prototype.isActive=function(){return "active"===this._state},nn.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled");},nn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled";}},nn.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==i.mouseButton(e)||(i.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),i.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)));},nn.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(i.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),i.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)));},nn.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=i.mousePos(this._el,e),this._inertia=[[t.browser.now(),this._startPos]];},nn.prototype._onMove=function(e){e.preventDefault();var n=i.mousePos(this._el,e);this._lastPos.equals(n)||"pending"===this._state&&n.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=n,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",e),this._fireEvent("movestart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)));},nn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._startPos=this._lastPos,delete this._lastMoveEvent;}},nn.prototype._onMouseUp=function(t){if(0===i.mouseButton(t))switch(this._state){case"active":this._state="enabled",i.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind();}},nn.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind();}},nn.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind();}},nn.prototype._unbind=function(){i.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),i.removeEventListener(t.window.document,"touchend",this._onTouchEnd),i.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),i.removeEventListener(t.window.document,"mouseup",this._onMouseUp),i.removeEventListener(t.window,"blur",this._onBlur);},nn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos;},nn.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var i=e[e.length-1],n=e[0],o=i[1].sub(n[1]),r=(i[0]-n[0])/1e3;if(0===r||i[1].equals(n[1]))this._fireEvent("moveend",t);else{var a=o.mult(.3/r),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,c=a.mult(-l/2);this._map.panBy(c,{duration:1e3*l,easing:en,noMoveStart:!0},{originalEvent:t});}}},nn.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},nn.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>0&&i-e[0][0]>160;)e.shift();};var on=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this);};function rn(t){return t*(2-t)}on.prototype.isEnabled=function(){return !!this._enabled},on.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0);},on.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1);},on.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,n=0,o=0,r=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),r=-1);break;case 40:t.shiftKey?n=-1:(r=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:rn,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*i,pitch:a.getPitch()+10*n,offset:[100*-o,100*-r],center:a.getCenter()};a.easeTo(l,{originalEvent:t});}};var an=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this);};an.prototype.isEnabled=function(){return !!this._enabled},an.prototype.isActive=function(){return !!this._active},an.prototype.enable=function(){this.isEnabled()||(this._enabled=!0);},an.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1);},an.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null;},300)));},an.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t));},an.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t);},an.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd);};var sn=t.bezier(0,0,.15,1),ln=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this);};ln.prototype.isEnabled=function(){return !!this._enabled},ln.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around);},ln.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1);},ln.prototype.disableRotation=function(){this._rotationDisabled=!0;},ln.prototype.enableRotation=function(){this._rotationDisabled=!1;},ln.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var n=i.mousePos(this._el,e.touches[0]),o=i.mousePos(this._el,e.touches[1]),r=n.add(o).div(2);this._startVec=n.sub(o),this._startAround=this._map.transform.pointLocation(r),this._gestureIntent=void 0,this._inertia=[],i.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),i.addEventListener(t.window.document,"touchend",this._onEnd);}},ln.prototype._getTouchEventData=function(t){var e=i.mousePos(this._el,t.touches[0]),n=i.mousePos(this._el,t.touches[1]),o=e.sub(n);return {vec:o,center:e.add(n).div(2),scale:o.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI}},ln.prototype._onMove=function(e){if(2===e.touches.length){var i=this._getTouchEventData(e),n=i.vec,o=i.scale,r=i.bearing;if(!this._gestureIntent){var a=Math.abs(1-o)>.15;Math.abs(r)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=n);}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault();}},ln.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var i=this._map.transform;this._startScale||(this._startScale=i.scale,this._startBearing=i.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,r=n.bearing,a=n.scale,s=i.pointLocation(o),l=i.locationPoint(s);"rotate"===e&&(i.bearing=this._startBearing+r),i.zoom=i.scaleZoom(this._startScale*a),i.setLocationAtPoint(this._startAround,l),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,o]);}},ln.prototype._onEnd=function(e){i.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),i.removeEventListener(t.window.document,"touchend",this._onEnd);var n=this._gestureIntent,o=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,n){this._map.fire(new t.Event(n+"end",{originalEvent:e})),this._drainInertiaBuffer();var r=this._inertia,a=this._map;if(r.length<2)a.snapToNorth({},{originalEvent:e});else{var s=r[r.length-1],l=r[0],c=a.transform.scaleZoom(o*s[1]),h=a.transform.scaleZoom(o*l[1]),u=c-h,p=(s[0]-l[0])/1e3,d=s[2];if(0!==p&&c!==h){var _=.15*u/p;Math.abs(_)>2.5&&(_=_>0?2.5:-2.5);var f=1e3*Math.abs(_/(12*.15)),m=c+_*f/2e3;m<0&&(m=0),a.easeTo({zoom:m,duration:f,easing:sn,around:this._aroundCenter?a.getCenter():a.unproject(d),noMoveStart:!0},{originalEvent:e});}else a.snapToNorth({},{originalEvent:e});}}},ln.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,i=t.browser.now();e.length>2&&i-e[0][0]>160;)e.shift();};var cn={scrollZoom:Ji,boxZoom:Qi,dragRotate:tn,dragPan:nn,keyboard:on,doubleClickZoom:an,touchZoomRotate:ln};var hn=function(e){function i(i,n){e.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this);}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,i,n){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),n)},i.prototype.panTo=function(e,i,n){return this.easeTo(t.extend({center:e},i),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,i,n){return this.easeTo(t.extend({zoom:e},i),n)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,i,n){return this.easeTo(t.extend({bearing:e},i),n)},i.prototype.resetNorth=function(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.cameraForBounds=function(t,e){return t=N.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,e)},i.prototype._cameraForBoxAndBearing=function(e,i,n,o){if("number"==typeof(o=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding){var r=o.padding;o.padding={top:r,bottom:r,right:r,left:r};}if(t.deepEqual(Object.keys(o.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"])){var a=[(o.padding.left-o.padding.right)/2,(o.padding.top-o.padding.bottom)/2],s=Math.min(o.padding.right,o.padding.left),l=Math.min(o.padding.top,o.padding.bottom);o.offset=[o.offset[0]+a[0],o.offset[1]+a[1]];var c=this.transform,h=c.project(U.convert(e)),u=c.project(U.convert(i)),p=h.rotate(-n*Math.PI/180),d=u.rotate(-n*Math.PI/180),_=new t.Point(Math.max(p.x,d.x),Math.max(p.y,d.y)),f=new t.Point(Math.min(p.x,d.x),Math.min(p.y,d.y)),m=t.Point.convert(o.offset),g=_.sub(f),v=(c.width-2*s-2*Math.abs(m.x))/g.x,y=(c.height-2*l-2*Math.abs(m.y))/g.y;if(!(y<0||v<0))return o.center=c.unproject(h.add(u).div(2)),o.zoom=Math.min(c.scaleZoom(c.scale*Math.min(v,y)),o.maxZoom),o.bearing=n,o;t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");}else t.warnOnce("options.padding must be a positive number, or an Object with keys \'bottom\', \'left\', \'right\', \'top\'");},i.prototype.fitBounds=function(t,e,i){return this._fitInternal(this.cameraForBounds(t,e),e,i)},i.prototype.fitScreenCoordinates=function(e,i,n,o,r){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(i)),n,o),o,r)},i.prototype._fitInternal=function(e,i,n){return e?(i=t.extend(e,i)).linear?this.easeTo(i,n):this.flyTo(i,n):this},i.prototype.jumpTo=function(e,i){this.stop();var n=this.transform,o=!1,r=!1,a=!1;return "zoom"in e&&n.zoom!==+e.zoom&&(o=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=U.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(r=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),o&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),r&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),a&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))},i.prototype.easeTo=function(e,i){var n=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,h="pitch"in e?+e.pitch:s,u=o.centerPoint.add(t.Point.convert(e.offset)),p=o.pointLocation(u),d=U.convert(e.center||p);this._normalizeCenter(d);var _,f,m=o.project(p),g=o.project(d).sub(m),v=o.zoomScale(l-r);return e.around&&(_=U.convert(e.around),f=o.locationPoint(_)),this._zooming=l!==r,this._rotating=a!==c,this._pitching=h!==s,this._prepareEase(i,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(e){if(n._zooming&&(o.zoom=t.number(r,l,e)),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,h,e)),_)o.setLocationAtPoint(_,f);else{var p=o.zoomScale(o.zoom-r),d=l>r?Math.min(2,v):Math.max(.5,v),y=Math.pow(d,1-e),x=o.unproject(m.add(g.mult(e*y)).mult(p));o.setLocationAtPoint(o.renderWorldCopies?x.wrap():x,u);}n._fireMoveEvents(i);},function(){e.delayEndEvents?n._easeEndTimeoutID=setTimeout(function(){return n._afterEase(i)},e.delayEndEvents):n._afterEase(i);},e),this},i.prototype._prepareEase=function(e,i){this._moving=!0,i||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e));},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e));},i.prototype._afterEase=function(e){var i=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,i&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e));},i.prototype.flyTo=function(e,i){var n=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,h="pitch"in e?+e.pitch:s,u=o.zoomScale(l-r),p=o.centerPoint.add(t.Point.convert(e.offset)),d=o.pointLocation(p),_=U.convert(e.center||d);this._normalizeCenter(_);var f=o.project(d),m=o.project(_).sub(f),g=e.curve,v=Math.max(o.width,o.height),y=v/u,x=m.mag();if("minZoom"in e){var b=t.clamp(Math.min(e.minZoom,r,l),o.minZoom,o.maxZoom),w=v/o.zoomScale(b-r);g=Math.sqrt(w/x*2);}var E=g*g;function T(t){var e=(y*y-v*v+(t?-1:1)*E*E*x*x)/(2*(t?y:v)*E*x);return Math.log(Math.sqrt(e*e+1)-e)}function S(t){return (Math.exp(t)-Math.exp(-t))/2}function I(t){return (Math.exp(t)+Math.exp(-t))/2}var C=T(0),z=function(t){return I(C)/I(C+g*t)},P=function(t){return v*((I(C)*(S(e=C+g*t)/I(e))-S(C))/E)/x;var e;},R=(T(1)-C)/g;if(Math.abs(x)<1e-6||!isFinite(R)){if(Math.abs(v-y)<1e-6)return this.easeTo(e,i);var A=y<v?-1:1;R=Math.abs(Math.log(y/v))/g,P=function(){return 0},z=function(t){return Math.exp(A*g*t)};}if("duration"in e)e.duration=+e.duration;else{var L="screenSpeed"in e?+e.screenSpeed/g:+e.speed;e.duration=1e3*R/L;}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==c,this._pitching=h!==s,this._prepareEase(i,!1),this._ease(function(e){var u=e*R,d=1/z(u);o.zoom=1===e?l:r+o.scaleZoom(d),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,h,e));var g=1===e?_:o.unproject(f.add(m.mult(P(u))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?g.wrap():g,p),n._fireMoveEvents(i);},function(){return n._afterEase(i)},e),this},i.prototype.isEasing=function(){return !!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this);}return this},i.prototype._ease=function(e,i,n){!1===n.animate||0===n.duration?(e(1),i()):(this._easeStart=t.browser.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback));},i.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop();},i.prototype._normalizeBearing=function(e,i){e=t.wrap(e,-180,180);var n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0;}},i}(t.Evented),un=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this);};un.prototype.getDefaultPosition=function(){return "bottom-right"},un.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},un.prototype.onRemove=function(){i.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0;},un.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:u.ACCESS_TOKEN}];if(t){var i=e.reduce(function(t,i,n){return i.value&&(t+=i.key+"="+i.value+(n<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+i+(this._map._hash?this._map._hash.getHashString(!0):"");}},un.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink());},un.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id;}var i=this._map.style.sourceCaches;for(var n in i){var o=i[n].getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution);}t.sort(function(t,e){return t.length-e.length}),(t=t.filter(function(e,i){for(var n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return !1;return !0})).length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null;}},un.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact");};var pn=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this);};pn.prototype.onAdd=function(t){this._map=t,this._container=i.create("div","mapboxgl-ctrl");var e=i.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},pn.prototype.onRemove=function(){i.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact);},pn.prototype.getDefaultPosition=function(){return "bottom-left"},pn.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none");},pn.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){if(t[e].getSource().mapbox_logo)return !0}return !1}},pn.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact");}};var dn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1;};dn.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},dn.prototype.remove=function(t){for(var e=this._currentlyRunning,i=0,n=e?this._queue.concat(e):this._queue;i<n.length;i+=1){var o=n[i];if(o.id===t)return void(o.cancelled=!0)}},dn.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1;},dn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[];};var _n=t.window.HTMLImageElement,fn=t.window.HTMLElement,mn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},gn=function(n){function o(e){var o=this;if(null!=(e=t.extend({},mn,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var r=new Gi(e.minZoom,e.maxZoom,e.renderWorldCopies);n.call(this,r,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new dn,this._controls=[];var a=e.transformRequest;if(this._transformRequest=a?function(t,e){return a(t,e)||{url:t}}:function(t){return {url:t}},"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container \'"+e.container+"\' not found.")}else{if(!(e.container instanceof fn))throw new Error("Invalid type: \'container\' must be a String or HTMLElement.");this._container=e.container;}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return o._update(!1)}),this.on("zoom",function(){return o._update(!0)}),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var n=t.getCanvasContainer(),o=null,r=!1,a=null;for(var s in cn)t[s]=new cn[s](t,e),e.interactive&&e[s]&&t[s].enable(e[s]);i.addEventListener(n,"mouseout",function(e){t.fire(new Hi("mouseout",t,e));}),i.addEventListener(n,"mousedown",function(o){r=!0,a=i.mousePos(n,o);var s=new Hi("mousedown",t,o);t.fire(s),s.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(o),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(o),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(o));}),i.addEventListener(n,"mouseup",function(e){var i=t.dragRotate.isActive();o&&!i&&t.fire(new Hi("contextmenu",t,o)),o=null,r=!1,t.fire(new Hi("mouseup",t,e));}),i.addEventListener(n,"mousemove",function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var i=e.target;i&&i!==n;)i=i.parentNode;i===n&&t.fire(new Hi("mousemove",t,e));}}),i.addEventListener(n,"mouseover",function(e){for(var i=e.target;i&&i!==n;)i=i.parentNode;i===n&&t.fire(new Hi("mouseover",t,e));}),i.addEventListener(n,"touchstart",function(i){var n=new Ki("touchstart",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(i),t.touchZoomRotate.onStart(i),t.doubleClickZoom.onTouchStart(n));},{passive:!1}),i.addEventListener(n,"touchmove",function(e){t.fire(new Ki("touchmove",t,e));},{passive:!1}),i.addEventListener(n,"touchend",function(e){t.fire(new Ki("touchend",t,e));}),i.addEventListener(n,"touchcancel",function(e){t.fire(new Ki("touchcancel",t,e));}),i.addEventListener(n,"click",function(o){var r=i.mousePos(n,o);(r.equals(a)||r.dist(a)<e.clickTolerance)&&t.fire(new Hi("click",t,o));}),i.addEventListener(n,"dblclick",function(e){var i=new Hi("dblclick",t,e);t.fire(i),i.defaultPrevented||t.doubleClickZoom.onDblClick(i);}),i.addEventListener(n,"contextmenu",function(e){var i=t.dragRotate.isActive();r||i?r&&(o=e):t.fire(new Hi("contextmenu",t,e)),e.preventDefault();}),i.addEventListener(n,"wheel",function(i){e.interactive&&t.stop();var n=new Yi("wheel",t,i);t.fire(n),n.defaultPrevented||t.scrollZoom.onWheel(i);},{passive:!1});}(this,e),this._hash=e.hash&&(new Xi).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new un({customAttribution:e.customAttribution})),this.addControl(new pn,e.logoPosition),this.on("style.load",function(){o.transform.unmodified&&o.jumpTo(o.style.stylesheet);}),this.on("data",function(e){o._update("style"===e.dataType),o.fire(new t.Event(e.dataType+"data",e));}),this.on("dataloading",function(e){o.fire(new t.Event(e.dataType+"dataloading",e));});}n&&(o.__proto__=n),o.prototype=Object.create(n&&n.prototype),o.prototype.constructor=o;var r={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return o.prototype.addControl=function(e,i){if(void 0===i&&e.getDefaultPosition&&(i=e.getDefaultPosition()),void 0===i&&(i="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=e.onAdd(this);this._controls.push(e);var o=this._controlPositions[i];return -1!==i.indexOf("bottom")?o.insertBefore(n,o.firstChild):o.appendChild(n),this},o.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var i=this._controls.indexOf(e);return i>-1&&this._controls.splice(i,1),e.onRemove(this),this},o.prototype.resize=function(e){var i=this._containerDimensions(),n=i[0],o=i[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},o.prototype.getBounds=function(){return this.transform.getBounds()},o.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},o.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(N.convert(t)),this._update()},o.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},o.prototype.getMinZoom=function(){return this.transform.minZoom},o.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},o.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},o.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},o.prototype.getMaxZoom=function(){return this.transform.maxZoom},o.prototype.project=function(t){return this.transform.locationPoint(U.convert(t))},o.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},o.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},o.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},o.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},o.prototype.on=function(t,e,i){var o,r=this;if(void 0===i)return n.prototype.on.call(this,t,e);var a=function(){if("mouseenter"===t||"mouseover"===t){var n=!1;return {layer:e,listener:i,delegates:{mousemove:function(o){var a=r.getLayer(e)?r.queryRenderedFeatures(o.point,{layers:[e]}):[];a.length?n||(n=!0,i.call(r,new Hi(t,r,o.originalEvent,{features:a}))):n=!1;},mouseout:function(){n=!1;}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return {layer:e,listener:i,delegates:{mousemove:function(n){(r.getLayer(e)?r.queryRenderedFeatures(n.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,i.call(r,new Hi(t,r,n.originalEvent)));},mouseout:function(e){a&&(a=!1,i.call(r,new Hi(t,r,e.originalEvent)));}}}}return {layer:e,listener:i,delegates:(o={},o[t]=function(t){var n=r.getLayer(e)?r.queryRenderedFeatures(t.point,{layers:[e]}):[];n.length&&(t.features=n,i.call(r,t),delete t.features);},o)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)r.on(s,a.delegates[s]);return this},o.prototype.off=function(t,e,i){if(void 0===i)return n.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var o=this._delegatedListeners[t],r=0;r<o.length;r++){var a=o[r];if(a.layer===e&&a.listener===i){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(r,1),this}}return this},o.prototype.queryRenderedFeatures=function(e,i){if(!this.style)return [];var n;if(void 0!==i||void 0===e||e instanceof t.Point||Array.isArray(e)||(i=e,e=void 0),i=i||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])n=[t.Point.convert(e)];else{var o=t.Point.convert(e[0]),r=t.Point.convert(e[1]);n=[o,new t.Point(r.x,o.y),r,new t.Point(o.x,r.y),o];}return this.style.queryRenderedFeatures(n,i,this.transform)},o.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},o.prototype.setStyle=function(e,i){if((!i||!1!==i.diff&&!i.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.");}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Ve(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},o.prototype.getStyle=function(){if(this.style)return this.style.serialize()},o.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},o.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},o.prototype.isSourceLoaded=function(e){var i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID \'"+e+"\'")));},o.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e]._tiles;for(var n in i){var o=i[n];if("loaded"!==o.state&&"errored"!==o.state)return !1}}return !0},o.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},o.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},o.prototype.getSource=function(t){return this.style.getSource(t)},o.prototype.addImage=function(e,i,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var r=n.sdf;if(void 0===r&&(r=!1),i instanceof _n){var a=t.browser.getImageData(i),s=a.width,l=a.height,c=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:l},c),pixelRatio:o,sdf:r});}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var h=i.width,u=i.height,p=i.data;this.style.addImage(e,{data:new t.RGBAImage({width:h,height:u},new Uint8Array(p)),pixelRatio:o,sdf:r});}},o.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},o.prototype.removeImage=function(t){this.style.removeImage(t);},o.prototype.loadImage=function(e,i){t.getImage(this._transformRequest(e,t.ResourceType.Image),i);},o.prototype.listImages=function(){return this.style.listImages()},o.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},o.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},o.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},o.prototype.getLayer=function(t){return this.style.getLayer(t)},o.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0)},o.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0)},o.prototype.getFilter=function(t){return this.style.getFilter(t)},o.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0)},o.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},o.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0)},o.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},o.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0)},o.prototype.getLight=function(){return this.style.getLight()},o.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},o.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},o.prototype.getContainer=function(){return this._container},o.prototype.getCanvasContainer=function(){return this._canvasContainer},o.prototype.getCanvas=function(){return this._canvas},o.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},o.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.");},o.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=i.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=i.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=i.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var o=this._controlContainer=i.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=i.create("div","mapboxgl-ctrl-"+t,o);});},o.prototype._resizeCanvas=function(e,i){var n=t.window.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px";},o.prototype._setupPainter=function(){var i=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},e.webGLContextAttributes),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?this.painter=new Zi(n,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")));},o.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}));},o.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}));},o.prototype.loaded=function(){return !this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},o.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},o.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},o.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t);},o.prototype._render=function(){this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var i=this.transform.zoom,n=t.browser.now();this.style.zoomHistory.update(i,n);var o=new t.EvaluationParameters(i,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=o.crossFadingFactor();1===r&&r===this._crossFadingFactor||(e=!0,this._crossFadingFactor=r),this.style.update(o);}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},o.prototype.remove=function(){this._hash&&this._hash.remove(),this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));for(var e=0,i=this._controls;e<i.length;e+=1){i[e].onRemove(this);}this._controls=[];var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),vn(this._canvasContainer),vn(this._controlContainer),vn(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"));},o.prototype._rerender=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame(function(){e._frame=null,e._render();}));},o.prototype._onWindowOnline=function(){this._update();},o.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update();},r.showTileBoundaries.get=function(){return !!this._showTileBoundaries},r.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update());},r.showCollisionBoxes.get=function(){return !!this._showCollisionBoxes},r.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update());},r.showOverdrawInspector.get=function(){return !!this._showOverdrawInspector},r.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update());},r.repaint.get=function(){return !!this._repaint},r.repaint.set=function(t){this._repaint=t,this._update();},r.vertices.get=function(){return !!this._vertices},r.vertices.set=function(t){this._vertices=t,this._update();},Object.defineProperties(o.prototype,r),o}(hn);function vn(t){t.parentNode&&t.parentNode.removeChild(t);}var yn={showCompass:!0,showZoom:!0},xn=function(e){var n=this;this.options=t.extend({},yn,e),this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return n._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return n._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return n._map.resetNorth()}),this._compassArrow=i.create("span","mapboxgl-ctrl-compass-arrow",this._compass));};function bn(t,e,i){if(t=new U(t.lng,t.lat),e){var n=new U(t.lng-360,t.lat),o=new U(t.lng+360,t.lat),r=i.locationPoint(t).distSqr(e);i.locationPoint(n).distSqr(e)<r?t=n:i.locationPoint(o).distSqr(e)<r&&(t=o);}for(;Math.abs(t.lng-i.center.lng)>180;){var a=i.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=i.width&&a.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360;}return t}xn.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t;},xn.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new tn(t,{button:"left",element:this._compass}),i.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},xn.prototype.onRemove=function(){i.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),i.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map;},xn.prototype._createButton=function(t,e,n){var o=i.create("button",t,this._container);return o.type="button",o.setAttribute("aria-label",e),o.addEventListener("click",n),o};var wn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function En(t,e,i){var n=t.classList;for(var o in wn)n.remove("mapboxgl-"+i+"-anchor-"+o);n.add("mapboxgl-"+i+"-anchor-"+e);}var Tn,Sn=function(e){function n(n){if(e.call(this),(arguments[0]instanceof t.window.HTMLElement||2===arguments.length)&&(n=t.extend({element:n},arguments[1])),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._draggable=n&&n.draggable||!1,this._state="inactive",n&&n.element)this._element=n.element,this._offset=t.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=i.create("div");var o=i.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var r=i.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"stroke","none"),r.setAttributeNS(null,"stroke-width","1"),r.setAttributeNS(null,"fill","none"),r.setAttributeNS(null,"fill-rule","evenodd");var a=i.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=i.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var h=c[l],u=i.createNS("http://www.w3.org/2000/svg","ellipse");u.setAttributeNS(null,"opacity","0.04"),u.setAttributeNS(null,"cx","10.5"),u.setAttributeNS(null,"cy","5.80029008"),u.setAttributeNS(null,"rx",h.rx),u.setAttributeNS(null,"ry",h.ry),s.appendChild(u);}var p=i.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"fill",this._color);var d=i.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),p.appendChild(d);var _=i.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"fill","#000000");var f=i.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),_.appendChild(f);var m=i.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");var g=i.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=i.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var y=i.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),g.appendChild(v),g.appendChild(y),a.appendChild(s),a.appendChild(p),a.appendChild(_),a.appendChild(m),a.appendChild(g),o.appendChild(a),this._element.appendChild(o),this._offset=t.Point.convert(n&&n.offset||[0,-14]);}this._element.classList.add("mapboxgl-marker"),this._popup=null;}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),delete this._map),i.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=U.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset;}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat);}return this},n.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup();},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},n.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=bn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),i.setTransform(this._element,wn[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),En(this._element,this._anchor,"marker"));},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},n.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"));},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive";},n.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp));},n.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n}(t.Evented),In={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0};var Cn=function(e){function n(i){e.call(this),this.options=t.extend({},In,i),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this);}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(e){var n;return this._map=e,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Tn?n(Tn):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(function(t){Tn="denied"!==t.state,n(Tn);}):(Tn=!!t.window.navigator.geolocation,n(Tn)),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),i.remove(this._container),this._map=void 0;},n.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish();},n.prototype._updateCamera=function(t){var e=new U(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0});},n.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove();},n.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish();},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0;},n.prototype._setupUI=function(e){var n=this;!1!==e?(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=i.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=i.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Sn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==n._watchState||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new t.Event("trackuserlocationend")));})):t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.");},n.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"));}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions));}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return !0},n.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null);},n}(t.Evented),zn={maxWidth:100,unit:"metric"},Pn=function(e){this.options=t.extend({},zn,e),t.bindAll(["_onMove","setUnit"],this);};function Rn(t,e,i){var n,o,r,a,s,l,c=i&&i.maxWidth||100,h=t._container.clientHeight/2,u=(n=t.unproject([0,h]),o=t.unproject([c,h]),r=Math.PI/180,a=n.lat*r,s=o.lat*r,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*r),6371e3*Math.acos(Math.min(l,1)));if(i&&"imperial"===i.unit){var p=3.2808*u;if(p>5280)An(e,c,p/5280,"mi");else An(e,c,p,"ft");}else if(i&&"nautical"===i.unit){An(e,c,u/1852,"nm");}else An(e,c,u,"m");}function An(t,e,i,n){var o,r,a,s=(o=i,(r=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/r)>=10?10:a>=5?5:a>=3?3:a>=2?2:1)),l=s/i;"m"===n&&s>=1e3&&(s/=1e3,n="km"),t.style.width=e*l+"px",t.innerHTML=s+n;}Pn.prototype.getDefaultPosition=function(){return "bottom-left"},Pn.prototype._onMove=function(){Rn(this._map,this._container,this.options);},Pn.prototype.onAdd=function(t){return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Pn.prototype.onRemove=function(){i.remove(this._container),this._map.off("move",this._onMove),this._map=void 0;},Pn.prototype.setUnit=function(t){this.options.unit=t,Rn(this._map,this._container,this.options);};var Ln=function(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl";};Ln.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=i.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},Ln.prototype.onRemove=function(){i.remove(this._container),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon);},Ln.prototype._checkFullscreenSupport=function(){return !!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Ln.prototype._setupUI=function(){var e=this._fullscreenButton=i.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon);},Ln.prototype._isFullscreen=function(){return this._fullscreen},Ln.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"));},Ln.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen();};var Dn={closeButton:!0,closeOnClick:!0,className:""},Mn=function(e){function n(i){e.call(this),this.options=t.extend(Object.create(Dn),i),t.bindAll(["_update","_onClickClose"],this);}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},n.prototype.isOpen=function(){return !!this._map},n.prototype.remove=function(){return this._content&&i.remove(this._content),this._container&&(i.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=U.convert(t),this._pos=null,this._update(),this},n.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},n.prototype.setHTML=function(e){var i,n=t.window.document.createDocumentFragment(),o=t.window.document.createElement("body");for(o.innerHTML=e;i=o.firstChild;)n.appendChild(i);return this.setDOMContent(n)},n.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},n.prototype._createContent=function(){this._content&&i.remove(this._content),this._content=i.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=i.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose));},n.prototype._update=function(){var e=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=i.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=i.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return e._container.classList.add(t)})),this._map.transform.renderWorldCopies&&(this._lngLat=bn(this._lngLat,this._pos,this._map.transform));var n=this._pos=this._map.project(this._lngLat),o=this.options.anchor,r=function e(i){if(i){if("number"==typeof i){var n=Math.round(Math.sqrt(.5*Math.pow(i,2)));return {center:new t.Point(0,0),top:new t.Point(0,i),"top-left":new t.Point(n,n),"top-right":new t.Point(-n,n),bottom:new t.Point(0,-i),"bottom-left":new t.Point(n,-n),"bottom-right":new t.Point(-n,-n),left:new t.Point(i,0),right:new t.Point(-i,0)}}if(i instanceof t.Point||Array.isArray(i)){var o=t.Point.convert(i);return {center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return {center:t.Point.convert(i.center||[0,0]),top:t.Point.convert(i.top||[0,0]),"top-left":t.Point.convert(i["top-left"]||[0,0]),"top-right":t.Point.convert(i["top-right"]||[0,0]),bottom:t.Point.convert(i.bottom||[0,0]),"bottom-left":t.Point.convert(i["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(i["bottom-right"]||[0,0]),left:t.Point.convert(i.left||[0,0]),right:t.Point.convert(i.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var a,s=this._container.offsetWidth,l=this._container.offsetHeight;a=n.y+r.bottom.y<l?["top"]:n.y>this._map.transform.height-l?["bottom"]:[],n.x<s/2?a.push("left"):n.x>this._map.transform.width-s/2&&a.push("right"),o=0===a.length?"bottom":a.join("-");}var c=n.add(r[o]).round();i.setTransform(this._container,wn[o]+" translate("+c.x+"px,"+c.y+"px)"),En(this._container,o,"popup");}},n.prototype._onClickClose=function(){this.remove();},n}(t.Evented);var kn={version:"0.49.0",supported:e,setRTLTextPlugin:t.setRTLTextPlugin,Map:gn,NavigationControl:xn,GeolocateControl:Cn,AttributionControl:un,ScaleControl:Pn,FullscreenControl:Ln,Popup:Mn,Marker:Sn,Style:Ve,LngLat:U,LngLatBounds:N,Point:t.Point,Evented:t.Evented,config:u,get accessToken(){return u.ACCESS_TOKEN},set accessToken(t){u.ACCESS_TOKEN=t;},get workerCount(){return Vt.workerCount},set workerCount(t){Vt.workerCount=t;},workerUrl:""};return kn});\n\n//\n\nreturn mapboxgl;\n\n})));\n//# sourceMappingURL=mapbox-gl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuanM/ZTE5MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBNYXBib3ggR0wgSlMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIDMtQ2xhdXNlIEJTRCBMaWNlbnNlLiBGdWxsIHRleHQgb2YgbGljZW5zZTogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvYmxvYi92MC40OS4wL0xJQ0VOU0UudHh0ICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xudHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxudHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbihnbG9iYWwubWFwYm94Z2wgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbnZhciBzaGFyZWQsIHdvcmtlciwgbWFwYm94Z2w7XG4vLyBkZWZpbmUgZ2V0cyBjYWxsZWQgdGhyZWUgdGltZXM6IG9uZSBmb3IgZWFjaCBjaHVuay4gd2UgcmVseSBvbiB0aGUgb3JkZXJcbi8vIHRoZXkncmUgaW1wb3J0ZWQgdG8ga25vdyB3aGljaCBpcyB3aGljaFxuZnVuY3Rpb24gZGVmaW5lKF8sIGNodW5rKSB7XG5pZiAoIXNoYXJlZCkge1xuICAgIHNoYXJlZCA9IGNodW5rO1xufSBlbHNlIGlmICghd29ya2VyKSB7XG4gICAgd29ya2VyID0gY2h1bms7XG59IGVsc2Uge1xuICAgIHZhciB3b3JrZXJCdW5kbGVTdHJpbmcgPSAndmFyIHNoYXJlZENodW5rID0ge307ICgnICsgc2hhcmVkICsgJykoc2hhcmVkQ2h1bmspOyAoJyArIHdvcmtlciArICcpKHNoYXJlZENodW5rKTsnXG5cbiAgICB2YXIgc2hhcmVkQ2h1bmsgPSB7fTtcbiAgICBzaGFyZWQoc2hhcmVkQ2h1bmspO1xuICAgIG1hcGJveGdsID0gY2h1bmsoc2hhcmVkQ2h1bmspO1xuICAgIG1hcGJveGdsLndvcmtlclVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFt3b3JrZXJCdW5kbGVTdHJpbmddLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pKTtcbn1cbn1cblxuXG5kZWZpbmUoW1wiZXhwb3J0c1wiXSxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIHQoZT17ZXhwb3J0czp7fX0sZS5leHBvcnRzKSxlLmV4cG9ydHN9dmFyIHI9bjtmdW5jdGlvbiBuKHQsZSxyLG4pe3RoaXMuY3g9Myp0LHRoaXMuYng9Myooci10KS10aGlzLmN4LHRoaXMuYXg9MS10aGlzLmN4LXRoaXMuYngsdGhpcy5jeT0zKmUsdGhpcy5ieT0zKihuLWUpLXRoaXMuY3ksdGhpcy5heT0xLXRoaXMuY3ktdGhpcy5ieSx0aGlzLnAxeD10LHRoaXMucDF5PW4sdGhpcy5wMng9cix0aGlzLnAyeT1uO31uLnByb3RvdHlwZS5zYW1wbGVDdXJ2ZVg9ZnVuY3Rpb24odCl7cmV0dXJuICgodGhpcy5heCp0K3RoaXMuYngpKnQrdGhpcy5jeCkqdH0sbi5wcm90b3R5cGUuc2FtcGxlQ3VydmVZPWZ1bmN0aW9uKHQpe3JldHVybiAoKHRoaXMuYXkqdCt0aGlzLmJ5KSp0K3RoaXMuY3kpKnR9LG4ucHJvdG90eXBlLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVg9ZnVuY3Rpb24odCl7cmV0dXJuICgzKnRoaXMuYXgqdCsyKnRoaXMuYngpKnQrdGhpcy5jeH0sbi5wcm90b3R5cGUuc29sdmVDdXJ2ZVg9ZnVuY3Rpb24odCxlKXt2YXIgcixuLGksYSxvO2Zvcih2b2lkIDA9PT1lJiYoZT0xZS02KSxpPXQsbz0wO288ODtvKyspe2lmKGE9dGhpcy5zYW1wbGVDdXJ2ZVgoaSktdCxNYXRoLmFicyhhKTxlKXJldHVybiBpO3ZhciBzPXRoaXMuc2FtcGxlQ3VydmVEZXJpdmF0aXZlWChpKTtpZihNYXRoLmFicyhzKTwxZS02KWJyZWFrO2ktPWEvczt9aWYoKGk9dCk8KHI9MCkpcmV0dXJuIHI7aWYoaT4obj0xKSlyZXR1cm4gbjtmb3IoO3I8bjspe2lmKGE9dGhpcy5zYW1wbGVDdXJ2ZVgoaSksTWF0aC5hYnMoYS10KTxlKXJldHVybiBpO3Q+YT9yPWk6bj1pLGk9LjUqKG4tcikrcjt9cmV0dXJuIGl9LG4ucHJvdG90eXBlLnNvbHZlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2FtcGxlQ3VydmVZKHRoaXMuc29sdmVDdXJ2ZVgodCxlKSl9O3ZhciBpPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLmNvbHVtbj10LHRoaXMucm93PWUsdGhpcy56b29tPXI7fTtpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLmNvbHVtbix0aGlzLnJvdyx0aGlzLnpvb20pfSxpLnByb3RvdHlwZS56b29tVG89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fem9vbVRvKHQpfSxpLnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHQpfSxpLnByb3RvdHlwZS5fem9vbVRvPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgucG93KDIsdC10aGlzLnpvb20pO3JldHVybiB0aGlzLmNvbHVtbio9ZSx0aGlzLnJvdyo9ZSx0aGlzLnpvb209dCx0aGlzfSxpLnByb3RvdHlwZS5fc3ViPWZ1bmN0aW9uKHQpe3JldHVybiB0PXQuem9vbVRvKHRoaXMuem9vbSksdGhpcy5jb2x1bW4tPXQuY29sdW1uLHRoaXMucm93LT10LnJvdyx0aGlzfTt2YXIgYT1vO2Z1bmN0aW9uIG8odCxlKXt0aGlzLng9dCx0aGlzLnk9ZTt9ZnVuY3Rpb24gcyh0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkpe2lmKCFBcnJheS5pc0FycmF5KGUpfHx0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiAhMTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZighcyh0W3JdLGVbcl0pKXJldHVybiAhMTtyZXR1cm4gITB9aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10JiZudWxsIT09ZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuICExO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciBuIGluIHQpaWYoIXModFtuXSxlW25dKSlyZXR1cm4gITE7cmV0dXJuICEwfXJldHVybiB0PT09ZX1mdW5jdGlvbiB1KHQsZSxuLGkpe3ZhciBhPW5ldyByKHQsZSxuLGkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gYS5zb2x2ZSh0KX19by5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvKHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHQpfSxzdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHQpfSxtdWx0QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludCh0KX0sZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHQpfSxtdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQodCl9LGRpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYodCl9LHJvdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUodCl9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZCh0LGUpfSxtYXRNdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQodCl9LHVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCl9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sbWFnOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD09PXQueCYmdGhpcy55PT09dC55fSxkaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHQpKX0sZGlzdFNxcjpmdW5jdGlvbih0KXt2YXIgZT10LngtdGhpcy54LHI9dC55LXRoaXMueTtyZXR1cm4gZSplK3Iqcn0sYW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sYW5nbGVUbzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnktdC55LHRoaXMueC10LngpfSxhbmdsZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKHQueCx0LnkpfSxhbmdsZVdpdGhTZXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLngqZS10aGlzLnkqdCx0aGlzLngqdCt0aGlzLnkqZSl9LF9tYXRNdWx0OmZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0qdGhpcy54K3RbMV0qdGhpcy55LHI9dFsyXSp0aGlzLngrdFszXSp0aGlzLnk7cmV0dXJuIHRoaXMueD1lLHRoaXMueT1yLHRoaXN9LF9hZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LF9zdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9LF9tdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LF9kaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc30sX211bHRCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzfSxfZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LngsdGhpcy55Lz10LnksdGhpc30sX3VuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGl2KHRoaXMubWFnKCkpLHRoaXN9LF9wZXJwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy55O3JldHVybiB0aGlzLnk9dGhpcy54LHRoaXMueD0tdCx0aGlzfSxfcm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLHI9TWF0aC5zaW4odCksbj1lKnRoaXMueC1yKnRoaXMueSxpPXIqdGhpcy54K2UqdGhpcy55O3JldHVybiB0aGlzLng9bix0aGlzLnk9aSx0aGlzfSxfcm90YXRlQXJvdW5kOmZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5jb3ModCksbj1NYXRoLnNpbih0KSxpPWUueCtyKih0aGlzLngtZS54KS1uKih0aGlzLnktZS55KSxhPWUueStuKih0aGlzLngtZS54KStyKih0aGlzLnktZS55KTtyZXR1cm4gdGhpcy54PWksdGhpcy55PWEsdGhpc30sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfX0sby5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygbz90OkFycmF5LmlzQXJyYXkodCk/bmV3IG8odFswXSx0WzFdKTp0fTt2YXIgcD11KC4yNSwuMSwuMjUsMSk7ZnVuY3Rpb24gbCh0LGUscil7cmV0dXJuIE1hdGgubWluKHIsTWF0aC5tYXgoZSx0KSl9ZnVuY3Rpb24gYyh0KXtmb3IodmFyIGU9W10scj1hcmd1bWVudHMubGVuZ3RoLTE7ci0tID4wOyllW3JdPWFyZ3VtZW50c1tyKzFdO2Zvcih2YXIgbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07Zm9yKHZhciBvIGluIGEpdFtvXT1hW29dO31yZXR1cm4gdH12YXIgaD0xO2Z1bmN0aW9uIGYoKXtyZXR1cm4gaCsrfWZ1bmN0aW9uIHkodCxlKXt0LmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XSYmKGVbdF09ZVt0XS5iaW5kKGUpKTt9KTt9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiAtMSE9PXQuaW5kZXhPZihlLHQubGVuZ3RoLWUubGVuZ3RoKX1mdW5jdGlvbiBtKHQsZSxyKXt2YXIgbj17fTtmb3IodmFyIGkgaW4gdCluW2ldPWUuY2FsbChyfHx0aGlzLHRbaV0saSx0KTtyZXR1cm4gbn1mdW5jdGlvbiB2KHQsZSxyKXt2YXIgbj17fTtmb3IodmFyIGkgaW4gdCllLmNhbGwocnx8dGhpcyx0W2ldLGksdCkmJihuW2ldPXRbaV0pO3JldHVybiBufWZ1bmN0aW9uIGcodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5tYXAoZyk6XCJvYmplY3RcIj09dHlwZW9mIHQmJnQ/bSh0LGcpOnR9dmFyIHg9e307ZnVuY3Rpb24gYih0KXt4W3RdfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2Fybih0KSx4W3RdPSEwKTt9ZnVuY3Rpb24gXyh0LGUscil7cmV0dXJuIChyLnktdC55KSooZS54LXQueCk+KGUueS10LnkpKihyLngtdC54KX1mdW5jdGlvbiB3KHQpe2Zvcih2YXIgZT0wLHI9MCxuPXQubGVuZ3RoLGk9bi0xLGE9dm9pZCAwLG89dm9pZCAwO3I8bjtpPXIrKylhPXRbcl0sZSs9KChvPXRbaV0pLngtYS54KSooYS55K28ueSk7cmV0dXJuIGV9dmFyIEE9c2VsZi5wZXJmb3JtYW5jZSYmc2VsZi5wZXJmb3JtYW5jZS5ub3c/c2VsZi5wZXJmb3JtYW5jZS5ub3cuYmluZChzZWxmLnBlcmZvcm1hbmNlKTpEYXRlLm5vdy5iaW5kKERhdGUpLGs9c2VsZi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHNlbGYubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZWxmLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8c2VsZi5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSx6PXNlbGYuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fHNlbGYubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHNlbGYud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHNlbGYubXNDYW5jZWxBbmltYXRpb25GcmFtZSxTPXtub3c6QSxmcmFtZTpmdW5jdGlvbih0KXt2YXIgZT1rKHQpO3JldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHooZSl9fX0sZ2V0SW1hZ2VEYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxyPWUuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2FudmFzIDJkIGNvbnRleHRcIik7cmV0dXJuIGUud2lkdGg9dC53aWR0aCxlLmhlaWdodD10LmhlaWdodCxyLmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxyLmdldEltYWdlRGF0YSgwLDAsdC53aWR0aCx0LmhlaWdodCl9LHJlc29sdmVVUkw6ZnVuY3Rpb24odCl7dmFyIGU9c2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gZS5ocmVmPXQsZS5ocmVmfSxoYXJkd2FyZUNvbmN1cnJlbmN5OnNlbGYubmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3l8fDQsZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gc2VsZi5kZXZpY2VQaXhlbFJhdGlvfSxzdXBwb3J0c1dlYnA6ITF9O2lmKHNlbGYuZG9jdW1lbnQpe3ZhciBCPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtCLm9ubG9hZD1mdW5jdGlvbigpe1Muc3VwcG9ydHNXZWJwPSEwO30sQi5zcmM9XCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBUUFBQUFmUS8vNzN2LytCaU9oL0FBQT1cIjt9dmFyIEk9e1Vua25vd246XCJVbmtub3duXCIsU3R5bGU6XCJTdHlsZVwiLFNvdXJjZTpcIlNvdXJjZVwiLFRpbGU6XCJUaWxlXCIsR2x5cGhzOlwiR2x5cGhzXCIsU3ByaXRlSW1hZ2U6XCJTcHJpdGVJbWFnZVwiLFNwcml0ZUpTT046XCJTcHJpdGVKU09OXCIsSW1hZ2U6XCJJbWFnZVwifTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKEkpO3ZhciBWPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyLG4pe3QuY2FsbCh0aGlzLGUpLHRoaXMuc3RhdHVzPXIsdGhpcy51cmw9bix0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHRoaXMubWVzc2FnZT1lO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lK1wiOiBcIit0aGlzLm1lc3NhZ2UrXCIgKFwiK3RoaXMuc3RhdHVzK1wiKTogXCIrdGhpcy51cmx9LGV9KEVycm9yKTtmdW5jdGlvbiBQKHQpe3ZhciBlPW5ldyBzZWxmLlhNTEh0dHBSZXF1ZXN0O2Zvcih2YXIgciBpbiBlLm9wZW4odC5tZXRob2R8fFwiR0VUXCIsdC51cmwsITApLHQuaGVhZGVycyllLnNldFJlcXVlc3RIZWFkZXIocix0LmhlYWRlcnNbcl0pO3JldHVybiBlLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09PXQuY3JlZGVudGlhbHMsZX12YXIgTT1mdW5jdGlvbih0LGUpe3ZhciByPVAodCk7cmV0dXJuIHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIixyLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKG5ldyBFcnJvcihyLnN0YXR1c1RleHQpKTt9LHIub25sb2FkPWZ1bmN0aW9uKCl7dmFyIG49ci5yZXNwb25zZTtpZigwPT09bi5ieXRlTGVuZ3RoJiYyMDA9PT1yLnN0YXR1cylyZXR1cm4gZShuZXcgRXJyb3IoXCJodHRwIHN0YXR1cyAyMDAgcmV0dXJuZWQgd2l0aG91dCBjb250ZW50LlwiKSk7KHIuc3RhdHVzPj0yMDAmJnIuc3RhdHVzPDMwMHx8MD09PXIuc3RhdHVzKSYmci5yZXNwb25zZT9lKG51bGwse2RhdGE6bixjYWNoZUNvbnRyb2w6ci5nZXRSZXNwb25zZUhlYWRlcihcIkNhY2hlLUNvbnRyb2xcIiksZXhwaXJlczpyLmdldFJlc3BvbnNlSGVhZGVyKFwiRXhwaXJlc1wiKX0pOmUobmV3IFYoci5zdGF0dXNUZXh0LHIuc3RhdHVzLHQudXJsKSk7fSxyLnNlbmQoKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIHIuYWJvcnQoKX19fTtmdW5jdGlvbiBDKHQsZSxyKXtyW3RdJiYtMSE9PXJbdF0uaW5kZXhPZihlKXx8KHJbdF09clt0XXx8W10sclt0XS5wdXNoKGUpKTt9ZnVuY3Rpb24gVCh0LGUscil7aWYociYmclt0XSl7dmFyIG49clt0XS5pbmRleE9mKGUpOy0xIT09biYmclt0XS5zcGxpY2UobiwxKTt9fXZhciBFPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pLGModGhpcyxlKSx0aGlzLnR5cGU9dDt9LEY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZvaWQgMD09PXImJihyPXt9KSx0LmNhbGwodGhpcyxcImVycm9yXCIsYyh7ZXJyb3I6ZX0scikpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZX0oRSksTz1mdW5jdGlvbigpe307Ty5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyc3x8e30sQyh0LGUsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfSxPLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVCh0LGUsdGhpcy5fbGlzdGVuZXJzKSxUKHQsZSx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzKSx0aGlzfSxPLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30sQyh0LGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc30sTy5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9bmV3IEUodCxhcmd1bWVudHNbMV18fHt9KSk7dmFyIGU9dC50eXBlO2lmKHRoaXMubGlzdGVucyhlKSl7dC50YXJnZXQ9dGhpcztmb3IodmFyIHI9MCxuPXRoaXMuX2xpc3RlbmVycyYmdGhpcy5fbGlzdGVuZXJzW2VdP3RoaXMuX2xpc3RlbmVyc1tlXS5zbGljZSgpOltdO3I8bi5sZW5ndGg7cis9MSl7bltyXS5jYWxsKHRoaXMsdCk7fWZvcih2YXIgaT0wLGE9dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXT90aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2VdLnNsaWNlKCk6W107aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldO1QoZSxvLHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLG8uY2FsbCh0aGlzLHQpO312YXIgcz10aGlzLl9ldmVudGVkUGFyZW50O3MmJihjKHQsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZXZlbnRlZFBhcmVudERhdGE/dGhpcy5fZXZlbnRlZFBhcmVudERhdGEoKTp0aGlzLl9ldmVudGVkUGFyZW50RGF0YSkscy5maXJlKHQpKTt9ZWxzZSB0IGluc3RhbmNlb2YgRiYmY29uc29sZS5lcnJvcih0LmVycm9yKTtyZXR1cm4gdGhpc30sTy5wcm90b3R5cGUubGlzdGVucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbdF0mJnRoaXMuX2xpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKHQpfSxPLnByb3RvdHlwZS5zZXRFdmVudGVkUGFyZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9dCx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT1lLHRoaXN9O3ZhciBMPXskdmVyc2lvbjo4LCRyb290Ont2ZXJzaW9uOntyZXF1aXJlZDohMCx0eXBlOlwiZW51bVwiLHZhbHVlczpbOF19LG5hbWU6e3R5cGU6XCJzdHJpbmdcIn0sbWV0YWRhdGE6e3R5cGU6XCIqXCJ9LGNlbnRlcjp7dHlwZTpcImFycmF5XCIsdmFsdWU6XCJudW1iZXJcIn0sem9vbTp7dHlwZTpcIm51bWJlclwifSxiZWFyaW5nOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLHBlcmlvZDozNjAsdW5pdHM6XCJkZWdyZWVzXCJ9LHBpdGNoOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLHVuaXRzOlwiZGVncmVlc1wifSxsaWdodDp7dHlwZTpcImxpZ2h0XCJ9LHNvdXJjZXM6e3JlcXVpcmVkOiEwLHR5cGU6XCJzb3VyY2VzXCJ9LHNwcml0ZTp7dHlwZTpcInN0cmluZ1wifSxnbHlwaHM6e3R5cGU6XCJzdHJpbmdcIn0sdHJhbnNpdGlvbjp7dHlwZTpcInRyYW5zaXRpb25cIn0sbGF5ZXJzOntyZXF1aXJlZDohMCx0eXBlOlwiYXJyYXlcIix2YWx1ZTpcImxheWVyXCJ9fSxzb3VyY2VzOntcIipcIjp7dHlwZTpcInNvdXJjZVwifX0sc291cmNlOltcInNvdXJjZV92ZWN0b3JcIixcInNvdXJjZV9yYXN0ZXJcIixcInNvdXJjZV9yYXN0ZXJfZGVtXCIsXCJzb3VyY2VfZ2VvanNvblwiLFwic291cmNlX3ZpZGVvXCIsXCJzb3VyY2VfaW1hZ2VcIl0sc291cmNlX3ZlY3Rvcjp7dHlwZTp7cmVxdWlyZWQ6ITAsdHlwZTpcImVudW1cIix2YWx1ZXM6e3ZlY3Rvcjp7fX19LHVybDp7dHlwZTpcInN0cmluZ1wifSx0aWxlczp7dHlwZTpcImFycmF5XCIsdmFsdWU6XCJzdHJpbmdcIn0sYm91bmRzOnt0eXBlOlwiYXJyYXlcIix2YWx1ZTpcIm51bWJlclwiLGxlbmd0aDo0LGRlZmF1bHQ6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sc2NoZW1lOnt0eXBlOlwiZW51bVwiLHZhbHVlczp7eHl6Ont9LHRtczp7fX0sZGVmYXVsdDpcInh5elwifSxtaW56b29tOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowfSxtYXh6b29tOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoyMn0sYXR0cmlidXRpb246e3R5cGU6XCJzdHJpbmdcIn0sXCIqXCI6e3R5cGU6XCIqXCJ9fSxzb3VyY2VfcmFzdGVyOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOlwiZW51bVwiLHZhbHVlczp7cmFzdGVyOnt9fX0sdXJsOnt0eXBlOlwic3RyaW5nXCJ9LHRpbGVzOnt0eXBlOlwiYXJyYXlcIix2YWx1ZTpcInN0cmluZ1wifSxib3VuZHM6e3R5cGU6XCJhcnJheVwiLHZhbHVlOlwibnVtYmVyXCIsbGVuZ3RoOjQsZGVmYXVsdDpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxtaW56b29tOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowfSxtYXh6b29tOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoyMn0sdGlsZVNpemU6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjUxMix1bml0czpcInBpeGVsc1wifSxzY2hlbWU6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnt4eXo6e30sdG1zOnt9fSxkZWZhdWx0OlwieHl6XCJ9LGF0dHJpYnV0aW9uOnt0eXBlOlwic3RyaW5nXCJ9LFwiKlwiOnt0eXBlOlwiKlwifX0sc291cmNlX3Jhc3Rlcl9kZW06e3R5cGU6e3JlcXVpcmVkOiEwLHR5cGU6XCJlbnVtXCIsdmFsdWVzOntcInJhc3Rlci1kZW1cIjp7fX19LHVybDp7dHlwZTpcInN0cmluZ1wifSx0aWxlczp7dHlwZTpcImFycmF5XCIsdmFsdWU6XCJzdHJpbmdcIn0sYm91bmRzOnt0eXBlOlwiYXJyYXlcIix2YWx1ZTpcIm51bWJlclwiLGxlbmd0aDo0LGRlZmF1bHQ6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sbWluem9vbTp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MH0sbWF4em9vbTp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MjJ9LHRpbGVTaXplOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDo1MTIsdW5pdHM6XCJwaXhlbHNcIn0sYXR0cmlidXRpb246e3R5cGU6XCJzdHJpbmdcIn0sZW5jb2Rpbmc6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnt0ZXJyYXJpdW06e30sbWFwYm94Ont9fSxkZWZhdWx0OlwibWFwYm94XCJ9LFwiKlwiOnt0eXBlOlwiKlwifX0sc291cmNlX2dlb2pzb246e3R5cGU6e3JlcXVpcmVkOiEwLHR5cGU6XCJlbnVtXCIsdmFsdWVzOntnZW9qc29uOnt9fX0sZGF0YTp7dHlwZTpcIipcIn0sbWF4em9vbTp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MTh9LGF0dHJpYnV0aW9uOnt0eXBlOlwic3RyaW5nXCJ9LGJ1ZmZlcjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MTI4LG1heGltdW06NTEyLG1pbmltdW06MH0sdG9sZXJhbmNlOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDouMzc1fSxjbHVzdGVyOnt0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHQ6ITF9LGNsdXN0ZXJSYWRpdXM6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjUwLG1pbmltdW06MH0sY2x1c3Rlck1heFpvb206e3R5cGU6XCJudW1iZXJcIn0sbGluZU1ldHJpY3M6e3R5cGU6XCJib29sZWFuXCIsZGVmYXVsdDohMX0sZ2VuZXJhdGVJZDp7dHlwZTpcImJvb2xlYW5cIixkZWZhdWx0OiExfX0sc291cmNlX3ZpZGVvOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOlwiZW51bVwiLHZhbHVlczp7dmlkZW86e319fSx1cmxzOntyZXF1aXJlZDohMCx0eXBlOlwiYXJyYXlcIix2YWx1ZTpcInN0cmluZ1wifSxjb29yZGluYXRlczp7cmVxdWlyZWQ6ITAsdHlwZTpcImFycmF5XCIsbGVuZ3RoOjQsdmFsdWU6e3R5cGU6XCJhcnJheVwiLGxlbmd0aDoyLHZhbHVlOlwibnVtYmVyXCJ9fX0sc291cmNlX2ltYWdlOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOlwiZW51bVwiLHZhbHVlczp7aW1hZ2U6e319fSx1cmw6e3JlcXVpcmVkOiEwLHR5cGU6XCJzdHJpbmdcIn0sY29vcmRpbmF0ZXM6e3JlcXVpcmVkOiEwLHR5cGU6XCJhcnJheVwiLGxlbmd0aDo0LHZhbHVlOnt0eXBlOlwiYXJyYXlcIixsZW5ndGg6Mix2YWx1ZTpcIm51bWJlclwifX19LGxheWVyOntpZDp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwfSx0eXBlOnt0eXBlOlwiZW51bVwiLHZhbHVlczp7ZmlsbDp7fSxsaW5lOnt9LHN5bWJvbDp7fSxjaXJjbGU6e30saGVhdG1hcDp7fSxcImZpbGwtZXh0cnVzaW9uXCI6e30scmFzdGVyOnt9LGhpbGxzaGFkZTp7fSxiYWNrZ3JvdW5kOnt9fSxyZXF1aXJlZDohMH0sbWV0YWRhdGE6e3R5cGU6XCIqXCJ9LHNvdXJjZTp7dHlwZTpcInN0cmluZ1wifSxcInNvdXJjZS1sYXllclwiOnt0eXBlOlwic3RyaW5nXCJ9LG1pbnpvb206e3R5cGU6XCJudW1iZXJcIixtaW5pbXVtOjAsbWF4aW11bToyNH0sbWF4em9vbTp7dHlwZTpcIm51bWJlclwiLG1pbmltdW06MCxtYXhpbXVtOjI0fSxmaWx0ZXI6e3R5cGU6XCJmaWx0ZXJcIn0sbGF5b3V0Ont0eXBlOlwibGF5b3V0XCJ9LHBhaW50Ont0eXBlOlwicGFpbnRcIn19LGxheW91dDpbXCJsYXlvdXRfZmlsbFwiLFwibGF5b3V0X2xpbmVcIixcImxheW91dF9jaXJjbGVcIixcImxheW91dF9oZWF0bWFwXCIsXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIixcImxheW91dF9zeW1ib2xcIixcImxheW91dF9yYXN0ZXJcIixcImxheW91dF9oaWxsc2hhZGVcIixcImxheW91dF9iYWNrZ3JvdW5kXCJdLGxheW91dF9iYWNrZ3JvdW5kOnt2aXNpYmlsaXR5Ont0eXBlOlwiZW51bVwiLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LGxheW91dF9maWxsOnt2aXNpYmlsaXR5Ont0eXBlOlwiZW51bVwiLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LGxheW91dF9jaXJjbGU6e3Zpc2liaWxpdHk6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sbGF5b3V0X2hlYXRtYXA6e3Zpc2liaWxpdHk6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sbGF5b3V0X2xpbmU6e1wibGluZS1jYXBcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e2J1dHQ6e30scm91bmQ6e30sc3F1YXJlOnt9fSxkZWZhdWx0OlwiYnV0dFwiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtam9pblwiOnt0eXBlOlwiZW51bVwiLHZhbHVlczp7YmV2ZWw6e30scm91bmQ6e30sbWl0ZXI6e319LGRlZmF1bHQ6XCJtaXRlclwiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLW1pdGVyLWxpbWl0XCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjIscmVxdWlyZXM6W3tcImxpbmUtam9pblwiOlwibWl0ZXJcIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtcm91bmQtbGltaXRcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MS4wNSxyZXF1aXJlczpbe1wibGluZS1qb2luXCI6XCJyb3VuZFwifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LHZpc2liaWxpdHk6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sbGF5b3V0X3N5bWJvbDp7XCJzeW1ib2wtcGxhY2VtZW50XCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOntwb2ludDp7fSxsaW5lOnt9LFwibGluZS1jZW50ZXJcIjp7fX0sZGVmYXVsdDpcInBvaW50XCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic3ltYm9sLXNwYWNpbmdcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MjUwLG1pbmltdW06MSx1bml0czpcInBpeGVsc1wiLHJlcXVpcmVzOlt7XCJzeW1ib2wtcGxhY2VtZW50XCI6XCJsaW5lXCJ9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjp7dHlwZTpcImJvb2xlYW5cIixkZWZhdWx0OiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC16LW9yZGVyXCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOntcInZpZXdwb3J0LXlcIjp7fSxzb3VyY2U6e319LGRlZmF1bHQ6XCJ2aWV3cG9ydC15XCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6e3R5cGU6XCJib29sZWFuXCIsZGVmYXVsdDohMSxyZXF1aXJlczpbXCJpY29uLWltYWdlXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24taWdub3JlLXBsYWNlbWVudFwiOnt0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHQ6ITEscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9wdGlvbmFsXCI6e3R5cGU6XCJib29sZWFuXCIsZGVmYXVsdDohMSxyZXF1aXJlczpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tcm90YXRpb24tYWxpZ25tZW50XCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e30sYXV0bzp7fX0sZGVmYXVsdDpcImF1dG9cIixyZXF1aXJlczpbXCJpY29uLWltYWdlXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tc2l6ZVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxLG1pbmltdW06MCx1bml0czpcImZhY3RvciBvZiB0aGUgb3JpZ2luYWwgaWNvbiBzaXplXCIscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10ZXh0LWZpdFwiOnt0eXBlOlwiZW51bVwiLHZhbHVlczp7bm9uZTp7fSx3aWR0aDp7fSxoZWlnaHQ6e30sYm90aDp7fX0sZGVmYXVsdDpcIm5vbmVcIixyZXF1aXJlczpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tdGV4dC1maXQtcGFkZGluZ1wiOnt0eXBlOlwiYXJyYXlcIix2YWx1ZTpcIm51bWJlclwiLGxlbmd0aDo0LGRlZmF1bHQ6WzAsMCwwLDBdLHVuaXRzOlwicGl4ZWxzXCIscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiLFwidGV4dC1maWVsZFwiLHtcImljb24tdGV4dC1maXRcIjpbXCJib3RoXCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdfV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1pbWFnZVwiOnt0eXBlOlwic3RyaW5nXCIsdG9rZW5zOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXJvdGF0ZVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLHBlcmlvZDozNjAsdW5pdHM6XCJkZWdyZWVzXCIscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1wYWRkaW5nXCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjIsbWluaW11bTowLHVuaXRzOlwicGl4ZWxzXCIscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLWtlZXAtdXByaWdodFwiOnt0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHQ6ITEscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiLHtcImljb24tcm90YXRpb24tYWxpZ25tZW50XCI6XCJtYXBcIn0se1wic3ltYm9sLXBsYWNlbWVudFwiOltcImxpbmVcIixcImxpbmUtY2VudGVyXCJdfV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1vZmZzZXRcIjp7dHlwZTpcImFycmF5XCIsdmFsdWU6XCJudW1iZXJcIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHJlcXVpcmVzOltcImljb24taW1hZ2VcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tYW5jaG9yXCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOntjZW50ZXI6e30sbGVmdDp7fSxyaWdodDp7fSx0b3A6e30sYm90dG9tOnt9LFwidG9wLWxlZnRcIjp7fSxcInRvcC1yaWdodFwiOnt9LFwiYm90dG9tLWxlZnRcIjp7fSxcImJvdHRvbS1yaWdodFwiOnt9fSxkZWZhdWx0OlwiY2VudGVyXCIscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fSxhdXRvOnt9fSxkZWZhdWx0OlwiYXV0b1wiLHJlcXVpcmVzOltcImljb24taW1hZ2VcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fSxhdXRvOnt9fSxkZWZhdWx0OlwiYXV0b1wiLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fSxhdXRvOnt9fSxkZWZhdWx0OlwiYXV0b1wiLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1maWVsZFwiOnt0eXBlOlwiZm9ybWF0dGVkXCIsZGVmYXVsdDpcIlwiLHRva2VuczohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1mb250XCI6e3R5cGU6XCJhcnJheVwiLHZhbHVlOlwic3RyaW5nXCIsZGVmYXVsdDpbXCJPcGVuIFNhbnMgUmVndWxhclwiLFwiQXJpYWwgVW5pY29kZSBNUyBSZWd1bGFyXCJdLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtc2l6ZVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxNixtaW5pbXVtOjAsdW5pdHM6XCJwaXhlbHNcIixyZXF1aXJlczpbXCJ0ZXh0LWZpZWxkXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC13aWR0aFwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxMCxtaW5pbXVtOjAsdW5pdHM6XCJlbXNcIixyZXF1aXJlczpbXCJ0ZXh0LWZpZWxkXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWxpbmUtaGVpZ2h0XCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjEuMix1bml0czpcImVtc1wiLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLHVuaXRzOlwiZW1zXCIscmVxdWlyZXM6W1widGV4dC1maWVsZFwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1qdXN0aWZ5XCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOntsZWZ0Ont9LGNlbnRlcjp7fSxyaWdodDp7fX0sZGVmYXVsdDpcImNlbnRlclwiLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtYW5jaG9yXCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOntjZW50ZXI6e30sbGVmdDp7fSxyaWdodDp7fSx0b3A6e30sYm90dG9tOnt9LFwidG9wLWxlZnRcIjp7fSxcInRvcC1yaWdodFwiOnt9LFwiYm90dG9tLWxlZnRcIjp7fSxcImJvdHRvbS1yaWdodFwiOnt9fSxkZWZhdWx0OlwiY2VudGVyXCIscmVxdWlyZXM6W1widGV4dC1maWVsZFwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtYW5nbGVcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6NDUsdW5pdHM6XCJkZWdyZWVzXCIscmVxdWlyZXM6W1widGV4dC1maWVsZFwiLHtcInN5bWJvbC1wbGFjZW1lbnRcIjpbXCJsaW5lXCIsXCJsaW5lLWNlbnRlclwiXX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRlXCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjAscGVyaW9kOjM2MCx1bml0czpcImRlZ3JlZXNcIixyZXF1aXJlczpbXCJ0ZXh0LWZpZWxkXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXBhZGRpbmdcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MixtaW5pbXVtOjAsdW5pdHM6XCJwaXhlbHNcIixyZXF1aXJlczpbXCJ0ZXh0LWZpZWxkXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQta2VlcC11cHJpZ2h0XCI6e3R5cGU6XCJib29sZWFuXCIsZGVmYXVsdDohMCxyZXF1aXJlczpbXCJ0ZXh0LWZpZWxkXCIse1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIjpcIm1hcFwifSx7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wibGluZVwiLFwibGluZS1jZW50ZXJcIl19XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zZm9ybVwiOnt0eXBlOlwiZW51bVwiLHZhbHVlczp7bm9uZTp7fSx1cHBlcmNhc2U6e30sbG93ZXJjYXNlOnt9fSxkZWZhdWx0Olwibm9uZVwiLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtb2Zmc2V0XCI6e3R5cGU6XCJhcnJheVwiLHZhbHVlOlwibnVtYmVyXCIsdW5pdHM6XCJlbXNcIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtYWxsb3ctb3ZlcmxhcFwiOnt0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHQ6ITEscmVxdWlyZXM6W1widGV4dC1maWVsZFwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIjp7dHlwZTpcImJvb2xlYW5cIixkZWZhdWx0OiExLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1vcHRpb25hbFwiOnt0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHQ6ITEscmVxdWlyZXM6W1widGV4dC1maWVsZFwiLFwiaWNvbi1pbWFnZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sdmlzaWJpbGl0eTp7dHlwZTpcImVudW1cIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxsYXlvdXRfcmFzdGVyOnt2aXNpYmlsaXR5Ont0eXBlOlwiZW51bVwiLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LGxheW91dF9oaWxsc2hhZGU6e3Zpc2liaWxpdHk6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sZmlsdGVyOnt0eXBlOlwiYXJyYXlcIix2YWx1ZTpcIipcIn0sZmlsdGVyX29wZXJhdG9yOnt0eXBlOlwiZW51bVwiLHZhbHVlczp7XCI9PVwiOnt9LFwiIT1cIjp7fSxcIj5cIjp7fSxcIj49XCI6e30sXCI8XCI6e30sXCI8PVwiOnt9LGluOnt9LFwiIWluXCI6e30sYWxsOnt9LGFueTp7fSxub25lOnt9LGhhczp7fSxcIiFoYXNcIjp7fX19LGdlb21ldHJ5X3R5cGU6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOntQb2ludDp7fSxMaW5lU3RyaW5nOnt9LFBvbHlnb246e319fSxmdW5jdGlvbl9zdG9wOnt0eXBlOlwiYXJyYXlcIixtaW5pbXVtOjAsbWF4aW11bToyMix2YWx1ZTpbXCJudW1iZXJcIixcImNvbG9yXCJdLGxlbmd0aDoyfSxleHByZXNzaW9uOnt0eXBlOlwiYXJyYXlcIix2YWx1ZTpcIipcIixtaW5pbXVtOjF9LGV4cHJlc3Npb25fbmFtZTp7dHlwZTpcImVudW1cIix2YWx1ZXM6e2xldDp7Z3JvdXA6XCJWYXJpYWJsZSBiaW5kaW5nXCJ9LHZhcjp7Z3JvdXA6XCJWYXJpYWJsZSBiaW5kaW5nXCJ9LGxpdGVyYWw6e2dyb3VwOlwiVHlwZXNcIn0sYXJyYXk6e2dyb3VwOlwiVHlwZXNcIn0sYXQ6e2dyb3VwOlwiTG9va3VwXCJ9LGNhc2U6e2dyb3VwOlwiRGVjaXNpb25cIn0sbWF0Y2g6e2dyb3VwOlwiRGVjaXNpb25cIn0sY29hbGVzY2U6e2dyb3VwOlwiRGVjaXNpb25cIn0sc3RlcDp7Z3JvdXA6XCJSYW1wcywgc2NhbGVzLCBjdXJ2ZXNcIn0saW50ZXJwb2xhdGU6e2dyb3VwOlwiUmFtcHMsIHNjYWxlcywgY3VydmVzXCJ9LFwiaW50ZXJwb2xhdGUtaGNsXCI6e2dyb3VwOlwiUmFtcHMsIHNjYWxlcywgY3VydmVzXCJ9LFwiaW50ZXJwb2xhdGUtbGFiXCI6e2dyb3VwOlwiUmFtcHMsIHNjYWxlcywgY3VydmVzXCJ9LGxuMjp7Z3JvdXA6XCJNYXRoXCJ9LHBpOntncm91cDpcIk1hdGhcIn0sZTp7Z3JvdXA6XCJNYXRoXCJ9LHR5cGVvZjp7Z3JvdXA6XCJUeXBlc1wifSxzdHJpbmc6e2dyb3VwOlwiVHlwZXNcIn0sbnVtYmVyOntncm91cDpcIlR5cGVzXCJ9LGJvb2xlYW46e2dyb3VwOlwiVHlwZXNcIn0sb2JqZWN0Ontncm91cDpcIlR5cGVzXCJ9LGNvbGxhdG9yOntncm91cDpcIlR5cGVzXCJ9LGZvcm1hdDp7Z3JvdXA6XCJUeXBlc1wifSxcInRvLXN0cmluZ1wiOntncm91cDpcIlR5cGVzXCJ9LFwidG8tbnVtYmVyXCI6e2dyb3VwOlwiVHlwZXNcIn0sXCJ0by1ib29sZWFuXCI6e2dyb3VwOlwiVHlwZXNcIn0sXCJ0by1yZ2JhXCI6e2dyb3VwOlwiQ29sb3JcIn0sXCJ0by1jb2xvclwiOntncm91cDpcIlR5cGVzXCJ9LHJnYjp7Z3JvdXA6XCJDb2xvclwifSxyZ2JhOntncm91cDpcIkNvbG9yXCJ9LGdldDp7Z3JvdXA6XCJMb29rdXBcIn0saGFzOntncm91cDpcIkxvb2t1cFwifSxsZW5ndGg6e2dyb3VwOlwiTG9va3VwXCJ9LHByb3BlcnRpZXM6e2dyb3VwOlwiRmVhdHVyZSBkYXRhXCJ9LFwiZmVhdHVyZS1zdGF0ZVwiOntncm91cDpcIkZlYXR1cmUgZGF0YVwifSxcImdlb21ldHJ5LXR5cGVcIjp7Z3JvdXA6XCJGZWF0dXJlIGRhdGFcIn0saWQ6e2dyb3VwOlwiRmVhdHVyZSBkYXRhXCJ9LHpvb206e2dyb3VwOlwiWm9vbVwifSxcImhlYXRtYXAtZGVuc2l0eVwiOntncm91cDpcIkhlYXRtYXBcIn0sXCJsaW5lLXByb2dyZXNzXCI6e2dyb3VwOlwiSGVhdG1hcFwifSxcIitcIjp7Z3JvdXA6XCJNYXRoXCJ9LFwiKlwiOntncm91cDpcIk1hdGhcIn0sXCItXCI6e2dyb3VwOlwiTWF0aFwifSxcIi9cIjp7Z3JvdXA6XCJNYXRoXCJ9LFwiJVwiOntncm91cDpcIk1hdGhcIn0sXCJeXCI6e2dyb3VwOlwiTWF0aFwifSxzcXJ0Ontncm91cDpcIk1hdGhcIn0sbG9nMTA6e2dyb3VwOlwiTWF0aFwifSxsbjp7Z3JvdXA6XCJNYXRoXCJ9LGxvZzI6e2dyb3VwOlwiTWF0aFwifSxzaW46e2dyb3VwOlwiTWF0aFwifSxjb3M6e2dyb3VwOlwiTWF0aFwifSx0YW46e2dyb3VwOlwiTWF0aFwifSxhc2luOntncm91cDpcIk1hdGhcIn0sYWNvczp7Z3JvdXA6XCJNYXRoXCJ9LGF0YW46e2dyb3VwOlwiTWF0aFwifSxtaW46e2dyb3VwOlwiTWF0aFwifSxtYXg6e2dyb3VwOlwiTWF0aFwifSxyb3VuZDp7Z3JvdXA6XCJNYXRoXCJ9LGFiczp7Z3JvdXA6XCJNYXRoXCJ9LGNlaWw6e2dyb3VwOlwiTWF0aFwifSxmbG9vcjp7Z3JvdXA6XCJNYXRoXCJ9LFwiPT1cIjp7Z3JvdXA6XCJEZWNpc2lvblwifSxcIiE9XCI6e2dyb3VwOlwiRGVjaXNpb25cIn0sXCI+XCI6e2dyb3VwOlwiRGVjaXNpb25cIn0sXCI8XCI6e2dyb3VwOlwiRGVjaXNpb25cIn0sXCI+PVwiOntncm91cDpcIkRlY2lzaW9uXCJ9LFwiPD1cIjp7Z3JvdXA6XCJEZWNpc2lvblwifSxhbGw6e2dyb3VwOlwiRGVjaXNpb25cIn0sYW55Ontncm91cDpcIkRlY2lzaW9uXCJ9LFwiIVwiOntncm91cDpcIkRlY2lzaW9uXCJ9LFwiaXMtc3VwcG9ydGVkLXNjcmlwdFwiOntncm91cDpcIlN0cmluZ1wifSx1cGNhc2U6e2dyb3VwOlwiU3RyaW5nXCJ9LGRvd25jYXNlOntncm91cDpcIlN0cmluZ1wifSxjb25jYXQ6e2dyb3VwOlwiU3RyaW5nXCJ9LFwicmVzb2x2ZWQtbG9jYWxlXCI6e2dyb3VwOlwiU3RyaW5nXCJ9fX0sbGlnaHQ6e2FuY2hvcjp7dHlwZTpcImVudW1cIixkZWZhdWx0Olwidmlld3BvcnRcIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsdHJhbnNpdGlvbjohMSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCJdfX0scG9zaXRpb246e3R5cGU6XCJhcnJheVwiLGRlZmF1bHQ6WzEuMTUsMjEwLDMwXSxsZW5ndGg6Myx2YWx1ZTpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX19LGNvbG9yOnt0eXBlOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixkZWZhdWx0OlwiI2ZmZmZmZlwiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LHRyYW5zaXRpb246ITB9LGludGVuc2l0eTp7dHlwZTpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLGRlZmF1bHQ6LjUsbWluaW11bTowLG1heGltdW06MSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSx0cmFuc2l0aW9uOiEwfX0scGFpbnQ6W1wicGFpbnRfZmlsbFwiLFwicGFpbnRfbGluZVwiLFwicGFpbnRfY2lyY2xlXCIsXCJwYWludF9oZWF0bWFwXCIsXCJwYWludF9maWxsLWV4dHJ1c2lvblwiLFwicGFpbnRfc3ltYm9sXCIsXCJwYWludF9yYXN0ZXJcIixcInBhaW50X2hpbGxzaGFkZVwiLFwicGFpbnRfYmFja2dyb3VuZFwiXSxwYWludF9maWxsOntcImZpbGwtYW50aWFsaWFzXCI6e3R5cGU6XCJib29sZWFuXCIsZGVmYXVsdDohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLW9wYWNpdHlcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtY29sb3JcIjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiMwMDAwMDBcIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlt7XCIhXCI6XCJmaWxsLXBhdHRlcm5cIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7dHlwZTpcImNvbG9yXCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbe1wiIVwiOlwiZmlsbC1wYXR0ZXJuXCJ9LHtcImZpbGwtYW50aWFsaWFzXCI6ITB9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC10cmFuc2xhdGVcIjp7dHlwZTpcImFycmF5XCIsdmFsdWU6XCJudW1iZXJcIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6XCJwaXhlbHNcIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDpcIm1hcFwiLHJlcXVpcmVzOltcImZpbGwtdHJhbnNsYXRlXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtcGF0dGVyblwiOnt0eXBlOlwic3RyaW5nXCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9fSxwYWludF9saW5lOntcImxpbmUtb3BhY2l0eVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1jb2xvclwiOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiIzAwMDAwMFwiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6W3tcIiFcIjpcImxpbmUtcGF0dGVyblwifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtdHJhbnNsYXRlXCI6e3R5cGU6XCJhcnJheVwiLHZhbHVlOlwibnVtYmVyXCIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOlwicGl4ZWxzXCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6XCJtYXBcIixyZXF1aXJlczpbXCJsaW5lLXRyYW5zbGF0ZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXdpZHRoXCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjEsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6XCJwaXhlbHNcIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1nYXAtd2lkdGhcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czpcInBpeGVsc1wiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLW9mZnNldFwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLHRyYW5zaXRpb246ITAsdW5pdHM6XCJwaXhlbHNcIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1ibHVyXCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6XCJwaXhlbHNcIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1kYXNoYXJyYXlcIjp7dHlwZTpcImFycmF5XCIsdmFsdWU6XCJudW1iZXJcIixtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czpcImxpbmUgd2lkdGhzXCIscmVxdWlyZXM6W3tcIiFcIjpcImxpbmUtcGF0dGVyblwifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjcm9zcy1mYWRlZFwifSxcImxpbmUtcGF0dGVyblwiOnt0eXBlOlwic3RyaW5nXCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9LFwibGluZS1ncmFkaWVudFwiOnt0eXBlOlwiY29sb3JcIix0cmFuc2l0aW9uOiExLHJlcXVpcmVzOlt7XCIhXCI6XCJsaW5lLWRhc2hhcnJheVwifSx7XCIhXCI6XCJsaW5lLXBhdHRlcm5cIn0se3NvdXJjZTpcImdlb2pzb25cIixoYXM6e2xpbmVNZXRyaWNzOiEwfX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcImxpbmUtcHJvZ3Jlc3NcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifX0scGFpbnRfY2lyY2xlOntcImNpcmNsZS1yYWRpdXNcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6NSxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czpcInBpeGVsc1wiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtY29sb3JcIjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiMwMDAwMDBcIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtYmx1clwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1vcGFjaXR5XCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtdHJhbnNsYXRlXCI6e3R5cGU6XCJhcnJheVwiLHZhbHVlOlwibnVtYmVyXCIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOlwicGl4ZWxzXCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDpcIm1hcFwiLHJlcXVpcmVzOltcImNpcmNsZS10cmFuc2xhdGVcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXBpdGNoLXNjYWxlXCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6XCJtYXBcIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6XCJ2aWV3cG9ydFwiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1zdHJva2Utd2lkdGhcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czpcInBpeGVsc1wiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCI6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCIjMDAwMDAwXCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn19LHBhaW50X2hlYXRtYXA6e1wiaGVhdG1hcC1yYWRpdXNcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MzAsbWluaW11bToxLHRyYW5zaXRpb246ITAsdW5pdHM6XCJwaXhlbHNcIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaGVhdG1hcC13ZWlnaHRcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaGVhdG1hcC1pbnRlbnNpdHlcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoZWF0bWFwLWNvbG9yXCI6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiaGVhdG1hcC1kZW5zaXR5XCJdLDAsXCJyZ2JhKDAsIDAsIDI1NSwgMClcIiwuMSxcInJveWFsYmx1ZVwiLC4zLFwiY3lhblwiLC41LFwibGltZVwiLC43LFwieWVsbG93XCIsMSxcInJlZFwiXSx0cmFuc2l0aW9uOiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcImhlYXRtYXAtZGVuc2l0eVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwiaGVhdG1hcC1vcGFjaXR5XCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0scGFpbnRfc3ltYm9sOntcImljb24tb3BhY2l0eVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbXCJpY29uLWltYWdlXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWNvbG9yXCI6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCIjMDAwMDAwXCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbXCJpY29uLWltYWdlXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWhhbG8tY29sb3JcIjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcInJnYmEoMCwgMCwgMCwgMClcIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOltcImljb24taW1hZ2VcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby13aWR0aFwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOlwicGl4ZWxzXCIscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLWJsdXJcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czpcInBpeGVsc1wiLHJlcXVpcmVzOltcImljb24taW1hZ2VcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tdHJhbnNsYXRlXCI6e3R5cGU6XCJhcnJheVwiLHZhbHVlOlwibnVtYmVyXCIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOlwicGl4ZWxzXCIscmVxdWlyZXM6W1wiaWNvbi1pbWFnZVwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDpcIm1hcFwiLHJlcXVpcmVzOltcImljb24taW1hZ2VcIixcImljb24tdHJhbnNsYXRlXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtb3BhY2l0eVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbXCJ0ZXh0LWZpZWxkXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWNvbG9yXCI6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCIjMDAwMDAwXCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbXCJ0ZXh0LWZpZWxkXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWhhbG8tY29sb3JcIjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcInJnYmEoMCwgMCwgMCwgMClcIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby13aWR0aFwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOlwicGl4ZWxzXCIscmVxdWlyZXM6W1widGV4dC1maWVsZFwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLWJsdXJcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czpcInBpeGVsc1wiLHJlcXVpcmVzOltcInRleHQtZmllbGRcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtdHJhbnNsYXRlXCI6e3R5cGU6XCJhcnJheVwiLHZhbHVlOlwibnVtYmVyXCIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOlwicGl4ZWxzXCIscmVxdWlyZXM6W1widGV4dC1maWVsZFwiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDpcIm1hcFwiLHJlcXVpcmVzOltcInRleHQtZmllbGRcIixcInRleHQtdHJhbnNsYXRlXCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0scGFpbnRfcmFzdGVyOntcInJhc3Rlci1vcGFjaXR5XCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1odWUtcm90YXRlXCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjAscGVyaW9kOjM2MCx0cmFuc2l0aW9uOiEwLHVuaXRzOlwiZGVncmVlc1wiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLXNhdHVyYXRpb25cIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MCxtaW5pbXVtOi0xLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1jb250cmFzdFwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLG1pbmltdW06LTEsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLXJlc2FtcGxpbmdcIjp7dHlwZTpcImVudW1cIix2YWx1ZXM6e2xpbmVhcjp7fSxuZWFyZXN0Ont9fSxkZWZhdWx0OlwibGluZWFyXCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MzAwLG1pbmltdW06MCx0cmFuc2l0aW9uOiExLHVuaXRzOlwibWlsbGlzZWNvbmRzXCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxwYWludF9oaWxsc2hhZGU6e1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MzM1LG1pbmltdW06MCxtYXhpbXVtOjM1OSx0cmFuc2l0aW9uOiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6XCJ2aWV3cG9ydFwiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIjp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6LjUsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiMwMDAwMDBcIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiNGRkZGRkZcIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiMwMDAwMDBcIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0scGFpbnRfYmFja2dyb3VuZDp7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCIjMDAwMDAwXCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbe1wiIVwiOlwiYmFja2dyb3VuZC1wYXR0ZXJuXCJ9XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIjp7dHlwZTpcInN0cmluZ1wiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjcm9zcy1mYWRlZFwifSxcImJhY2tncm91bmQtb3BhY2l0eVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LHRyYW5zaXRpb246e2R1cmF0aW9uOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDozMDAsbWluaW11bTowLHVuaXRzOlwibWlsbGlzZWNvbmRzXCJ9LGRlbGF5Ont0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLG1pbmltdW06MCx1bml0czpcIm1pbGxpc2Vjb25kc1wifX0sXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIjp7dmlzaWJpbGl0eTp7dHlwZTpcImVudW1cIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxmdW5jdGlvbjp7ZXhwcmVzc2lvbjp7dHlwZTpcImV4cHJlc3Npb25cIn0sc3RvcHM6e3R5cGU6XCJhcnJheVwiLHZhbHVlOlwiZnVuY3Rpb25fc3RvcFwifSxiYXNlOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxLG1pbmltdW06MH0scHJvcGVydHk6e3R5cGU6XCJzdHJpbmdcIixkZWZhdWx0OlwiJHpvb21cIn0sdHlwZTp7dHlwZTpcImVudW1cIix2YWx1ZXM6e2lkZW50aXR5Ont9LGV4cG9uZW50aWFsOnt9LGludGVydmFsOnt9LGNhdGVnb3JpY2FsOnt9fSxkZWZhdWx0OlwiZXhwb25lbnRpYWxcIn0sY29sb3JTcGFjZTp7dHlwZTpcImVudW1cIix2YWx1ZXM6e3JnYjp7fSxsYWI6e30saGNsOnt9fSxkZWZhdWx0OlwicmdiXCJ9LGRlZmF1bHQ6e3R5cGU6XCIqXCIscmVxdWlyZWQ6ITF9fSxcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCI6e1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiIzAwMDAwMFwiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6W3tcIiFcIjpcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjp7dHlwZTpcImFycmF5XCIsdmFsdWU6XCJudW1iZXJcIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6XCJwaXhlbHNcIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6e3R5cGU6XCJlbnVtXCIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6XCJtYXBcIixyZXF1aXJlczpbXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOnt0eXBlOlwic3RyaW5nXCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCI6e3R5cGU6XCJudW1iZXJcIixkZWZhdWx0OjAsbWluaW11bTowLHVuaXRzOlwibWV0ZXJzXCIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24tYmFzZVwiOnt0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDowLG1pbmltdW06MCx1bml0czpcIm1ldGVyc1wiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6W1wiZmlsbC1leHRydXNpb24taGVpZ2h0XCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn19LFwicHJvcGVydHktdHlwZVwiOntcImRhdGEtZHJpdmVuXCI6e3R5cGU6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiY3Jvc3MtZmFkZWRcIjp7dHlwZTpcInByb3BlcnR5LXR5cGVcIn0sXCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiOnt0eXBlOlwicHJvcGVydHktdHlwZVwifSxcImNvbG9yLXJhbXBcIjp7dHlwZTpcInByb3BlcnR5LXR5cGVcIn0sXCJkYXRhLWNvbnN0YW50XCI6e3R5cGU6XCJwcm9wZXJ0eS10eXBlXCJ9LGNvbnN0YW50Ont0eXBlOlwicHJvcGVydHktdHlwZVwifX19LEQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5tZXNzYWdlPSh0P3QrXCI6IFwiOlwiXCIpK3IsbiYmKHRoaXMuaWRlbnRpZmllcj1uKSxudWxsIT1lJiZlLl9fbGluZV9fJiYodGhpcy5saW5lPWUuX19saW5lX18pO307ZnVuY3Rpb24gaih0KXt2YXIgZT10LmtleSxyPXQudmFsdWU7cmV0dXJuIHI/W25ldyBEKGUscixcImNvbnN0YW50cyBoYXZlIGJlZW4gZGVwcmVjYXRlZCBhcyBvZiB2OFwiKV06W119ZnVuY3Rpb24gVSh0KXtmb3IodmFyIGU9W10scj1hcmd1bWVudHMubGVuZ3RoLTE7ci0tID4wOyllW3JdPWFyZ3VtZW50c1tyKzFdO2Zvcih2YXIgbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07Zm9yKHZhciBvIGluIGEpdFtvXT1hW29dO31yZXR1cm4gdH1mdW5jdGlvbiBxKHQpe3JldHVybiB0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgQm9vbGVhbj90LnZhbHVlT2YoKTp0fWZ1bmN0aW9uIFIodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5tYXAoUik6cSh0KX12YXIgTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsciksdGhpcy5tZXNzYWdlPXIsdGhpcy5rZXk9ZTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9KEVycm9yKSxaPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9W10pLHRoaXMucGFyZW50PXQsdGhpcy5iaW5kaW5ncz17fTtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKz0xKXt2YXIgaT1uW3JdLGE9aVswXSxvPWlbMV07dGhpcy5iaW5kaW5nc1thXT1vO319O1oucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFoodGhpcyx0KX0sWi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuYmluZGluZ3NbdF0pcmV0dXJuIHRoaXMuYmluZGluZ3NbdF07aWYodGhpcy5wYXJlbnQpcmV0dXJuIHRoaXMucGFyZW50LmdldCh0KTt0aHJvdyBuZXcgRXJyb3IodCtcIiBub3QgZm91bmQgaW4gc2NvcGUuXCIpfSxaLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuICEhdGhpcy5iaW5kaW5nc1t0XXx8ISF0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGFzKHQpfTt2YXIgWD17a2luZDpcIm51bGxcIn0sSD17a2luZDpcIm51bWJlclwifSxHPXtraW5kOlwic3RyaW5nXCJ9LEo9e2tpbmQ6XCJib29sZWFuXCJ9LEs9e2tpbmQ6XCJjb2xvclwifSxZPXtraW5kOlwib2JqZWN0XCJ9LCQ9e2tpbmQ6XCJ2YWx1ZVwifSxXPXtraW5kOlwiY29sbGF0b3JcIn0sUT17a2luZDpcImZvcm1hdHRlZFwifTtmdW5jdGlvbiB0dCh0LGUpe3JldHVybiB7a2luZDpcImFycmF5XCIsaXRlbVR5cGU6dCxOOmV9fWZ1bmN0aW9uIGV0KHQpe2lmKFwiYXJyYXlcIj09PXQua2luZCl7dmFyIGU9ZXQodC5pdGVtVHlwZSk7cmV0dXJuIFwibnVtYmVyXCI9PXR5cGVvZiB0Lk4/XCJhcnJheTxcIitlK1wiLCBcIit0Lk4rXCI+XCI6XCJ2YWx1ZVwiPT09dC5pdGVtVHlwZS5raW5kP1wiYXJyYXlcIjpcImFycmF5PFwiK2UrXCI+XCJ9cmV0dXJuIHQua2luZH12YXIgcnQ9W1gsSCxHLEosSyxRLFksdHQoJCldO2Z1bmN0aW9uIG50KHQsZSl7aWYoXCJlcnJvclwiPT09ZS5raW5kKXJldHVybiBudWxsO2lmKFwiYXJyYXlcIj09PXQua2luZCl7aWYoXCJhcnJheVwiPT09ZS5raW5kJiYhbnQodC5pdGVtVHlwZSxlLml0ZW1UeXBlKSYmKFwibnVtYmVyXCIhPXR5cGVvZiB0Lk58fHQuTj09PWUuTikpcmV0dXJuIG51bGx9ZWxzZXtpZih0LmtpbmQ9PT1lLmtpbmQpcmV0dXJuIG51bGw7aWYoXCJ2YWx1ZVwiPT09dC5raW5kKWZvcih2YXIgcj0wLG49cnQ7cjxuLmxlbmd0aDtyKz0xKXtpZighbnQobltyXSxlKSlyZXR1cm4gbnVsbH19cmV0dXJuIFwiRXhwZWN0ZWQgXCIrZXQodCkrXCIgYnV0IGZvdW5kIFwiK2V0KGUpK1wiIGluc3RlYWQuXCJ9dmFyIGl0PWUoZnVuY3Rpb24odCxlKXt2YXIgcj17dHJhbnNwYXJlbnQ6WzAsMCwwLDBdLGFsaWNlYmx1ZTpbMjQwLDI0OCwyNTUsMV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNSwxXSxhcXVhOlswLDI1NSwyNTUsMV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTIsMV0sYXp1cmU6WzI0MCwyNTUsMjU1LDFdLGJlaWdlOlsyNDUsMjQ1LDIyMCwxXSxiaXNxdWU6WzI1NSwyMjgsMTk2LDFdLGJsYWNrOlswLDAsMCwxXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDUsMV0sYmx1ZTpbMCwwLDI1NSwxXSxibHVldmlvbGV0OlsxMzgsNDMsMjI2LDFdLGJyb3duOlsxNjUsNDIsNDIsMV0sYnVybHl3b29kOlsyMjIsMTg0LDEzNSwxXSxjYWRldGJsdWU6Wzk1LDE1OCwxNjAsMV0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwLDFdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMCwxXSxjb3JhbDpbMjU1LDEyNyw4MCwxXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzcsMV0sY29ybnNpbGs6WzI1NSwyNDgsMjIwLDFdLGNyaW1zb246WzIyMCwyMCw2MCwxXSxjeWFuOlswLDI1NSwyNTUsMV0sZGFya2JsdWU6WzAsMCwxMzksMV0sZGFya2N5YW46WzAsMTM5LDEzOSwxXSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExLDFdLGRhcmtncmF5OlsxNjksMTY5LDE2OSwxXSxkYXJrZ3JlZW46WzAsMTAwLDAsMV0sZGFya2dyZXk6WzE2OSwxNjksMTY5LDFdLGRhcmtraGFraTpbMTg5LDE4MywxMDcsMV0sZGFya21hZ2VudGE6WzEzOSwwLDEzOSwxXSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3LDFdLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMCwxXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0LDFdLGRhcmtyZWQ6WzEzOSwwLDAsMV0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjIsMV0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0MywxXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzksMV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzksMV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzksMV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5LDFdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMSwxXSxkZWVwcGluazpbMjU1LDIwLDE0NywxXSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1LDFdLGRpbWdyYXk6WzEwNSwxMDUsMTA1LDFdLGRpbWdyZXk6WzEwNSwxMDUsMTA1LDFdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTUsMV0sZmlyZWJyaWNrOlsxNzgsMzQsMzQsMV0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwLDFdLGZvcmVzdGdyZWVuOlszNCwxMzksMzQsMV0sZnVjaHNpYTpbMjU1LDAsMjU1LDFdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjAsMV0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTUsMV0sZ29sZDpbMjU1LDIxNSwwLDFdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMiwxXSxncmF5OlsxMjgsMTI4LDEyOCwxXSxncmVlbjpbMCwxMjgsMCwxXSxncmVlbnllbGxvdzpbMTczLDI1NSw0NywxXSxncmV5OlsxMjgsMTI4LDEyOCwxXSxob25leWRldzpbMjQwLDI1NSwyNDAsMV0saG90cGluazpbMjU1LDEwNSwxODAsMV0saW5kaWFucmVkOlsyMDUsOTIsOTIsMV0saW5kaWdvOls3NSwwLDEzMCwxXSxpdm9yeTpbMjU1LDI1NSwyNDAsMV0sa2hha2k6WzI0MCwyMzAsMTQwLDFdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MCwxXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NSwxXSxsYXduZ3JlZW46WzEyNCwyNTIsMCwxXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1LDFdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzAsMV0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjgsMV0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NSwxXSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTAsMV0sbGlnaHRncmF5OlsyMTEsMjExLDIxMSwxXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NCwxXSxsaWdodGdyZXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTMsMV0sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyLDFdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzAsMV0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MCwxXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMiwxXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjQsMV0sbGltZTpbMCwyNTUsMCwxXSxsaW1lZ3JlZW46WzUwLDIwNSw1MCwxXSxsaW5lbjpbMjUwLDI0MCwyMzAsMV0sbWFnZW50YTpbMjU1LDAsMjU1LDFdLG1hcm9vbjpbMTI4LDAsMCwxXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MCwxXSxtZWRpdW1ibHVlOlswLDAsMjA1LDFdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMSwxXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5LDFdLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzLDFdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzgsMV0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NCwxXSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDQsMV0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzLDFdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyLDFdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTAsMV0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNSwxXSxtb2NjYXNpbjpbMjU1LDIyOCwxODEsMV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczLDFdLG5hdnk6WzAsMCwxMjgsMV0sb2xkbGFjZTpbMjUzLDI0NSwyMzAsMV0sb2xpdmU6WzEyOCwxMjgsMCwxXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzUsMV0sb3JhbmdlOlsyNTUsMTY1LDAsMV0sb3JhbmdlcmVkOlsyNTUsNjksMCwxXSxvcmNoaWQ6WzIxOCwxMTIsMjE0LDFdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwLDFdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTIsMV0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzgsMV0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDcsMV0scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTMsMV0scGVhY2hwdWZmOlsyNTUsMjE4LDE4NSwxXSxwZXJ1OlsyMDUsMTMzLDYzLDFdLHBpbms6WzI1NSwxOTIsMjAzLDFdLHBsdW06WzIyMSwxNjAsMjIxLDFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwLDFdLHB1cnBsZTpbMTI4LDAsMTI4LDFdLHJlYmVjY2FwdXJwbGU6WzEwMiw1MSwxNTMsMV0scmVkOlsyNTUsMCwwLDFdLHJvc3licm93bjpbMTg4LDE0MywxNDMsMV0scm95YWxibHVlOls2NSwxMDUsMjI1LDFdLHNhZGRsZWJyb3duOlsxMzksNjksMTksMV0sc2FsbW9uOlsyNTAsMTI4LDExNCwxXSxzYW5keWJyb3duOlsyNDQsMTY0LDk2LDFdLHNlYWdyZWVuOls0NiwxMzksODcsMV0sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4LDFdLHNpZW5uYTpbMTYwLDgyLDQ1LDFdLHNpbHZlcjpbMTkyLDE5MiwxOTIsMV0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzUsMV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1LDFdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDQsMV0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NCwxXSxzbm93OlsyNTUsMjUwLDI1MCwxXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3LDFdLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MCwxXSx0YW46WzIxMCwxODAsMTQwLDFdLHRlYWw6WzAsMTI4LDEyOCwxXSx0aGlzdGxlOlsyMTYsMTkxLDIxNiwxXSx0b21hdG86WzI1NSw5OSw3MSwxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDgsMV0sdmlvbGV0OlsyMzgsMTMwLDIzOCwxXSx3aGVhdDpbMjQ1LDIyMiwxNzksMV0sd2hpdGU6WzI1NSwyNTUsMjU1LDFdLHdoaXRlc21va2U6WzI0NSwyNDUsMjQ1LDFdLHllbGxvdzpbMjU1LDI1NSwwLDFdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwLDFdfTtmdW5jdGlvbiBuKHQpe3JldHVybiAodD1NYXRoLnJvdW5kKHQpKTwwPzA6dD4yNTU/MjU1OnR9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdDwwPzA6dD4xPzE6dH1mdW5jdGlvbiBhKHQpe3JldHVybiBcIiVcIj09PXRbdC5sZW5ndGgtMV0/bihwYXJzZUZsb2F0KHQpLzEwMCoyNTUpOm4ocGFyc2VJbnQodCkpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIFwiJVwiPT09dFt0Lmxlbmd0aC0xXT9pKHBhcnNlRmxvYXQodCkvMTAwKTppKHBhcnNlRmxvYXQodCkpfWZ1bmN0aW9uIHModCxlLHIpe3JldHVybiByPDA/cis9MTpyPjEmJihyLT0xKSw2KnI8MT90KyhlLXQpKnIqNjoyKnI8MT9lOjMqcjwyP3QrKGUtdCkqKDIvMy1yKSo2OnR9dHJ5e2UucGFyc2VDU1NDb2xvcj1mdW5jdGlvbih0KXt2YXIgZSxpPXQucmVwbGFjZSgvIC9nLFwiXCIpLnRvTG93ZXJDYXNlKCk7aWYoaSBpbiByKXJldHVybiByW2ldLnNsaWNlKCk7aWYoXCIjXCI9PT1pWzBdKXJldHVybiA0PT09aS5sZW5ndGg/KGU9cGFyc2VJbnQoaS5zdWJzdHIoMSksMTYpKT49MCYmZTw9NDA5NT9bKDM4NDAmZSk+PjR8KDM4NDAmZSk+PjgsMjQwJmV8KDI0MCZlKT4+NCwxNSZlfCgxNSZlKTw8NCwxXTpudWxsOjc9PT1pLmxlbmd0aCYmKGU9cGFyc2VJbnQoaS5zdWJzdHIoMSksMTYpKT49MCYmZTw9MTY3NzcyMTU/WygxNjcxMTY4MCZlKT4+MTYsKDY1MjgwJmUpPj44LDI1NSZlLDFdOm51bGw7dmFyIHU9aS5pbmRleE9mKFwiKFwiKSxwPWkuaW5kZXhPZihcIilcIik7aWYoLTEhPT11JiZwKzE9PT1pLmxlbmd0aCl7dmFyIGw9aS5zdWJzdHIoMCx1KSxjPWkuc3Vic3RyKHUrMSxwLSh1KzEpKS5zcGxpdChcIixcIiksaD0xO3N3aXRjaChsKXtjYXNlXCJyZ2JhXCI6aWYoNCE9PWMubGVuZ3RoKXJldHVybiBudWxsO2g9byhjLnBvcCgpKTtjYXNlXCJyZ2JcIjpyZXR1cm4gMyE9PWMubGVuZ3RoP251bGw6W2EoY1swXSksYShjWzFdKSxhKGNbMl0pLGhdO2Nhc2VcImhzbGFcIjppZig0IT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7aD1vKGMucG9wKCkpO2Nhc2VcImhzbFwiOmlmKDMhPT1jLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZj0ocGFyc2VGbG9hdChjWzBdKSUzNjArMzYwKSUzNjAvMzYwLHk9byhjWzFdKSxkPW8oY1syXSksbT1kPD0uNT9kKih5KzEpOmQreS1kKnksdj0yKmQtbTtyZXR1cm4gW24oMjU1KnModixtLGYrMS8zKSksbigyNTUqcyh2LG0sZikpLG4oMjU1KnModixtLGYtMS8zKSksaF07ZGVmYXVsdDpyZXR1cm4gbnVsbH19cmV0dXJuIG51bGx9O31jYXRjaCh0KXt9fSkucGFyc2VDU1NDb2xvcixhdD1mdW5jdGlvbih0LGUscixuKXt2b2lkIDA9PT1uJiYobj0xKSx0aGlzLnI9dCx0aGlzLmc9ZSx0aGlzLmI9cix0aGlzLmE9bjt9O2F0LnBhcnNlPWZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQgaW5zdGFuY2VvZiBhdClyZXR1cm4gdDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7dmFyIGU9aXQodCk7aWYoZSlyZXR1cm4gbmV3IGF0KGVbMF0vMjU1KmVbM10sZVsxXS8yNTUqZVszXSxlWzJdLzI1NSplWzNdLGVbM10pfX19LGF0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMudG9BcnJheSgpLGU9dFswXSxyPXRbMV0sbj10WzJdLGk9dFszXTtyZXR1cm4gXCJyZ2JhKFwiK01hdGgucm91bmQoZSkrXCIsXCIrTWF0aC5yb3VuZChyKStcIixcIitNYXRoLnJvdW5kKG4pK1wiLFwiK2krXCIpXCJ9LGF0LnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yLGU9dGhpcy5nLHI9dGhpcy5iLG49dGhpcy5hO3JldHVybiAwPT09bj9bMCwwLDAsMF06WzI1NSp0L24sMjU1KmUvbiwyNTUqci9uLG5dfSxhdC5ibGFjaz1uZXcgYXQoMCwwLDAsMSksYXQud2hpdGU9bmV3IGF0KDEsMSwxLDEpLGF0LnRyYW5zcGFyZW50PW5ldyBhdCgwLDAsMCwwKSxhdC5yZWQ9bmV3IGF0KDEsMCwwLDEpO3ZhciBvdD1mdW5jdGlvbih0LGUscil7dGhpcy5zZW5zaXRpdml0eT10P2U/XCJ2YXJpYW50XCI6XCJjYXNlXCI6ZT9cImFjY2VudFwiOlwiYmFzZVwiLHRoaXMubG9jYWxlPXIsdGhpcy5jb2xsYXRvcj1uZXcgSW50bC5Db2xsYXRvcih0aGlzLmxvY2FsZT90aGlzLmxvY2FsZTpbXSx7c2Vuc2l0aXZpdHk6dGhpcy5zZW5zaXRpdml0eSx1c2FnZTpcInNlYXJjaFwifSk7fTtvdC5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvbGxhdG9yLmNvbXBhcmUodCxlKX0sb3QucHJvdG90eXBlLnJlc29sdmVkTG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGV9O3ZhciBzdD1mdW5jdGlvbih0LGUscil7dGhpcy50eXBlPVcsdGhpcy5sb2NhbGU9cix0aGlzLmNhc2VTZW5zaXRpdmU9dCx0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZT1lO307ZnVuY3Rpb24gdXQodCxlLHIsbil7cmV0dXJuIFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wJiZ0PD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiByJiZyPj0wJiZyPD0yNTU/dm9pZCAwPT09bnx8XCJudW1iZXJcIj09dHlwZW9mIG4mJm4+PTAmJm48PTE/bnVsbDpcIkludmFsaWQgcmdiYSB2YWx1ZSBbXCIrW3QsZSxyLG5dLmpvaW4oXCIsIFwiKStcIl06ICdhJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMS5cIjpcIkludmFsaWQgcmdiYSB2YWx1ZSBbXCIrKFwibnVtYmVyXCI9PXR5cGVvZiBuP1t0LGUscixuXTpbdCxlLHJdKS5qb2luKFwiLCBcIikrXCJdOiAncicsICdnJywgYW5kICdiJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1LlwifWZ1bmN0aW9uIHB0KHQpe2lmKG51bGw9PT10KXJldHVybiBYO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBHO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgdClyZXR1cm4gSjtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gSDtpZih0IGluc3RhbmNlb2YgYXQpcmV0dXJuIEs7aWYodCBpbnN0YW5jZW9mIG90KXJldHVybiBXO2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZSxyPXQubGVuZ3RoLG49MCxpPXQ7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1wdChpW25dKTtpZihlKXtpZihlPT09YSljb250aW51ZTtlPSQ7YnJlYWt9ZT1hO31yZXR1cm4gdHQoZXx8JCxyKX1yZXR1cm4gWX1zdC5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIG9uZSBhcmd1bWVudC5cIik7dmFyIHI9dFsxXTtpZihcIm9iamVjdFwiIT10eXBlb2Ygcnx8QXJyYXkuaXNBcnJheShyKSlyZXR1cm4gZS5lcnJvcihcIkNvbGxhdG9yIG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuXCIpO3ZhciBuPWUucGFyc2Uodm9pZCAwIT09cltcImNhc2Utc2Vuc2l0aXZlXCJdJiZyW1wiY2FzZS1zZW5zaXRpdmVcIl0sMSxKKTtpZighbilyZXR1cm4gbnVsbDt2YXIgaT1lLnBhcnNlKHZvaWQgMCE9PXJbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdJiZyW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXSwxLEopO2lmKCFpKXJldHVybiBudWxsO3ZhciBhPW51bGw7cmV0dXJuIHIubG9jYWxlJiYhKGE9ZS5wYXJzZShyLmxvY2FsZSwxLEcpKT9udWxsOm5ldyBzdChuLGksYSl9LHN0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG90KHRoaXMuY2FzZVNlbnNpdGl2ZS5ldmFsdWF0ZSh0KSx0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZS5ldmFsdWF0ZSh0KSx0aGlzLmxvY2FsZT90aGlzLmxvY2FsZS5ldmFsdWF0ZSh0KTpudWxsKX0sc3QucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuY2FzZVNlbnNpdGl2ZSksdCh0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZSksdGhpcy5sb2NhbGUmJnQodGhpcy5sb2NhbGUpO30sc3QucHJvdG90eXBlLnBvc3NpYmxlT3V0cHV0cz1mdW5jdGlvbigpe3JldHVybiBbdm9pZCAwXX0sc3QucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0W1wiY2FzZS1zZW5zaXRpdmVcIl09dGhpcy5jYXNlU2Vuc2l0aXZlLnNlcmlhbGl6ZSgpLHRbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdPXRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLnNlcmlhbGl6ZSgpLHRoaXMubG9jYWxlJiYodC5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLFtcImNvbGxhdG9yXCIsdF19O3ZhciBsdD1mdW5jdGlvbih0LGUscil7dGhpcy50ZXh0PXQsdGhpcy5zY2FsZT1lLHRoaXMuZm9udFN0YWNrPXI7fSxjdD1mdW5jdGlvbih0KXt0aGlzLnNlY3Rpb25zPXQ7fTtjdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWN0aW9ucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudGV4dH0pLmpvaW4oXCJcIil9LGN0LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W1wiZm9ybWF0XCJdLGU9MCxyPXRoaXMuc2VjdGlvbnM7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdO3QucHVzaChuLnRleHQpO3ZhciBpPW4uZm9udFN0YWNrP1tcImxpdGVyYWxcIixuLmZvbnRTdGFjay5zcGxpdChcIixcIildOm51bGw7dC5wdXNoKHtcInRleHQtZm9udFwiOmksXCJmb250LXNjYWxlXCI6bi5zY2FsZX0pO31yZXR1cm4gdH07dmFyIGh0PWZ1bmN0aW9uKHQpe3RoaXMudHlwZT1RLHRoaXMuc2VjdGlvbnM9dDt9O2h0LnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8MylyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IHR3byBhcmd1bWVudHMuXCIpO2lmKCh0Lmxlbmd0aC0xKSUyIT0wKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtmb3IodmFyIHI9W10sbj0xO248dC5sZW5ndGgtMTtuKz0yKXt2YXIgaT1lLnBhcnNlKHRbbl0sMSwkKTtpZighaSlyZXR1cm4gbnVsbDt2YXIgYT1pLnR5cGUua2luZDtpZihcInN0cmluZ1wiIT09YSYmXCJ2YWx1ZVwiIT09YSYmXCJudWxsXCIhPT1hKXJldHVybiBlLmVycm9yKFwiRm9ybWF0dGVkIHRleHQgdHlwZSBtdXN0IGJlICdzdHJpbmcnLCAndmFsdWUnLCBvciAnbnVsbCcuXCIpO3ZhciBvPXRbbisxXTtpZihcIm9iamVjdFwiIT10eXBlb2Ygb3x8QXJyYXkuaXNBcnJheShvKSlyZXR1cm4gZS5lcnJvcihcIkZvcm1hdCBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTt2YXIgcz1udWxsO2lmKG9bXCJmb250LXNjYWxlXCJdJiYhKHM9ZS5wYXJzZShvW1wiZm9udC1zY2FsZVwiXSwxLEgpKSlyZXR1cm4gbnVsbDt2YXIgdT1udWxsO2lmKG9bXCJ0ZXh0LWZvbnRcIl0mJiEodT1lLnBhcnNlKG9bXCJ0ZXh0LWZvbnRcIl0sMSx0dChHKSkpKXJldHVybiBudWxsO3IucHVzaCh7dGV4dDppLHNjYWxlOnMsZm9udDp1fSk7fXJldHVybiBuZXcgaHQocil9LGh0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGN0KHRoaXMuc2VjdGlvbnMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbHQoZS50ZXh0LmV2YWx1YXRlKHQpfHxcIlwiLGUuc2NhbGU/ZS5zY2FsZS5ldmFsdWF0ZSh0KTpudWxsLGUuZm9udD9lLmZvbnQuZXZhbHVhdGUodCkuam9pbihcIixcIik6bnVsbCl9KSl9LGh0LnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10aGlzLnNlY3Rpb25zO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTt0KG4udGV4dCksbi5zY2FsZSYmdChuLnNjYWxlKSxuLmZvbnQmJnQobi5mb250KTt9fSxodC5wcm90b3R5cGUucG9zc2libGVPdXRwdXRzPWZ1bmN0aW9uKCl7cmV0dXJuIFt2b2lkIDBdfSxodC5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtcImZvcm1hdFwiXSxlPTAscj10aGlzLnNlY3Rpb25zO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTt0LnB1c2gobi50ZXh0LnNlcmlhbGl6ZSgpKTt2YXIgaT17fTtuLnNjYWxlJiYoaVtcImZvbnQtc2NhbGVcIl09bi5zY2FsZS5zZXJpYWxpemUoKSksbi5mb250JiYoaVtcInRleHQtZm9udFwiXT1uLmZvbnQuc2VyaWFsaXplKCkpLHQucHVzaChpKTt9cmV0dXJuIHR9O3ZhciBmdD1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMudmFsdWU9ZTt9O2Z0LnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiJ2xpdGVyYWwnIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCBcIisodC5sZW5ndGgtMSkrXCIgaW5zdGVhZC5cIik7aWYoIWZ1bmN0aW9uIHQoZSl7aWYobnVsbD09PWUpcmV0dXJuICEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiAhMDtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUpcmV0dXJuICEwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiAhMDtpZihlIGluc3RhbmNlb2YgYXQpcmV0dXJuICEwO2lmKGUgaW5zdGFuY2VvZiBvdClyZXR1cm4gITA7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciByPTAsbj1lO3I8bi5sZW5ndGg7cis9MSlpZighdChuW3JdKSlyZXR1cm4gITE7cmV0dXJuICEwfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IodmFyIGkgaW4gZSlpZighdChlW2ldKSlyZXR1cm4gITE7cmV0dXJuICEwfXJldHVybiAhMX0odFsxXSkpcmV0dXJuIGUuZXJyb3IoXCJpbnZhbGlkIHZhbHVlXCIpO3ZhciByPXRbMV0sbj1wdChyKSxpPWUuZXhwZWN0ZWRUeXBlO3JldHVybiBcImFycmF5XCIhPT1uLmtpbmR8fDAhPT1uLk58fCFpfHxcImFycmF5XCIhPT1pLmtpbmR8fFwibnVtYmVyXCI9PXR5cGVvZiBpLk4mJjAhPT1pLk58fChuPWkpLG5ldyBmdChuLHIpfSxmdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0sZnQucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbigpe30sZnQucHJvdG90eXBlLnBvc3NpYmxlT3V0cHV0cz1mdW5jdGlvbigpe3JldHVybiBbdGhpcy52YWx1ZV19LGZ0LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gXCJhcnJheVwiPT09dGhpcy50eXBlLmtpbmR8fFwib2JqZWN0XCI9PT10aGlzLnR5cGUua2luZD9bXCJsaXRlcmFsXCIsdGhpcy52YWx1ZV06dGhpcy52YWx1ZSBpbnN0YW5jZW9mIGF0P1tcInJnYmFcIl0uY29uY2F0KHRoaXMudmFsdWUudG9BcnJheSgpKTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgY3Q/dGhpcy52YWx1ZS5zZXJpYWxpemUoKTp0aGlzLnZhbHVlfTt2YXIgeXQ9ZnVuY3Rpb24odCl7dGhpcy5uYW1lPVwiRXhwcmVzc2lvbkV2YWx1YXRpb25FcnJvclwiLHRoaXMubWVzc2FnZT10O307eXQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1lc3NhZ2V9O3ZhciBkdD17c3RyaW5nOkcsbnVtYmVyOkgsYm9vbGVhbjpKLG9iamVjdDpZfSxtdD1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO307bXQucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTt2YXIgcixuPTEsaT10WzBdO2lmKFwiYXJyYXlcIj09PWkpe3ZhciBhLG87aWYodC5sZW5ndGg+Mil7dmFyIHM9dFsxXTtpZihcInN0cmluZ1wiIT10eXBlb2Ygc3x8IShzIGluIGR0KXx8XCJvYmplY3RcIj09PXMpcmV0dXJuIGUuZXJyb3IoJ1RoZSBpdGVtIHR5cGUgYXJndW1lbnQgb2YgXCJhcnJheVwiIG11c3QgYmUgb25lIG9mIHN0cmluZywgbnVtYmVyLCBib29sZWFuJywxKTthPWR0W3NdLG4rKzt9ZWxzZSBhPSQ7aWYodC5sZW5ndGg+Myl7aWYobnVsbCE9PXRbMl0mJihcIm51bWJlclwiIT10eXBlb2YgdFsyXXx8dFsyXTwwfHx0WzJdIT09TWF0aC5mbG9vcih0WzJdKSkpcmV0dXJuIGUuZXJyb3IoJ1RoZSBsZW5ndGggYXJndW1lbnQgdG8gXCJhcnJheVwiIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGxpdGVyYWwnLDIpO289dFsyXSxuKys7fXI9dHQoYSxvKTt9ZWxzZSByPWR0W2ldO2Zvcih2YXIgdT1bXTtuPHQubGVuZ3RoO24rKyl7dmFyIHA9ZS5wYXJzZSh0W25dLG4sJCk7aWYoIXApcmV0dXJuIG51bGw7dS5wdXNoKHApO31yZXR1cm4gbmV3IG10KHIsdSl9LG10LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuYXJncy5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmFyZ3NbZV0uZXZhbHVhdGUodCk7aWYoIW50KHRoaXMudHlwZSxwdChyKSkpcmV0dXJuIHI7aWYoZT09PXRoaXMuYXJncy5sZW5ndGgtMSl0aHJvdyBuZXcgeXQoXCJFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlIFwiK2V0KHRoaXMudHlwZSkrXCIsIGJ1dCBmb3VuZCBcIitldChwdChyKSkrXCIgaW5zdGVhZC5cIil9cmV0dXJuIG51bGx9LG10LnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5hcmdzLmZvckVhY2godCk7fSxtdC5wcm90b3R5cGUucG9zc2libGVPdXRwdXRzPWZ1bmN0aW9uKCl7cmV0dXJuICh0PVtdKS5jb25jYXQuYXBwbHkodCx0aGlzLmFyZ3MubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc3NpYmxlT3V0cHV0cygpfSkpO3ZhciB0O30sbXQucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudHlwZSxlPVt0LmtpbmRdO2lmKFwiYXJyYXlcIj09PXQua2luZCl7dmFyIHI9dC5pdGVtVHlwZTtpZihcInN0cmluZ1wiPT09ci5raW5kfHxcIm51bWJlclwiPT09ci5raW5kfHxcImJvb2xlYW5cIj09PXIua2luZCl7ZS5wdXNoKHIua2luZCk7dmFyIG49dC5OOyhcIm51bWJlclwiPT10eXBlb2Ygbnx8dGhpcy5hcmdzLmxlbmd0aD4xKSYmZS5wdXNoKG4pO319cmV0dXJuIGUuY29uY2F0KHRoaXMuYXJncy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VyaWFsaXplKCl9KSl9O3ZhciB2dD17XCJ0by1udW1iZXJcIjpILFwidG8tY29sb3JcIjpLfSxndD1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO307Z3QucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtmb3IodmFyIHI9dFswXSxuPXZ0W3JdLGk9W10sYT0xO2E8dC5sZW5ndGg7YSsrKXt2YXIgbz1lLnBhcnNlKHRbYV0sYSwkKTtpZighbylyZXR1cm4gbnVsbDtpLnB1c2gobyk7fXJldHVybiBuZXcgZ3QobixpKX0sZ3QucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZS5raW5kKXtmb3IodmFyIGUscixuPTAsaT10aGlzLmFyZ3M7bjxpLmxlbmd0aDtuKz0xKXtpZihyPW51bGwsXCJzdHJpbmdcIj09dHlwZW9mKGU9aVtuXS5ldmFsdWF0ZSh0KSkpe3ZhciBhPXQucGFyc2VDb2xvcihlKTtpZihhKXJldHVybiBhfWVsc2UgaWYoQXJyYXkuaXNBcnJheShlKSYmIShyPWUubGVuZ3RoPDN8fGUubGVuZ3RoPjQ/XCJJbnZhbGlkIHJiZ2EgdmFsdWUgXCIrSlNPTi5zdHJpbmdpZnkoZSkrXCI6IGV4cGVjdGVkIGFuIGFycmF5IGNvbnRhaW5pbmcgZWl0aGVyIHRocmVlIG9yIGZvdXIgbnVtZXJpYyB2YWx1ZXMuXCI6dXQoZVswXSxlWzFdLGVbMl0sZVszXSkpKXJldHVybiBuZXcgYXQoZVswXS8yNTUsZVsxXS8yNTUsZVsyXS8yNTUsZVszXSl9dGhyb3cgbmV3IHl0KHJ8fFwiQ291bGQgbm90IHBhcnNlIGNvbG9yIGZyb20gdmFsdWUgJ1wiKyhcInN0cmluZ1wiPT10eXBlb2YgZT9lOkpTT04uc3RyaW5naWZ5KGUpKStcIidcIil9aWYoXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kKXtmb3IodmFyIG8scz0wLHU9dGhpcy5hcmdzO3M8dS5sZW5ndGg7cys9MSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mKG89dVtzXS5ldmFsdWF0ZSh0KSkpcmV0dXJuIG5ldyBjdChbbmV3IGx0KG8sbnVsbCxudWxsKV0pfXRocm93IG5ldyB5dChcIkNvdWxkIG5vdCBwYXJzZSBmb3JtYXR0ZWQgdGV4dCBmcm9tIHZhbHVlICdcIisoXCJzdHJpbmdcIj09dHlwZW9mIG8/bzpKU09OLnN0cmluZ2lmeShvKSkrXCInXCIpfWZvcih2YXIgcD1udWxsLGw9MCxjPXRoaXMuYXJncztsPGMubGVuZ3RoO2wrPTEpe2lmKG51bGwhPT0ocD1jW2xdLmV2YWx1YXRlKHQpKSl7dmFyIGg9TnVtYmVyKHApO2lmKCFpc05hTihoKSlyZXR1cm4gaH19dGhyb3cgbmV3IHl0KFwiQ291bGQgbm90IGNvbnZlcnQgXCIrSlNPTi5zdHJpbmdpZnkocCkrXCIgdG8gbnVtYmVyLlwiKX0sZ3QucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0aGlzLmFyZ3MuZm9yRWFjaCh0KTt9LGd0LnByb3RvdHlwZS5wb3NzaWJsZU91dHB1dHM9ZnVuY3Rpb24oKXtyZXR1cm4gKHQ9W10pLmNvbmNhdC5hcHBseSh0LHRoaXMuYXJncy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zc2libGVPdXRwdXRzKCl9KSk7dmFyIHQ7fSxndC5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9W1widG8tXCIrdGhpcy50eXBlLmtpbmRdO3JldHVybiB0aGlzLmVhY2hDaGlsZChmdW5jdGlvbihlKXt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSksdH07dmFyIHh0PVtcIlVua25vd25cIixcIlBvaW50XCIsXCJMaW5lU3RyaW5nXCIsXCJQb2x5Z29uXCJdLGJ0PWZ1bmN0aW9uKCl7dGhpcy5fcGFyc2VDb2xvckNhY2hlPXt9O307YnQucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmXCJpZFwiaW4gdGhpcy5mZWF0dXJlP3RoaXMuZmVhdHVyZS5pZDpudWxsfSxidC5wcm90b3R5cGUuZ2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmVhdHVyZT9cIm51bWJlclwiPT10eXBlb2YgdGhpcy5mZWF0dXJlLnR5cGU/eHRbdGhpcy5mZWF0dXJlLnR5cGVdOnRoaXMuZmVhdHVyZS50eXBlOm51bGx9LGJ0LnByb3RvdHlwZS5wcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmdGhpcy5mZWF0dXJlLnByb3BlcnRpZXN8fHt9fSxidC5wcm90b3R5cGUucGFyc2VDb2xvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbdF07cmV0dXJuIGV8fChlPXRoaXMuX3BhcnNlQ29sb3JDYWNoZVt0XT1hdC5wYXJzZSh0KSksZX07dmFyIF90PWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMubmFtZT10LHRoaXMudHlwZT1lLHRoaXMuX2V2YWx1YXRlPXIsdGhpcy5hcmdzPW47fTtmdW5jdGlvbiB3dCh0KXtpZih0IGluc3RhbmNlb2YgX3Qpe2lmKFwiZ2V0XCI9PT10Lm5hbWUmJjE9PT10LmFyZ3MubGVuZ3RoKXJldHVybiAhMTtpZihcImZlYXR1cmUtc3RhdGVcIj09PXQubmFtZSlyZXR1cm4gITE7aWYoXCJoYXNcIj09PXQubmFtZSYmMT09PXQuYXJncy5sZW5ndGgpcmV0dXJuICExO2lmKFwicHJvcGVydGllc1wiPT09dC5uYW1lfHxcImdlb21ldHJ5LXR5cGVcIj09PXQubmFtZXx8XCJpZFwiPT09dC5uYW1lKXJldHVybiAhMTtpZigvXmZpbHRlci0vLnRlc3QodC5uYW1lKSlyZXR1cm4gITF9dmFyIGU9ITA7cmV0dXJuIHQuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe2UmJiF3dCh0KSYmKGU9ITEpO30pLGV9ZnVuY3Rpb24gQXQodCl7aWYodCBpbnN0YW5jZW9mIF90JiZcImZlYXR1cmUtc3RhdGVcIj09PXQubmFtZSlyZXR1cm4gITE7dmFyIGU9ITA7cmV0dXJuIHQuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe2UmJiFBdCh0KSYmKGU9ITEpO30pLGV9ZnVuY3Rpb24ga3QodCxlKXtpZih0IGluc3RhbmNlb2YgX3QmJmUuaW5kZXhPZih0Lm5hbWUpPj0wKXJldHVybiAhMTt2YXIgcj0hMDtyZXR1cm4gdC5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7ciYmIWt0KHQsZSkmJihyPSExKTt9KSxyfV90LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZXZhbHVhdGUodCx0aGlzLmFyZ3MpfSxfdC5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3RoaXMuYXJncy5mb3JFYWNoKHQpO30sX3QucHJvdG90eXBlLnBvc3NpYmxlT3V0cHV0cz1mdW5jdGlvbigpe3JldHVybiBbdm9pZCAwXX0sX3QucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbdGhpcy5uYW1lXS5jb25jYXQodGhpcy5hcmdzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXJpYWxpemUoKX0pKX0sX3QucGFyc2U9ZnVuY3Rpb24odCxlKXt2YXIgcj10WzBdLG49X3QuZGVmaW5pdGlvbnNbcl07aWYoIW4pcmV0dXJuIGUuZXJyb3IoJ1Vua25vd24gZXhwcmVzc2lvbiBcIicrcisnXCIuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uJywwKTtmb3IodmFyIGk9QXJyYXkuaXNBcnJheShuKT9uWzBdOm4udHlwZSxhPUFycmF5LmlzQXJyYXkobik/W1tuWzFdLG5bMl1dXTpuLm92ZXJsb2FkcyxvPWEuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciByPWVbMF07cmV0dXJuICFBcnJheS5pc0FycmF5KHIpfHxyLmxlbmd0aD09PXQubGVuZ3RoLTF9KSxzPW51bGwsdT0wLHA9bzt1PHAubGVuZ3RoO3UrPTEpe3ZhciBsPXBbdV0sYz1sWzBdLGg9bFsxXTtzPW5ldyBTdChlLnJlZ2lzdHJ5LGUucGF0aCxudWxsLGUuc2NvcGUpO2Zvcih2YXIgZj1bXSx5PSExLGQ9MTtkPHQubGVuZ3RoO2QrKyl7dmFyIG09dFtkXSx2PUFycmF5LmlzQXJyYXkoYyk/Y1tkLTFdOmMudHlwZSxnPXMucGFyc2UobSwxK2YubGVuZ3RoLHYpO2lmKCFnKXt5PSEwO2JyZWFrfWYucHVzaChnKTt9aWYoIXkpaWYoQXJyYXkuaXNBcnJheShjKSYmYy5sZW5ndGghPT1mLmxlbmd0aClzLmVycm9yKFwiRXhwZWN0ZWQgXCIrYy5sZW5ndGgrXCIgYXJndW1lbnRzLCBidXQgZm91bmQgXCIrZi5sZW5ndGgrXCIgaW5zdGVhZC5cIik7ZWxzZXtmb3IodmFyIHg9MDt4PGYubGVuZ3RoO3grKyl7dmFyIGI9QXJyYXkuaXNBcnJheShjKT9jW3hdOmMudHlwZSxfPWZbeF07cy5jb25jYXQoeCsxKS5jaGVja1N1YnR5cGUoYixfLnR5cGUpO31pZigwPT09cy5lcnJvcnMubGVuZ3RoKXJldHVybiBuZXcgX3QocixpLGgsZil9fWlmKDE9PT1vLmxlbmd0aCllLmVycm9ycy5wdXNoLmFwcGx5KGUuZXJyb3JzLHMuZXJyb3JzKTtlbHNle2Zvcih2YXIgdz0oby5sZW5ndGg/bzphKS5tYXAoZnVuY3Rpb24odCl7dmFyIGUscj10WzBdO3JldHVybiBlPXIsQXJyYXkuaXNBcnJheShlKT9cIihcIitlLm1hcChldCkuam9pbihcIiwgXCIpK1wiKVwiOlwiKFwiK2V0KGUudHlwZSkrXCIuLi4pXCJ9KS5qb2luKFwiIHwgXCIpLEE9W10saz0xO2s8dC5sZW5ndGg7aysrKXt2YXIgej1lLnBhcnNlKHRba10sMStBLmxlbmd0aCk7aWYoIXopcmV0dXJuIG51bGw7QS5wdXNoKGV0KHoudHlwZSkpO31lLmVycm9yKFwiRXhwZWN0ZWQgYXJndW1lbnRzIG9mIHR5cGUgXCIrdytcIiwgYnV0IGZvdW5kIChcIitBLmpvaW4oXCIsIFwiKStcIikgaW5zdGVhZC5cIik7fXJldHVybiBudWxsfSxfdC5yZWdpc3Rlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBfdC5kZWZpbml0aW9ucz1lLGUpdFtyXT1fdDt9O3ZhciB6dD1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT1lLnR5cGUsdGhpcy5uYW1lPXQsdGhpcy5ib3VuZEV4cHJlc3Npb249ZTt9O3p0LnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMiE9PXQubGVuZ3RofHxcInN0cmluZ1wiIT10eXBlb2YgdFsxXSlyZXR1cm4gZS5lcnJvcihcIid2YXInIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgc3RyaW5nIGxpdGVyYWwgYXJndW1lbnQuXCIpO3ZhciByPXRbMV07cmV0dXJuIGUuc2NvcGUuaGFzKHIpP25ldyB6dChyLGUuc2NvcGUuZ2V0KHIpKTplLmVycm9yKCdVbmtub3duIHZhcmlhYmxlIFwiJytyKydcIi4gTWFrZSBzdXJlIFwiJytyKydcIiBoYXMgYmVlbiBib3VuZCBpbiBhbiBlbmNsb3NpbmcgXCJsZXRcIiBleHByZXNzaW9uIGJlZm9yZSB1c2luZyBpdC4nLDEpfSx6dC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYm91bmRFeHByZXNzaW9uLmV2YWx1YXRlKHQpfSx6dC5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKCl7fSx6dC5wcm90b3R5cGUucG9zc2libGVPdXRwdXRzPWZ1bmN0aW9uKCl7cmV0dXJuIFt2b2lkIDBdfSx6dC5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFtcInZhclwiLHRoaXMubmFtZV19O3ZhciBTdD1mdW5jdGlvbih0LGUscixuLGkpe3ZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT1uJiYobj1uZXcgWiksdm9pZCAwPT09aSYmKGk9W10pLHRoaXMucmVnaXN0cnk9dCx0aGlzLnBhdGg9ZSx0aGlzLmtleT1lLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gXCJbXCIrdCtcIl1cIn0pLmpvaW4oXCJcIiksdGhpcy5zY29wZT1uLHRoaXMuZXJyb3JzPWksdGhpcy5leHBlY3RlZFR5cGU9cjt9O2Z1bmN0aW9uIEJ0KHQsZSl7Zm9yKHZhciByLG4saT0wLGE9dC5sZW5ndGgtMSxvPTA7aTw9YTspe2lmKHI9dFtvPU1hdGguZmxvb3IoKGkrYSkvMildLG49dFtvKzFdLGU9PT1yfHxlPnImJmU8bilyZXR1cm4gbztpZihyPGUpaT1vKzE7ZWxzZXtpZighKHI+ZSkpdGhyb3cgbmV3IHl0KFwiSW5wdXQgaXMgbm90IGEgbnVtYmVyLlwiKTthPW8tMTt9fXJldHVybiBNYXRoLm1heChvLTEsMCl9U3QucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSxyLG4saSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPXt9KSxlP3RoaXMuY29uY2F0KGUscixuKS5fcGFyc2UodCxpKTp0aGlzLl9wYXJzZSh0LGkpfSxTdC5wcm90b3R5cGUuX3BhcnNlPWZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9PXQmJlwic3RyaW5nXCIhPXR5cGVvZiB0JiZcImJvb2xlYW5cIiE9dHlwZW9mIHQmJlwibnVtYmVyXCIhPXR5cGVvZiB0fHwodD1bXCJsaXRlcmFsXCIsdF0pLEFycmF5LmlzQXJyYXkodCkpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdGhpcy5lcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgZWxlbWVudC4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFtdXS4nKTt2YXIgcj10WzBdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiByKXJldHVybiB0aGlzLmVycm9yKFwiRXhwcmVzc2lvbiBuYW1lIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCBmb3VuZCBcIit0eXBlb2YgcisnIGluc3RlYWQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uJywwKSxudWxsO3ZhciBuPXRoaXMucmVnaXN0cnlbcl07aWYobil7dmFyIGk9bi5wYXJzZSh0LHRoaXMpO2lmKCFpKXJldHVybiBudWxsO2lmKHRoaXMuZXhwZWN0ZWRUeXBlKXt2YXIgYT10aGlzLmV4cGVjdGVkVHlwZSxvPWkudHlwZTtpZihcInN0cmluZ1wiIT09YS5raW5kJiZcIm51bWJlclwiIT09YS5raW5kJiZcImJvb2xlYW5cIiE9PWEua2luZCYmXCJvYmplY3RcIiE9PWEua2luZCYmXCJhcnJheVwiIT09YS5raW5kfHxcInZhbHVlXCIhPT1vLmtpbmQpaWYoXCJjb2xvclwiIT09YS5raW5kfHxcInZhbHVlXCIhPT1vLmtpbmQmJlwic3RyaW5nXCIhPT1vLmtpbmQpaWYoXCJmb3JtYXR0ZWRcIiE9PWEua2luZHx8XCJ2YWx1ZVwiIT09by5raW5kJiZcInN0cmluZ1wiIT09by5raW5kKXtpZih0aGlzLmNoZWNrU3VidHlwZSh0aGlzLmV4cGVjdGVkVHlwZSxpLnR5cGUpKXJldHVybiBudWxsfWVsc2UgZS5vbWl0VHlwZUFubm90YXRpb25zfHwoaT1uZXcgZ3QoYSxbaV0pKTtlbHNlIGUub21pdFR5cGVBbm5vdGF0aW9uc3x8KGk9bmV3IGd0KGEsW2ldKSk7ZWxzZSBlLm9taXRUeXBlQW5ub3RhdGlvbnN8fChpPW5ldyBtdChhLFtpXSkpO31pZighKGkgaW5zdGFuY2VvZiBmdCkmJmZ1bmN0aW9uIHQoZSl7aWYoZSBpbnN0YW5jZW9mIHp0KXJldHVybiB0KGUuYm91bmRFeHByZXNzaW9uKTtpZihlIGluc3RhbmNlb2YgX3QmJlwiZXJyb3JcIj09PWUubmFtZSlyZXR1cm4gITE7aWYoZSBpbnN0YW5jZW9mIHN0KXJldHVybiAhMTt2YXIgcj1lIGluc3RhbmNlb2YgZ3R8fGUgaW5zdGFuY2VvZiBtdDt2YXIgbj0hMDtlLmVhY2hDaGlsZChmdW5jdGlvbihlKXtuPXI/biYmdChlKTpuJiZlIGluc3RhbmNlb2YgZnQ7fSk7aWYoIW4pcmV0dXJuICExO3JldHVybiB3dChlKSYma3QoZSxbXCJ6b29tXCIsXCJoZWF0bWFwLWRlbnNpdHlcIixcImxpbmUtcHJvZ3Jlc3NcIixcImlzLXN1cHBvcnRlZC1zY3JpcHRcIl0pfShpKSl7dmFyIHM9bmV3IGJ0O3RyeXtpPW5ldyBmdChpLnR5cGUsaS5ldmFsdWF0ZShzKSk7fWNhdGNoKHQpe3JldHVybiB0aGlzLmVycm9yKHQubWVzc2FnZSksbnVsbH19cmV0dXJuIGl9cmV0dXJuIHRoaXMuZXJyb3IoJ1Vua25vd24gZXhwcmVzc2lvbiBcIicrcisnXCIuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uJywwKX1yZXR1cm4gdm9pZCAwPT09dD90aGlzLmVycm9yKFwiJ3VuZGVmaW5lZCcgdmFsdWUgaW52YWxpZC4gVXNlIG51bGwgaW5zdGVhZC5cIik6XCJvYmplY3RcIj09dHlwZW9mIHQ/dGhpcy5lcnJvcignQmFyZSBvYmplY3RzIGludmFsaWQuIFVzZSBbXCJsaXRlcmFsXCIsIHsuLi59XSBpbnN0ZWFkLicpOnRoaXMuZXJyb3IoXCJFeHBlY3RlZCBhbiBhcnJheSwgYnV0IGZvdW5kIFwiK3R5cGVvZiB0K1wiIGluc3RlYWQuXCIpfSxTdC5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1cIm51bWJlclwiPT10eXBlb2YgdD90aGlzLnBhdGguY29uY2F0KHQpOnRoaXMucGF0aCxpPXI/dGhpcy5zY29wZS5jb25jYXQocik6dGhpcy5zY29wZTtyZXR1cm4gbmV3IFN0KHRoaXMucmVnaXN0cnksbixlfHxudWxsLGksdGhpcy5lcnJvcnMpfSxTdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLHI9YXJndW1lbnRzLmxlbmd0aC0xO3ItLSA+MDspZVtyXT1hcmd1bWVudHNbcisxXTt2YXIgbj1cIlwiK3RoaXMua2V5K2UubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBcIltcIit0K1wiXVwifSkuam9pbihcIlwiKTt0aGlzLmVycm9ycy5wdXNoKG5ldyBOKG4sdCkpO30sU3QucHJvdG90eXBlLmNoZWNrU3VidHlwZT1mdW5jdGlvbih0LGUpe3ZhciByPW50KHQsZSk7cmV0dXJuIHImJnRoaXMuZXJyb3Iocikscn07dmFyIEl0PWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnR5cGU9dCx0aGlzLmlucHV0PWUsdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcih2YXIgbj0wLGk9cjtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl0sbz1hWzBdLHM9YVsxXTt0aGlzLmxhYmVscy5wdXNoKG8pLHRoaXMub3V0cHV0cy5wdXNoKHMpO319O2Z1bmN0aW9uIFZ0KHQsZSxyKXtyZXR1cm4gdCooMS1yKStlKnJ9SXQucGFyc2U9ZnVuY3Rpb24odCxlKXt2YXIgcj10WzFdLG49dC5zbGljZSgyKTtpZih0Lmxlbmd0aC0xPDQpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgXCIrKHQubGVuZ3RoLTEpK1wiLlwiKTtpZigodC5sZW5ndGgtMSklMiE9MClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7aWYoIShyPWUucGFyc2UociwxLEgpKSlyZXR1cm4gbnVsbDt2YXIgaT1bXSxhPW51bGw7ZS5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihhPWUuZXhwZWN0ZWRUeXBlKSxuLnVuc2hpZnQoLTEvMCk7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKz0yKXt2YXIgcz1uW29dLHU9bltvKzFdLHA9bysxLGw9bysyO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwic3RlcFwiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicscCk7aWYoaS5sZW5ndGgmJmlbaS5sZW5ndGgtMV1bMF0+PXMpcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJzdGVwXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBhcnJhbmdlZCB3aXRoIGlucHV0IHZhbHVlcyBpbiBzdHJpY3RseSBhc2NlbmRpbmcgb3JkZXIuJyxwKTt2YXIgYz1lLnBhcnNlKHUsbCxhKTtpZighYylyZXR1cm4gbnVsbDthPWF8fGMudHlwZSxpLnB1c2goW3MsY10pO31yZXR1cm4gbmV3IEl0KGEscixpKX0sSXQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGFiZWxzLHI9dGhpcy5vdXRwdXRzO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTt2YXIgbj10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKG48PWVbMF0pcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7dmFyIGk9ZS5sZW5ndGg7cmV0dXJuIG4+PWVbaS0xXT9yW2ktMV0uZXZhbHVhdGUodCk6cltCdChlLG4pXS5ldmFsdWF0ZSh0KX0sSXQucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5wdXQpO2Zvcih2YXIgZT0wLHI9dGhpcy5vdXRwdXRzO2U8ci5sZW5ndGg7ZSs9MSl7dChyW2VdKTt9fSxJdC5wcm90b3R5cGUucG9zc2libGVPdXRwdXRzPWZ1bmN0aW9uKCl7cmV0dXJuICh0PVtdKS5jb25jYXQuYXBwbHkodCx0aGlzLm91dHB1dHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBvc3NpYmxlT3V0cHV0cygpfSkpO3ZhciB0O30sSXQucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXCJzdGVwXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV0sZT0wO2U8dGhpcy5sYWJlbHMubGVuZ3RoO2UrKyllPjAmJnQucHVzaCh0aGlzLmxhYmVsc1tlXSksdC5wdXNoKHRoaXMub3V0cHV0c1tlXS5zZXJpYWxpemUoKSk7cmV0dXJuIHR9O3ZhciBQdD1PYmplY3QuZnJlZXplKHtudW1iZXI6VnQsY29sb3I6ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuZXcgYXQoVnQodC5yLGUucixyKSxWdCh0LmcsZS5nLHIpLFZ0KHQuYixlLmIsciksVnQodC5hLGUuYSxyKSl9LGFycmF5OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCxuKXtyZXR1cm4gVnQodCxlW25dLHIpfSl9fSksTXQ9Ljk1MDQ3LEN0PTEsVHQ9MS4wODg4MyxFdD00LzI5LEZ0PTYvMjksT3Q9MypGdCpGdCxMdD1GdCpGdCpGdCxEdD1NYXRoLlBJLzE4MCxqdD0xODAvTWF0aC5QSTtmdW5jdGlvbiBVdCh0KXtyZXR1cm4gdD5MdD9NYXRoLnBvdyh0LDEvMyk6dC9PdCtFdH1mdW5jdGlvbiBxdCh0KXtyZXR1cm4gdD5GdD90KnQqdDpPdCoodC1FdCl9ZnVuY3Rpb24gUnQodCl7cmV0dXJuIDI1NSoodDw9LjAwMzEzMDg/MTIuOTIqdDoxLjA1NSpNYXRoLnBvdyh0LDEvMi40KS0uMDU1KX1mdW5jdGlvbiBOdCh0KXtyZXR1cm4gKHQvPTI1NSk8PS4wNDA0NT90LzEyLjkyOk1hdGgucG93KCh0Ky4wNTUpLzEuMDU1LDIuNCl9ZnVuY3Rpb24gWnQodCl7dmFyIGU9TnQodC5yKSxyPU50KHQuZyksbj1OdCh0LmIpLGk9VXQoKC40MTI0NTY0KmUrLjM1NzU3NjEqcisuMTgwNDM3NSpuKS9NdCksYT1VdCgoLjIxMjY3MjkqZSsuNzE1MTUyMipyKy4wNzIxNzUqbikvQ3QpO3JldHVybiB7bDoxMTYqYS0xNixhOjUwMCooaS1hKSxiOjIwMCooYS1VdCgoLjAxOTMzMzkqZSsuMTE5MTkyKnIrLjk1MDMwNDEqbikvVHQpKSxhbHBoYTp0LmF9fWZ1bmN0aW9uIFh0KHQpe3ZhciBlPSh0LmwrMTYpLzExNixyPWlzTmFOKHQuYSk/ZTplK3QuYS81MDAsbj1pc05hTih0LmIpP2U6ZS10LmIvMjAwO3JldHVybiBlPUN0KnF0KGUpLHI9TXQqcXQociksbj1UdCpxdChuKSxuZXcgYXQoUnQoMy4yNDA0NTQyKnItMS41MzcxMzg1KmUtLjQ5ODUzMTQqbiksUnQoLS45NjkyNjYqcisxLjg3NjAxMDgqZSsuMDQxNTU2Km4pLFJ0KC4wNTU2NDM0KnItLjIwNDAyNTkqZSsxLjA1NzIyNTIqbiksdC5hbHBoYSl9dmFyIEh0PXtmb3J3YXJkOlp0LHJldmVyc2U6WHQsaW50ZXJwb2xhdGU6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB7bDpWdCh0LmwsZS5sLHIpLGE6VnQodC5hLGUuYSxyKSxiOlZ0KHQuYixlLmIsciksYWxwaGE6VnQodC5hbHBoYSxlLmFscGhhLHIpfX19LEd0PXtmb3J3YXJkOmZ1bmN0aW9uKHQpe3ZhciBlPVp0KHQpLHI9ZS5sLG49ZS5hLGk9ZS5iLGE9TWF0aC5hdGFuMihpLG4pKmp0O3JldHVybiB7aDphPDA/YSszNjA6YSxjOk1hdGguc3FydChuKm4raSppKSxsOnIsYWxwaGE6dC5hfX0scmV2ZXJzZTpmdW5jdGlvbih0KXt2YXIgZT10LmgqRHQscj10LmM7cmV0dXJuIFh0KHtsOnQubCxhOk1hdGguY29zKGUpKnIsYjpNYXRoLnNpbihlKSpyLGFscGhhOnQuYWxwaGF9KX0saW50ZXJwb2xhdGU6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB7aDpmdW5jdGlvbih0LGUscil7dmFyIG49ZS10O3JldHVybiB0K3IqKG4+MTgwfHxuPC0xODA/bi0zNjAqTWF0aC5yb3VuZChuLzM2MCk6bil9KHQuaCxlLmgsciksYzpWdCh0LmMsZS5jLHIpLGw6VnQodC5sLGUubCxyKSxhbHBoYTpWdCh0LmFscGhhLGUuYWxwaGEscil9fX0sSnQ9T2JqZWN0LmZyZWV6ZSh7bGFiOkh0LGhjbDpHdH0pLEt0PWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy50eXBlPXQsdGhpcy5vcGVyYXRvcj1lLHRoaXMuaW50ZXJwb2xhdGlvbj1yLHRoaXMuaW5wdXQ9bix0aGlzLmxhYmVscz1bXSx0aGlzLm91dHB1dHM9W107Zm9yKHZhciBhPTAsbz1pO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXSx1PXNbMF0scD1zWzFdO3RoaXMubGFiZWxzLnB1c2godSksdGhpcy5vdXRwdXRzLnB1c2gocCk7fX07ZnVuY3Rpb24gWXQodCxlLHIsbil7dmFyIGk9bi1yLGE9dC1yO3JldHVybiAwPT09aT8wOjE9PT1lP2EvaTooTWF0aC5wb3coZSxhKS0xKS8oTWF0aC5wb3coZSxpKS0xKX1LdC5pbnRlcnBvbGF0aW9uRmFjdG9yPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciBhPTA7aWYoXCJleHBvbmVudGlhbFwiPT09dC5uYW1lKWE9WXQoZSx0LmJhc2UsbixpKTtlbHNlIGlmKFwibGluZWFyXCI9PT10Lm5hbWUpYT1ZdChlLDEsbixpKTtlbHNlIGlmKFwiY3ViaWMtYmV6aWVyXCI9PT10Lm5hbWUpe3ZhciBvPXQuY29udHJvbFBvaW50czthPW5ldyByKG9bMF0sb1sxXSxvWzJdLG9bM10pLnNvbHZlKFl0KGUsMSxuLGkpKTt9cmV0dXJuIGF9LEt0LnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLGE9dC5zbGljZSgzKTtpZighQXJyYXkuaXNBcnJheShuKXx8MD09PW4ubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gaW50ZXJwb2xhdGlvbiB0eXBlIGV4cHJlc3Npb24uXCIsMSk7aWYoXCJsaW5lYXJcIj09PW5bMF0pbj17bmFtZTpcImxpbmVhclwifTtlbHNlIGlmKFwiZXhwb25lbnRpYWxcIj09PW5bMF0pe3ZhciBvPW5bMV07aWYoXCJudW1iZXJcIiE9dHlwZW9mIG8pcmV0dXJuIGUuZXJyb3IoXCJFeHBvbmVudGlhbCBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGEgbnVtZXJpYyBiYXNlLlwiLDEsMSk7bj17bmFtZTpcImV4cG9uZW50aWFsXCIsYmFzZTpvfTt9ZWxzZXtpZihcImN1YmljLWJlemllclwiIT09blswXSlyZXR1cm4gZS5lcnJvcihcIlVua25vd24gaW50ZXJwb2xhdGlvbiB0eXBlIFwiK1N0cmluZyhuWzBdKSwxLDApO3ZhciBzPW4uc2xpY2UoMSk7aWYoNCE9PXMubGVuZ3RofHxzLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDB8fHQ+MX0pKXJldHVybiBlLmVycm9yKFwiQ3ViaWMgYmV6aWVyIGludGVycG9sYXRpb24gcmVxdWlyZXMgZm91ciBudW1lcmljIGFyZ3VtZW50cyB3aXRoIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDEuXCIsMSk7bj17bmFtZTpcImN1YmljLWJlemllclwiLGNvbnRyb2xQb2ludHM6c307fWlmKHQubGVuZ3RoLTE8NClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSBcIisodC5sZW5ndGgtMSkrXCIuXCIpO2lmKCh0Lmxlbmd0aC0xKSUyIT0wKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtpZighKGk9ZS5wYXJzZShpLDIsSCkpKXJldHVybiBudWxsO3ZhciB1PVtdLHA9bnVsbDtcImludGVycG9sYXRlLWhjbFwiPT09cnx8XCJpbnRlcnBvbGF0ZS1sYWJcIj09PXI/cD1LOmUuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT1lLmV4cGVjdGVkVHlwZS5raW5kJiYocD1lLmV4cGVjdGVkVHlwZSk7Zm9yKHZhciBsPTA7bDxhLmxlbmd0aDtsKz0yKXt2YXIgYz1hW2xdLGg9YVtsKzFdLGY9bCszLHk9bCs0O2lmKFwibnVtYmVyXCIhPXR5cGVvZiBjKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLGYpO2lmKHUubGVuZ3RoJiZ1W3UubGVuZ3RoLTFdWzBdPj1jKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLGYpO3ZhciBkPWUucGFyc2UoaCx5LHApO2lmKCFkKXJldHVybiBudWxsO3A9cHx8ZC50eXBlLHUucHVzaChbYyxkXSk7fXJldHVybiBcIm51bWJlclwiPT09cC5raW5kfHxcImNvbG9yXCI9PT1wLmtpbmR8fFwiYXJyYXlcIj09PXAua2luZCYmXCJudW1iZXJcIj09PXAuaXRlbVR5cGUua2luZCYmXCJudW1iZXJcIj09dHlwZW9mIHAuTj9uZXcgS3QocCxyLG4saSx1KTplLmVycm9yKFwiVHlwZSBcIitldChwKStcIiBpcyBub3QgaW50ZXJwb2xhdGFibGUuXCIpfSxLdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sYWJlbHMscj10aGlzLm91dHB1dHM7aWYoMT09PWUubGVuZ3RoKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO3ZhciBuPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7aWYobjw9ZVswXSlyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTt2YXIgaT1lLmxlbmd0aDtpZihuPj1lW2ktMV0pcmV0dXJuIHJbaS0xXS5ldmFsdWF0ZSh0KTt2YXIgYT1CdChlLG4pLG89ZVthXSxzPWVbYSsxXSx1PUt0LmludGVycG9sYXRpb25GYWN0b3IodGhpcy5pbnRlcnBvbGF0aW9uLG4sbyxzKSxwPXJbYV0uZXZhbHVhdGUodCksbD1yW2ErMV0uZXZhbHVhdGUodCk7cmV0dXJuIFwiaW50ZXJwb2xhdGVcIj09PXRoaXMub3BlcmF0b3I/UHRbdGhpcy50eXBlLmtpbmQudG9Mb3dlckNhc2UoKV0ocCxsLHUpOlwiaW50ZXJwb2xhdGUtaGNsXCI9PT10aGlzLm9wZXJhdG9yP0d0LnJldmVyc2UoR3QuaW50ZXJwb2xhdGUoR3QuZm9yd2FyZChwKSxHdC5mb3J3YXJkKGwpLHUpKTpIdC5yZXZlcnNlKEh0LmludGVycG9sYXRlKEh0LmZvcndhcmQocCksSHQuZm9yd2FyZChsKSx1KSl9LEt0LnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLmlucHV0KTtmb3IodmFyIGU9MCxyPXRoaXMub3V0cHV0cztlPHIubGVuZ3RoO2UrPTEpe3QocltlXSk7fX0sS3QucHJvdG90eXBlLnBvc3NpYmxlT3V0cHV0cz1mdW5jdGlvbigpe3JldHVybiAodD1bXSkuY29uY2F0LmFwcGx5KHQsdGhpcy5vdXRwdXRzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5wb3NzaWJsZU91dHB1dHMoKX0pKTt2YXIgdDt9LEt0LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdDt0PVwibGluZWFyXCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT9bXCJsaW5lYXJcIl06XCJleHBvbmVudGlhbFwiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/MT09PXRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlP1tcImxpbmVhclwiXTpbXCJleHBvbmVudGlhbFwiLHRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlXTpbXCJjdWJpYy1iZXppZXJcIl0uY29uY2F0KHRoaXMuaW50ZXJwb2xhdGlvbi5jb250cm9sUG9pbnRzKTtmb3IodmFyIGU9W3RoaXMub3BlcmF0b3IsdCx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXSxyPTA7cjx0aGlzLmxhYmVscy5sZW5ndGg7cisrKWUucHVzaCh0aGlzLmxhYmVsc1tyXSx0aGlzLm91dHB1dHNbcl0uc2VyaWFsaXplKCkpO3JldHVybiBlfTt2YXIgJHQ9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9OyR0LnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7dmFyIHI9bnVsbCxuPWUuZXhwZWN0ZWRUeXBlO24mJlwidmFsdWVcIiE9PW4ua2luZCYmKHI9bik7Zm9yKHZhciBpPVtdLGE9MCxvPXQuc2xpY2UoMSk7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLHU9ZS5wYXJzZShzLDEraS5sZW5ndGgscix2b2lkIDAse29taXRUeXBlQW5ub3RhdGlvbnM6ITB9KTtpZighdSlyZXR1cm4gbnVsbDtyPXJ8fHUudHlwZSxpLnB1c2godSk7fXZhciBwPW4mJmkuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gbnQobix0LnR5cGUpfSk7cmV0dXJuIG5ldyAkdChwPyQ6cixpKX0sJHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLHI9MCxuPXRoaXMuYXJncztyPG4ubGVuZ3RoO3IrPTEpe2lmKG51bGwhPT0oZT1uW3JdLmV2YWx1YXRlKHQpKSlicmVha31yZXR1cm4gZX0sJHQucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0aGlzLmFyZ3MuZm9yRWFjaCh0KTt9LCR0LnByb3RvdHlwZS5wb3NzaWJsZU91dHB1dHM9ZnVuY3Rpb24oKXtyZXR1cm4gKHQ9W10pLmNvbmNhdC5hcHBseSh0LHRoaXMuYXJncy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zc2libGVPdXRwdXRzKCl9KSk7dmFyIHQ7fSwkdC5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9W1wiY29hbGVzY2VcIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKGZ1bmN0aW9uKGUpe3QucHVzaChlLnNlcmlhbGl6ZSgpKTt9KSx0fTt2YXIgV3Q9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9ZS50eXBlLHRoaXMuYmluZGluZ3M9W10uY29uY2F0KHQpLHRoaXMucmVzdWx0PWU7fTtXdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVzdWx0LmV2YWx1YXRlKHQpfSxXdC5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5iaW5kaW5ncztlPHIubGVuZ3RoO2UrPTEpe3QocltlXVsxXSk7fXQodGhpcy5yZXN1bHQpO30sV3QucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw0KXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3QgMyBhcmd1bWVudHMsIGJ1dCBmb3VuZCBcIisodC5sZW5ndGgtMSkrXCIgaW5zdGVhZC5cIik7Zm9yKHZhciByPVtdLG49MTtuPHQubGVuZ3RoLTE7bis9Mil7dmFyIGk9dFtuXTtpZihcInN0cmluZ1wiIT10eXBlb2YgaSlyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIHN0cmluZywgYnV0IGZvdW5kIFwiK3R5cGVvZiBpK1wiIGluc3RlYWQuXCIsbik7aWYoL1teYS16QS1aMC05X10vLnRlc3QoaSkpcmV0dXJuIGUuZXJyb3IoXCJWYXJpYWJsZSBuYW1lcyBtdXN0IGNvbnRhaW4gb25seSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBvciAnXycuXCIsbik7dmFyIGE9ZS5wYXJzZSh0W24rMV0sbisxKTtpZighYSlyZXR1cm4gbnVsbDtyLnB1c2goW2ksYV0pO312YXIgbz1lLnBhcnNlKHRbdC5sZW5ndGgtMV0sdC5sZW5ndGgtMSx2b2lkIDAscik7cmV0dXJuIG8/bmV3IFd0KHIsbyk6bnVsbH0sV3QucHJvdG90eXBlLnBvc3NpYmxlT3V0cHV0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc3VsdC5wb3NzaWJsZU91dHB1dHMoKX0sV3QucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXCJsZXRcIl0sZT0wLHI9dGhpcy5iaW5kaW5ncztlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV0saT1uWzBdLGE9blsxXTt0LnB1c2goaSxhLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIHQucHVzaCh0aGlzLnJlc3VsdC5zZXJpYWxpemUoKSksdH07dmFyIFF0PWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnR5cGU9dCx0aGlzLmluZGV4PWUsdGhpcy5pbnB1dD1yO307UXQucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigzIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCAyIGFyZ3VtZW50cywgYnV0IGZvdW5kIFwiKyh0Lmxlbmd0aC0xKStcIiBpbnN0ZWFkLlwiKTt2YXIgcj1lLnBhcnNlKHRbMV0sMSxIKSxuPWUucGFyc2UodFsyXSwyLHR0KGUuZXhwZWN0ZWRUeXBlfHwkKSk7aWYoIXJ8fCFuKXJldHVybiBudWxsO3ZhciBpPW4udHlwZTtyZXR1cm4gbmV3IFF0KGkuaXRlbVR5cGUscixuKX0sUXQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW5kZXguZXZhbHVhdGUodCkscj10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKGU8MCl0aHJvdyBuZXcgeXQoXCJBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiBcIitlK1wiIDwgMC5cIik7aWYoZT49ci5sZW5ndGgpdGhyb3cgbmV3IHl0KFwiQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogXCIrZStcIiA+IFwiKyhyLmxlbmd0aC0xKStcIi5cIik7aWYoZSE9PU1hdGguZmxvb3IoZSkpdGhyb3cgbmV3IHl0KFwiQXJyYXkgaW5kZXggbXVzdCBiZSBhbiBpbnRlZ2VyLCBidXQgZm91bmQgXCIrZStcIiBpbnN0ZWFkLlwiKTtyZXR1cm4gcltlXX0sUXQucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5kZXgpLHQodGhpcy5pbnB1dCk7fSxRdC5wcm90b3R5cGUucG9zc2libGVPdXRwdXRzPWZ1bmN0aW9uKCl7cmV0dXJuIFt2b2lkIDBdfSxRdC5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFtcImF0XCIsdGhpcy5pbmRleC5zZXJpYWxpemUoKSx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXX07dmFyIHRlPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt0aGlzLmlucHV0VHlwZT10LHRoaXMudHlwZT1lLHRoaXMuaW5wdXQ9cix0aGlzLmNhc2VzPW4sdGhpcy5vdXRwdXRzPWksdGhpcy5vdGhlcndpc2U9YTt9O3RlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8NSlyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSBcIisodC5sZW5ndGgtMSkrXCIuXCIpO2lmKHQubGVuZ3RoJTIhPTEpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO3ZhciByLG47ZS5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihuPWUuZXhwZWN0ZWRUeXBlKTtmb3IodmFyIGk9e30sYT1bXSxvPTI7bzx0Lmxlbmd0aC0xO28rPTIpe3ZhciBzPXRbb10sdT10W28rMV07QXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKTt2YXIgcD1lLmNvbmNhdChvKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIHAuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYnJhbmNoIGxhYmVsLlwiKTtmb3IodmFyIGw9MCxjPXM7bDxjLmxlbmd0aDtsKz0xKXt2YXIgaD1jW2xdO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBoJiZcInN0cmluZ1wiIT10eXBlb2YgaClyZXR1cm4gcC5lcnJvcihcIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSBudW1iZXJzIG9yIHN0cmluZ3MuXCIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBoJiZNYXRoLmFicyhoKT5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUilyZXR1cm4gcC5lcnJvcihcIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSBpbnRlZ2VycyBubyBsYXJnZXIgdGhhbiBcIitOdW1iZXIuTUFYX1NBRkVfSU5URUdFUitcIi5cIik7aWYoXCJudW1iZXJcIj09dHlwZW9mIGgmJk1hdGguZmxvb3IoaCkhPT1oKXJldHVybiBwLmVycm9yKFwiTnVtZXJpYyBicmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlciB2YWx1ZXMuXCIpO2lmKHIpe2lmKHAuY2hlY2tTdWJ0eXBlKHIscHQoaCkpKXJldHVybiBudWxsfWVsc2Ugcj1wdChoKTtpZih2b2lkIDAhPT1pW1N0cmluZyhoKV0pcmV0dXJuIHAuZXJyb3IoXCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgdW5pcXVlLlwiKTtpW1N0cmluZyhoKV09YS5sZW5ndGg7fXZhciBmPWUucGFyc2UodSxvLG4pO2lmKCFmKXJldHVybiBudWxsO249bnx8Zi50eXBlLGEucHVzaChmKTt9dmFyIHk9ZS5wYXJzZSh0WzFdLDEsJCk7aWYoIXkpcmV0dXJuIG51bGw7dmFyIGQ9ZS5wYXJzZSh0W3QubGVuZ3RoLTFdLHQubGVuZ3RoLTEsbik7cmV0dXJuIGQ/XCJ2YWx1ZVwiIT09eS50eXBlLmtpbmQmJmUuY29uY2F0KDEpLmNoZWNrU3VidHlwZShyLHkudHlwZSk/bnVsbDpuZXcgdGUocixuLHksaSxhLGQpOm51bGx9LHRlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO3JldHVybiAocHQoZSk9PT10aGlzLmlucHV0VHlwZSYmdGhpcy5vdXRwdXRzW3RoaXMuY2FzZXNbZV1dfHx0aGlzLm90aGVyd2lzZSkuZXZhbHVhdGUodCl9LHRlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLmlucHV0KSx0aGlzLm91dHB1dHMuZm9yRWFjaCh0KSx0KHRoaXMub3RoZXJ3aXNlKTt9LHRlLnByb3RvdHlwZS5wb3NzaWJsZU91dHB1dHM9ZnVuY3Rpb24oKXtyZXR1cm4gKHQ9W10pLmNvbmNhdC5hcHBseSh0LHRoaXMub3V0cHV0cy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucG9zc2libGVPdXRwdXRzKCl9KSkuY29uY2F0KHRoaXMub3RoZXJ3aXNlLnBvc3NpYmxlT3V0cHV0cygpKTt2YXIgdDt9LHRlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPVtcIm1hdGNoXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV0scj1bXSxuPXt9LGk9MCxhPU9iamVjdC5rZXlzKHRoaXMuY2FzZXMpLnNvcnQoKTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV0scz1uW3QuY2FzZXNbb11dO3ZvaWQgMD09PXM/KG5bdC5jYXNlc1tvXV09ci5sZW5ndGgsci5wdXNoKFt0LmNhc2VzW29dLFtvXV0pKTpyW3NdWzFdLnB1c2gobyk7fWZvcih2YXIgdT1mdW5jdGlvbihlKXtyZXR1cm4gXCJudW1iZXJcIj09PXQuaW5wdXRUeXBlLmtpbmQ/TnVtYmVyKGUpOmV9LHA9MCxsPXI7cDxsLmxlbmd0aDtwKz0xKXt2YXIgYz1sW3BdLGg9Y1swXSxmPWNbMV07MT09PWYubGVuZ3RoP2UucHVzaCh1KGZbMF0pKTplLnB1c2goZi5tYXAodSkpLGUucHVzaCh0Lm91dHB1dHNbaF0uc2VyaWFsaXplKCkpO31yZXR1cm4gZS5wdXNoKHRoaXMub3RoZXJ3aXNlLnNlcmlhbGl6ZSgpKSxlfTt2YXIgZWU9ZnVuY3Rpb24odCxlLHIpe3RoaXMudHlwZT10LHRoaXMuYnJhbmNoZXM9ZSx0aGlzLm90aGVyd2lzZT1yO307ZnVuY3Rpb24gcmUodCxlKXtyZXR1cm4gXCI9PVwiPT09dHx8XCIhPVwiPT09dD9cImJvb2xlYW5cIj09PWUua2luZHx8XCJzdHJpbmdcIj09PWUua2luZHx8XCJudW1iZXJcIj09PWUua2luZHx8XCJudWxsXCI9PT1lLmtpbmR8fFwidmFsdWVcIj09PWUua2luZDpcInN0cmluZ1wiPT09ZS5raW5kfHxcIm51bWJlclwiPT09ZS5raW5kfHxcInZhbHVlXCI9PT1lLmtpbmR9ZnVuY3Rpb24gbmUodCxlLHIsbil7cmV0dXJuIDA9PT1uLmNvbXBhcmUoZSxyKX1mdW5jdGlvbiBpZSh0LGUscil7dmFyIG49XCI9PVwiIT09dCYmXCIhPVwiIT09dDtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQsZSxyKXt0aGlzLnR5cGU9Six0aGlzLmxocz10LHRoaXMucmhzPWUsdGhpcy5jb2xsYXRvcj1yLHRoaXMuaGFzVW50eXBlZEFyZ3VtZW50PVwidmFsdWVcIj09PXQudHlwZS5raW5kfHxcInZhbHVlXCI9PT1lLnR5cGUua2luZDt9cmV0dXJuIGkucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigzIT09dC5sZW5ndGgmJjQhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXCIpO3ZhciByPXRbMF0sYT1lLnBhcnNlKHRbMV0sMSwkKTtpZighYSlyZXR1cm4gbnVsbDtpZighcmUocixhLnR5cGUpKXJldHVybiBlLmNvbmNhdCgxKS5lcnJvcignXCInK3IrXCJcXFwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICdcIitldChhLnR5cGUpK1wiJy5cIik7dmFyIG89ZS5wYXJzZSh0WzJdLDIsJCk7aWYoIW8pcmV0dXJuIG51bGw7aWYoIXJlKHIsby50eXBlKSlyZXR1cm4gZS5jb25jYXQoMikuZXJyb3IoJ1wiJytyK1wiXFxcIiBjb21wYXJpc29ucyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgdHlwZSAnXCIrZXQoby50eXBlKStcIicuXCIpO2lmKGEudHlwZS5raW5kIT09by50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWEudHlwZS5raW5kJiZcInZhbHVlXCIhPT1vLnR5cGUua2luZClyZXR1cm4gZS5lcnJvcihcIkNhbm5vdCBjb21wYXJlIHR5cGVzICdcIitldChhLnR5cGUpK1wiJyBhbmQgJ1wiK2V0KG8udHlwZSkrXCInLlwiKTtuJiYoXCJ2YWx1ZVwiPT09YS50eXBlLmtpbmQmJlwidmFsdWVcIiE9PW8udHlwZS5raW5kP2E9bmV3IG10KG8udHlwZSxbYV0pOlwidmFsdWVcIiE9PWEudHlwZS5raW5kJiZcInZhbHVlXCI9PT1vLnR5cGUua2luZCYmKG89bmV3IG10KGEudHlwZSxbb10pKSk7dmFyIHM9bnVsbDtpZig0PT09dC5sZW5ndGgpe2lmKFwic3RyaW5nXCIhPT1hLnR5cGUua2luZCYmXCJzdHJpbmdcIiE9PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1hLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09by50eXBlLmtpbmQpcmV0dXJuIGUuZXJyb3IoXCJDYW5ub3QgdXNlIGNvbGxhdG9yIHRvIGNvbXBhcmUgbm9uLXN0cmluZyB0eXBlcy5cIik7aWYoIShzPWUucGFyc2UodFszXSwzLFcpKSlyZXR1cm4gbnVsbH1yZXR1cm4gbmV3IGkoYSxvLHMpfSxpLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbihpKXt2YXIgYT10aGlzLmxocy5ldmFsdWF0ZShpKSxvPXRoaXMucmhzLmV2YWx1YXRlKGkpO2lmKG4mJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXt2YXIgcz1wdChhKSx1PXB0KG8pO2lmKHMua2luZCE9PXUua2luZHx8XCJzdHJpbmdcIiE9PXMua2luZCYmXCJudW1iZXJcIiE9PXMua2luZCl0aHJvdyBuZXcgeXQoJ0V4cGVjdGVkIGFyZ3VtZW50cyBmb3IgXCInK3QrJ1wiIHRvIGJlIChzdHJpbmcsIHN0cmluZykgb3IgKG51bWJlciwgbnVtYmVyKSwgYnV0IGZvdW5kICgnK3Mua2luZCtcIiwgXCIrdS5raW5kK1wiKSBpbnN0ZWFkLlwiKX1pZih0aGlzLmNvbGxhdG9yJiYhbiYmdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQpe3ZhciBwPXB0KGEpLGw9cHQobyk7aWYoXCJzdHJpbmdcIiE9PXAua2luZHx8XCJzdHJpbmdcIiE9PWwua2luZClyZXR1cm4gZShpLGEsbyl9cmV0dXJuIHRoaXMuY29sbGF0b3I/cihpLGEsbyx0aGlzLmNvbGxhdG9yLmV2YWx1YXRlKGkpKTplKGksYSxvKX0saS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5saHMpLHQodGhpcy5yaHMpLHRoaXMuY29sbGF0b3ImJnQodGhpcy5jb2xsYXRvcik7fSxpLnByb3RvdHlwZS5wb3NzaWJsZU91dHB1dHM9ZnVuY3Rpb24oKXtyZXR1cm4gWyEwLCExXX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9W3RdO3JldHVybiB0aGlzLmVhY2hDaGlsZChmdW5jdGlvbih0KXtlLnB1c2godC5zZXJpYWxpemUoKSk7fSksZX0saX0oKX1lZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPDQpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgXCIrKHQubGVuZ3RoLTEpK1wiLlwiKTtpZih0Lmxlbmd0aCUyIT0wKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gb2RkIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO3ZhciByO2UuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT1lLmV4cGVjdGVkVHlwZS5raW5kJiYocj1lLmV4cGVjdGVkVHlwZSk7Zm9yKHZhciBuPVtdLGk9MTtpPHQubGVuZ3RoLTE7aSs9Mil7dmFyIGE9ZS5wYXJzZSh0W2ldLGksSik7aWYoIWEpcmV0dXJuIG51bGw7dmFyIG89ZS5wYXJzZSh0W2krMV0saSsxLHIpO2lmKCFvKXJldHVybiBudWxsO24ucHVzaChbYSxvXSkscj1yfHxvLnR5cGU7fXZhciBzPWUucGFyc2UodFt0Lmxlbmd0aC0xXSx0Lmxlbmd0aC0xLHIpO3JldHVybiBzP25ldyBlZShyLG4scyk6bnVsbH0sZWUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5icmFuY2hlcztlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV0saT1uWzBdLGE9blsxXTtpZihpLmV2YWx1YXRlKHQpKXJldHVybiBhLmV2YWx1YXRlKHQpfXJldHVybiB0aGlzLm90aGVyd2lzZS5ldmFsdWF0ZSh0KX0sZWUucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuYnJhbmNoZXM7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdLGk9blswXSxhPW5bMV07dChpKSx0KGEpO310KHRoaXMub3RoZXJ3aXNlKTt9LGVlLnByb3RvdHlwZS5wb3NzaWJsZU91dHB1dHM9ZnVuY3Rpb24oKXtyZXR1cm4gKHQ9W10pLmNvbmNhdC5hcHBseSh0LHRoaXMuYnJhbmNoZXMubWFwKGZ1bmN0aW9uKHQpe3RbMF07cmV0dXJuIHRbMV0ucG9zc2libGVPdXRwdXRzKCl9KSkuY29uY2F0KHRoaXMub3RoZXJ3aXNlLnBvc3NpYmxlT3V0cHV0cygpKTt2YXIgdDt9LGVlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1bXCJjYXNlXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZChmdW5jdGlvbihlKXt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSksdH07dmFyIGFlPWllKFwiPT1cIixmdW5jdGlvbih0LGUscil7cmV0dXJuIGU9PT1yfSxuZSksb2U9aWUoXCIhPVwiLGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZSE9PXJ9LGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiAhbmUoMCxlLHIsbil9KSxzZT1pZShcIjxcIixmdW5jdGlvbih0LGUscil7cmV0dXJuIGU8cn0sZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPDB9KSx1ZT1pZShcIj5cIixmdW5jdGlvbih0LGUscil7cmV0dXJuIGU+cn0sZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPjB9KSxwZT1pZShcIjw9XCIsZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPD1yfSxmdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi5jb21wYXJlKGUscik8PTB9KSxsZT1pZShcIj49XCIsZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPj1yfSxmdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi5jb21wYXJlKGUscik+PTB9KSxjZT1mdW5jdGlvbih0KXt0aGlzLnR5cGU9SCx0aGlzLmlucHV0PXQ7fTtjZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIDEgYXJndW1lbnQsIGJ1dCBmb3VuZCBcIisodC5sZW5ndGgtMSkrXCIgaW5zdGVhZC5cIik7dmFyIHI9ZS5wYXJzZSh0WzFdLDEpO3JldHVybiByP1wiYXJyYXlcIiE9PXIudHlwZS5raW5kJiZcInN0cmluZ1wiIT09ci50eXBlLmtpbmQmJlwidmFsdWVcIiE9PXIudHlwZS5raW5kP2UuZXJyb3IoXCJFeHBlY3RlZCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kIFwiK2V0KHIudHlwZSkrXCIgaW5zdGVhZC5cIik6bmV3IGNlKHIpOm51bGx9LGNlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlLmxlbmd0aDtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLmxlbmd0aDt0aHJvdyBuZXcgeXQoXCJFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kIFwiK2V0KHB0KGUpKStcIiBpbnN0ZWFkLlwiKX0sY2UucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5wdXQpO30sY2UucHJvdG90eXBlLnBvc3NpYmxlT3V0cHV0cz1mdW5jdGlvbigpe3JldHVybiBbdm9pZCAwXX0sY2UucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVtcImxlbmd0aFwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoZnVuY3Rpb24oZSl7dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pLHR9O3ZhciBoZT17XCI9PVwiOmFlLFwiIT1cIjpvZSxcIj5cIjp1ZSxcIjxcIjpzZSxcIj49XCI6bGUsXCI8PVwiOnBlLGFycmF5Om10LGF0OlF0LGJvb2xlYW46bXQsY2FzZTplZSxjb2FsZXNjZTokdCxjb2xsYXRvcjpzdCxmb3JtYXQ6aHQsaW50ZXJwb2xhdGU6S3QsXCJpbnRlcnBvbGF0ZS1oY2xcIjpLdCxcImludGVycG9sYXRlLWxhYlwiOkt0LGxlbmd0aDpjZSxsZXQ6V3QsbGl0ZXJhbDpmdCxtYXRjaDp0ZSxudW1iZXI6bXQsb2JqZWN0Om10LHN0ZXA6SXQsc3RyaW5nOm10LFwidG8tY29sb3JcIjpndCxcInRvLW51bWJlclwiOmd0LHZhcjp6dH07ZnVuY3Rpb24gZmUodCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sYT1lWzNdO3I9ci5ldmFsdWF0ZSh0KSxuPW4uZXZhbHVhdGUodCksaT1pLmV2YWx1YXRlKHQpO3ZhciBvPWE/YS5ldmFsdWF0ZSh0KToxLHM9dXQocixuLGksbyk7aWYocyl0aHJvdyBuZXcgeXQocyk7cmV0dXJuIG5ldyBhdChyLzI1NSpvLG4vMjU1Km8saS8yNTUqbyxvKX1mdW5jdGlvbiB5ZSh0LGUpe3JldHVybiB0IGluIGV9ZnVuY3Rpb24gZGUodCxlKXt2YXIgcj1lW3RdO3JldHVybiB2b2lkIDA9PT1yP251bGw6cn1mdW5jdGlvbiBtZSh0KXtyZXR1cm4ge3R5cGU6dH19ZnVuY3Rpb24gdmUodCl7cmV0dXJuIHtyZXN1bHQ6XCJzdWNjZXNzXCIsdmFsdWU6dH19ZnVuY3Rpb24gZ2UodCl7cmV0dXJuIHtyZXN1bHQ6XCJlcnJvclwiLHZhbHVlOnR9fWZ1bmN0aW9uIHhlKHQpe3JldHVybiBcImRhdGEtZHJpdmVuXCI9PT10W1wicHJvcGVydHktdHlwZVwiXXx8XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiPT09dFtcInByb3BlcnR5LXR5cGVcIl19ZnVuY3Rpb24gYmUodCl7cmV0dXJuICEhdC5leHByZXNzaW9uJiZ0LmV4cHJlc3Npb24ucGFyYW1ldGVycy5pbmRleE9mKFwiem9vbVwiKT4tMX1mdW5jdGlvbiBfZSh0KXtyZXR1cm4gISF0LmV4cHJlc3Npb24mJnQuZXhwcmVzc2lvbi5pbnRlcnBvbGF0ZWR9ZnVuY3Rpb24gd2UodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBOdW1iZXI/XCJudW1iZXJcIjp0IGluc3RhbmNlb2YgU3RyaW5nP1wic3RyaW5nXCI6dCBpbnN0YW5jZW9mIEJvb2xlYW4/XCJib29sZWFuXCI6QXJyYXkuaXNBcnJheSh0KT9cImFycmF5XCI6bnVsbD09PXQ/XCJudWxsXCI6dHlwZW9mIHR9ZnVuY3Rpb24gQWUodCl7cmV0dXJuIFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCYmIUFycmF5LmlzQXJyYXkodCl9ZnVuY3Rpb24ga2UodCl7cmV0dXJuIHR9ZnVuY3Rpb24gemUodCxlLHIpe3JldHVybiB2b2lkIDAhPT10P3Q6dm9pZCAwIT09ZT9lOnZvaWQgMCE9PXI/cjp2b2lkIDB9ZnVuY3Rpb24gU2UodCxlLHIsbixpKXtyZXR1cm4gemUodHlwZW9mIHI9PT1pP25bcl06dm9pZCAwLHQuZGVmYXVsdCxlLmRlZmF1bHQpfWZ1bmN0aW9uIEJlKHQsZSxyKXtpZihcIm51bWJlclwiIT09d2UocikpcmV0dXJuIHplKHQuZGVmYXVsdCxlLmRlZmF1bHQpO3ZhciBuPXQuc3RvcHMubGVuZ3RoO2lmKDE9PT1uKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI8PXQuc3RvcHNbMF1bMF0pcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocj49dC5zdG9wc1tuLTFdWzBdKXJldHVybiB0LnN0b3BzW24tMV1bMV07dmFyIGk9UGUodC5zdG9wcyxyKTtyZXR1cm4gdC5zdG9wc1tpXVsxXX1mdW5jdGlvbiBJZSh0LGUscil7dmFyIG49dm9pZCAwIT09dC5iYXNlP3QuYmFzZToxO2lmKFwibnVtYmVyXCIhPT13ZShyKSlyZXR1cm4gemUodC5kZWZhdWx0LGUuZGVmYXVsdCk7dmFyIGk9dC5zdG9wcy5sZW5ndGg7aWYoMT09PWkpcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocjw9dC5zdG9wc1swXVswXSlyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihyPj10LnN0b3BzW2ktMV1bMF0pcmV0dXJuIHQuc3RvcHNbaS0xXVsxXTt2YXIgYT1QZSh0LnN0b3BzLHIpLG89ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9bi1yLGE9dC1yO3JldHVybiAwPT09aT8wOjE9PT1lP2EvaTooTWF0aC5wb3coZSxhKS0xKS8oTWF0aC5wb3coZSxpKS0xKX0ocixuLHQuc3RvcHNbYV1bMF0sdC5zdG9wc1thKzFdWzBdKSxzPXQuc3RvcHNbYV1bMV0sdT10LnN0b3BzW2ErMV1bMV0scD1QdFtlLnR5cGVdfHxrZTtpZih0LmNvbG9yU3BhY2UmJlwicmdiXCIhPT10LmNvbG9yU3BhY2Upe3ZhciBsPUp0W3QuY29sb3JTcGFjZV07cD1mdW5jdGlvbih0LGUpe3JldHVybiBsLnJldmVyc2UobC5pbnRlcnBvbGF0ZShsLmZvcndhcmQodCksbC5mb3J3YXJkKGUpLG8pKX07fXJldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiBzLmV2YWx1YXRlP3tldmFsdWF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPWFyZ3VtZW50cy5sZW5ndGg7ZS0tOyl0W2VdPWFyZ3VtZW50c1tlXTt2YXIgcj1zLmV2YWx1YXRlLmFwcGx5KHZvaWQgMCx0KSxuPXUuZXZhbHVhdGUuYXBwbHkodm9pZCAwLHQpO2lmKHZvaWQgMCE9PXImJnZvaWQgMCE9PW4pcmV0dXJuIHAocixuLG8pfX06cChzLHUsbyl9ZnVuY3Rpb24gVmUodCxlLHIpe3JldHVybiBcImNvbG9yXCI9PT1lLnR5cGU/cj1hdC5wYXJzZShyKTp3ZShyKT09PWUudHlwZXx8XCJlbnVtXCI9PT1lLnR5cGUmJmUudmFsdWVzW3JdfHwocj12b2lkIDApLHplKHIsdC5kZWZhdWx0LGUuZGVmYXVsdCl9ZnVuY3Rpb24gUGUodCxlKXtmb3IodmFyIHIsbixpPTAsYT10Lmxlbmd0aC0xLG89MDtpPD1hOyl7aWYocj10W289TWF0aC5mbG9vcigoaSthKS8yKV1bMF0sbj10W28rMV1bMF0sZT09PXJ8fGU+ciYmZTxuKXJldHVybiBvO3I8ZT9pPW8rMTpyPmUmJihhPW8tMSk7fXJldHVybiBNYXRoLm1heChvLTEsMCl9X3QucmVnaXN0ZXIoaGUse2Vycm9yOlt7a2luZDpcImVycm9yXCJ9LFtHXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF07dGhyb3cgbmV3IHl0KHIuZXZhbHVhdGUodCkpfV0sdHlwZW9mOltHLFskXSxmdW5jdGlvbih0LGUpe3JldHVybiBldChwdChlWzBdLmV2YWx1YXRlKHQpKSl9XSxcInRvLXN0cmluZ1wiOltHLFskXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj10eXBlb2Yocj1yLmV2YWx1YXRlKHQpKTtyZXR1cm4gbnVsbD09PXI/XCJcIjpcInN0cmluZ1wiPT09bnx8XCJudW1iZXJcIj09PW58fFwiYm9vbGVhblwiPT09bj9TdHJpbmcocik6ciBpbnN0YW5jZW9mIGF0fHxyIGluc3RhbmNlb2YgY3Q/ci50b1N0cmluZygpOkpTT04uc3RyaW5naWZ5KHIpfV0sXCJ0by1ib29sZWFuXCI6W0osWyRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gQm9vbGVhbihyLmV2YWx1YXRlKHQpKX1dLFwidG8tcmdiYVwiOlt0dChILDQpLFtLXSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLmV2YWx1YXRlKHQpLnRvQXJyYXkoKX1dLHJnYjpbSyxbSCxILEhdLGZlXSxyZ2JhOltLLFtILEgsSCxIXSxmZV0saGFzOnt0eXBlOkosb3ZlcmxvYWRzOltbW0ddLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHllKGVbMF0uZXZhbHVhdGUodCksdC5wcm9wZXJ0aWVzKCkpfV0sW1tHLFldLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV07cmV0dXJuIHllKHIuZXZhbHVhdGUodCksbi5ldmFsdWF0ZSh0KSl9XV19LGdldDp7dHlwZTokLG92ZXJsb2FkczpbW1tHXSxmdW5jdGlvbih0LGUpe3JldHVybiBkZShlWzBdLmV2YWx1YXRlKHQpLHQucHJvcGVydGllcygpKX1dLFtbRyxZXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdO3JldHVybiBkZShyLmV2YWx1YXRlKHQpLG4uZXZhbHVhdGUodCkpfV1dfSxcImZlYXR1cmUtc3RhdGVcIjpbJCxbR10sZnVuY3Rpb24odCxlKXtyZXR1cm4gZGUoZVswXS5ldmFsdWF0ZSh0KSx0LmZlYXR1cmVTdGF0ZXx8e30pfV0scHJvcGVydGllczpbWSxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdC5wcm9wZXJ0aWVzKCl9XSxcImdlb21ldHJ5LXR5cGVcIjpbRyxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeVR5cGUoKX1dLGlkOlskLFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkKCl9XSx6b29tOltILFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdsb2JhbHMuem9vbX1dLFwiaGVhdG1hcC1kZW5zaXR5XCI6W0gsW10sZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2xvYmFscy5oZWF0bWFwRGVuc2l0eXx8MH1dLFwibGluZS1wcm9ncmVzc1wiOltILFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdsb2JhbHMubGluZVByb2dyZXNzfHwwfV0sXCIrXCI6W0gsbWUoSCksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPTAsaT1lO248aS5sZW5ndGg7bis9MSl7cis9aVtuXS5ldmFsdWF0ZSh0KTt9cmV0dXJuIHJ9XSxcIipcIjpbSCxtZShIKSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0xLG49MCxpPWU7bjxpLmxlbmd0aDtuKz0xKXtyKj1pW25dLmV2YWx1YXRlKHQpO31yZXR1cm4gcn1dLFwiLVwiOnt0eXBlOkgsb3ZlcmxvYWRzOltbW0gsSF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXTtyZXR1cm4gci5ldmFsdWF0ZSh0KS1uLmV2YWx1YXRlKHQpfV0sW1tIXSxmdW5jdGlvbih0LGUpe3JldHVybiAtZVswXS5ldmFsdWF0ZSh0KX1dXX0sXCIvXCI6W0gsW0gsSF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXTtyZXR1cm4gci5ldmFsdWF0ZSh0KS9uLmV2YWx1YXRlKHQpfV0sXCIlXCI6W0gsW0gsSF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXTtyZXR1cm4gci5ldmFsdWF0ZSh0KSVuLmV2YWx1YXRlKHQpfV0sbG4yOltILFtdLGZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguTE4yfV0scGk6W0gsW10sZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5QSX1dLGU6W0gsW10sZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5FfV0sXCJeXCI6W0gsW0gsSF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXTtyZXR1cm4gTWF0aC5wb3coci5ldmFsdWF0ZSh0KSxuLmV2YWx1YXRlKHQpKX1dLHNxcnQ6W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gTWF0aC5zcXJ0KHIuZXZhbHVhdGUodCkpfV0sbG9nMTA6W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gTWF0aC5sb2cxMChyLmV2YWx1YXRlKHQpKX1dLGxuOltILFtIXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF07cmV0dXJuIE1hdGgubG9nKHIuZXZhbHVhdGUodCkpfV0sbG9nMjpbSCxbSF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdO3JldHVybiBNYXRoLmxvZzIoci5ldmFsdWF0ZSh0KSl9XSxzaW46W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gTWF0aC5zaW4oci5ldmFsdWF0ZSh0KSl9XSxjb3M6W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gTWF0aC5jb3Moci5ldmFsdWF0ZSh0KSl9XSx0YW46W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gTWF0aC50YW4oci5ldmFsdWF0ZSh0KSl9XSxhc2luOltILFtIXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF07cmV0dXJuIE1hdGguYXNpbihyLmV2YWx1YXRlKHQpKX1dLGFjb3M6W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gTWF0aC5hY29zKHIuZXZhbHVhdGUodCkpfV0sYXRhbjpbSCxbSF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdO3JldHVybiBNYXRoLmF0YW4oci5ldmFsdWF0ZSh0KSl9XSxtaW46W0gsbWUoSCksZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ldmFsdWF0ZSh0KX0pKX1dLG1heDpbSCxtZShIKSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV2YWx1YXRlKHQpfSkpfV0sYWJzOltILFtIXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF07cmV0dXJuIE1hdGguYWJzKHIuZXZhbHVhdGUodCkpfV0scm91bmQ6W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXS5ldmFsdWF0ZSh0KTtyZXR1cm4gcjwwPy1NYXRoLnJvdW5kKC1yKTpNYXRoLnJvdW5kKHIpfV0sZmxvb3I6W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gTWF0aC5mbG9vcihyLmV2YWx1YXRlKHQpKX1dLGNlaWw6W0gsW0hdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gTWF0aC5jZWlsKHIuZXZhbHVhdGUodCkpfV0sXCJmaWx0ZXItPT1cIjpbSixbRywkXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdO3JldHVybiB0LnByb3BlcnRpZXMoKVtyLnZhbHVlXT09PW4udmFsdWV9XSxcImZpbHRlci1pZC09PVwiOltKLFskXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF07cmV0dXJuIHQuaWQoKT09PXIudmFsdWV9XSxcImZpbHRlci10eXBlLT09XCI6W0osW0ddLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gdC5nZW9tZXRyeVR5cGUoKT09PXIudmFsdWV9XSxcImZpbHRlci08XCI6W0osW0csJF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPXQucHJvcGVydGllcygpW3IudmFsdWVdLGE9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiBhJiZpPGF9XSxcImZpbHRlci1pZC08XCI6W0osWyRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPXQuaWQoKSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbjxpfV0sXCJmaWx0ZXItPlwiOltKLFtHLCRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT10LnByb3BlcnRpZXMoKVtyLnZhbHVlXSxhPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgYSYmaT5hfV0sXCJmaWx0ZXItaWQtPlwiOltKLFskXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj10LmlkKCksaT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm4+aX1dLFwiZmlsdGVyLTw9XCI6W0osW0csJF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPXQucHJvcGVydGllcygpW3IudmFsdWVdLGE9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiBhJiZpPD1hfV0sXCJmaWx0ZXItaWQtPD1cIjpbSixbJF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49dC5pZCgpLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPD1pfV0sXCJmaWx0ZXItPj1cIjpbSixbRywkXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9dC5wcm9wZXJ0aWVzKClbci52YWx1ZV0sYT1uLnZhbHVlO3JldHVybiB0eXBlb2YgaT09dHlwZW9mIGEmJmk+PWF9XSxcImZpbHRlci1pZC0+PVwiOltKLFskXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj10LmlkKCksaT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm4+PWl9XSxcImZpbHRlci1oYXNcIjpbSixbJF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS52YWx1ZSBpbiB0LnByb3BlcnRpZXMoKX1dLFwiZmlsdGVyLWhhcy1pZFwiOltKLFtdLGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dC5pZCgpfV0sXCJmaWx0ZXItdHlwZS1pblwiOltKLFt0dChHKV0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS52YWx1ZS5pbmRleE9mKHQuZ2VvbWV0cnlUeXBlKCkpPj0wfV0sXCJmaWx0ZXItaWQtaW5cIjpbSixbdHQoJCldLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0udmFsdWUuaW5kZXhPZih0LmlkKCkpPj0wfV0sXCJmaWx0ZXItaW4tc21hbGxcIjpbSixbRyx0dCgkKV0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdO3JldHVybiBlWzFdLnZhbHVlLmluZGV4T2YodC5wcm9wZXJ0aWVzKClbci52YWx1ZV0pPj0wfV0sXCJmaWx0ZXItaW4tbGFyZ2VcIjpbSixbRyx0dCgkKV0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXTtyZXR1cm4gZnVuY3Rpb24odCxlLHIsbil7Zm9yKDtyPD1uOyl7dmFyIGk9cituPj4xO2lmKGVbaV09PT10KXJldHVybiAhMDtlW2ldPnQ/bj1pLTE6cj1pKzE7fXJldHVybiAhMX0odC5wcm9wZXJ0aWVzKClbci52YWx1ZV0sbi52YWx1ZSwwLG4udmFsdWUubGVuZ3RoLTEpfV0sYWxsOnt0eXBlOkosb3ZlcmxvYWRzOltbW0osSl0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXTtyZXR1cm4gci5ldmFsdWF0ZSh0KSYmbi5ldmFsdWF0ZSh0KX1dLFttZShKKSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLG49ZTtyPG4ubGVuZ3RoO3IrPTEpe2lmKCFuW3JdLmV2YWx1YXRlKHQpKXJldHVybiAhMX1yZXR1cm4gITB9XV19LGFueTp7dHlwZTpKLG92ZXJsb2FkczpbW1tKLEpdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV07cmV0dXJuIHIuZXZhbHVhdGUodCl8fG4uZXZhbHVhdGUodCl9XSxbbWUoSiksZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKz0xKXtpZihuW3JdLmV2YWx1YXRlKHQpKXJldHVybiAhMH1yZXR1cm4gITF9XV19LFwiIVwiOltKLFtKXSxmdW5jdGlvbih0LGUpe3JldHVybiAhZVswXS5ldmFsdWF0ZSh0KX1dLFwiaXMtc3VwcG9ydGVkLXNjcmlwdFwiOltKLFtHXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj10Lmdsb2JhbHMmJnQuZ2xvYmFscy5pc1N1cHBvcnRlZFNjcmlwdDtyZXR1cm4gIW58fG4oci5ldmFsdWF0ZSh0KSl9XSx1cGNhc2U6W0csW0ddLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0uZXZhbHVhdGUodCkudG9VcHBlckNhc2UoKX1dLGRvd25jYXNlOltHLFtHXSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLmV2YWx1YXRlKHQpLnRvTG93ZXJDYXNlKCl9XSxjb25jYXQ6W0csbWUoRyksZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZhbHVhdGUodCl9KS5qb2luKFwiXCIpfV0sXCJyZXNvbHZlZC1sb2NhbGVcIjpbRyxbV10sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KS5yZXNvbHZlZExvY2FsZSgpfV19KTt2YXIgTWU9ZnVuY3Rpb24odCxlKXt2YXIgcjt0aGlzLmV4cHJlc3Npb249dCx0aGlzLl93YXJuaW5nSGlzdG9yeT17fSx0aGlzLl9kZWZhdWx0VmFsdWU9XCJjb2xvclwiPT09KHI9ZSkudHlwZSYmQWUoci5kZWZhdWx0KT9uZXcgYXQoMCwwLDAsMCk6XCJjb2xvclwiPT09ci50eXBlP2F0LnBhcnNlKHIuZGVmYXVsdCl8fG51bGw6dm9pZCAwPT09ci5kZWZhdWx0P251bGw6ci5kZWZhdWx0LFwiZW51bVwiPT09ZS50eXBlJiYodGhpcy5fZW51bVZhbHVlcz1lLnZhbHVlcyk7fTtmdW5jdGlvbiBDZSh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MCYmXCJzdHJpbmdcIj09dHlwZW9mIHRbMF0mJnRbMF1pbiBoZX1mdW5jdGlvbiBUZSh0LGUpe3ZhciByPW5ldyBTdChoZSxbXSxmdW5jdGlvbih0KXt2YXIgZT17Y29sb3I6SyxzdHJpbmc6RyxudW1iZXI6SCxlbnVtOkcsYm9vbGVhbjpKfTtpZihcImFycmF5XCI9PT10LnR5cGUpcmV0dXJuIHR0KGVbdC52YWx1ZV18fCQsdC5sZW5ndGgpO3JldHVybiBlW3QudHlwZV18fG51bGx9KGUpKSxuPXIucGFyc2UodCk7cmV0dXJuIG4/dmUobmV3IE1lKG4sZSkpOmdlKHIuZXJyb3JzKX1NZS5wcm90b3R5cGUuZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZz1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRoaXMuX2V2YWx1YXRvcnx8KHRoaXMuX2V2YWx1YXRvcj1uZXcgYnQpLHRoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXIsdGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcil9LE1lLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5fZXZhbHVhdG9yfHwodGhpcy5fZXZhbHVhdG9yPW5ldyBidCksdGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9dCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT1lLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9cjt0cnl7dmFyIG49dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcik7aWYobnVsbD09bilyZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlO2lmKHRoaXMuX2VudW1WYWx1ZXMmJiEobiBpbiB0aGlzLl9lbnVtVmFsdWVzKSl0aHJvdyBuZXcgeXQoXCJFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgXCIrT2JqZWN0LmtleXModGhpcy5fZW51bVZhbHVlcykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX0pLmpvaW4oXCIsIFwiKStcIiwgYnV0IGZvdW5kIFwiK0pTT04uc3RyaW5naWZ5KG4pK1wiIGluc3RlYWQuXCIpO3JldHVybiBufWNhdGNoKHQpe3JldHVybiB0aGlzLl93YXJuaW5nSGlzdG9yeVt0Lm1lc3NhZ2VdfHwodGhpcy5fd2FybmluZ0hpc3RvcnlbdC5tZXNzYWdlXT0hMCxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuKHQubWVzc2FnZSkpLHRoaXMuX2RlZmF1bHRWYWx1ZX19O3ZhciBFZT1mdW5jdGlvbih0LGUpe3RoaXMua2luZD10LHRoaXMuX3N0eWxlRXhwcmVzc2lvbj1lLHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNvbnN0YW50XCIhPT10JiYhQXQoZS5leHByZXNzaW9uKTt9O0VlLnByb3RvdHlwZS5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcodCxlLHIpfSxFZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUodCxlLHIpfTt2YXIgRmU9ZnVuY3Rpb24odCxlLHIpe3RoaXMua2luZD10LHRoaXMuem9vbVN0b3BzPXIubGFiZWxzLHRoaXMuX3N0eWxlRXhwcmVzc2lvbj1lLHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNhbWVyYVwiIT09dCYmIUF0KGUuZXhwcmVzc2lvbiksciBpbnN0YW5jZW9mIEt0JiYodGhpcy5faW50ZXJwb2xhdGlvblR5cGU9ci5pbnRlcnBvbGF0aW9uKTt9O2Z1bmN0aW9uIE9lKHQsZSl7aWYoXCJlcnJvclwiPT09KHQ9VGUodCxlKSkucmVzdWx0KXJldHVybiB0O3ZhciByPXQudmFsdWUuZXhwcmVzc2lvbixuPXd0KHIpO2lmKCFuJiYheGUoZSkpcmV0dXJuIGdlKFtuZXcgTihcIlwiLFwiZGF0YSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkXCIpXSk7dmFyIGk9a3QocixbXCJ6b29tXCJdKTtpZighaSYmIWJlKGUpKXJldHVybiBnZShbbmV3IE4oXCJcIixcInpvb20gZXhwcmVzc2lvbnMgbm90IHN1cHBvcnRlZFwiKV0pO3ZhciBhPWZ1bmN0aW9uIHQoZSl7dmFyIHI9bnVsbDtpZihlIGluc3RhbmNlb2YgV3Qpcj10KGUucmVzdWx0KTtlbHNlIGlmKGUgaW5zdGFuY2VvZiAkdClmb3IodmFyIG49MCxpPWUuYXJncztuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07aWYocj10KGEpKWJyZWFrfWVsc2UoZSBpbnN0YW5jZW9mIEl0fHxlIGluc3RhbmNlb2YgS3QpJiZlLmlucHV0IGluc3RhbmNlb2YgX3QmJlwiem9vbVwiPT09ZS5pbnB1dC5uYW1lJiYocj1lKTtpZihyIGluc3RhbmNlb2YgTilyZXR1cm4gcjtlLmVhY2hDaGlsZChmdW5jdGlvbihlKXt2YXIgbj10KGUpO24gaW5zdGFuY2VvZiBOP3I9bjohciYmbj9yPW5ldyBOKFwiXCIsJ1wiem9vbVwiIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbi4nKTpyJiZuJiZyIT09biYmKHI9bmV3IE4oXCJcIiwnT25seSBvbmUgem9vbS1iYXNlZCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgc3ViZXhwcmVzc2lvbiBtYXkgYmUgdXNlZCBpbiBhbiBleHByZXNzaW9uLicpKTt9KTtyZXR1cm4gcn0ocik7cmV0dXJuIGF8fGk/YSBpbnN0YW5jZW9mIE4/Z2UoW2FdKTphIGluc3RhbmNlb2YgS3QmJiFfZShlKT9nZShbbmV3IE4oXCJcIiwnXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIGNhbm5vdCBiZSB1c2VkIHdpdGggdGhpcyBwcm9wZXJ0eScpXSk6dmUoYT9uZXcgRmUobj9cImNhbWVyYVwiOlwiY29tcG9zaXRlXCIsdC52YWx1ZSxhKTpuZXcgRWUobj9cImNvbnN0YW50XCI6XCJzb3VyY2VcIix0LnZhbHVlKSk6Z2UoW25ldyBOKFwiXCIsJ1wiem9vbVwiIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbi4nKV0pfUZlLnByb3RvdHlwZS5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcodCxlLHIpfSxGZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUodCxlLHIpfSxGZS5wcm90b3R5cGUuaW50ZXJwb2xhdGlvbkZhY3Rvcj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRoaXMuX2ludGVycG9sYXRpb25UeXBlP0t0LmludGVycG9sYXRpb25GYWN0b3IodGhpcy5faW50ZXJwb2xhdGlvblR5cGUsdCxlLHIpOjB9O3ZhciBMZT1mdW5jdGlvbih0LGUpe3RoaXMuX3BhcmFtZXRlcnM9dCx0aGlzLl9zcGVjaWZpY2F0aW9uPWUsVSh0aGlzLGZ1bmN0aW9uIHQoZSxyKXt2YXIgbixpLGEsbz1cImNvbG9yXCI9PT1yLnR5cGUscz1lLnN0b3BzJiZcIm9iamVjdFwiPT10eXBlb2YgZS5zdG9wc1swXVswXSx1PXN8fHZvaWQgMCE9PWUucHJvcGVydHkscD1zfHwhdSxsPWUudHlwZXx8KF9lKHIpP1wiZXhwb25lbnRpYWxcIjpcImludGVydmFsXCIpO2lmKG8mJigoZT1VKHt9LGUpKS5zdG9wcyYmKGUuc3RvcHM9ZS5zdG9wcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIFt0WzBdLGF0LnBhcnNlKHRbMV0pXX0pKSxlLmRlZmF1bHQ/ZS5kZWZhdWx0PWF0LnBhcnNlKGUuZGVmYXVsdCk6ZS5kZWZhdWx0PWF0LnBhcnNlKHIuZGVmYXVsdCkpLGUuY29sb3JTcGFjZSYmXCJyZ2JcIiE9PWUuY29sb3JTcGFjZSYmIUp0W2UuY29sb3JTcGFjZV0pdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xvciBzcGFjZTogXCIrZS5jb2xvclNwYWNlKTtpZihcImV4cG9uZW50aWFsXCI9PT1sKW49SWU7ZWxzZSBpZihcImludGVydmFsXCI9PT1sKW49QmU7ZWxzZSBpZihcImNhdGVnb3JpY2FsXCI9PT1sKXtuPVNlLGk9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIGM9MCxoPWUuc3RvcHM7YzxoLmxlbmd0aDtjKz0xKXt2YXIgZj1oW2NdO2lbZlswXV09ZlsxXTt9YT10eXBlb2YgZS5zdG9wc1swXVswXTt9ZWxzZXtpZihcImlkZW50aXR5XCIhPT1sKXRocm93IG5ldyBFcnJvcignVW5rbm93biBmdW5jdGlvbiB0eXBlIFwiJytsKydcIicpO249VmU7fWlmKHMpe2Zvcih2YXIgeT17fSxkPVtdLG09MDttPGUuc3RvcHMubGVuZ3RoO20rKyl7dmFyIHY9ZS5zdG9wc1ttXSxnPXZbMF0uem9vbTt2b2lkIDA9PT15W2ddJiYoeVtnXT17em9vbTpnLHR5cGU6ZS50eXBlLHByb3BlcnR5OmUucHJvcGVydHksZGVmYXVsdDplLmRlZmF1bHQsc3RvcHM6W119LGQucHVzaChnKSkseVtnXS5zdG9wcy5wdXNoKFt2WzBdLnZhbHVlLHZbMV1dKTt9Zm9yKHZhciB4PVtdLGI9MCxfPWQ7YjxfLmxlbmd0aDtiKz0xKXt2YXIgdz1fW2JdO3gucHVzaChbeVt3XS56b29tLHQoeVt3XSxyKV0pO31yZXR1cm4ge2tpbmQ6XCJjb21wb3NpdGVcIixpbnRlcnBvbGF0aW9uRmFjdG9yOkt0LmludGVycG9sYXRpb25GYWN0b3IuYmluZCh2b2lkIDAse25hbWU6XCJsaW5lYXJcIn0pLHpvb21TdG9wczp4Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pLGV2YWx1YXRlOmZ1bmN0aW9uKHQsbil7dmFyIGk9dC56b29tO3JldHVybiBJZSh7c3RvcHM6eCxiYXNlOmUuYmFzZX0scixpKS5ldmFsdWF0ZShpLG4pfX19cmV0dXJuIHA/e2tpbmQ6XCJjYW1lcmFcIixpbnRlcnBvbGF0aW9uRmFjdG9yOlwiZXhwb25lbnRpYWxcIj09PWw/S3QuaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCx7bmFtZTpcImV4cG9uZW50aWFsXCIsYmFzZTp2b2lkIDAhPT1lLmJhc2U/ZS5iYXNlOjF9KTpmdW5jdGlvbigpe3JldHVybiAwfSx6b29tU3RvcHM6ZS5zdG9wcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSxldmFsdWF0ZTpmdW5jdGlvbih0KXt2YXIgbz10Lnpvb207cmV0dXJuIG4oZSxyLG8saSxhKX19OntraW5kOlwic291cmNlXCIsZXZhbHVhdGU6ZnVuY3Rpb24odCxvKXt2YXIgcz1vJiZvLnByb3BlcnRpZXM/by5wcm9wZXJ0aWVzW2UucHJvcGVydHldOnZvaWQgMDtyZXR1cm4gdm9pZCAwPT09cz96ZShlLmRlZmF1bHQsci5kZWZhdWx0KTpuKGUscixzLGksYSl9fX0odGhpcy5fcGFyYW1ldGVycyx0aGlzLl9zcGVjaWZpY2F0aW9uKSk7fTtmdW5jdGlvbiBEZSh0LGUpe2lmKEFlKHQpKXJldHVybiBuZXcgTGUodCxlKTtpZihDZSh0KSl7dmFyIHI9T2UodCxlKTtpZihcImVycm9yXCI9PT1yLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioci52YWx1ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5K1wiOiBcIit0Lm1lc3NhZ2V9KS5qb2luKFwiLCBcIikpO3JldHVybiByLnZhbHVlfXZhciBuPXQ7cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiB0JiZcImNvbG9yXCI9PT1lLnR5cGUmJihuPWF0LnBhcnNlKHQpKSx7a2luZDpcImNvbnN0YW50XCIsZXZhbHVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbn19fWZ1bmN0aW9uIGplKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZSxuPXQudmFsdWVTcGVjfHx7fSxpPXQub2JqZWN0RWxlbWVudFZhbGlkYXRvcnN8fHt9LGE9dC5zdHlsZSxvPXQuc3R5bGVTcGVjLHM9W10sdT13ZShyKTtpZihcIm9iamVjdFwiIT09dSlyZXR1cm4gW25ldyBEKGUscixcIm9iamVjdCBleHBlY3RlZCwgXCIrdStcIiBmb3VuZFwiKV07Zm9yKHZhciBwIGluIHIpe3ZhciBsPXAuc3BsaXQoXCIuXCIpWzBdLGM9bltsXXx8bltcIipcIl0saD12b2lkIDA7aWYoaVtsXSloPWlbbF07ZWxzZSBpZihuW2xdKWg9cHI7ZWxzZSBpZihpW1wiKlwiXSloPWlbXCIqXCJdO2Vsc2V7aWYoIW5bXCIqXCJdKXtzLnB1c2gobmV3IEQoZSxyW3BdLCd1bmtub3duIHByb3BlcnR5IFwiJytwKydcIicpKTtjb250aW51ZX1oPXByO31zPXMuY29uY2F0KGgoe2tleTooZT9lK1wiLlwiOmUpK3AsdmFsdWU6cltwXSx2YWx1ZVNwZWM6YyxzdHlsZTphLHN0eWxlU3BlYzpvLG9iamVjdDpyLG9iamVjdEtleTpwfSxyKSk7fWZvcih2YXIgZiBpbiBuKWlbZl18fG5bZl0ucmVxdWlyZWQmJnZvaWQgMD09PW5bZl0uZGVmYXVsdCYmdm9pZCAwPT09cltmXSYmcy5wdXNoKG5ldyBEKGUsciwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcIicrZisnXCInKSk7cmV0dXJuIHN9ZnVuY3Rpb24gVWUodCl7dmFyIGU9dC52YWx1ZSxyPXQudmFsdWVTcGVjLG49dC5zdHlsZSxpPXQuc3R5bGVTcGVjLGE9dC5rZXksbz10LmFycmF5RWxlbWVudFZhbGlkYXRvcnx8cHI7aWYoXCJhcnJheVwiIT09d2UoZSkpcmV0dXJuIFtuZXcgRChhLGUsXCJhcnJheSBleHBlY3RlZCwgXCIrd2UoZSkrXCIgZm91bmRcIildO2lmKHIubGVuZ3RoJiZlLmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybiBbbmV3IEQoYSxlLFwiYXJyYXkgbGVuZ3RoIFwiK3IubGVuZ3RoK1wiIGV4cGVjdGVkLCBsZW5ndGggXCIrZS5sZW5ndGgrXCIgZm91bmRcIildO2lmKHJbXCJtaW4tbGVuZ3RoXCJdJiZlLmxlbmd0aDxyW1wibWluLWxlbmd0aFwiXSlyZXR1cm4gW25ldyBEKGEsZSxcImFycmF5IGxlbmd0aCBhdCBsZWFzdCBcIityW1wibWluLWxlbmd0aFwiXStcIiBleHBlY3RlZCwgbGVuZ3RoIFwiK2UubGVuZ3RoK1wiIGZvdW5kXCIpXTt2YXIgcz17dHlwZTpyLnZhbHVlfTtpLiR2ZXJzaW9uPDcmJihzLmZ1bmN0aW9uPXIuZnVuY3Rpb24pLFwib2JqZWN0XCI9PT13ZShyLnZhbHVlKSYmKHM9ci52YWx1ZSk7Zm9yKHZhciB1PVtdLHA9MDtwPGUubGVuZ3RoO3ArKyl1PXUuY29uY2F0KG8oe2FycmF5OmUsYXJyYXlJbmRleDpwLHZhbHVlOmVbcF0sdmFsdWVTcGVjOnMsc3R5bGU6bixzdHlsZVNwZWM6aSxrZXk6YStcIltcIitwK1wiXVwifSkpO3JldHVybiB1fWZ1bmN0aW9uIHFlKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZSxuPXQudmFsdWVTcGVjLGk9d2Uocik7cmV0dXJuIFwibnVtYmVyXCIhPT1pP1tuZXcgRChlLHIsXCJudW1iZXIgZXhwZWN0ZWQsIFwiK2krXCIgZm91bmRcIildOlwibWluaW11bVwiaW4gbiYmcjxuLm1pbmltdW0/W25ldyBEKGUscixyK1wiIGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bSB2YWx1ZSBcIituLm1pbmltdW0pXTpcIm1heGltdW1cImluIG4mJnI+bi5tYXhpbXVtP1tuZXcgRChlLHIscitcIiBpcyBncmVhdGVyIHRoYW4gdGhlIG1heGltdW0gdmFsdWUgXCIrbi5tYXhpbXVtKV06W119ZnVuY3Rpb24gUmUodCl7dmFyIGUscixuLGk9dC52YWx1ZVNwZWMsYT1xKHQudmFsdWUudHlwZSksbz17fSxzPVwiY2F0ZWdvcmljYWxcIiE9PWEmJnZvaWQgMD09PXQudmFsdWUucHJvcGVydHksdT0hcyxwPVwiYXJyYXlcIj09PXdlKHQudmFsdWUuc3RvcHMpJiZcImFycmF5XCI9PT13ZSh0LnZhbHVlLnN0b3BzWzBdKSYmXCJvYmplY3RcIj09PXdlKHQudmFsdWUuc3RvcHNbMF1bMF0pLGw9amUoe2tleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHZhbHVlU3BlYzp0LnN0eWxlU3BlYy5mdW5jdGlvbixzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7c3RvcHM6ZnVuY3Rpb24odCl7aWYoXCJpZGVudGl0eVwiPT09YSlyZXR1cm4gW25ldyBEKHQua2V5LHQudmFsdWUsJ2lkZW50aXR5IGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBhIFwic3RvcHNcIiBwcm9wZXJ0eScpXTt2YXIgZT1bXSxyPXQudmFsdWU7ZT1lLmNvbmNhdChVZSh7a2V5OnQua2V5LHZhbHVlOnIsdmFsdWVTcGVjOnQudmFsdWVTcGVjLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLGFycmF5RWxlbWVudFZhbGlkYXRvcjpjfSkpLFwiYXJyYXlcIj09PXdlKHIpJiYwPT09ci5sZW5ndGgmJmUucHVzaChuZXcgRCh0LmtleSxyLFwiYXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBzdG9wXCIpKTtyZXR1cm4gZX0sZGVmYXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gcHIoe2tleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHZhbHVlU3BlYzppLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSl9fX0pO3JldHVybiBcImlkZW50aXR5XCI9PT1hJiZzJiZsLnB1c2gobmV3IEQodC5rZXksdC52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInByb3BlcnR5XCInKSksXCJpZGVudGl0eVwiPT09YXx8dC52YWx1ZS5zdG9wc3x8bC5wdXNoKG5ldyBEKHQua2V5LHQudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzdG9wc1wiJykpLFwiZXhwb25lbnRpYWxcIj09PWEmJnQudmFsdWVTcGVjLmV4cHJlc3Npb24mJiFfZSh0LnZhbHVlU3BlYykmJmwucHVzaChuZXcgRCh0LmtleSx0LnZhbHVlLFwiZXhwb25lbnRpYWwgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpLHQuc3R5bGVTcGVjLiR2ZXJzaW9uPj04JiYodSYmIXhlKHQudmFsdWVTcGVjKT9sLnB1c2gobmV3IEQodC5rZXksdC52YWx1ZSxcInByb3BlcnR5IGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKTpzJiYhYmUodC52YWx1ZVNwZWMpJiZsLnB1c2gobmV3IEQodC5rZXksdC52YWx1ZSxcInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpKSxcImNhdGVnb3JpY2FsXCIhPT1hJiYhcHx8dm9pZCAwIT09dC52YWx1ZS5wcm9wZXJ0eXx8bC5wdXNoKG5ldyBEKHQua2V5LHQudmFsdWUsJ1wicHJvcGVydHlcIiBwcm9wZXJ0eSBpcyByZXF1aXJlZCcpKSxsO2Z1bmN0aW9uIGModCl7dmFyIGU9W10sYT10LnZhbHVlLHM9dC5rZXk7aWYoXCJhcnJheVwiIT09d2UoYSkpcmV0dXJuIFtuZXcgRChzLGEsXCJhcnJheSBleHBlY3RlZCwgXCIrd2UoYSkrXCIgZm91bmRcIildO2lmKDIhPT1hLmxlbmd0aClyZXR1cm4gW25ldyBEKHMsYSxcImFycmF5IGxlbmd0aCAyIGV4cGVjdGVkLCBsZW5ndGggXCIrYS5sZW5ndGgrXCIgZm91bmRcIildO2lmKHApe2lmKFwib2JqZWN0XCIhPT13ZShhWzBdKSlyZXR1cm4gW25ldyBEKHMsYSxcIm9iamVjdCBleHBlY3RlZCwgXCIrd2UoYVswXSkrXCIgZm91bmRcIildO2lmKHZvaWQgMD09PWFbMF0uem9vbSlyZXR1cm4gW25ldyBEKHMsYSxcIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgem9vbVwiKV07aWYodm9pZCAwPT09YVswXS52YWx1ZSlyZXR1cm4gW25ldyBEKHMsYSxcIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgdmFsdWVcIildO2lmKG4mJm4+cShhWzBdLnpvb20pKXJldHVybiBbbmV3IEQocyxhWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV07cShhWzBdLnpvb20pIT09biYmKG49cShhWzBdLnpvb20pLHI9dm9pZCAwLG89e30pLGU9ZS5jb25jYXQoamUoe2tleTpzK1wiWzBdXCIsdmFsdWU6YVswXSx2YWx1ZVNwZWM6e3pvb206e319LHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOnt6b29tOnFlLHZhbHVlOmh9fSkpO31lbHNlIGU9ZS5jb25jYXQoaCh7a2V5OnMrXCJbMF1cIix2YWx1ZTphWzBdLHZhbHVlU3BlYzp7fSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30sYSkpO3JldHVybiBlLmNvbmNhdChwcih7a2V5OnMrXCJbMV1cIix2YWx1ZTphWzFdLHZhbHVlU3BlYzppLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpfWZ1bmN0aW9uIGgodCxuKXt2YXIgcz13ZSh0LnZhbHVlKSx1PXEodC52YWx1ZSkscD1udWxsIT09dC52YWx1ZT90LnZhbHVlOm47aWYoZSl7aWYocyE9PWUpcmV0dXJuIFtuZXcgRCh0LmtleSxwLHMrXCIgc3RvcCBkb21haW4gdHlwZSBtdXN0IG1hdGNoIHByZXZpb3VzIHN0b3AgZG9tYWluIHR5cGUgXCIrZSldfWVsc2UgZT1zO2lmKFwibnVtYmVyXCIhPT1zJiZcInN0cmluZ1wiIT09cyYmXCJib29sZWFuXCIhPT1zKXJldHVybiBbbmV3IEQodC5rZXkscCxcInN0b3AgZG9tYWluIHZhbHVlIG11c3QgYmUgYSBudW1iZXIsIHN0cmluZywgb3IgYm9vbGVhblwiKV07aWYoXCJudW1iZXJcIiE9PXMmJlwiY2F0ZWdvcmljYWxcIiE9PWEpe3ZhciBsPVwibnVtYmVyIGV4cGVjdGVkLCBcIitzK1wiIGZvdW5kXCI7cmV0dXJuIHhlKGkpJiZ2b2lkIDA9PT1hJiYobCs9J1xcbklmIHlvdSBpbnRlbmRlZCB0byB1c2UgYSBjYXRlZ29yaWNhbCBmdW5jdGlvbiwgc3BlY2lmeSBgXCJ0eXBlXCI6IFwiY2F0ZWdvcmljYWxcImAuJyksW25ldyBEKHQua2V5LHAsbCldfXJldHVybiBcImNhdGVnb3JpY2FsXCIhPT1hfHxcIm51bWJlclwiIT09c3x8aXNGaW5pdGUodSkmJk1hdGguZmxvb3IodSk9PT11P1wiY2F0ZWdvcmljYWxcIiE9PWEmJlwibnVtYmVyXCI9PT1zJiZ2b2lkIDAhPT1yJiZ1PHI/W25ldyBEKHQua2V5LHAsXCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyXCIpXToocj11LFwiY2F0ZWdvcmljYWxcIj09PWEmJnUgaW4gbz9bbmV3IEQodC5rZXkscCxcInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGJlIHVuaXF1ZVwiKV06KG9bdV09ITAsW10pKTpbbmV3IEQodC5rZXkscCxcImludGVnZXIgZXhwZWN0ZWQsIGZvdW5kIFwiK3UpXX19ZnVuY3Rpb24gTmUodCl7dmFyIGU9KFwicHJvcGVydHlcIj09PXQuZXhwcmVzc2lvbkNvbnRleHQ/T2U6VGUpKFIodC52YWx1ZSksdC52YWx1ZVNwZWMpO3JldHVybiBcImVycm9yXCI9PT1lLnJlc3VsdD9lLnZhbHVlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEQoXCJcIit0LmtleStlLmtleSx0LnZhbHVlLGUubWVzc2FnZSl9KTpcInByb3BlcnR5XCI9PT10LmV4cHJlc3Npb25Db250ZXh0JiZcInRleHQtZm9udFwiPT09dC5wcm9wZXJ0eUtleSYmLTEhPT1lLnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbi5wb3NzaWJsZU91dHB1dHMoKS5pbmRleE9mKHZvaWQgMCk/W25ldyBEKHQua2V5LHQudmFsdWUsJ0ludmFsaWQgZGF0YSBleHByZXNzaW9uIGZvciBcIicrdC5wcm9wZXJ0eUtleSsnXCIuIE91dHB1dCB2YWx1ZXMgbXVzdCBiZSBjb250YWluZWQgYXMgbGl0ZXJhbHMgd2l0aGluIHRoZSBleHByZXNzaW9uLicpXTpcInByb3BlcnR5XCIhPT10LmV4cHJlc3Npb25Db250ZXh0fHxcImxheW91dFwiIT09dC5wcm9wZXJ0eVR5cGV8fEF0KGUudmFsdWUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uKT9bXTpbbmV3IEQodC5rZXksdC52YWx1ZSwnXCJmZWF0dXJlLXN0YXRlXCIgZGF0YSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGxheW91dCBwcm9wZXJ0aWVzLicpXX1mdW5jdGlvbiBaZSh0KXt2YXIgZT10LmtleSxyPXQudmFsdWUsbj10LnZhbHVlU3BlYyxpPVtdO3JldHVybiBBcnJheS5pc0FycmF5KG4udmFsdWVzKT8tMT09PW4udmFsdWVzLmluZGV4T2YocShyKSkmJmkucHVzaChuZXcgRChlLHIsXCJleHBlY3RlZCBvbmUgb2YgW1wiK24udmFsdWVzLmpvaW4oXCIsIFwiKStcIl0sIFwiK0pTT04uc3RyaW5naWZ5KHIpK1wiIGZvdW5kXCIpKTotMT09PU9iamVjdC5rZXlzKG4udmFsdWVzKS5pbmRleE9mKHEocikpJiZpLnB1c2gobmV3IEQoZSxyLFwiZXhwZWN0ZWQgb25lIG9mIFtcIitPYmplY3Qua2V5cyhuLnZhbHVlcykuam9pbihcIiwgXCIpK1wiXSwgXCIrSlNPTi5zdHJpbmdpZnkocikrXCIgZm91bmRcIikpLGl9ZnVuY3Rpb24gWGUodCl7aWYoITA9PT10fHwhMT09PXQpcmV0dXJuICEwO2lmKCFBcnJheS5pc0FycmF5KHQpfHwwPT09dC5sZW5ndGgpcmV0dXJuICExO3N3aXRjaCh0WzBdKXtjYXNlXCJoYXNcIjpyZXR1cm4gdC5sZW5ndGg+PTImJlwiJGlkXCIhPT10WzFdJiZcIiR0eXBlXCIhPT10WzFdO2Nhc2VcImluXCI6Y2FzZVwiIWluXCI6Y2FzZVwiIWhhc1wiOmNhc2VcIm5vbmVcIjpyZXR1cm4gITE7Y2FzZVwiPT1cIjpjYXNlXCIhPVwiOmNhc2VcIj5cIjpjYXNlXCI+PVwiOmNhc2VcIjxcIjpjYXNlXCI8PVwiOnJldHVybiAzIT09dC5sZW5ndGh8fEFycmF5LmlzQXJyYXkodFsxXSl8fEFycmF5LmlzQXJyYXkodFsyXSk7Y2FzZVwiYW55XCI6Y2FzZVwiYWxsXCI6Zm9yKHZhciBlPTAscj10LnNsaWNlKDEpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTtpZighWGUobikmJlwiYm9vbGVhblwiIT10eXBlb2YgbilyZXR1cm4gITF9cmV0dXJuICEwO2RlZmF1bHQ6cmV0dXJuICEwfX1MZS5kZXNlcmlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IExlKHQuX3BhcmFtZXRlcnMsdC5fc3BlY2lmaWNhdGlvbil9LExlLnNlcmlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4ge19wYXJhbWV0ZXJzOnQuX3BhcmFtZXRlcnMsX3NwZWNpZmljYXRpb246dC5fc3BlY2lmaWNhdGlvbn19O3ZhciBIZT17dHlwZTpcImJvb2xlYW5cIixkZWZhdWx0OiExLHRyYW5zaXRpb246ITEsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOltcInpvb21cIixcImZlYXR1cmVcIl19fTtmdW5jdGlvbiBHZSh0KXtpZihudWxsPT10KXJldHVybiBmdW5jdGlvbigpe3JldHVybiAhMH07WGUodCl8fCh0PUtlKHQpKTt2YXIgZT1UZSh0LEhlKTtpZihcImVycm9yXCI9PT1lLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3IoZS52YWx1ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5K1wiOiBcIit0Lm1lc3NhZ2V9KS5qb2luKFwiLCBcIikpO3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlLnZhbHVlLmV2YWx1YXRlKHQscil9fWZ1bmN0aW9uIEplKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIEtlKHQpe2lmKCF0KXJldHVybiAhMDt2YXIgZSxyPXRbMF07cmV0dXJuIHQubGVuZ3RoPD0xP1wiYW55XCIhPT1yOlwiPT1cIj09PXI/WWUodFsxXSx0WzJdLFwiPT1cIik6XCIhPVwiPT09cj9RZShZZSh0WzFdLHRbMl0sXCI9PVwiKSk6XCI8XCI9PT1yfHxcIj5cIj09PXJ8fFwiPD1cIj09PXJ8fFwiPj1cIj09PXI/WWUodFsxXSx0WzJdLHIpOlwiYW55XCI9PT1yPyhlPXQuc2xpY2UoMSksW1wiYW55XCJdLmNvbmNhdChlLm1hcChLZSkpKTpcImFsbFwiPT09cj9bXCJhbGxcIl0uY29uY2F0KHQuc2xpY2UoMSkubWFwKEtlKSk6XCJub25lXCI9PT1yP1tcImFsbFwiXS5jb25jYXQodC5zbGljZSgxKS5tYXAoS2UpLm1hcChRZSkpOlwiaW5cIj09PXI/JGUodFsxXSx0LnNsaWNlKDIpKTpcIiFpblwiPT09cj9RZSgkZSh0WzFdLHQuc2xpY2UoMikpKTpcImhhc1wiPT09cj9XZSh0WzFdKTpcIiFoYXNcIiE9PXJ8fFFlKFdlKHRbMV0pKX1mdW5jdGlvbiBZZSh0LGUscil7c3dpdGNoKHQpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuIFtcImZpbHRlci10eXBlLVwiK3IsZV07Y2FzZVwiJGlkXCI6cmV0dXJuIFtcImZpbHRlci1pZC1cIityLGVdO2RlZmF1bHQ6cmV0dXJuIFtcImZpbHRlci1cIityLHQsZV19fWZ1bmN0aW9uICRlKHQsZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2godCl7Y2FzZVwiJHR5cGVcIjpyZXR1cm4gW1wiZmlsdGVyLXR5cGUtaW5cIixbXCJsaXRlcmFsXCIsZV1dO2Nhc2VcIiRpZFwiOnJldHVybiBbXCJmaWx0ZXItaWQtaW5cIixbXCJsaXRlcmFsXCIsZV1dO2RlZmF1bHQ6cmV0dXJuIGUubGVuZ3RoPjIwMCYmIWUuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQhPXR5cGVvZiBlWzBdfSk/W1wiZmlsdGVyLWluLWxhcmdlXCIsdCxbXCJsaXRlcmFsXCIsZS5zb3J0KEplKV1dOltcImZpbHRlci1pbi1zbWFsbFwiLHQsW1wibGl0ZXJhbFwiLGVdXX19ZnVuY3Rpb24gV2UodCl7c3dpdGNoKHQpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuICEwO2Nhc2VcIiRpZFwiOnJldHVybiBbXCJmaWx0ZXItaGFzLWlkXCJdO2RlZmF1bHQ6cmV0dXJuIFtcImZpbHRlci1oYXNcIix0XX19ZnVuY3Rpb24gUWUodCl7cmV0dXJuIFtcIiFcIix0XX1mdW5jdGlvbiB0cih0KXtyZXR1cm4gWGUoUih0LnZhbHVlKSk/TmUoVSh7fSx0LHtleHByZXNzaW9uQ29udGV4dDpcImZpbHRlclwiLHZhbHVlU3BlYzp7dmFsdWU6XCJib29sZWFuXCJ9fSkpOmZ1bmN0aW9uIHQoZSl7dmFyIHI9ZS52YWx1ZTt2YXIgbj1lLmtleTtpZihcImFycmF5XCIhPT13ZShyKSlyZXR1cm4gW25ldyBEKG4scixcImFycmF5IGV4cGVjdGVkLCBcIit3ZShyKStcIiBmb3VuZFwiKV07dmFyIGk9ZS5zdHlsZVNwZWM7dmFyIGE7dmFyIG89W107aWYoci5sZW5ndGg8MSlyZXR1cm4gW25ldyBEKG4scixcImZpbHRlciBhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgMSBlbGVtZW50XCIpXTtvPW8uY29uY2F0KFplKHtrZXk6bitcIlswXVwiLHZhbHVlOnJbMF0sdmFsdWVTcGVjOmkuZmlsdGVyX29wZXJhdG9yLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSkpO3N3aXRjaChxKHJbMF0pKXtjYXNlXCI8XCI6Y2FzZVwiPD1cIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjpyLmxlbmd0aD49MiYmXCIkdHlwZVwiPT09cShyWzFdKSYmby5wdXNoKG5ldyBEKG4sciwnXCIkdHlwZVwiIGNhbm5vdCBiZSB1c2Ugd2l0aCBvcGVyYXRvciBcIicrclswXSsnXCInKSk7Y2FzZVwiPT1cIjpjYXNlXCIhPVwiOjMhPT1yLmxlbmd0aCYmby5wdXNoKG5ldyBEKG4sciwnZmlsdGVyIGFycmF5IGZvciBvcGVyYXRvciBcIicrclswXSsnXCIgbXVzdCBoYXZlIDMgZWxlbWVudHMnKSk7Y2FzZVwiaW5cIjpjYXNlXCIhaW5cIjpyLmxlbmd0aD49MiYmXCJzdHJpbmdcIiE9PShhPXdlKHJbMV0pKSYmby5wdXNoKG5ldyBEKG4rXCJbMV1cIixyWzFdLFwic3RyaW5nIGV4cGVjdGVkLCBcIithK1wiIGZvdW5kXCIpKTtmb3IodmFyIHM9MjtzPHIubGVuZ3RoO3MrKylhPXdlKHJbc10pLFwiJHR5cGVcIj09PXEoclsxXSk/bz1vLmNvbmNhdChaZSh7a2V5Om4rXCJbXCIrcytcIl1cIix2YWx1ZTpyW3NdLHZhbHVlU3BlYzppLmdlb21ldHJ5X3R5cGUsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSk6XCJzdHJpbmdcIiE9PWEmJlwibnVtYmVyXCIhPT1hJiZcImJvb2xlYW5cIiE9PWEmJm8ucHVzaChuZXcgRChuK1wiW1wiK3MrXCJdXCIscltzXSxcInN0cmluZywgbnVtYmVyLCBvciBib29sZWFuIGV4cGVjdGVkLCBcIithK1wiIGZvdW5kXCIpKTticmVhaztjYXNlXCJhbnlcIjpjYXNlXCJhbGxcIjpjYXNlXCJub25lXCI6Zm9yKHZhciB1PTE7dTxyLmxlbmd0aDt1Kyspbz1vLmNvbmNhdCh0KHtrZXk6bitcIltcIit1K1wiXVwiLHZhbHVlOnJbdV0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSk7YnJlYWs7Y2FzZVwiaGFzXCI6Y2FzZVwiIWhhc1wiOmE9d2UoclsxXSksMiE9PXIubGVuZ3RoP28ucHVzaChuZXcgRChuLHIsJ2ZpbHRlciBhcnJheSBmb3IgXCInK3JbMF0rJ1wiIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzJykpOlwic3RyaW5nXCIhPT1hJiZvLnB1c2gobmV3IEQobitcIlsxXVwiLHJbMV0sXCJzdHJpbmcgZXhwZWN0ZWQsIFwiK2ErXCIgZm91bmRcIikpO31yZXR1cm4gb30odCl9ZnVuY3Rpb24gZXIodCxlKXt2YXIgcj10LmtleSxuPXQuc3R5bGUsaT10LnN0eWxlU3BlYyxhPXQudmFsdWUsbz10Lm9iamVjdEtleSxzPWlbZStcIl9cIit0LmxheWVyVHlwZV07aWYoIXMpcmV0dXJuIFtdO3ZhciB1PW8ubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7aWYoXCJwYWludFwiPT09ZSYmdSYmc1t1WzFdXSYmc1t1WzFdXS50cmFuc2l0aW9uKXJldHVybiBwcih7a2V5OnIsdmFsdWU6YSx2YWx1ZVNwZWM6aS50cmFuc2l0aW9uLHN0eWxlOm4sc3R5bGVTcGVjOml9KTt2YXIgcCxsPXQudmFsdWVTcGVjfHxzW29dO2lmKCFsKXJldHVybiBbbmV3IEQocixhLCd1bmtub3duIHByb3BlcnR5IFwiJytvKydcIicpXTtpZihcInN0cmluZ1wiPT09d2UoYSkmJnhlKGwpJiYhbC50b2tlbnMmJihwPS9eeyhbXn1dKyl9JC8uZXhlYyhhKSkpcmV0dXJuIFtuZXcgRChyLGEsJ1wiJytvKydcIiBkb2VzIG5vdCBzdXBwb3J0IGludGVycG9sYXRpb24gc3ludGF4XFxuVXNlIGFuIGlkZW50aXR5IHByb3BlcnR5IGZ1bmN0aW9uIGluc3RlYWQ6IGB7IFwidHlwZVwiOiBcImlkZW50aXR5XCIsIFwicHJvcGVydHlcIjogJytKU09OLnN0cmluZ2lmeShwWzFdKStcIiB9YC5cIildO3ZhciBjPVtdO3JldHVybiBcInN5bWJvbFwiPT09dC5sYXllclR5cGUmJihcInRleHQtZmllbGRcIj09PW8mJm4mJiFuLmdseXBocyYmYy5wdXNoKG5ldyBEKHIsYSwndXNlIG9mIFwidGV4dC1maWVsZFwiIHJlcXVpcmVzIGEgc3R5bGUgXCJnbHlwaHNcIiBwcm9wZXJ0eScpKSxcInRleHQtZm9udFwiPT09byYmQWUoUihhKSkmJlwiaWRlbnRpdHlcIj09PXEoYS50eXBlKSYmYy5wdXNoKG5ldyBEKHIsYSwnXCJ0ZXh0LWZvbnRcIiBkb2VzIG5vdCBzdXBwb3J0IGlkZW50aXR5IGZ1bmN0aW9ucycpKSksYy5jb25jYXQocHIoe2tleTp0LmtleSx2YWx1ZTphLHZhbHVlU3BlYzpsLHN0eWxlOm4sc3R5bGVTcGVjOmksZXhwcmVzc2lvbkNvbnRleHQ6XCJwcm9wZXJ0eVwiLHByb3BlcnR5VHlwZTplLHByb3BlcnR5S2V5Om99KSl9ZnVuY3Rpb24gcnIodCl7cmV0dXJuIGVyKHQsXCJwYWludFwiKX1mdW5jdGlvbiBucih0KXtyZXR1cm4gZXIodCxcImxheW91dFwiKX1mdW5jdGlvbiBpcih0KXt2YXIgZT1bXSxyPXQudmFsdWUsbj10LmtleSxpPXQuc3R5bGUsYT10LnN0eWxlU3BlYztyLnR5cGV8fHIucmVmfHxlLnB1c2gobmV3IEQobixyLCdlaXRoZXIgXCJ0eXBlXCIgb3IgXCJyZWZcIiBpcyByZXF1aXJlZCcpKTt2YXIgbyxzPXEoci50eXBlKSx1PXEoci5yZWYpO2lmKHIuaWQpZm9yKHZhciBwPXEoci5pZCksbD0wO2w8dC5hcnJheUluZGV4O2wrKyl7dmFyIGM9aS5sYXllcnNbbF07cShjLmlkKT09PXAmJmUucHVzaChuZXcgRChuLHIuaWQsJ2R1cGxpY2F0ZSBsYXllciBpZCBcIicrci5pZCsnXCIsIHByZXZpb3VzbHkgdXNlZCBhdCBsaW5lICcrYy5pZC5fX2xpbmVfXykpO31pZihcInJlZlwiaW4gcilbXCJ0eXBlXCIsXCJzb3VyY2VcIixcInNvdXJjZS1sYXllclwiLFwiZmlsdGVyXCIsXCJsYXlvdXRcIl0uZm9yRWFjaChmdW5jdGlvbih0KXt0IGluIHImJmUucHVzaChuZXcgRChuLHJbdF0sJ1wiJyt0KydcIiBpcyBwcm9oaWJpdGVkIGZvciByZWYgbGF5ZXJzJykpO30pLGkubGF5ZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cSh0LmlkKT09PXUmJihvPXQpO30pLG8/by5yZWY/ZS5wdXNoKG5ldyBEKG4sci5yZWYsXCJyZWYgY2Fubm90IHJlZmVyZW5jZSBhbm90aGVyIHJlZiBsYXllclwiKSk6cz1xKG8udHlwZSk6ZS5wdXNoKG5ldyBEKG4sci5yZWYsJ3JlZiBsYXllciBcIicrdSsnXCIgbm90IGZvdW5kJykpO2Vsc2UgaWYoXCJiYWNrZ3JvdW5kXCIhPT1zKWlmKHIuc291cmNlKXt2YXIgaD1pLnNvdXJjZXMmJmkuc291cmNlc1tyLnNvdXJjZV0sZj1oJiZxKGgudHlwZSk7aD9cInZlY3RvclwiPT09ZiYmXCJyYXN0ZXJcIj09PXM/ZS5wdXNoKG5ldyBEKG4sci5zb3VyY2UsJ2xheWVyIFwiJytyLmlkKydcIiByZXF1aXJlcyBhIHJhc3RlciBzb3VyY2UnKSk6XCJyYXN0ZXJcIj09PWYmJlwicmFzdGVyXCIhPT1zP2UucHVzaChuZXcgRChuLHIuc291cmNlLCdsYXllciBcIicrci5pZCsnXCIgcmVxdWlyZXMgYSB2ZWN0b3Igc291cmNlJykpOlwidmVjdG9yXCIhPT1mfHxyW1wic291cmNlLWxheWVyXCJdP1wicmFzdGVyLWRlbVwiPT09ZiYmXCJoaWxsc2hhZGVcIiE9PXM/ZS5wdXNoKG5ldyBEKG4sci5zb3VyY2UsXCJyYXN0ZXItZGVtIHNvdXJjZSBjYW4gb25seSBiZSB1c2VkIHdpdGggbGF5ZXIgdHlwZSAnaGlsbHNoYWRlJy5cIikpOlwibGluZVwiIT09c3x8IXIucGFpbnR8fCFyLnBhaW50W1wibGluZS1ncmFkaWVudFwiXXx8XCJnZW9qc29uXCI9PT1mJiZoLmxpbmVNZXRyaWNzfHxlLnB1c2gobmV3IEQobixyLCdsYXllciBcIicrci5pZCsnXCIgc3BlY2lmaWVzIGEgbGluZS1ncmFkaWVudCwgd2hpY2ggcmVxdWlyZXMgYSBHZW9KU09OIHNvdXJjZSB3aXRoIGBsaW5lTWV0cmljc2AgZW5hYmxlZC4nKSk6ZS5wdXNoKG5ldyBEKG4sciwnbGF5ZXIgXCInK3IuaWQrJ1wiIG11c3Qgc3BlY2lmeSBhIFwic291cmNlLWxheWVyXCInKSk6ZS5wdXNoKG5ldyBEKG4sci5zb3VyY2UsJ3NvdXJjZSBcIicrci5zb3VyY2UrJ1wiIG5vdCBmb3VuZCcpKTt9ZWxzZSBlLnB1c2gobmV3IEQobixyLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic291cmNlXCInKSk7cmV0dXJuIGU9ZS5jb25jYXQoamUoe2tleTpuLHZhbHVlOnIsdmFsdWVTcGVjOmEubGF5ZXIsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOmZ1bmN0aW9uKCl7cmV0dXJuIFtdfSx0eXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHByKHtrZXk6bitcIi50eXBlXCIsdmFsdWU6ci50eXBlLHZhbHVlU3BlYzphLmxheWVyLnR5cGUsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0OnIsb2JqZWN0S2V5OlwidHlwZVwifSl9LGZpbHRlcjp0cixsYXlvdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGplKHtsYXllcjpyLGtleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjpmdW5jdGlvbih0KXtyZXR1cm4gbnIoVSh7bGF5ZXJUeXBlOnN9LHQpKX19fSl9LHBhaW50OmZ1bmN0aW9uKHQpe3JldHVybiBqZSh7bGF5ZXI6cixrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHJyKFUoe2xheWVyVHlwZTpzfSx0KSl9fX0pfX19KSl9ZnVuY3Rpb24gYXIodCl7dmFyIGU9dC52YWx1ZSxyPXQua2V5LG49dC5zdHlsZVNwZWMsaT10LnN0eWxlO2lmKCFlLnR5cGUpcmV0dXJuIFtuZXcgRChyLGUsJ1widHlwZVwiIGlzIHJlcXVpcmVkJyldO3ZhciBhPXEoZS50eXBlKSxvPVtdO3N3aXRjaChhKXtjYXNlXCJ2ZWN0b3JcIjpjYXNlXCJyYXN0ZXJcIjpjYXNlXCJyYXN0ZXItZGVtXCI6aWYobz1vLmNvbmNhdChqZSh7a2V5OnIsdmFsdWU6ZSx2YWx1ZVNwZWM6bltcInNvdXJjZV9cIithLnJlcGxhY2UoXCItXCIsXCJfXCIpXSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzpufSkpLFwidXJsXCJpbiBlKWZvcih2YXIgcyBpbiBlKVtcInR5cGVcIixcInVybFwiLFwidGlsZVNpemVcIl0uaW5kZXhPZihzKTwwJiZvLnB1c2gobmV3IEQocitcIi5cIitzLGVbc10sJ2Egc291cmNlIHdpdGggYSBcInVybFwiIHByb3BlcnR5IG1heSBub3QgaW5jbHVkZSBhIFwiJytzKydcIiBwcm9wZXJ0eScpKTtyZXR1cm4gbztjYXNlXCJnZW9qc29uXCI6cmV0dXJuIGplKHtrZXk6cix2YWx1ZTplLHZhbHVlU3BlYzpuLnNvdXJjZV9nZW9qc29uLHN0eWxlOmksc3R5bGVTcGVjOm59KTtjYXNlXCJ2aWRlb1wiOnJldHVybiBqZSh7a2V5OnIsdmFsdWU6ZSx2YWx1ZVNwZWM6bi5zb3VyY2VfdmlkZW8sc3R5bGU6aSxzdHlsZVNwZWM6bn0pO2Nhc2VcImltYWdlXCI6cmV0dXJuIGplKHtrZXk6cix2YWx1ZTplLHZhbHVlU3BlYzpuLnNvdXJjZV9pbWFnZSxzdHlsZTppLHN0eWxlU3BlYzpufSk7Y2FzZVwiY2FudmFzXCI6cmV0dXJuIG8ucHVzaChuZXcgRChyLG51bGwsXCJQbGVhc2UgdXNlIHJ1bnRpbWUgQVBJcyB0byBhZGQgY2FudmFzIHNvdXJjZXMsIHJhdGhlciB0aGFuIGluY2x1ZGluZyB0aGVtIGluIHN0eWxlc2hlZXRzLlwiLFwic291cmNlLmNhbnZhc1wiKSksbztkZWZhdWx0OnJldHVybiBaZSh7a2V5OnIrXCIudHlwZVwiLHZhbHVlOmUudHlwZSx2YWx1ZVNwZWM6e3ZhbHVlczpbXCJ2ZWN0b3JcIixcInJhc3RlclwiLFwicmFzdGVyLWRlbVwiLFwiZ2VvanNvblwiLFwidmlkZW9cIixcImltYWdlXCJdfSxzdHlsZTppLHN0eWxlU3BlYzpufSl9fWZ1bmN0aW9uIG9yKHQpe3ZhciBlPXQudmFsdWUscj10LnN0eWxlU3BlYyxuPXIubGlnaHQsaT10LnN0eWxlLGE9W10sbz13ZShlKTtpZih2b2lkIDA9PT1lKXJldHVybiBhO2lmKFwib2JqZWN0XCIhPT1vKXJldHVybiBhPWEuY29uY2F0KFtuZXcgRChcImxpZ2h0XCIsZSxcIm9iamVjdCBleHBlY3RlZCwgXCIrbytcIiBmb3VuZFwiKV0pO2Zvcih2YXIgcyBpbiBlKXt2YXIgdT1zLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2E9dSYmblt1WzFdXSYmblt1WzFdXS50cmFuc2l0aW9uP2EuY29uY2F0KHByKHtrZXk6cyx2YWx1ZTplW3NdLHZhbHVlU3BlYzpyLnRyYW5zaXRpb24sc3R5bGU6aSxzdHlsZVNwZWM6cn0pKTpuW3NdP2EuY29uY2F0KHByKHtrZXk6cyx2YWx1ZTplW3NdLHZhbHVlU3BlYzpuW3NdLHN0eWxlOmksc3R5bGVTcGVjOnJ9KSk6YS5jb25jYXQoW25ldyBEKHMsZVtzXSwndW5rbm93biBwcm9wZXJ0eSBcIicrcysnXCInKV0pO31yZXR1cm4gYX1mdW5jdGlvbiBzcih0KXt2YXIgZT10LnZhbHVlLHI9dC5rZXksbj13ZShlKTtyZXR1cm4gXCJzdHJpbmdcIiE9PW4/W25ldyBEKHIsZSxcInN0cmluZyBleHBlY3RlZCwgXCIrbitcIiBmb3VuZFwiKV06W119dmFyIHVyPXtcIipcIjpmdW5jdGlvbigpe3JldHVybiBbXX0sYXJyYXk6VWUsYm9vbGVhbjpmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlLHI9dC5rZXksbj13ZShlKTtyZXR1cm4gXCJib29sZWFuXCIhPT1uP1tuZXcgRChyLGUsXCJib29sZWFuIGV4cGVjdGVkLCBcIituK1wiIGZvdW5kXCIpXTpbXX0sbnVtYmVyOnFlLGNvbG9yOmZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZSxuPXdlKHIpO3JldHVybiBcInN0cmluZ1wiIT09bj9bbmV3IEQoZSxyLFwiY29sb3IgZXhwZWN0ZWQsIFwiK24rXCIgZm91bmRcIildOm51bGw9PT1pdChyKT9bbmV3IEQoZSxyLCdjb2xvciBleHBlY3RlZCwgXCInK3IrJ1wiIGZvdW5kJyldOltdfSxjb25zdGFudHM6aixlbnVtOlplLGZpbHRlcjp0cixmdW5jdGlvbjpSZSxsYXllcjppcixvYmplY3Q6amUsc291cmNlOmFyLGxpZ2h0Om9yLHN0cmluZzpzcixmb3JtYXR0ZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1zcih0KS5sZW5ndGg/W106TmUodCl9fTtmdW5jdGlvbiBwcih0KXt2YXIgZT10LnZhbHVlLHI9dC52YWx1ZVNwZWMsbj10LnN0eWxlU3BlYztyZXR1cm4gci5leHByZXNzaW9uJiZBZShxKGUpKT9SZSh0KTpyLmV4cHJlc3Npb24mJkNlKFIoZSkpP05lKHQpOnIudHlwZSYmdXJbci50eXBlXT91cltyLnR5cGVdKHQpOmplKFUoe30sdCx7dmFsdWVTcGVjOnIudHlwZT9uW3IudHlwZV06cn0pKX1mdW5jdGlvbiBscih0KXt2YXIgZT10LnZhbHVlLHI9dC5rZXksbj1zcih0KTtyZXR1cm4gbi5sZW5ndGg/bjooLTE9PT1lLmluZGV4T2YoXCJ7Zm9udHN0YWNrfVwiKSYmbi5wdXNoKG5ldyBEKHIsZSwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7Zm9udHN0YWNrfVwiIHRva2VuJykpLC0xPT09ZS5pbmRleE9mKFwie3JhbmdlfVwiKSYmbi5wdXNoKG5ldyBEKHIsZSwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7cmFuZ2V9XCIgdG9rZW4nKSksbil9ZnVuY3Rpb24gY3IodCxlKXtlPWV8fEw7dmFyIHI9W107cmV0dXJuIHI9ci5jb25jYXQocHIoe2tleTpcIlwiLHZhbHVlOnQsdmFsdWVTcGVjOmUuJHJvb3Qsc3R5bGVTcGVjOmUsc3R5bGU6dCxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7Z2x5cGhzOmxyLFwiKlwiOmZ1bmN0aW9uKCl7cmV0dXJuIFtdfX19KSksdC5jb25zdGFudHMmJihyPXIuY29uY2F0KGooe2tleTpcImNvbnN0YW50c1wiLHZhbHVlOnQuY29uc3RhbnRzLHN0eWxlOnQsc3R5bGVTcGVjOmV9KSkpLGhyKHIpfWZ1bmN0aW9uIGhyKHQpe3JldHVybiBbXS5jb25jYXQodCkuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LmxpbmUtZS5saW5lfSl9ZnVuY3Rpb24gZnIodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGhyKHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX19Y3Iuc291cmNlPWZyKGFyKSxjci5saWdodD1mcihvciksY3IubGF5ZXI9ZnIoaXIpLGNyLmZpbHRlcj1mcih0ciksY3IucGFpbnRQcm9wZXJ0eT1mcihyciksY3IubGF5b3V0UHJvcGVydHk9ZnIobnIpO3ZhciB5cj1jcixkcj1jci5saWdodCxtcj1jci5wYWludFByb3BlcnR5LHZyPWNyLmxheW91dFByb3BlcnR5O2Z1bmN0aW9uIGdyKHQsZSl7dmFyIHI9ITE7aWYoZSYmZS5sZW5ndGgpZm9yKHZhciBuPTAsaT1lO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTt0LmZpcmUobmV3IEYobmV3IEVycm9yKGEubWVzc2FnZSkpKSxyPSEwO31yZXR1cm4gcn12YXIgeHI9X3IsYnI9MztmdW5jdGlvbiBfcih0LGUscil7dmFyIG49dGhpcy5jZWxscz1bXTtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3RoaXMuYXJyYXlCdWZmZXI9dDt2YXIgaT1uZXcgSW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt0PWlbMF0sZT1pWzFdLHI9aVsyXSx0aGlzLmQ9ZSsyKnI7Zm9yKHZhciBhPTA7YTx0aGlzLmQqdGhpcy5kO2ErKyl7dmFyIG89aVticithXSxzPWlbYnIrYSsxXTtuLnB1c2gobz09PXM/bnVsbDppLnN1YmFycmF5KG8scykpO312YXIgdT1pW2JyK24ubGVuZ3RoXSxwPWlbYnIrbi5sZW5ndGgrMV07dGhpcy5rZXlzPWkuc3ViYXJyYXkodSxwKSx0aGlzLmJib3hlcz1pLnN1YmFycmF5KHApLHRoaXMuaW5zZXJ0PXRoaXMuX2luc2VydFJlYWRvbmx5O31lbHNle3RoaXMuZD1lKzIqcjtmb3IodmFyIGw9MDtsPHRoaXMuZCp0aGlzLmQ7bCsrKW4ucHVzaChbXSk7dGhpcy5rZXlzPVtdLHRoaXMuYmJveGVzPVtdO310aGlzLm49ZSx0aGlzLmV4dGVudD10LHRoaXMucGFkZGluZz1yLHRoaXMuc2NhbGU9ZS90LHRoaXMudWlkPTA7dmFyIGM9ci9lKnQ7dGhpcy5taW49LWMsdGhpcy5tYXg9dCtjO31fci5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy5fZm9yRWFjaENlbGwoZSxyLG4saSx0aGlzLl9pbnNlcnRDZWxsLHRoaXMudWlkKyspLHRoaXMua2V5cy5wdXNoKHQpLHRoaXMuYmJveGVzLnB1c2goZSksdGhpcy5iYm94ZXMucHVzaChyKSx0aGlzLmJib3hlcy5wdXNoKG4pLHRoaXMuYmJveGVzLnB1c2goaSk7fSxfci5wcm90b3R5cGUuX2luc2VydFJlYWRvbmx5PWZ1bmN0aW9uKCl7dGhyb3dcIkNhbm5vdCBpbnNlcnQgaW50byBhIEdyaWRJbmRleCBjcmVhdGVkIGZyb20gYW4gQXJyYXlCdWZmZXIuXCJ9LF9yLnByb3RvdHlwZS5faW5zZXJ0Q2VsbD1mdW5jdGlvbih0LGUscixuLGksYSl7dGhpcy5jZWxsc1tpXS5wdXNoKGEpO30sX3IucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMubWluLGE9dGhpcy5tYXg7aWYodDw9aSYmZTw9aSYmYTw9ciYmYTw9bilyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5rZXlzKTt2YXIgbz1bXTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwodCxlLHIsbix0aGlzLl9xdWVyeUNlbGwsbyx7fSksb30sX3IucHJvdG90eXBlLl9xdWVyeUNlbGw9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dmFyIHM9dGhpcy5jZWxsc1tpXTtpZihudWxsIT09cylmb3IodmFyIHU9dGhpcy5rZXlzLHA9dGhpcy5iYm94ZXMsbD0wO2w8cy5sZW5ndGg7bCsrKXt2YXIgYz1zW2xdO2lmKHZvaWQgMD09PW9bY10pe3ZhciBoPTQqYzt0PD1wW2grMl0mJmU8PXBbaCszXSYmcj49cFtoKzBdJiZuPj1wW2grMV0/KG9bY109ITAsYS5wdXNoKHVbY10pKTpvW2NdPSExO319fSxfci5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe2Zvcih2YXIgcz10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQodCksdT10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQoZSkscD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQociksbD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQobiksYz1zO2M8PXA7YysrKWZvcih2YXIgaD11O2g8PWw7aCsrKXt2YXIgZj10aGlzLmQqaCtjO2lmKGkuY2FsbCh0aGlzLHQsZSxyLG4sZixhLG8pKXJldHVybn19LF9yLnByb3RvdHlwZS5fY29udmVydFRvQ2VsbENvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMuZC0xLE1hdGguZmxvb3IodCp0aGlzLnNjYWxlKSt0aGlzLnBhZGRpbmcpKX0sX3IucHJvdG90eXBlLnRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtpZih0aGlzLmFycmF5QnVmZmVyKXJldHVybiB0aGlzLmFycmF5QnVmZmVyO2Zvcih2YXIgdD10aGlzLmNlbGxzLGU9YnIrdGhpcy5jZWxscy5sZW5ndGgrMSsxLHI9MCxuPTA7bjx0aGlzLmNlbGxzLmxlbmd0aDtuKyspcis9dGhpcy5jZWxsc1tuXS5sZW5ndGg7dmFyIGk9bmV3IEludDMyQXJyYXkoZStyK3RoaXMua2V5cy5sZW5ndGgrdGhpcy5iYm94ZXMubGVuZ3RoKTtpWzBdPXRoaXMuZXh0ZW50LGlbMV09dGhpcy5uLGlbMl09dGhpcy5wYWRkaW5nO2Zvcih2YXIgYT1lLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIHM9dFtvXTtpW2JyK29dPWEsaS5zZXQocyxhKSxhKz1zLmxlbmd0aDt9cmV0dXJuIGlbYnIrdC5sZW5ndGhdPWEsaS5zZXQodGhpcy5rZXlzLGEpLGErPXRoaXMua2V5cy5sZW5ndGgsaVticit0Lmxlbmd0aCsxXT1hLGkuc2V0KHRoaXMuYmJveGVzLGEpLGErPXRoaXMuYmJveGVzLmxlbmd0aCxpLmJ1ZmZlcn07dmFyIHdyPXNlbGYuSW1hZ2VEYXRhLEFyPXt9O2Z1bmN0aW9uIGtyKHQsZSxyKXt2b2lkIDA9PT1yJiYocj17fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfY2xhc3NSZWdpc3RyeUtleVwiLHt2YWx1ZTp0LHdyaXRlYWJsZTohMX0pLEFyW3RdPXtrbGFzczplLG9taXQ6ci5vbWl0fHxbXSxzaGFsbG93OnIuc2hhbGxvd3x8W119O31mb3IodmFyIHpyIGluIGtyKFwiT2JqZWN0XCIsT2JqZWN0KSx4ci5zZXJpYWxpemU9ZnVuY3Rpb24odCxlKXt2YXIgcj10LnRvQXJyYXlCdWZmZXIoKTtyZXR1cm4gZSYmZS5wdXNoKHIpLHtidWZmZXI6cn19LHhyLmRlc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgeHIodC5idWZmZXIpfSxrcihcIkdyaWRcIix4ciksa3IoXCJDb2xvclwiLGF0KSxrcihcIkVycm9yXCIsRXJyb3IpLGtyKFwiU3R5bGVQcm9wZXJ0eUZ1bmN0aW9uXCIsTGUpLGtyKFwiU3R5bGVFeHByZXNzaW9uXCIsTWUse29taXQ6W1wiX2V2YWx1YXRvclwiXX0pLGtyKFwiWm9vbURlcGVuZGVudEV4cHJlc3Npb25cIixGZSksa3IoXCJab29tQ29uc3RhbnRFeHByZXNzaW9uXCIsRWUpLGtyKFwiQ29tcG91bmRFeHByZXNzaW9uXCIsX3Qse29taXQ6W1wiX2V2YWx1YXRlXCJdfSksaGUpaGVbenJdLl9jbGFzc1JlZ2lzdHJ5S2V5fHxrcihcIkV4cHJlc3Npb25fXCIrenIsaGVbenJdKTtmdW5jdGlvbiBTcih0LGUpe2lmKG51bGw9PXR8fFwiYm9vbGVhblwiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHR8fFwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgQm9vbGVhbnx8dCBpbnN0YW5jZW9mIE51bWJlcnx8dCBpbnN0YW5jZW9mIFN0cmluZ3x8dCBpbnN0YW5jZW9mIERhdGV8fHQgaW5zdGFuY2VvZiBSZWdFeHApcmV0dXJuIHQ7aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBlJiZlLnB1c2godCksdDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpe3ZhciByPXQ7cmV0dXJuIGUmJmUucHVzaChyLmJ1ZmZlcikscn1pZih0IGluc3RhbmNlb2Ygd3IpcmV0dXJuIGUmJmUucHVzaCh0LmRhdGEuYnVmZmVyKSx0O2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgbj1bXSxpPTAsYT10O2k8YS5sZW5ndGg7aSs9MSl7dmFyIG89YVtpXTtuLnB1c2goU3IobyxlKSk7fXJldHVybiBufWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXt2YXIgcz10LmNvbnN0cnVjdG9yLHU9cy5fY2xhc3NSZWdpc3RyeUtleTtpZighdSl0aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBzZXJpYWxpemUgb2JqZWN0IG9mIHVucmVnaXN0ZXJlZCBjbGFzc1wiKTt2YXIgcD1zLnNlcmlhbGl6ZT9zLnNlcmlhbGl6ZSh0LGUpOnt9O2lmKCFzLnNlcmlhbGl6ZSl7Zm9yKHZhciBsIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShsKSYmIShBclt1XS5vbWl0LmluZGV4T2YobCk+PTApKXt2YXIgYz10W2xdO3BbbF09QXJbdV0uc2hhbGxvdy5pbmRleE9mKGwpPj0wP2M6U3IoYyxlKTt9dCBpbnN0YW5jZW9mIEVycm9yJiYocC5tZXNzYWdlPXQubWVzc2FnZSk7fWlmKHAuJG5hbWUpdGhyb3cgbmV3IEVycm9yKFwiJG5hbWUgcHJvcGVydHkgaXMgcmVzZXJ2ZWQgZm9yIHdvcmtlciBzZXJpYWxpemF0aW9uIGxvZ2ljLlwiKTtyZXR1cm4gXCJPYmplY3RcIiE9PXUmJihwLiRuYW1lPXUpLHB9dGhyb3cgbmV3IEVycm9yKFwiY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB0eXBlIFwiK3R5cGVvZiB0KX1mdW5jdGlvbiBCcih0KXtpZihudWxsPT10fHxcImJvb2xlYW5cIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fHxcInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIEJvb2xlYW58fHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBEYXRlfHx0IGluc3RhbmNlb2YgUmVnRXhwfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyh0KXx8dCBpbnN0YW5jZW9mIHdyKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKEJyKTtpZihcIm9iamVjdFwiPT10eXBlb2YgdCl7dmFyIGU9dC4kbmFtZXx8XCJPYmplY3RcIixyPUFyW2VdLmtsYXNzO2lmKCFyKXRocm93IG5ldyBFcnJvcihcImNhbid0IGRlc2VyaWFsaXplIHVucmVnaXN0ZXJlZCBjbGFzcyBcIitlKTtpZihyLmRlc2VyaWFsaXplKXJldHVybiByLmRlc2VyaWFsaXplKHQpO2Zvcih2YXIgbj1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxpPTAsYT1PYmplY3Qua2V5cyh0KTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07aWYoXCIkbmFtZVwiIT09byl7dmFyIHM9dFtvXTtuW29dPUFyW2VdLnNoYWxsb3cuaW5kZXhPZihvKT49MD9zOkJyKHMpO319cmV0dXJuIG59dGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZGVzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgXCIrdHlwZW9mIHQpfXZhciBJcj1mdW5jdGlvbigpe3RoaXMuZmlyc3Q9ITA7fTtJci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5mbG9vcih0KTtyZXR1cm4gdGhpcy5maXJzdD8odGhpcy5maXJzdD0hMSx0aGlzLmxhc3RJbnRlZ2VyWm9vbT1yLHRoaXMubGFzdEludGVnZXJab29tVGltZT0wLHRoaXMubGFzdFpvb209dCx0aGlzLmxhc3RGbG9vclpvb209ciwhMCk6KHRoaXMubGFzdEZsb29yWm9vbT5yPyh0aGlzLmxhc3RJbnRlZ2VyWm9vbT1yKzEsdGhpcy5sYXN0SW50ZWdlclpvb21UaW1lPWUpOnRoaXMubGFzdEZsb29yWm9vbTxyJiYodGhpcy5sYXN0SW50ZWdlclpvb209cix0aGlzLmxhc3RJbnRlZ2VyWm9vbVRpbWU9ZSksdCE9PXRoaXMubGFzdFpvb20mJih0aGlzLmxhc3Rab29tPXQsdGhpcy5sYXN0Rmxvb3Jab29tPXIsITApKX07dmFyIFZyPXtcIkxhdGluLTEgU3VwcGxlbWVudFwiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjgmJnQ8PTI1NX0sQXJhYmljOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xNTM2JiZ0PD0xNzkxfSxcIkFyYWJpYyBTdXBwbGVtZW50XCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE4NzImJnQ8PTE5MTl9LFwiQXJhYmljIEV4dGVuZGVkLUFcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MjIwOCYmdDw9MjMwM30sXCJIYW5ndWwgSmFtb1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj00MzUyJiZ0PD00NjA3fSxcIlVuaWZpZWQgQ2FuYWRpYW4gQWJvcmlnaW5hbCBTeWxsYWJpY3NcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NTEyMCYmdDw9NTc1OX0sS2htZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTYwMTYmJnQ8PTYxNDN9LFwiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZFwiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02MzIwJiZ0PD02Mzk5fSxcIkdlbmVyYWwgUHVuY3R1YXRpb25cIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49ODE5MiYmdDw9ODMwM30sXCJMZXR0ZXJsaWtlIFN5bWJvbHNcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49ODQ0OCYmdDw9ODUyN30sXCJOdW1iZXIgRm9ybXNcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49ODUyOCYmdDw9ODU5MX0sXCJNaXNjZWxsYW5lb3VzIFRlY2huaWNhbFwiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj04OTYwJiZ0PD05MjE1fSxcIkNvbnRyb2wgUGljdHVyZXNcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49OTIxNiYmdDw9OTI3OX0sXCJPcHRpY2FsIENoYXJhY3RlciBSZWNvZ25pdGlvblwiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj05MjgwJiZ0PD05MzExfSxcIkVuY2xvc2VkIEFscGhhbnVtZXJpY3NcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49OTMxMiYmdDw9OTQ3MX0sXCJHZW9tZXRyaWMgU2hhcGVzXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTk2MzImJnQ8PTk3Mjd9LFwiTWlzY2VsbGFuZW91cyBTeW1ib2xzXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTk3MjgmJnQ8PTk5ODN9LFwiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3NcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTEwMDgmJnQ8PTExMjYzfSxcIkNKSyBSYWRpY2FscyBTdXBwbGVtZW50XCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTExOTA0JiZ0PD0xMjAzMX0sXCJLYW5neGkgUmFkaWNhbHNcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTIwMzImJnQ8PTEyMjU1fSxcIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnNcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTIyNzImJnQ8PTEyMjg3fSxcIkNKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvblwiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjI4OCYmdDw9MTIzNTF9LEhpcmFnYW5hOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjM1MiYmdDw9MTI0NDd9LEthdGFrYW5hOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjQ0OCYmdDw9MTI1NDN9LEJvcG9tb2ZvOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjU0NCYmdDw9MTI1OTF9LFwiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtb1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjU5MiYmdDw9MTI2ODd9LEthbmJ1bjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI2ODgmJnQ8PTEyNzAzfSxcIkJvcG9tb2ZvIEV4dGVuZGVkXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyNzA0JiZ0PD0xMjczNX0sXCJDSksgU3Ryb2tlc1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjczNiYmdDw9MTI3ODN9LFwiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9uc1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjc4NCYmdDw9MTI3OTl9LFwiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRoc1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjgwMCYmdDw9MTMwNTV9LFwiQ0pLIENvbXBhdGliaWxpdHlcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTMwNTYmJnQ8PTEzMzExfSxcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTMzMTImJnQ8PTE5OTAzfSxcIllpamluZyBIZXhhZ3JhbSBTeW1ib2xzXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE5OTA0JiZ0PD0xOTk2N30sXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE5OTY4JiZ0PD00MDk1OX0sXCJZaSBTeWxsYWJsZXNcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NDA5NjAmJnQ8PTQyMTI3fSxcIllpIFJhZGljYWxzXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTQyMTI4JiZ0PD00MjE5MX0sXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1BXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTQzMzYwJiZ0PD00MzM5MX0sXCJIYW5ndWwgU3lsbGFibGVzXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTQ0MDMyJiZ0PD01NTIxNX0sXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1CXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTU1MjE2JiZ0PD01NTI5NX0sXCJQcml2YXRlIFVzZSBBcmVhXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTU3MzQ0JiZ0PD02Mzc0M30sXCJDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTYzNzQ0JiZ0PD02NDI1NX0sXCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUFcIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NjQzMzYmJnQ8PTY1MDIzfSxcIlZlcnRpY2FsIEZvcm1zXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MDQwJiZ0PD02NTA1NX0sXCJDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTA3MiYmdDw9NjUxMDN9LFwiU21hbGwgRm9ybSBWYXJpYW50c1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTEwNCYmdDw9NjUxMzV9LFwiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1CXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MTM2JiZ0PD02NTI3OX0sXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NTI4MCYmdDw9NjU1MTl9fTtmdW5jdGlvbiBQcih0KXtmb3IodmFyIGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKz0xKXtpZihDcihyW2VdLmNoYXJDb2RlQXQoMCkpKXJldHVybiAhMH1yZXR1cm4gITF9ZnVuY3Rpb24gTXIodCl7cmV0dXJuICFWci5BcmFiaWModCkmJighVnJbXCJBcmFiaWMgU3VwcGxlbWVudFwiXSh0KSYmKCFWcltcIkFyYWJpYyBFeHRlbmRlZC1BXCJdKHQpJiYoIVZyW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCJdKHQpJiYhVnJbXCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUJcIl0odCkpKSl9ZnVuY3Rpb24gQ3IodCl7cmV0dXJuIDc0Nj09PXR8fDc0Nz09PXR8fCEodDw0MzUyKSYmKCEhVnJbXCJCb3BvbW9mbyBFeHRlbmRlZFwiXSh0KXx8KCEhVnIuQm9wb21vZm8odCl8fCghKCFWcltcIkNKSyBDb21wYXRpYmlsaXR5IEZvcm1zXCJdKHQpfHx0Pj02NTA5NyYmdDw9NjUxMDMpfHwoISFWcltcIkNKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHNcIl0odCl8fCghIVZyW1wiQ0pLIENvbXBhdGliaWxpdHlcIl0odCl8fCghIVZyW1wiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnRcIl0odCl8fCghIVZyW1wiQ0pLIFN0cm9rZXNcIl0odCl8fCghKCFWcltcIkNKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvblwiXSh0KXx8dD49MTIyOTYmJnQ8PTEyMzA1fHx0Pj0xMjMwOCYmdDw9MTIzMTl8fDEyMzM2PT09dCl8fCghIVZyW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQVwiXSh0KXx8KCEhVnJbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCJdKHQpfHwoISFWcltcIkVuY2xvc2VkIENKSyBMZXR0ZXJzIGFuZCBNb250aHNcIl0odCl8fCghIVZyW1wiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtb1wiXSh0KXx8KCEhVnJbXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1BXCJdKHQpfHwoISFWcltcIkhhbmd1bCBKYW1vIEV4dGVuZGVkLUJcIl0odCl8fCghIVZyW1wiSGFuZ3VsIEphbW9cIl0odCl8fCghIVZyW1wiSGFuZ3VsIFN5bGxhYmxlc1wiXSh0KXx8KCEhVnIuSGlyYWdhbmEodCl8fCghIVZyW1wiSWRlb2dyYXBoaWMgRGVzY3JpcHRpb24gQ2hhcmFjdGVyc1wiXSh0KXx8KCEhVnIuS2FuYnVuKHQpfHwoISFWcltcIkthbmd4aSBSYWRpY2Fsc1wiXSh0KXx8KCEhVnJbXCJLYXRha2FuYSBQaG9uZXRpYyBFeHRlbnNpb25zXCJdKHQpfHwoISghVnIuS2F0YWthbmEodCl8fDEyNTQwPT09dCl8fCghKCFWcltcIkhhbGZ3aWR0aCBhbmQgRnVsbHdpZHRoIEZvcm1zXCJdKHQpfHw2NTI4OD09PXR8fDY1Mjg5PT09dHx8NjUyOTM9PT10fHx0Pj02NTMwNiYmdDw9NjUzMTB8fDY1MzM5PT09dHx8NjUzNDE9PT10fHw2NTM0Mz09PXR8fHQ+PTY1MzcxJiZ0PD02NTUwM3x8NjU1MDc9PT10fHx0Pj02NTUxMiYmdDw9NjU1MTkpfHwoISghVnJbXCJTbWFsbCBGb3JtIFZhcmlhbnRzXCJdKHQpfHx0Pj02NTExMiYmdDw9NjUxMTh8fHQ+PTY1MTIzJiZ0PD02NTEyNil8fCghIVZyW1wiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljc1wiXSh0KXx8KCEhVnJbXCJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzIEV4dGVuZGVkXCJdKHQpfHwoISFWcltcIlZlcnRpY2FsIEZvcm1zXCJdKHQpfHwoISFWcltcIllpamluZyBIZXhhZ3JhbSBTeW1ib2xzXCJdKHQpfHwoISFWcltcIllpIFN5bGxhYmxlc1wiXSh0KXx8ISFWcltcIllpIFJhZGljYWxzXCJdKHQpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSl9ZnVuY3Rpb24gVHIodCl7cmV0dXJuICEoQ3IodCl8fGZ1bmN0aW9uKHQpe3JldHVybiAhIShWcltcIkxhdGluLTEgU3VwcGxlbWVudFwiXSh0KSYmKDE2Nz09PXR8fDE2OT09PXR8fDE3ND09PXR8fDE3Nz09PXR8fDE4OD09PXR8fDE4OT09PXR8fDE5MD09PXR8fDIxNT09PXR8fDI0Nz09PXQpfHxWcltcIkdlbmVyYWwgUHVuY3R1YXRpb25cIl0odCkmJig4MjE0PT09dHx8ODIyND09PXR8fDgyMjU9PT10fHw4MjQwPT09dHx8ODI0MT09PXR8fDgyNTE9PT10fHw4MjUyPT09dHx8ODI1OD09PXR8fDgyNjM9PT10fHw4MjY0PT09dHx8ODI2NT09PXR8fDgyNzM9PT10KXx8VnJbXCJMZXR0ZXJsaWtlIFN5bWJvbHNcIl0odCl8fFZyW1wiTnVtYmVyIEZvcm1zXCJdKHQpfHxWcltcIk1pc2NlbGxhbmVvdXMgVGVjaG5pY2FsXCJdKHQpJiYodD49ODk2MCYmdDw9ODk2N3x8dD49ODk3MiYmdDw9ODk5MXx8dD49ODk5NiYmdDw9OWUzfHw5MDAzPT09dHx8dD49OTA4NSYmdDw9OTExNHx8dD49OTE1MCYmdDw9OTE2NXx8OTE2Nz09PXR8fHQ+PTkxNjkmJnQ8PTkxNzl8fHQ+PTkxODYmJnQ8PTkyMTUpfHxWcltcIkNvbnRyb2wgUGljdHVyZXNcIl0odCkmJjkyNTEhPT10fHxWcltcIk9wdGljYWwgQ2hhcmFjdGVyIFJlY29nbml0aW9uXCJdKHQpfHxWcltcIkVuY2xvc2VkIEFscGhhbnVtZXJpY3NcIl0odCl8fFZyW1wiR2VvbWV0cmljIFNoYXBlc1wiXSh0KXx8VnJbXCJNaXNjZWxsYW5lb3VzIFN5bWJvbHNcIl0odCkmJiEodD49OTc1NCYmdDw9OTc1OSl8fFZyW1wiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3NcIl0odCkmJih0Pj0xMTAyNiYmdDw9MTEwNTV8fHQ+PTExMDg4JiZ0PD0xMTA5N3x8dD49MTExOTImJnQ8PTExMjQzKXx8VnJbXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIl0odCl8fFZyLkthdGFrYW5hKHQpfHxWcltcIlByaXZhdGUgVXNlIEFyZWFcIl0odCl8fFZyW1wiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIl0odCl8fFZyW1wiU21hbGwgRm9ybSBWYXJpYW50c1wiXSh0KXx8VnJbXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiXSh0KXx8ODczND09PXR8fDg3NTY9PT10fHw4NzU3PT09dHx8dD49OTk4NCYmdDw9MTAwODd8fHQ+PTEwMTAyJiZ0PD0xMDEzMXx8NjU1MzI9PT10fHw2NTUzMz09PXQpfSh0KSl9ZnVuY3Rpb24gRXIodCxlKXtyZXR1cm4gISghZSYmKHQ+PTE0MjQmJnQ8PTIzMDN8fFZyW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCJdKHQpfHxWcltcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlwiXSh0KSkpJiYhKHQ+PTIzMDQmJnQ8PTM1ODN8fHQ+PTM4NDAmJnQ8PTQyNTV8fFZyLktobWVyKHQpKX12YXIgRnIsT3I9ITEsTHI9bnVsbCxEcj0hMSxqcj1uZXcgTyxVcj17YXBwbHlBcmFiaWNTaGFwaW5nOm51bGwscHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0Om51bGwscHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0Om51bGwsaXNMb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gRHJ8fG51bGwhPVVyLmFwcGx5QXJhYmljU2hhcGluZ319LHFyPWZ1bmN0aW9uKHQsZSl7dGhpcy56b29tPXQsZT8odGhpcy5ub3c9ZS5ub3csdGhpcy5mYWRlRHVyYXRpb249ZS5mYWRlRHVyYXRpb24sdGhpcy56b29tSGlzdG9yeT1lLnpvb21IaXN0b3J5LHRoaXMudHJhbnNpdGlvbj1lLnRyYW5zaXRpb24pOih0aGlzLm5vdz0wLHRoaXMuZmFkZUR1cmF0aW9uPTAsdGhpcy56b29tSGlzdG9yeT1uZXcgSXIsdGhpcy50cmFuc2l0aW9uPXt9KTt9O3FyLnByb3RvdHlwZS5pc1N1cHBvcnRlZFNjcmlwdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPXQ7cjxuLmxlbmd0aDtyKz0xKWlmKCFFcihuW3JdLmNoYXJDb2RlQXQoMCksZSkpcmV0dXJuICExO3JldHVybiAhMH0odCxVci5pc0xvYWRlZCgpKX0scXIucHJvdG90eXBlLmNyb3NzRmFkaW5nRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmZhZGVEdXJhdGlvbj8xOk1hdGgubWluKCh0aGlzLm5vdy10aGlzLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbVRpbWUpL3RoaXMuZmFkZUR1cmF0aW9uLDEpfSxxci5wcm90b3R5cGUuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuem9vbSxlPXQtTWF0aC5mbG9vcih0KSxyPXRoaXMuY3Jvc3NGYWRpbmdGYWN0b3IoKTtyZXR1cm4gdD50aGlzLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbT97ZnJvbVNjYWxlOjIsdG9TY2FsZToxLHQ6ZSsoMS1lKSpyfTp7ZnJvbVNjYWxlOi41LHRvU2NhbGU6MSx0OjEtKDEtcikqZX19O3ZhciBScj1mdW5jdGlvbih0LGUpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPWUsdGhpcy5leHByZXNzaW9uPURlKHZvaWQgMD09PWU/dC5zcGVjaWZpY2F0aW9uLmRlZmF1bHQ6ZSx0LnNwZWNpZmljYXRpb24pO307UnIucHJvdG90eXBlLmlzRGF0YURyaXZlbj1mdW5jdGlvbigpe3JldHVybiBcInNvdXJjZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10aGlzLmV4cHJlc3Npb24ua2luZH0sUnIucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJvcGVydHkucG9zc2libHlFdmFsdWF0ZSh0aGlzLHQpfTt2YXIgTnI9ZnVuY3Rpb24odCl7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9bmV3IFJyKHQsdm9pZCAwKTt9O05yLnByb3RvdHlwZS50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFhyKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxlLGMoe30sdC50cmFuc2l0aW9uLHRoaXMudHJhbnNpdGlvbiksdC5ub3cpfSxOci5wcm90b3R5cGUudW50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhyKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxudWxsLHt9LDApfTt2YXIgWnI9ZnVuY3Rpb24odCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXMpO307WnIucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBnKHRoaXMuX3ZhbHVlc1t0XS52YWx1ZS52YWx1ZSl9LFpyLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHRoaXMuX3ZhbHVlc1t0XT1uZXcgTnIodGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW3RdLnZhbHVlPW5ldyBScih0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHksbnVsbD09PWU/dm9pZCAwOmcoZSkpO30sWnIucHJvdG90eXBlLmdldFRyYW5zaXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIGcodGhpcy5fdmFsdWVzW3RdLnRyYW5zaXRpb24pfSxaci5wcm90b3R5cGUuc2V0VHJhbnNpdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHRoaXMuX3ZhbHVlc1t0XT1uZXcgTnIodGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW3RdLnRyYW5zaXRpb249ZyhlKXx8dm9pZCAwO30sWnIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTAscj1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXSxpPXRoaXMuZ2V0VmFsdWUobik7dm9pZCAwIT09aSYmKHRbbl09aSk7dmFyIGE9dGhpcy5nZXRUcmFuc2l0aW9uKG4pO3ZvaWQgMCE9PWEmJih0W24rXCItdHJhbnNpdGlvblwiXT1hKTt9cmV0dXJuIHR9LFpyLnByb3RvdHlwZS50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9bmV3IEhyKHRoaXMuX3Byb3BlcnRpZXMpLG49MCxpPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO3IuX3ZhbHVlc1thXT10aGlzLl92YWx1ZXNbYV0udHJhbnNpdGlvbmVkKHQsZS5fdmFsdWVzW2FdKTt9cmV0dXJuIHJ9LFpyLnByb3RvdHlwZS51bnRyYW5zaXRpb25lZD1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgSHIodGhpcy5fcHJvcGVydGllcyksZT0wLHI9T2JqZWN0LmtleXModGhpcy5fdmFsdWVzKTtlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV07dC5fdmFsdWVzW25dPXRoaXMuX3ZhbHVlc1tuXS51bnRyYW5zaXRpb25lZCgpO31yZXR1cm4gdH07dmFyIFhyPWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9ZSx0aGlzLmJlZ2luPWkrbi5kZWxheXx8MCx0aGlzLmVuZD10aGlzLmJlZ2luK24uZHVyYXRpb258fDAsdC5zcGVjaWZpY2F0aW9uLnRyYW5zaXRpb24mJihuLmRlbGF5fHxuLmR1cmF0aW9uKSYmKHRoaXMucHJpb3I9cik7fTtYci5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10Lm5vd3x8MCxyPXRoaXMudmFsdWUucG9zc2libHlFdmFsdWF0ZSh0KSxuPXRoaXMucHJpb3I7aWYobil7aWYoZT50aGlzLmVuZClyZXR1cm4gdGhpcy5wcmlvcj1udWxsLHI7aWYodGhpcy52YWx1ZS5pc0RhdGFEcml2ZW4oKSlyZXR1cm4gdGhpcy5wcmlvcj1udWxsLHI7aWYoZTx0aGlzLmJlZ2luKXJldHVybiBuLnBvc3NpYmx5RXZhbHVhdGUodCk7dmFyIGk9KGUtdGhpcy5iZWdpbikvKHRoaXMuZW5kLXRoaXMuYmVnaW4pO3JldHVybiB0aGlzLnByb3BlcnR5LmludGVycG9sYXRlKG4ucG9zc2libHlFdmFsdWF0ZSh0KSxyLGZ1bmN0aW9uKHQpe2lmKHQ8PTApcmV0dXJuIDA7aWYodD49MSlyZXR1cm4gMTt2YXIgZT10KnQscj1lKnQ7cmV0dXJuIDQqKHQ8LjU/cjozKih0LWUpK3ItLjc1KX0oaSkpfXJldHVybiByfTt2YXIgSHI9ZnVuY3Rpb24odCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcyk7fTtIci5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEtyKHRoaXMuX3Byb3BlcnRpZXMpLHI9MCxuPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7cjxuLmxlbmd0aDtyKz0xKXt2YXIgaT1uW3JdO2UuX3ZhbHVlc1tpXT10aGlzLl92YWx1ZXNbaV0ucG9zc2libHlFdmFsdWF0ZSh0KTt9cmV0dXJuIGV9LEhyLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO3Q8ZS5sZW5ndGg7dCs9MSl7dmFyIHI9ZVt0XTtpZih0aGlzLl92YWx1ZXNbcl0ucHJpb3IpcmV0dXJuICEwfXJldHVybiAhMX07dmFyIEdyPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRQcm9wZXJ0eVZhbHVlcyk7fTtHci5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIGcodGhpcy5fdmFsdWVzW3RdLnZhbHVlKX0sR3IucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzW3RdPW5ldyBScih0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHksbnVsbD09PWU/dm9pZCAwOmcoZSkpO30sR3IucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTAscj1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXSxpPXRoaXMuZ2V0VmFsdWUobik7dm9pZCAwIT09aSYmKHRbbl09aSk7fXJldHVybiB0fSxHci5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEtyKHRoaXMuX3Byb3BlcnRpZXMpLHI9MCxuPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7cjxuLmxlbmd0aDtyKz0xKXt2YXIgaT1uW3JdO2UuX3ZhbHVlc1tpXT10aGlzLl92YWx1ZXNbaV0ucG9zc2libHlFdmFsdWF0ZSh0KTt9cmV0dXJuIGV9O3ZhciBKcj1mdW5jdGlvbih0LGUscil7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9ZSx0aGlzLnBhcmFtZXRlcnM9cjt9O0pyLnByb3RvdHlwZS5pc0NvbnN0YW50PWZ1bmN0aW9uKCl7cmV0dXJuIFwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZH0sSnIucHJvdG90eXBlLmNvbnN0YW50T3I9ZnVuY3Rpb24odCl7cmV0dXJuIFwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZD90aGlzLnZhbHVlLnZhbHVlOnR9LEpyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnByb3BlcnR5LmV2YWx1YXRlKHRoaXMudmFsdWUsdGhpcy5wYXJhbWV0ZXJzLHQsZSl9O3ZhciBLcj1mdW5jdGlvbih0KXt0aGlzLl9wcm9wZXJ0aWVzPXQsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUodC5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXMpO307S3IucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdmFsdWVzW3RdfTt2YXIgWXI9ZnVuY3Rpb24odCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQ7fTtZci5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSl9LFlyLnByb3RvdHlwZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49UHRbdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiBuP24odCxlLHIpOnR9O3ZhciAkcj1mdW5jdGlvbih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9OyRyLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFwiY29uc3RhbnRcIj09PXQuZXhwcmVzc2lvbi5raW5kfHxcImNhbWVyYVwiPT09dC5leHByZXNzaW9uLmtpbmQ/bmV3IEpyKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlKX0sZSk6bmV3IEpyKHRoaXMsdC5leHByZXNzaW9uLGUpfSwkci5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCxlLHIpe2lmKFwiY29uc3RhbnRcIiE9PXQudmFsdWUua2luZHx8XCJjb25zdGFudFwiIT09ZS52YWx1ZS5raW5kKXJldHVybiB0O2lmKHZvaWQgMD09PXQudmFsdWUudmFsdWV8fHZvaWQgMD09PWUudmFsdWUudmFsdWUpcmV0dXJuIG5ldyBKcih0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTp2b2lkIDB9LHQucGFyYW1ldGVycyk7dmFyIG49UHRbdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiBuP25ldyBKcih0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTpuKHQudmFsdWUudmFsdWUsZS52YWx1ZS52YWx1ZSxyKX0sdC5wYXJhbWV0ZXJzKTp0fSwkci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIFwiY29uc3RhbnRcIj09PXQua2luZD90LnZhbHVlOnQuZXZhbHVhdGUoZSxyLG4pfTt2YXIgV3I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQudmFsdWUpcmV0dXJuIG5ldyBKcih0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTp2b2lkIDB9LGUpO2lmKFwiY29uc3RhbnRcIj09PXQuZXhwcmVzc2lvbi5raW5kKXt2YXIgcj10LmV4cHJlc3Npb24uZXZhbHVhdGUoZSksbj10aGlzLl9jYWxjdWxhdGUocixyLHIsZSk7cmV0dXJuIG5ldyBKcih0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTpufSxlKX1pZihcImNhbWVyYVwiPT09dC5leHByZXNzaW9uLmtpbmQpe3ZhciBpPXRoaXMuX2NhbGN1bGF0ZSh0LmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206ZS56b29tLTF9KSx0LmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206ZS56b29tfSksdC5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOmUuem9vbSsxfSksZSk7cmV0dXJuIG5ldyBKcih0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTppfSxlKX1yZXR1cm4gbmV3IEpyKHRoaXMsdC5leHByZXNzaW9uLGUpfSxlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscixuKXtpZihcInNvdXJjZVwiPT09dC5raW5kKXt2YXIgaT10LmV2YWx1YXRlKGUscixuKTtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlKGksaSxpLGUpfXJldHVybiBcImNvbXBvc2l0ZVwiPT09dC5raW5kP3RoaXMuX2NhbGN1bGF0ZSh0LmV2YWx1YXRlKHt6b29tOk1hdGguZmxvb3IoZS56b29tKS0xfSxyLG4pLHQuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcihlLnpvb20pfSxyLG4pLHQuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcihlLnpvb20pKzF9LHIsbiksZSk6dC52YWx1ZX0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi56b29tPm4uem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tOnQsdG86ZX06e2Zyb206cix0bzplfX0sZS5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGV9KCRyKSxRcj1mdW5jdGlvbih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9O1FyLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09dC52YWx1ZSl7aWYoXCJjb25zdGFudFwiPT09dC5leHByZXNzaW9uLmtpbmQpe3ZhciByPXQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlKTtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlKHIscixyLGUpfXJldHVybiB0aGlzLl9jYWxjdWxhdGUodC5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBxcihNYXRoLmZsb29yKGUuem9vbS0xKSxlKSksdC5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBxcihNYXRoLmZsb29yKGUuem9vbSksZSkpLHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgcXIoTWF0aC5mbG9vcihlLnpvb20rMSksZSkpLGUpfX0sUXIucHJvdG90eXBlLl9jYWxjdWxhdGU9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uem9vbT5uLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbT97ZnJvbTp0LHRvOmV9Ontmcm9tOnIsdG86ZX19LFFyLnByb3RvdHlwZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdH07dmFyIHRuPWZ1bmN0aW9uKHQpe3RoaXMuc3BlY2lmaWNhdGlvbj10O307dG4ucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gISF0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSl9LHRuLnByb3RvdHlwZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbigpe3JldHVybiAhMX07dmFyIGVuPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnByb3BlcnRpZXM9dCx0aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcz17fSx0KXt2YXIgcj10W2VdLG49dGhpcy5kZWZhdWx0UHJvcGVydHlWYWx1ZXNbZV09bmV3IFJyKHIsdm9pZCAwKSxpPXRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXNbZV09bmV3IE5yKHIpO3RoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlc1tlXT1pLnVudHJhbnNpdGlvbmVkKCksdGhpcy5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXNbZV09bi5wb3NzaWJseUV2YWx1YXRlKHt9KTt9fTtrcihcIkRhdGFEcml2ZW5Qcm9wZXJ0eVwiLCRyKSxrcihcIkRhdGFDb25zdGFudFByb3BlcnR5XCIsWXIpLGtyKFwiQ3Jvc3NGYWRlZERhdGFEcml2ZW5Qcm9wZXJ0eVwiLFdyKSxrcihcIkNyb3NzRmFkZWRQcm9wZXJ0eVwiLFFyKSxrcihcIkNvbG9yUmFtcFByb3BlcnR5XCIsdG4pO3ZhciBybj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7Zm9yKHZhciBuIGluIHQuY2FsbCh0aGlzKSx0aGlzLmlkPWUuaWQsdGhpcy5tZXRhZGF0YT1lLm1ldGFkYXRhLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5taW56b29tPWUubWluem9vbSx0aGlzLm1heHpvb209ZS5tYXh6b29tLHRoaXMudmlzaWJpbGl0eT1cInZpc2libGVcIixcImJhY2tncm91bmRcIiE9PWUudHlwZSYmKHRoaXMuc291cmNlPWUuc291cmNlLHRoaXMuc291cmNlTGF5ZXI9ZVtcInNvdXJjZS1sYXllclwiXSx0aGlzLmZpbHRlcj1lLmZpbHRlciksdGhpcy5fZmVhdHVyZUZpbHRlcj1mdW5jdGlvbigpe3JldHVybiAhMH0sci5sYXlvdXQmJih0aGlzLl91bmV2YWx1YXRlZExheW91dD1uZXcgR3Ioci5sYXlvdXQpKSx0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50PW5ldyBacihyLnBhaW50KSxlLnBhaW50KXRoaXMuc2V0UGFpbnRQcm9wZXJ0eShuLGUucGFpbnRbbl0se3ZhbGlkYXRlOiExfSk7Zm9yKHZhciBpIGluIGUubGF5b3V0KXRoaXMuc2V0TGF5b3V0UHJvcGVydHkoaSxlLmxheW91dFtpXSx7dmFsaWRhdGU6ITF9KTt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC51bnRyYW5zaXRpb25lZCgpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcm9zc2ZhZGVQYXJhbWV0ZXJzfSxlLnByb3RvdHlwZS5nZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gXCJ2aXNpYmlsaXR5XCI9PT10P3RoaXMudmlzaWJpbGl0eTp0aGlzLl91bmV2YWx1YXRlZExheW91dC5nZXRWYWx1ZSh0KX0sZS5wcm90b3R5cGUuc2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24odCxlLHIpe2lmKG51bGwhPWUpe3ZhciBuPVwibGF5ZXJzLlwiK3RoaXMuaWQrXCIubGF5b3V0LlwiK3Q7aWYodGhpcy5fdmFsaWRhdGUodnIsbix0LGUscikpcmV0dXJufVwidmlzaWJpbGl0eVwiIT09dD90aGlzLl91bmV2YWx1YXRlZExheW91dC5zZXRWYWx1ZSh0LGUpOnRoaXMudmlzaWJpbGl0eT1cIm5vbmVcIj09PWU/ZTpcInZpc2libGVcIjt9LGUucHJvdG90eXBlLmdldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24odCl7cmV0dXJuIGQodCxcIi10cmFuc2l0aW9uXCIpP3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuZ2V0VHJhbnNpdGlvbih0LnNsaWNlKDAsLVwiLXRyYW5zaXRpb25cIi5sZW5ndGgpKTp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFZhbHVlKHQpfSxlLnByb3RvdHlwZS5zZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSxyKXtpZihudWxsIT1lKXt2YXIgbj1cImxheWVycy5cIit0aGlzLmlkK1wiLnBhaW50LlwiK3Q7aWYodGhpcy5fdmFsaWRhdGUobXIsbix0LGUscikpcmV0dXJuICExfWlmKGQodCxcIi10cmFuc2l0aW9uXCIpKXJldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNldFRyYW5zaXRpb24odC5zbGljZSgwLC1cIi10cmFuc2l0aW9uXCIubGVuZ3RoKSxlfHx2b2lkIDApLCExO3ZhciBpPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1t0XSxhPVwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIj09PWkucHJvcGVydHkuc3BlY2lmaWNhdGlvbltcInByb3BlcnR5LXR5cGVcIl0mJiFpLnZhbHVlLnZhbHVlJiZlLG89dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW3RdLnZhbHVlLmlzRGF0YURyaXZlbigpO3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2V0VmFsdWUodCxlKTt2YXIgcz10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbdF0udmFsdWUuaXNEYXRhRHJpdmVuKCk7cmV0dXJuIHRoaXMuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKHQpLHN8fG98fGF9LGUucHJvdG90eXBlLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZT1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLmlzSGlkZGVuPWZ1bmN0aW9uKHQpe3JldHVybiAhISh0aGlzLm1pbnpvb20mJnQ8dGhpcy5taW56b29tKXx8KCEhKHRoaXMubWF4em9vbSYmdD49dGhpcy5tYXh6b29tKXx8XCJub25lXCI9PT10aGlzLnZpc2liaWxpdHkpfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2l0aW9ucz1mdW5jdGlvbih0KXt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC50cmFuc2l0aW9uZWQodCx0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQpO30sZS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuaGFzVHJhbnNpdGlvbigpfSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbih0KXt0LmdldENyb3NzZmFkZVBhcmFtZXRlcnMmJih0aGlzLl9jcm9zc2ZhZGVQYXJhbWV0ZXJzPXQuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpKSx0aGlzLl91bmV2YWx1YXRlZExheW91dCYmKHRoaXMubGF5b3V0PXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnBvc3NpYmx5RXZhbHVhdGUodCkpLHRoaXMucGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50LnBvc3NpYmx5RXZhbHVhdGUodCk7fSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD17aWQ6dGhpcy5pZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5zb3VyY2UsXCJzb3VyY2UtbGF5ZXJcIjp0aGlzLnNvdXJjZUxheWVyLG1ldGFkYXRhOnRoaXMubWV0YWRhdGEsbWluem9vbTp0aGlzLm1pbnpvb20sbWF4em9vbTp0aGlzLm1heHpvb20sZmlsdGVyOnRoaXMuZmlsdGVyLGxheW91dDp0aGlzLl91bmV2YWx1YXRlZExheW91dCYmdGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuc2VyaWFsaXplKCkscGFpbnQ6dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludCYmdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXJpYWxpemUoKX07cmV0dXJuIFwibm9uZVwiPT09dGhpcy52aXNpYmlsaXR5JiYodC5sYXlvdXQ9dC5sYXlvdXR8fHt9LHQubGF5b3V0LnZpc2liaWxpdHk9XCJub25lXCIpLHYodCxmdW5jdGlvbih0LGUpe3JldHVybiAhKHZvaWQgMD09PXR8fFwibGF5b3V0XCI9PT1lJiYhT2JqZWN0LmtleXModCkubGVuZ3RofHxcInBhaW50XCI9PT1lJiYhT2JqZWN0LmtleXModCkubGVuZ3RoKX0pfSxlLnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gKCFpfHwhMSE9PWkudmFsaWRhdGUpJiZncih0aGlzLHQuY2FsbCh5cix7a2V5OmUsbGF5ZXJUeXBlOnRoaXMudHlwZSxvYmplY3RLZXk6cix2YWx1ZTpuLHN0eWxlU3BlYzpMLHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfX0pKX0sZS5wcm90b3R5cGUuaGFzT2Zmc2NyZWVuUGFzcz1mdW5jdGlvbigpe3JldHVybiAhMX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5pc1N0YXRlRGVwZW5kZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMucGFpbnQuX3ZhbHVlcyl7dmFyIGU9dGhpcy5wYWludC5nZXQodCk7aWYoZSBpbnN0YW5jZW9mIEpyJiZ4ZShlLnByb3BlcnR5LnNwZWNpZmljYXRpb24pJiYoKFwic291cmNlXCI9PT1lLnZhbHVlLmtpbmR8fFwiY29tcG9zaXRlXCI9PT1lLnZhbHVlLmtpbmQpJiZlLnZhbHVlLmlzU3RhdGVEZXBlbmRlbnQpKXJldHVybiAhMH1yZXR1cm4gITF9LGV9KE8pLG5uPXtJbnQ4OkludDhBcnJheSxVaW50ODpVaW50OEFycmF5LEludDE2OkludDE2QXJyYXksVWludDE2OlVpbnQxNkFycmF5LEludDMyOkludDMyQXJyYXksVWludDMyOlVpbnQzMkFycmF5LEZsb2F0MzI6RmxvYXQzMkFycmF5fSxhbj1mdW5jdGlvbih0LGUpe3RoaXMuX3N0cnVjdEFycmF5PXQsdGhpcy5fcG9zMT1lKnRoaXMuc2l6ZSx0aGlzLl9wb3MyPXRoaXMuX3BvczEvMix0aGlzLl9wb3M0PXRoaXMuX3BvczEvNCx0aGlzLl9wb3M4PXRoaXMuX3BvczEvODt9LG9uPWZ1bmN0aW9uKCl7dGhpcy5pc1RyYW5zZmVycmVkPSExLHRoaXMuY2FwYWNpdHk9LTEsdGhpcy5yZXNpemUoMCk7fTtmdW5jdGlvbiBzbih0LGUpe3ZvaWQgMD09PWUmJihlPTEpO3ZhciByPTAsbj0wO3JldHVybiB7bWVtYmVyczp0Lm1hcChmdW5jdGlvbih0KXt2YXIgaSxhPShpPXQudHlwZSxubltpXS5CWVRFU19QRVJfRUxFTUVOVCksbz1yPXVuKHIsTWF0aC5tYXgoZSxhKSkscz10LmNvbXBvbmVudHN8fDE7cmV0dXJuIG49TWF0aC5tYXgobixhKSxyKz1hKnMse25hbWU6dC5uYW1lLHR5cGU6dC50eXBlLGNvbXBvbmVudHM6cyxvZmZzZXQ6b319KSxzaXplOnVuKHIsTWF0aC5tYXgobixlKSksYWxpZ25tZW50OmV9fWZ1bmN0aW9uIHVuKHQsZSl7cmV0dXJuIE1hdGguY2VpbCh0L2UpKmV9b24uc2VyaWFsaXplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX3RyaW0oKSxlJiYodC5pc1RyYW5zZmVycmVkPSEwLGUucHVzaCh0LmFycmF5QnVmZmVyKSkse2xlbmd0aDp0Lmxlbmd0aCxhcnJheUJ1ZmZlcjp0LmFycmF5QnVmZmVyfX0sb24uZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LmNyZWF0ZSh0aGlzLnByb3RvdHlwZSk7cmV0dXJuIGUuYXJyYXlCdWZmZXI9dC5hcnJheUJ1ZmZlcixlLmxlbmd0aD10Lmxlbmd0aCxlLmNhcGFjaXR5PXQuYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aC9lLmJ5dGVzUGVyRWxlbWVudCxlLl9yZWZyZXNoVmlld3MoKSxlfSxvbi5wcm90b3R5cGUuX3RyaW09ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aCE9PXRoaXMuY2FwYWNpdHkmJih0aGlzLmNhcGFjaXR5PXRoaXMubGVuZ3RoLHRoaXMuYXJyYXlCdWZmZXI9dGhpcy5hcnJheUJ1ZmZlci5zbGljZSgwLHRoaXMubGVuZ3RoKnRoaXMuYnl0ZXNQZXJFbGVtZW50KSx0aGlzLl9yZWZyZXNoVmlld3MoKSk7fSxvbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wO30sb24ucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt0aGlzLnJlc2VydmUodCksdGhpcy5sZW5ndGg9dDt9LG9uLnByb3RvdHlwZS5yZXNlcnZlPWZ1bmN0aW9uKHQpe2lmKHQ+dGhpcy5jYXBhY2l0eSl7dGhpcy5jYXBhY2l0eT1NYXRoLm1heCh0LE1hdGguZmxvb3IoNSp0aGlzLmNhcGFjaXR5KSwxMjgpLHRoaXMuYXJyYXlCdWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuY2FwYWNpdHkqdGhpcy5ieXRlc1BlckVsZW1lbnQpO3ZhciBlPXRoaXMudWludDg7dGhpcy5fcmVmcmVzaFZpZXdzKCksZSYmdGhpcy51aW50OC5zZXQoZSk7fX0sb24ucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJfcmVmcmVzaFZpZXdzKCkgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIGNvbmNyZXRlIFN0cnVjdEFycmF5IGxheW91dFwiKX07dmFyIHBuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoO3RoaXMucmVzaXplKHIrMSk7dmFyIG49MipyO3JldHVybiB0aGlzLmludDE2W24rMF09dCx0aGlzLmludDE2W24rMV09ZSxyfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj0yKnQ7cmV0dXJuIHRoaXMuaW50MTZbbiswXT1lLHRoaXMuaW50MTZbbisxXT1yLHR9LGV9KG9uKTtwbi5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsa3IoXCJTdHJ1Y3RBcnJheUxheW91dDJpNFwiLHBuKTt2YXIgbG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMubGVuZ3RoO3RoaXMucmVzaXplKGkrMSk7dmFyIGE9NCppO3JldHVybiB0aGlzLmludDE2W2ErMF09dCx0aGlzLmludDE2W2ErMV09ZSx0aGlzLmludDE2W2ErMl09cix0aGlzLmludDE2W2ErM109bixpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGE9NCp0O3JldHVybiB0aGlzLmludDE2W2ErMF09ZSx0aGlzLmludDE2W2ErMV09cix0aGlzLmludDE2W2ErMl09bix0aGlzLmludDE2W2ErM109aSx0fSxlfShvbik7bG4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LGtyKFwiU3RydWN0QXJyYXlMYXlvdXQ0aThcIixsbik7dmFyIGNuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG89dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUobysxKTt2YXIgcz02Km87cmV0dXJuIHRoaXMuaW50MTZbcyswXT10LHRoaXMuaW50MTZbcysxXT1lLHRoaXMuaW50MTZbcysyXT1yLHRoaXMuaW50MTZbcyszXT1uLHRoaXMuaW50MTZbcys0XT1pLHRoaXMuaW50MTZbcys1XT1hLG99LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dmFyIHM9Nip0O3JldHVybiB0aGlzLmludDE2W3MrMF09ZSx0aGlzLmludDE2W3MrMV09cix0aGlzLmludDE2W3MrMl09bix0aGlzLmludDE2W3MrM109aSx0aGlzLmludDE2W3MrNF09YSx0aGlzLmludDE2W3MrNV09byx0fSxlfShvbik7Y24ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixrcihcIlN0cnVjdEFycmF5TGF5b3V0Mmk0aTEyXCIsY24pO3ZhciBobj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzKXt2YXIgdT10aGlzLmxlbmd0aDt0aGlzLnJlc2l6ZSh1KzEpO3ZhciBwPTYqdSxsPTEyKnU7cmV0dXJuIHRoaXMuaW50MTZbcCswXT10LHRoaXMuaW50MTZbcCsxXT1lLHRoaXMuaW50MTZbcCsyXT1yLHRoaXMuaW50MTZbcCszXT1uLHRoaXMudWludDhbbCs4XT1pLHRoaXMudWludDhbbCs5XT1hLHRoaXMudWludDhbbCsxMF09byx0aGlzLnVpbnQ4W2wrMTFdPXMsdX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSl7dmFyIHA9Nip0LGw9MTIqdDtyZXR1cm4gdGhpcy5pbnQxNltwKzBdPWUsdGhpcy5pbnQxNltwKzFdPXIsdGhpcy5pbnQxNltwKzJdPW4sdGhpcy5pbnQxNltwKzNdPWksdGhpcy51aW50OFtsKzhdPWEsdGhpcy51aW50OFtsKzldPW8sdGhpcy51aW50OFtsKzEwXT1zLHRoaXMudWludDhbbCsxMV09dSx0fSxlfShvbik7aG4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixrcihcIlN0cnVjdEFycmF5TGF5b3V0NGk0dWIxMlwiLGhuKTt2YXIgZm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzKXt2YXIgdT10aGlzLmxlbmd0aDt0aGlzLnJlc2l6ZSh1KzEpO3ZhciBwPTgqdTtyZXR1cm4gdGhpcy51aW50MTZbcCswXT10LHRoaXMudWludDE2W3ArMV09ZSx0aGlzLnVpbnQxNltwKzJdPXIsdGhpcy51aW50MTZbcCszXT1uLHRoaXMudWludDE2W3ArNF09aSx0aGlzLnVpbnQxNltwKzVdPWEsdGhpcy51aW50MTZbcCs2XT1vLHRoaXMudWludDE2W3ArN109cyx1fSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1KXt2YXIgcD04KnQ7cmV0dXJuIHRoaXMudWludDE2W3ArMF09ZSx0aGlzLnVpbnQxNltwKzFdPXIsdGhpcy51aW50MTZbcCsyXT1uLHRoaXMudWludDE2W3ArM109aSx0aGlzLnVpbnQxNltwKzRdPWEsdGhpcy51aW50MTZbcCs1XT1vLHRoaXMudWludDE2W3ArNl09cyx0aGlzLnVpbnQxNltwKzddPXUsdH0sZX0ob24pO2ZuLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsa3IoXCJTdHJ1Y3RBcnJheUxheW91dDh1aTE2XCIsZm4pO3ZhciB5bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7dmFyIHU9dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUodSsxKTt2YXIgcD04KnU7cmV0dXJuIHRoaXMuaW50MTZbcCswXT10LHRoaXMuaW50MTZbcCsxXT1lLHRoaXMuaW50MTZbcCsyXT1yLHRoaXMuaW50MTZbcCszXT1uLHRoaXMudWludDE2W3ArNF09aSx0aGlzLnVpbnQxNltwKzVdPWEsdGhpcy51aW50MTZbcCs2XT1vLHRoaXMudWludDE2W3ArN109cyx1fSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1KXt2YXIgcD04KnQ7cmV0dXJuIHRoaXMuaW50MTZbcCswXT1lLHRoaXMuaW50MTZbcCsxXT1yLHRoaXMuaW50MTZbcCsyXT1uLHRoaXMuaW50MTZbcCszXT1pLHRoaXMudWludDE2W3ArNF09YSx0aGlzLnVpbnQxNltwKzVdPW8sdGhpcy51aW50MTZbcCs2XT1zLHRoaXMudWludDE2W3ArN109dSx0fSxlfShvbik7eW4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixrcihcIlN0cnVjdEFycmF5TGF5b3V0NGk0dWkxNlwiLHluKTt2YXIgZG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUobisxKTt2YXIgaT0zKm47cmV0dXJuIHRoaXMuZmxvYXQzMltpKzBdPXQsdGhpcy5mbG9hdDMyW2krMV09ZSx0aGlzLmZsb2F0MzJbaSsyXT1yLG59LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Myp0O3JldHVybiB0aGlzLmZsb2F0MzJbaSswXT1lLHRoaXMuZmxvYXQzMltpKzFdPXIsdGhpcy5mbG9hdDMyW2krMl09bix0fSxlfShvbik7ZG4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixrcihcIlN0cnVjdEFycmF5TGF5b3V0M2YxMlwiLGRuKTt2YXIgbW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUoZSsxKTt2YXIgcj0xKmU7cmV0dXJuIHRoaXMudWludDMyW3IrMF09dCxlfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9MSp0O3JldHVybiB0aGlzLnVpbnQzMltyKzBdPWUsdH0sZX0ob24pO21uLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxrcihcIlN0cnVjdEFycmF5TGF5b3V0MXVsNFwiLG1uKTt2YXIgdm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUscCxsKXt2YXIgYz10aGlzLmxlbmd0aDt0aGlzLnJlc2l6ZShjKzEpO3ZhciBoPTEyKmMsZj02KmM7cmV0dXJuIHRoaXMuaW50MTZbaCswXT10LHRoaXMuaW50MTZbaCsxXT1lLHRoaXMuaW50MTZbaCsyXT1yLHRoaXMuaW50MTZbaCszXT1uLHRoaXMuaW50MTZbaCs0XT1pLHRoaXMuaW50MTZbaCs1XT1hLHRoaXMudWludDMyW2YrM109byx0aGlzLnVpbnQxNltoKzhdPXMsdGhpcy51aW50MTZbaCs5XT11LHRoaXMuaW50MTZbaCsxMF09cCx0aGlzLmludDE2W2grMTFdPWwsY30sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxwLGwsYyl7dmFyIGg9MTIqdCxmPTYqdDtyZXR1cm4gdGhpcy5pbnQxNltoKzBdPWUsdGhpcy5pbnQxNltoKzFdPXIsdGhpcy5pbnQxNltoKzJdPW4sdGhpcy5pbnQxNltoKzNdPWksdGhpcy5pbnQxNltoKzRdPWEsdGhpcy5pbnQxNltoKzVdPW8sdGhpcy51aW50MzJbZiszXT1zLHRoaXMudWludDE2W2grOF09dSx0aGlzLnVpbnQxNltoKzldPXAsdGhpcy5pbnQxNltoKzEwXT1sLHRoaXMuaW50MTZbaCsxMV09Yyx0fSxlfShvbik7dm4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yNCxrcihcIlN0cnVjdEFycmF5TGF5b3V0NmkxdWwydWkyaTI0XCIsdm4pO3ZhciBnbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3ZhciBvPXRoaXMubGVuZ3RoO3RoaXMucmVzaXplKG8rMSk7dmFyIHM9NipvO3JldHVybiB0aGlzLmludDE2W3MrMF09dCx0aGlzLmludDE2W3MrMV09ZSx0aGlzLmludDE2W3MrMl09cix0aGlzLmludDE2W3MrM109bix0aGlzLmludDE2W3MrNF09aSx0aGlzLmludDE2W3MrNV09YSxvfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3ZhciBzPTYqdDtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPWUsdGhpcy5pbnQxNltzKzFdPXIsdGhpcy5pbnQxNltzKzJdPW4sdGhpcy5pbnQxNltzKzNdPWksdGhpcy5pbnQxNltzKzRdPWEsdGhpcy5pbnQxNltzKzVdPW8sdH0sZX0ob24pO2duLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsa3IoXCJTdHJ1Y3RBcnJheUxheW91dDJpMmkyaTEyXCIsZ24pO3ZhciB4bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUocisxKTt2YXIgbj00KnI7cmV0dXJuIHRoaXMudWludDhbbiswXT10LHRoaXMudWludDhbbisxXT1lLHJ9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPTQqdDtyZXR1cm4gdGhpcy51aW50OFtuKzBdPWUsdGhpcy51aW50OFtuKzFdPXIsdH0sZX0ob24pO3huLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxrcihcIlN0cnVjdEFycmF5TGF5b3V0MnViNFwiLHhuKTt2YXIgYm49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUscCxsLGMsaCxmKXt2YXIgeT10aGlzLmxlbmd0aDt0aGlzLnJlc2l6ZSh5KzEpO3ZhciBkPTIwKnksbT0xMCp5LHY9NDAqeTtyZXR1cm4gdGhpcy5pbnQxNltkKzBdPXQsdGhpcy5pbnQxNltkKzFdPWUsdGhpcy51aW50MTZbZCsyXT1yLHRoaXMudWludDE2W2QrM109bix0aGlzLnVpbnQzMlttKzJdPWksdGhpcy51aW50MzJbbSszXT1hLHRoaXMudWludDMyW20rNF09byx0aGlzLnVpbnQxNltkKzEwXT1zLHRoaXMudWludDE2W2QrMTFdPXUsdGhpcy51aW50MTZbZCsxMl09cCx0aGlzLmZsb2F0MzJbbSs3XT1sLHRoaXMuZmxvYXQzMlttKzhdPWMsdGhpcy51aW50OFt2KzM2XT1oLHRoaXMudWludDhbdiszN109Zix5fSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LHAsbCxjLGgsZix5KXt2YXIgZD0yMCp0LG09MTAqdCx2PTQwKnQ7cmV0dXJuIHRoaXMuaW50MTZbZCswXT1lLHRoaXMuaW50MTZbZCsxXT1yLHRoaXMudWludDE2W2QrMl09bix0aGlzLnVpbnQxNltkKzNdPWksdGhpcy51aW50MzJbbSsyXT1hLHRoaXMudWludDMyW20rM109byx0aGlzLnVpbnQzMlttKzRdPXMsdGhpcy51aW50MTZbZCsxMF09dSx0aGlzLnVpbnQxNltkKzExXT1wLHRoaXMudWludDE2W2QrMTJdPWwsdGhpcy5mbG9hdDMyW20rN109Yyx0aGlzLmZsb2F0MzJbbSs4XT1oLHRoaXMudWludDhbdiszNl09Zix0aGlzLnVpbnQ4W3YrMzddPXksdH0sZX0ob24pO2JuLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NDAsa3IoXCJTdHJ1Y3RBcnJheUxheW91dDJpMnVpM3VsM3VpMmYydWI0MFwiLGJuKTt2YXIgX249ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUscCxsLGMsaCxmKXt2YXIgeT10aGlzLmxlbmd0aDt0aGlzLnJlc2l6ZSh5KzEpO3ZhciBkPTE2KnksbT04Knk7cmV0dXJuIHRoaXMuaW50MTZbZCswXT10LHRoaXMuaW50MTZbZCsxXT1lLHRoaXMuaW50MTZbZCsyXT1yLHRoaXMuaW50MTZbZCszXT1uLHRoaXMudWludDE2W2QrNF09aSx0aGlzLnVpbnQxNltkKzVdPWEsdGhpcy51aW50MTZbZCs2XT1vLHRoaXMudWludDE2W2QrN109cyx0aGlzLnVpbnQxNltkKzhdPXUsdGhpcy51aW50MTZbZCs5XT1wLHRoaXMudWludDE2W2QrMTBdPWwsdGhpcy51aW50MTZbZCsxMV09Yyx0aGlzLnVpbnQxNltkKzEyXT1oLHRoaXMudWludDMyW20rN109Zix5fSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LHAsbCxjLGgsZix5KXt2YXIgZD0xNip0LG09OCp0O3JldHVybiB0aGlzLmludDE2W2QrMF09ZSx0aGlzLmludDE2W2QrMV09cix0aGlzLmludDE2W2QrMl09bix0aGlzLmludDE2W2QrM109aSx0aGlzLnVpbnQxNltkKzRdPWEsdGhpcy51aW50MTZbZCs1XT1vLHRoaXMudWludDE2W2QrNl09cyx0aGlzLnVpbnQxNltkKzddPXUsdGhpcy51aW50MTZbZCs4XT1wLHRoaXMudWludDE2W2QrOV09bCx0aGlzLnVpbnQxNltkKzEwXT1jLHRoaXMudWludDE2W2QrMTFdPWgsdGhpcy51aW50MTZbZCsxMl09Zix0aGlzLnVpbnQzMlttKzddPXksdH0sZX0ob24pO19uLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MzIsa3IoXCJTdHJ1Y3RBcnJheUxheW91dDRpOXVpMXVsMzJcIixfbik7dmFyIHduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUoZSsxKTt2YXIgcj0xKmU7cmV0dXJuIHRoaXMuZmxvYXQzMltyKzBdPXQsZX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUpe3ZhciByPTEqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW3IrMF09ZSx0fSxlfShvbik7d24ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LGtyKFwiU3RydWN0QXJyYXlMYXlvdXQxZjRcIix3bik7dmFyIEFuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUobisxKTt2YXIgaT0zKm47cmV0dXJuIHRoaXMuaW50MTZbaSswXT10LHRoaXMuaW50MTZbaSsxXT1lLHRoaXMuaW50MTZbaSsyXT1yLG59LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Myp0O3JldHVybiB0aGlzLmludDE2W2krMF09ZSx0aGlzLmludDE2W2krMV09cix0aGlzLmludDE2W2krMl09bix0fSxlfShvbik7QW4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LGtyKFwiU3RydWN0QXJyYXlMYXlvdXQzaTZcIixBbik7dmFyIGtuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUobisxKTt2YXIgaT0yKm4sYT00Km47cmV0dXJuIHRoaXMudWludDMyW2krMF09dCx0aGlzLnVpbnQxNlthKzJdPWUsdGhpcy51aW50MTZbYSszXT1yLG59LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Mip0LGE9NCp0O3JldHVybiB0aGlzLnVpbnQzMltpKzBdPWUsdGhpcy51aW50MTZbYSsyXT1yLHRoaXMudWludDE2W2ErM109bix0fSxlfShvbik7a24ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LGtyKFwiU3RydWN0QXJyYXlMYXlvdXQxdWwydWk4XCIsa24pO3ZhciB6bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUobisxKTt2YXIgaT0zKm47cmV0dXJuIHRoaXMudWludDE2W2krMF09dCx0aGlzLnVpbnQxNltpKzFdPWUsdGhpcy51aW50MTZbaSsyXT1yLG59LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Myp0O3JldHVybiB0aGlzLnVpbnQxNltpKzBdPWUsdGhpcy51aW50MTZbaSsxXT1yLHRoaXMudWludDE2W2krMl09bix0fSxlfShvbik7em4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LGtyKFwiU3RydWN0QXJyYXlMYXlvdXQzdWk2XCIsem4pO3ZhciBTbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoO3RoaXMucmVzaXplKHIrMSk7dmFyIG49MipyO3JldHVybiB0aGlzLnVpbnQxNltuKzBdPXQsdGhpcy51aW50MTZbbisxXT1lLHJ9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPTIqdDtyZXR1cm4gdGhpcy51aW50MTZbbiswXT1lLHRoaXMudWludDE2W24rMV09cix0fSxlfShvbik7U24ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LGtyKFwiU3RydWN0QXJyYXlMYXlvdXQydWk0XCIsU24pO3ZhciBCbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxlbmd0aDt0aGlzLnJlc2l6ZShlKzEpO3ZhciByPTEqZTtyZXR1cm4gdGhpcy51aW50MTZbciswXT10LGV9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlKXt2YXIgcj0xKnQ7cmV0dXJuIHRoaXMudWludDE2W3IrMF09ZSx0fSxlfShvbik7Qm4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yLGtyKFwiU3RydWN0QXJyYXlMYXlvdXQxdWkyXCIsQm4pO3ZhciBJbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUocisxKTt2YXIgbj0yKnI7cmV0dXJuIHRoaXMuZmxvYXQzMltuKzBdPXQsdGhpcy5mbG9hdDMyW24rMV09ZSxyfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj0yKnQ7cmV0dXJuIHRoaXMuZmxvYXQzMltuKzBdPWUsdGhpcy5mbG9hdDMyW24rMV09cix0fSxlfShvbik7SW4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LGtyKFwiU3RydWN0QXJyYXlMYXlvdXQyZjhcIixJbik7dmFyIFZuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5sZW5ndGg7dGhpcy5yZXNpemUoaSsxKTt2YXIgYT00Kmk7cmV0dXJuIHRoaXMuZmxvYXQzMlthKzBdPXQsdGhpcy5mbG9hdDMyW2ErMV09ZSx0aGlzLmZsb2F0MzJbYSsyXT1yLHRoaXMuZmxvYXQzMlthKzNdPW4saX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPTQqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09ZSx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5mbG9hdDMyW2ErM109aSx0fSxlfShvbik7Vm4ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixrcihcIlN0cnVjdEFycmF5TGF5b3V0NGYxNlwiLFZuKTt2YXIgUG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgcj17YW5jaG9yUG9pbnRYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclBvaW50WTp7Y29uZmlndXJhYmxlOiEwfSx4MTp7Y29uZmlndXJhYmxlOiEwfSx5MTp7Y29uZmlndXJhYmxlOiEwfSx4Mjp7Y29uZmlndXJhYmxlOiEwfSx5Mjp7Y29uZmlndXJhYmxlOiEwfSxmZWF0dXJlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sc291cmNlTGF5ZXJJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxidWNrZXRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxyYWRpdXM6e2NvbmZpZ3VyYWJsZTohMH0sc2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yOntjb25maWd1cmFibGU6ITB9LGFuY2hvclBvaW50Ontjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gci5hbmNob3JQb2ludFguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19LHIuYW5jaG9yUG9pbnRYLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdPXQ7fSxyLmFuY2hvclBvaW50WS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci5hbmNob3JQb2ludFkuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV09dDt9LHIueDEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19LHIueDEuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl09dDt9LHIueTEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119LHIueTEuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM109dDt9LHIueDIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNF19LHIueDIuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNF09dDt9LHIueTIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNV19LHIueTIuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNV09dDt9LHIuZmVhdHVyZUluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCszXX0sci5mZWF0dXJlSW5kZXguc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzNdPXQ7fSxyLnNvdXJjZUxheWVySW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzhdfSxyLnNvdXJjZUxheWVySW5kZXguc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzhdPXQ7fSxyLmJ1Y2tldEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis5XX0sci5idWNrZXRJbmRleC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOV09dDt9LHIucmFkaXVzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEwXX0sci5yYWRpdXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTBdPXQ7fSxyLnNpZ25lZERpc3RhbmNlRnJvbUFuY2hvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMV19LHIuc2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzExXT10O30sci5hbmNob3JQb2ludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcy5hbmNob3JQb2ludFgsdGhpcy5hbmNob3JQb2ludFkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfShhbik7UG4ucHJvdG90eXBlLnNpemU9MjQ7dmFyIE1uPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFBuKHRoaXMsdCl9LGV9KHZuKTtrcihcIkNvbGxpc2lvbkJveEFycmF5XCIsTW4pO3ZhciBDbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciByPXthbmNob3JYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclk6e2NvbmZpZ3VyYWJsZTohMH0sZ2x5cGhTdGFydEluZGV4Ontjb25maWd1cmFibGU6ITB9LG51bUdseXBoczp7Y29uZmlndXJhYmxlOiEwfSx2ZXJ0ZXhTdGFydEluZGV4Ontjb25maWd1cmFibGU6ITB9LGxpbmVTdGFydEluZGV4Ontjb25maWd1cmFibGU6ITB9LGxpbmVMZW5ndGg6e2NvbmZpZ3VyYWJsZTohMH0sc2VnbWVudDp7Y29uZmlndXJhYmxlOiEwfSxsb3dlclNpemU6e2NvbmZpZ3VyYWJsZTohMH0sdXBwZXJTaXplOntjb25maWd1cmFibGU6ITB9LGxpbmVPZmZzZXRYOntjb25maWd1cmFibGU6ITB9LGxpbmVPZmZzZXRZOntjb25maWd1cmFibGU6ITB9LHdyaXRpbmdNb2RlOntjb25maWd1cmFibGU6ITB9LGhpZGRlbjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIHIuYW5jaG9yWC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX0sci5hbmNob3JYLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdPXQ7fSxyLmFuY2hvclkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19LHIuYW5jaG9yWS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXT10O30sci5nbHlwaFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfSxyLmdseXBoU3RhcnRJbmRleC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMl09dDt9LHIubnVtR2x5cGhzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMiszXX0sci5udW1HbHlwaHMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzNdPXQ7fSxyLnZlcnRleFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzJdfSxyLnZlcnRleFN0YXJ0SW5kZXguc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzJdPXQ7fSxyLmxpbmVTdGFydEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCszXX0sci5saW5lU3RhcnRJbmRleC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrM109dDt9LHIubGluZUxlbmd0aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNF19LHIubGluZUxlbmd0aC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNF09dDt9LHIuc2VnbWVudC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTBdfSxyLnNlZ21lbnQuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEwXT10O30sci5sb3dlclNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzExXX0sci5sb3dlclNpemUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzExXT10O30sci51cHBlclNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEyXX0sci51cHBlclNpemUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEyXT10O30sci5saW5lT2Zmc2V0WC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzddfSxyLmxpbmVPZmZzZXRYLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrN109dDt9LHIubGluZU9mZnNldFkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs4XX0sci5saW5lT2Zmc2V0WS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzhdPXQ7fSxyLndyaXRpbmdNb2RlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzM2XX0sci53cml0aW5nTW9kZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSszNl09dDt9LHIuaGlkZGVuLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzM3XX0sci5oaWRkZW4uc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErMzddPXQ7fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfShhbik7Q24ucHJvdG90eXBlLnNpemU9NDA7dmFyIFRuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENuKHRoaXMsdCl9LGV9KGJuKTtrcihcIlBsYWNlZFN5bWJvbEFycmF5XCIsVG4pO3ZhciBFbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciByPXthbmNob3JYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclk6e2NvbmZpZ3VyYWJsZTohMH0saG9yaXpvbnRhbFBsYWNlZFRleHRTeW1ib2xJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxrZXk6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dEJveFN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dEJveEVuZEluZGV4Ontjb25maWd1cmFibGU6ITB9LGljb25Cb3hTdGFydEluZGV4Ontjb25maWd1cmFibGU6ITB9LGljb25Cb3hFbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxmZWF0dXJlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbnVtR2x5cGhWZXJ0aWNlczp7Y29uZmlndXJhYmxlOiEwfSxudW1WZXJ0aWNhbEdseXBoVmVydGljZXM6e2NvbmZpZ3VyYWJsZTohMH0sbnVtSWNvblZlcnRpY2VzOntjb25maWd1cmFibGU6ITB9LGNyb3NzVGlsZUlEOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gci5hbmNob3JYLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfSxyLmFuY2hvclguc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF09dDt9LHIuYW5jaG9yWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci5hbmNob3JZLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdPXQ7fSxyLmhvcml6b250YWxQbGFjZWRUZXh0U3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19LHIuaG9yaXpvbnRhbFBsYWNlZFRleHRTeW1ib2xJbmRleC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXT10O30sci52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiszXX0sci52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiszXT10O30sci5rZXkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzRdfSxyLmtleS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrNF09dDt9LHIudGV4dEJveFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzVdfSxyLnRleHRCb3hTdGFydEluZGV4LnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis1XT10O30sci50ZXh0Qm94RW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzZdfSxyLnRleHRCb3hFbmRJbmRleC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrNl09dDt9LHIuaWNvbkJveFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzddfSxyLmljb25Cb3hTdGFydEluZGV4LnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis3XT10O30sci5pY29uQm94RW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzhdfSxyLmljb25Cb3hFbmRJbmRleC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOF09dDt9LHIuZmVhdHVyZUluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis5XX0sci5mZWF0dXJlSW5kZXguc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzldPXQ7fSxyLm51bUdseXBoVmVydGljZXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEwXX0sci5udW1HbHlwaFZlcnRpY2VzLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMF09dDt9LHIubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMV19LHIubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMV09dDt9LHIubnVtSWNvblZlcnRpY2VzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMl19LHIubnVtSWNvblZlcnRpY2VzLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMl09dDt9LHIuY3Jvc3NUaWxlSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzddfSxyLmNyb3NzVGlsZUlELnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs3XT10O30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsciksZX0oYW4pO0VuLnByb3RvdHlwZS5zaXplPTMyO3ZhciBGbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBFbih0aGlzLHQpfSxlfShfbik7a3IoXCJTeW1ib2xJbnN0YW5jZUFycmF5XCIsRm4pO3ZhciBPbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciByPXtvZmZzZXRYOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gci5vZmZzZXRYLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMF19LHIub2Zmc2V0WC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzBdPXQ7fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfShhbik7T24ucHJvdG90eXBlLnNpemU9NDt2YXIgTG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0b2Zmc2V0WD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqdCswXX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgT24odGhpcyx0KX0sZX0od24pO2tyKFwiR2x5cGhPZmZzZXRBcnJheVwiLExuKTt2YXIgRG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgcj17eDp7Y29uZmlndXJhYmxlOiEwfSx5Ontjb25maWd1cmFibGU6ITB9LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gci54LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfSxyLnguc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF09dDt9LHIueS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci55LnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdPXQ7fSxyLnRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfSxyLnRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdPXQ7fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfShhbik7RG4ucHJvdG90eXBlLnNpemU9Njt2YXIgam49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0eD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnQxNlszKnQrMF19LGUucHJvdG90eXBlLmdldHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW50MTZbMyp0KzFdfSxlLnByb3RvdHlwZS5nZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnQxNlszKnQrMl19LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IERuKHRoaXMsdCl9LGV9KEFuKTtrcihcIlN5bWJvbExpbmVWZXJ0ZXhBcnJheVwiLGpuKTt2YXIgVW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO310JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgcj17ZmVhdHVyZUluZGV4Ontjb25maWd1cmFibGU6ITB9LHNvdXJjZUxheWVySW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sYnVja2V0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmZlYXR1cmVJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMF19LHIuZmVhdHVyZUluZGV4LnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCswXT10O30sci5zb3VyY2VMYXllckluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyXX0sci5zb3VyY2VMYXllckluZGV4LnNldD1mdW5jdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyXT10O30sci5idWNrZXRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrM119LHIuYnVja2V0SW5kZXguc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzNdPXQ7fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfShhbik7VW4ucHJvdG90eXBlLnNpemU9ODt2YXIgcW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVW4odGhpcyx0KX0sZX0oa24pO2tyKFwiRmVhdHVyZUluZGV4QXJyYXlcIixxbik7dmFyIFJuPXNuKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCksTm49Um4ubWVtYmVycyxabj0oUm4uc2l6ZSxSbi5hbGlnbm1lbnQsZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9W10pLHRoaXMuc2VnbWVudHM9dDt9KTtabi5wcm90b3R5cGUucHJlcGFyZVNlZ21lbnQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMuc2VnbWVudHNbdGhpcy5zZWdtZW50cy5sZW5ndGgtMV07cmV0dXJuIHQ+Wm4uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJmIoXCJNYXggdmVydGljZXMgcGVyIHNlZ21lbnQgaXMgXCIrWm4uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgrXCI6IGJ1Y2tldCByZXF1ZXN0ZWQgXCIrdCksKCFufHxuLnZlcnRleExlbmd0aCt0PlpuLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIKSYmKG49e3ZlcnRleE9mZnNldDplLmxlbmd0aCxwcmltaXRpdmVPZmZzZXQ6ci5sZW5ndGgsdmVydGV4TGVuZ3RoOjAscHJpbWl0aXZlTGVuZ3RoOjB9LHRoaXMuc2VnbWVudHMucHVzaChuKSksbn0sWm4ucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlZ21lbnRzfSxabi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5zZWdtZW50czt0PGUubGVuZ3RoO3QrPTEpe3ZhciByPWVbdF07Zm9yKHZhciBuIGluIHIudmFvcylyLnZhb3Nbbl0uZGVzdHJveSgpO319LFpuLnNpbXBsZVNlZ21lbnQ9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG5ldyBabihbe3ZlcnRleE9mZnNldDp0LHByaW1pdGl2ZU9mZnNldDplLHZlcnRleExlbmd0aDpyLHByaW1pdGl2ZUxlbmd0aDpuLHZhb3M6e319XSl9LFpuLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIPU1hdGgucG93KDIsMTYpLTEsa3IoXCJTZWdtZW50VmVjdG9yXCIsWm4pO3ZhciBYbj1mdW5jdGlvbih0LGUpe3JldHVybiAyNTYqKHQ9bChNYXRoLmZsb29yKHQpLDAsMjU1KSkrKGU9bChNYXRoLmZsb29yKGUpLDAsMjU1KSl9LEhuPWZ1bmN0aW9uKCl7dGhpcy5pZHM9W10sdGhpcy5wb3NpdGlvbnM9W10sdGhpcy5pbmRleGVkPSExO307ZnVuY3Rpb24gR24odCxlLHIpe3ZhciBuPXRbZV07dFtlXT10W3JdLHRbcl09bjt9SG4ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUscixuKXt0aGlzLmlkcy5wdXNoKHQpLHRoaXMucG9zaXRpb25zLnB1c2goZSxyLG4pO30sSG4ucHJvdG90eXBlLmdldFBvc2l0aW9ucz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuaWRzLmxlbmd0aC0xO2U8cjspe3ZhciBuPWUrcj4+MTt0aGlzLmlkc1tuXT49dD9yPW46ZT1uKzE7fWZvcih2YXIgaT1bXTt0aGlzLmlkc1tlXT09PXQ7KXt2YXIgYT10aGlzLnBvc2l0aW9uc1szKmVdLG89dGhpcy5wb3NpdGlvbnNbMyplKzFdLHM9dGhpcy5wb3NpdGlvbnNbMyplKzJdO2kucHVzaCh7aW5kZXg6YSxzdGFydDpvLGVuZDpzfSksZSsrO31yZXR1cm4gaX0sSG4uc2VyaWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IEZsb2F0NjRBcnJheSh0Lmlkcyksbj1uZXcgVWludDMyQXJyYXkodC5wb3NpdGlvbnMpO3JldHVybiBmdW5jdGlvbiB0KGUscixuLGkpe2lmKG4+PWkpcmV0dXJuO3ZhciBhPWVbbitpPj4xXTt2YXIgbz1uLTE7dmFyIHM9aSsxO2Zvcig7Oyl7ZG97bysrO313aGlsZShlW29dPGEpO2Rve3MtLTt9d2hpbGUoZVtzXT5hKTtpZihvPj1zKWJyZWFrO0duKGUsbyxzKSxHbihyLDMqbywzKnMpLEduKHIsMypvKzEsMypzKzEpLEduKHIsMypvKzIsMypzKzIpO310KGUscixuLHMpO3QoZSxyLHMrMSxpKTt9KHIsbiwwLHIubGVuZ3RoLTEpLGUucHVzaChyLmJ1ZmZlcixuLmJ1ZmZlcikse2lkczpyLHBvc2l0aW9uczpufX0sSG4uZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEhuO3JldHVybiBlLmlkcz10LmlkcyxlLnBvc2l0aW9ucz10LnBvc2l0aW9ucyxlLmluZGV4ZWQ9ITAsZX0sa3IoXCJGZWF0dXJlUG9zaXRpb25NYXBcIixIbik7dmFyIEpuPWZ1bmN0aW9uKHQsZSl7dGhpcy5nbD10LmdsLHRoaXMubG9jYXRpb249ZTt9LEtuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD0wO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudCE9PXQmJih0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm0xaSh0aGlzLmxvY2F0aW9uLHQpKTt9LGV9KEpuKSxZbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9MDt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnQhPT10JiYodGhpcy5jdXJyZW50PXQsdGhpcy5nbC51bmlmb3JtMWYodGhpcy5sb2NhdGlvbix0KSk7fSxlfShKbiksJG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3QuY2FsbCh0aGlzLGUsciksdGhpcy5jdXJyZW50PVswLDBdO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RbMF09PT10aGlzLmN1cnJlbnRbMF0mJnRbMV09PT10aGlzLmN1cnJlbnRbMV18fCh0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm0yZih0aGlzLmxvY2F0aW9uLHRbMF0sdFsxXSkpO30sZX0oSm4pLFduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuY3VycmVudD1bMCwwLDBdO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RbMF09PT10aGlzLmN1cnJlbnRbMF0mJnRbMV09PT10aGlzLmN1cnJlbnRbMV0mJnRbMl09PT10aGlzLmN1cnJlbnRbMl18fCh0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm0zZih0aGlzLmxvY2F0aW9uLHRbMF0sdFsxXSx0WzJdKSk7fSxlfShKbiksUW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3QuY2FsbCh0aGlzLGUsciksdGhpcy5jdXJyZW50PVswLDAsMCwwXTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0WzBdPT09dGhpcy5jdXJyZW50WzBdJiZ0WzFdPT09dGhpcy5jdXJyZW50WzFdJiZ0WzJdPT09dGhpcy5jdXJyZW50WzJdJiZ0WzNdPT09dGhpcy5jdXJyZW50WzNdfHwodGhpcy5jdXJyZW50PXQsdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbix0WzBdLHRbMV0sdFsyXSx0WzNdKSk7fSxlfShKbiksdGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3QuY2FsbCh0aGlzLGUsciksdGhpcy5jdXJyZW50PWF0LnRyYW5zcGFyZW50O31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3Qucj09PXRoaXMuY3VycmVudC5yJiZ0Lmc9PT10aGlzLmN1cnJlbnQuZyYmdC5iPT09dGhpcy5jdXJyZW50LmImJnQuYT09PXRoaXMuY3VycmVudC5hfHwodGhpcy5jdXJyZW50PXQsdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbix0LnIsdC5nLHQuYix0LmEpKTt9LGV9KEpuKSxlaT1uZXcgRmxvYXQzMkFycmF5KDE2KSxyaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9ZWk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodFsxMl0hPT10aGlzLmN1cnJlbnRbMTJdfHx0WzBdIT09dGhpcy5jdXJyZW50WzBdKXJldHVybiB0aGlzLmN1cnJlbnQ9dCx2b2lkIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLHQpO2Zvcih2YXIgZT0xO2U8MTY7ZSsrKWlmKHRbZV0hPT10aGlzLmN1cnJlbnRbZV0pe3RoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLHQpO2JyZWFrfX0sZX0oSm4pO2Z1bmN0aW9uIG5pKHQpe3JldHVybiBbWG4oMjU1KnQuciwyNTUqdC5nKSxYbigyNTUqdC5iLDI1NSp0LmEpXX12YXIgaWk9ZnVuY3Rpb24odCxlLHIpe3RoaXMudmFsdWU9dCx0aGlzLm5hbWVzPWUsdGhpcy51bmlmb3JtTmFtZXM9dGhpcy5uYW1lcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIFwidV9cIit0fSksdGhpcy50eXBlPXIsdGhpcy5tYXhWYWx1ZT0tMS8wO307aWkucHJvdG90eXBlLmRlZmluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIFwiI2RlZmluZSBIQVNfVU5JRk9STV91X1wiK3R9KX0saWkucHJvdG90eXBlLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucz1mdW5jdGlvbigpe30saWkucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbigpe30saWkucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24oKXt9LGlpLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24oKXt9LGlpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7fSxpaS5wcm90b3R5cGUuc2V0VW5pZm9ybXM9ZnVuY3Rpb24odCxlLHIsbil7ZS5zZXQobi5jb25zdGFudE9yKHRoaXMudmFsdWUpKTt9LGlpLnByb3RvdHlwZS5nZXRCaW5kaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFwiY29sb3JcIj09PXRoaXMudHlwZT9uZXcgdGkodCxlKTpuZXcgWW4odCxlKX0saWkuc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWUscj10Lm5hbWVzLG49dC50eXBlO3JldHVybiB7dmFsdWU6U3IoZSksbmFtZXM6cix0eXBlOm59fSxpaS5kZXNlcmlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlLHI9dC5uYW1lcyxuPXQudHlwZTtyZXR1cm4gbmV3IGlpKEJyKGUpLHIsbil9O3ZhciBhaT1mdW5jdGlvbih0LGUscil7dGhpcy52YWx1ZT10LHRoaXMubmFtZXM9ZSx0aGlzLnVuaWZvcm1OYW1lcz10aGlzLm5hbWVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gXCJ1X1wiK3R9KSx0aGlzLnR5cGU9cix0aGlzLm1heFZhbHVlPS0xLzAsdGhpcy5wYXR0ZXJuUG9zaXRpb25zPXtwYXR0ZXJuVG86bnVsbCxwYXR0ZXJuRnJvbTpudWxsfTt9O2FpLnByb3RvdHlwZS5kZWZpbmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBcIiNkZWZpbmUgSEFTX1VOSUZPUk1fdV9cIit0fSl9LGFpLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24oKXt9LGFpLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5PWZ1bmN0aW9uKCl7fSxhaS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKCl7fSxhaS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe30sYWkucHJvdG90eXBlLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucz1mdW5jdGlvbih0LGUpe3RoaXMucGF0dGVyblBvc2l0aW9ucy5wYXR0ZXJuVG89dC50bGJyLHRoaXMucGF0dGVyblBvc2l0aW9ucy5wYXR0ZXJuRnJvbT1lLnRsYnI7fSxhaS5wcm90b3R5cGUuc2V0VW5pZm9ybXM9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT10aGlzLnBhdHRlcm5Qb3NpdGlvbnM7XCJ1X3BhdHRlcm5fdG9cIj09PWkmJmEucGF0dGVyblRvJiZlLnNldChhLnBhdHRlcm5UbyksXCJ1X3BhdHRlcm5fZnJvbVwiPT09aSYmYS5wYXR0ZXJuRnJvbSYmZS5zZXQoYS5wYXR0ZXJuRnJvbSk7fSxhaS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUW4odCxlKX07dmFyIG9pPWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMubmFtZXM9ZSx0aGlzLnR5cGU9cix0aGlzLnVuaWZvcm1OYW1lcz10aGlzLm5hbWVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gXCJhX1wiK3R9KSx0aGlzLm1heFZhbHVlPS0xLzAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHtuYW1lOlwiYV9cIit0LHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1yPzI6MSxvZmZzZXQ6MH19KSx0aGlzLnBhaW50VmVydGV4QXJyYXk9bmV3IG47fTtvaS5wcm90b3R5cGUuZGVmaW5lcz1mdW5jdGlvbigpe3JldHVybiBbXX0sb2kucHJvdG90eXBlLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucz1mdW5jdGlvbigpe30sb2kucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMucGFpbnRWZXJ0ZXhBcnJheSxuPXIubGVuZ3RoO3IucmVzZXJ2ZSh0KTt2YXIgaT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IHFyKDApLGUse30pO2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSlmb3IodmFyIGE9bmkoaSksbz1uO288dDtvKyspci5lbXBsYWNlQmFjayhhWzBdLGFbMV0pO2Vsc2V7Zm9yKHZhciBzPW47czx0O3MrKylyLmVtcGxhY2VCYWNrKGkpO3RoaXMubWF4VmFsdWU9TWF0aC5tYXgodGhpcy5tYXhWYWx1ZSxpKTt9fSxvaS5wcm90b3R5cGUudXBkYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLnBhaW50VmVydGV4QXJyYXksYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206MH0scixuKTtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUpZm9yKHZhciBvPW5pKGEpLHM9dDtzPGU7cysrKWkuZW1wbGFjZShzLG9bMF0sb1sxXSk7ZWxzZXtmb3IodmFyIHU9dDt1PGU7dSsrKWkuZW1wbGFjZSh1LGEpO3RoaXMubWF4VmFsdWU9TWF0aC5tYXgodGhpcy5tYXhWYWx1ZSxhKTt9fSxvaS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9LG9pLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fSxvaS5wcm90b3R5cGUuc2V0VW5pZm9ybXM9ZnVuY3Rpb24odCxlKXtlLnNldCgwKTt9LG9pLnByb3RvdHlwZS5nZXRCaW5kaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBZbih0LGUpfTt2YXIgc2k9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMubmFtZXM9ZSx0aGlzLnVuaWZvcm1OYW1lcz10aGlzLm5hbWVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gXCJhX1wiK3QrXCJfdFwifSksdGhpcy50eXBlPXIsdGhpcy51c2VJbnRlZ2VyWm9vbT1uLHRoaXMuem9vbT1pLHRoaXMubWF4VmFsdWU9LTEvMDt2YXIgbz1hO3RoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB7bmFtZTpcImFfXCIrdCx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09cj80OjIsb2Zmc2V0OjB9fSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBvO307c2kucHJvdG90eXBlLmRlZmluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gW119LHNpLnByb3RvdHlwZS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnM9ZnVuY3Rpb24oKXt9LHNpLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLnBhaW50VmVydGV4QXJyYXksbj1yLmxlbmd0aDtyLnJlc2VydmUodCk7dmFyIGk9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBxcih0aGlzLnpvb20pLGUse30pLGE9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBxcih0aGlzLnpvb20rMSksZSx7fSk7aWYoXCJjb2xvclwiPT09dGhpcy50eXBlKWZvcih2YXIgbz1uaShpKSxzPW5pKGEpLHU9bjt1PHQ7dSsrKXIuZW1wbGFjZUJhY2sob1swXSxvWzFdLHNbMF0sc1sxXSk7ZWxzZXtmb3IodmFyIHA9bjtwPHQ7cCsrKXIuZW1wbGFjZUJhY2soaSxhKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsaSxhKTt9fSxzaS5wcm90b3R5cGUudXBkYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLnBhaW50VmVydGV4QXJyYXksYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tfSxyLG4pLG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOnRoaXMuem9vbSsxfSxyLG4pO2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSlmb3IodmFyIHM9bmkoYSksdT1uaShvKSxwPXQ7cDxlO3ArKylpLmVtcGxhY2UocCxzWzBdLHNbMV0sdVswXSx1WzFdKTtlbHNle2Zvcih2YXIgbD10O2w8ZTtsKyspaS5lbXBsYWNlKGwsYSxvKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsYSxvKTt9fSxzaS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9LHNpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fSxzaS5wcm90b3R5cGUuaW50ZXJwb2xhdGlvbkZhY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51c2VJbnRlZ2VyWm9vbT90aGlzLmV4cHJlc3Npb24uaW50ZXJwb2xhdGlvbkZhY3RvcihNYXRoLmZsb29yKHQpLHRoaXMuem9vbSx0aGlzLnpvb20rMSk6dGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3IodCx0aGlzLnpvb20sdGhpcy56b29tKzEpfSxzaS5wcm90b3R5cGUuc2V0VW5pZm9ybXM9ZnVuY3Rpb24odCxlLHIpe2Uuc2V0KHRoaXMuaW50ZXJwb2xhdGlvbkZhY3RvcihyLnpvb20pKTt9LHNpLnByb3RvdHlwZS5nZXRCaW5kaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBZbih0LGUpfTt2YXIgdWk9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dGhpcy5leHByZXNzaW9uPXQsdGhpcy5uYW1lcz1lLHRoaXMudHlwZT1yLHRoaXMudW5pZm9ybU5hbWVzPXRoaXMubmFtZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBcImFfXCIrdCtcIl90XCJ9KSx0aGlzLnVzZUludGVnZXJab29tPW4sdGhpcy56b29tPWksdGhpcy5tYXhWYWx1ZT0tMS8wLHRoaXMubGF5ZXJJZD1vLHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB7bmFtZTpcImFfXCIrdCx0eXBlOlwiVWludDE2XCIsY29tcG9uZW50czo0LG9mZnNldDowfX0pLHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheT1uZXcgYSx0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5PW5ldyBhO307dWkucHJvdG90eXBlLmRlZmluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gW119LHVpLnByb3RvdHlwZS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnM9ZnVuY3Rpb24oKXt9LHVpLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheSxpPXRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXksYT10aGlzLmxheWVySWQsbz1uLmxlbmd0aDtpZihuLnJlc2VydmUodCksaS5yZXNlcnZlKHQpLHImJmUucGF0dGVybnMmJmUucGF0dGVybnNbYV0pe3ZhciBzPWUucGF0dGVybnNbYV0sdT1zLm1pbixwPXMubWlkLGw9cy5tYXgsYz1yW3VdLGg9cltwXSxmPXJbbF07aWYoIWN8fCFofHwhZilyZXR1cm47Zm9yKHZhciB5PW87eTx0O3krKyluLmVtcGxhY2VCYWNrKGgudGxbMF0saC50bFsxXSxoLmJyWzBdLGguYnJbMV0sYy50bFswXSxjLnRsWzFdLGMuYnJbMF0sYy5iclsxXSksaS5lbXBsYWNlQmFjayhoLnRsWzBdLGgudGxbMV0saC5iclswXSxoLmJyWzFdLGYudGxbMF0sZi50bFsxXSxmLmJyWzBdLGYuYnJbMV0pO319LHVpLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5PWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGE9dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LG89dGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheSxzPXRoaXMubGF5ZXJJZDtpZihpJiZyLnBhdHRlcm5zJiZyLnBhdHRlcm5zW3NdKXt2YXIgdT1yLnBhdHRlcm5zW3NdLHA9dS5taW4sbD11Lm1pZCxjPXUubWF4LGg9aVtwXSxmPWlbbF0seT1pW2NdO2lmKCFofHwhZnx8IXkpcmV0dXJuO2Zvcih2YXIgZD10O2Q8ZTtkKyspYS5lbXBsYWNlKGQsZi50bFswXSxmLnRsWzFdLGYuYnJbMF0sZi5iclsxXSxoLnRsWzBdLGgudGxbMV0saC5iclswXSxoLmJyWzFdKSxvLmVtcGxhY2UoZCxmLnRsWzBdLGYudGxbMV0sZi5iclswXSxmLmJyWzFdLHkudGxbMF0seS50bFsxXSx5LmJyWzBdLHkuYnJbMV0pO319LHVpLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5JiZ0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJnRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkmJnRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnpvb21JblBhaW50VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCksdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCkpO30sdWkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlciYmdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuem9vbUluUGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO30sdWkucHJvdG90eXBlLnNldFVuaWZvcm1zPWZ1bmN0aW9uKHQsZSl7ZS5zZXQoMCk7fSx1aS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgWW4odCxlKX07dmFyIHBpPWZ1bmN0aW9uKCl7dGhpcy5iaW5kZXJzPXt9LHRoaXMuY2FjaGVLZXk9XCJcIix0aGlzLl9idWZmZXJzPVtdLHRoaXMuX2ZlYXR1cmVNYXA9bmV3IEhuLHRoaXMuX2J1ZmZlck9mZnNldD0wO307cGkuY3JlYXRlRHluYW1pYz1mdW5jdGlvbih0LGUscil7dmFyIG49bmV3IHBpLGk9W107Zm9yKHZhciBhIGluIHQucGFpbnQuX3ZhbHVlcylpZihyKGEpKXt2YXIgbz10LnBhaW50LmdldChhKTtpZihvIGluc3RhbmNlb2YgSnImJnhlKG8ucHJvcGVydHkuc3BlY2lmaWNhdGlvbikpe3ZhciBzPWNpKGEsdC50eXBlKSx1PW8ucHJvcGVydHkuc3BlY2lmaWNhdGlvbi50eXBlLHA9by5wcm9wZXJ0eS51c2VJbnRlZ2VyWm9vbTtpZihcImNyb3NzLWZhZGVkXCI9PT1vLnByb3BlcnR5LnNwZWNpZmljYXRpb25bXCJwcm9wZXJ0eS10eXBlXCJdfHxcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCI9PT1vLnByb3BlcnR5LnNwZWNpZmljYXRpb25bXCJwcm9wZXJ0eS10eXBlXCJdKWlmKFwiY29uc3RhbnRcIj09PW8udmFsdWUua2luZCluLmJpbmRlcnNbYV09bmV3IGFpKG8udmFsdWUudmFsdWUscyx1KSxpLnB1c2goXCIvdV9cIithKTtlbHNle3ZhciBsPWhpKGEsdSxcInNvdXJjZVwiKTtuLmJpbmRlcnNbYV09bmV3IHVpKG8udmFsdWUscyx1LHAsZSxsLHQuaWQpLGkucHVzaChcIi9hX1wiK2EpO31lbHNlIGlmKFwiY29uc3RhbnRcIj09PW8udmFsdWUua2luZCluLmJpbmRlcnNbYV09bmV3IGlpKG8udmFsdWUudmFsdWUscyx1KSxpLnB1c2goXCIvdV9cIithKTtlbHNlIGlmKFwic291cmNlXCI9PT1vLnZhbHVlLmtpbmQpe3ZhciBjPWhpKGEsdSxcInNvdXJjZVwiKTtuLmJpbmRlcnNbYV09bmV3IG9pKG8udmFsdWUscyx1LGMpLGkucHVzaChcIi9hX1wiK2EpO31lbHNle3ZhciBoPWhpKGEsdSxcImNvbXBvc2l0ZVwiKTtuLmJpbmRlcnNbYV09bmV3IHNpKG8udmFsdWUscyx1LHAsZSxoKSxpLnB1c2goXCIvel9cIithKTt9fX1yZXR1cm4gbi5jYWNoZUtleT1pLnNvcnQoKS5qb2luKFwiXCIpLG59LHBpLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXlzPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaSBpbiB0aGlzLmJpbmRlcnMpe3RoaXMuYmluZGVyc1tpXS5wb3B1bGF0ZVBhaW50QXJyYXkodCxlLG4pO312b2lkIDAhPT1lLmlkJiZ0aGlzLl9mZWF0dXJlTWFwLmFkZCgrZS5pZCxyLHRoaXMuX2J1ZmZlck9mZnNldCx0KSx0aGlzLl9idWZmZXJPZmZzZXQ9dDt9LHBpLnByb3RvdHlwZS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gdGhpcy5iaW5kZXJzKXt0aGlzLmJpbmRlcnNbcl0uc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQsZSk7fX0scGkucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXlzPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPSExO2Zvcih2YXIgYSBpbiB0KWZvcih2YXIgbz0wLHM9dGhpcy5fZmVhdHVyZU1hcC5nZXRQb3NpdGlvbnMoK2EpO288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXSxwPWUuZmVhdHVyZSh1LmluZGV4KTtmb3IodmFyIGwgaW4gdGhpcy5iaW5kZXJzKXt2YXIgYz10aGlzLmJpbmRlcnNbbF07aWYoIShjIGluc3RhbmNlb2YgaWl8fGMgaW5zdGFuY2VvZiBhaSkmJiEwPT09Yy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpe3ZhciBoPXIucGFpbnQuZ2V0KGwpO2MuZXhwcmVzc2lvbj1oLnZhbHVlLGMudXBkYXRlUGFpbnRBcnJheSh1LnN0YXJ0LHUuZW5kLHAsdFthXSxuKSxpPSEwO319fXJldHVybiBpfSxwaS5wcm90b3R5cGUuZGVmaW5lcz1mdW5jdGlvbigpe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiB0aGlzLmJpbmRlcnMpdC5wdXNoLmFwcGx5KHQsdGhpcy5iaW5kZXJzW2VdLmRlZmluZXMoKSk7cmV0dXJuIHR9LHBpLnByb3RvdHlwZS5nZXRQYWludFZlcnRleEJ1ZmZlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyc30scGkucHJvdG90eXBlLmdldFVuaWZvcm1zPWZ1bmN0aW9uKHQsZSl7dmFyIHI9e307Zm9yKHZhciBuIGluIHRoaXMuYmluZGVycylmb3IodmFyIGk9dGhpcy5iaW5kZXJzW25dLGE9MCxvPWkudW5pZm9ybU5hbWVzO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXTtyW3NdPWkuZ2V0QmluZGluZyh0LGVbc10pO31yZXR1cm4gcn0scGkucHJvdG90eXBlLnNldFVuaWZvcm1zPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaSBpbiB0aGlzLmJpbmRlcnMpZm9yKHZhciBhPXRoaXMuYmluZGVyc1tpXSxvPTAscz1hLnVuaWZvcm1OYW1lcztvPHMubGVuZ3RoO28rPTEpe3ZhciB1PXNbb107YS5zZXRVbmlmb3Jtcyh0LGVbdV0sbixyLmdldChpKSx1KTt9fSxwaS5wcm90b3R5cGUudXBkYXRlUGF0dGVyblBhaW50QnVmZmVycz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIHIgaW4gdGhpcy5iaW5kZXJzKXt2YXIgbj10aGlzLmJpbmRlcnNbcl07aWYobiBpbnN0YW5jZW9mIHVpKXt2YXIgaT0yPT09dC5mcm9tU2NhbGU/bi56b29tSW5QYWludFZlcnRleEJ1ZmZlcjpuLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlcjtpJiZlLnB1c2goaSk7fWVsc2UobiBpbnN0YW5jZW9mIG9pfHxuIGluc3RhbmNlb2Ygc2kpJiZuLnBhaW50VmVydGV4QnVmZmVyJiZlLnB1c2gobi5wYWludFZlcnRleEJ1ZmZlcik7fXRoaXMuX2J1ZmZlcnM9ZTt9LHBpLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYmluZGVycyl0aGlzLmJpbmRlcnNbZV0udXBsb2FkKHQpO3ZhciByPVtdO2Zvcih2YXIgbiBpbiB0aGlzLmJpbmRlcnMpe3ZhciBpPXRoaXMuYmluZGVyc1tuXTsoaSBpbnN0YW5jZW9mIG9pfHxpIGluc3RhbmNlb2Ygc2kpJiZpLnBhaW50VmVydGV4QnVmZmVyJiZyLnB1c2goaS5wYWludFZlcnRleEJ1ZmZlcik7fXRoaXMuX2J1ZmZlcnM9cjt9LHBpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYmluZGVycyl0aGlzLmJpbmRlcnNbdF0uZGVzdHJveSgpO307dmFyIGxpPWZ1bmN0aW9uKHQsZSxyLG4pe3ZvaWQgMD09PW4mJihuPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9e307Zm9yKHZhciBpPTAsYT1lO2k8YS5sZW5ndGg7aSs9MSl7dmFyIG89YVtpXTt0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tvLmlkXT1waS5jcmVhdGVEeW5hbWljKG8scixuKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tvLmlkXS5sYXlvdXRBdHRyaWJ1dGVzPXQ7fXRoaXMubmVlZHNVcGxvYWQ9ITE7fTtmdW5jdGlvbiBjaSh0LGUpe3JldHVybiB7XCJ0ZXh0LW9wYWNpdHlcIjpbXCJvcGFjaXR5XCJdLFwiaWNvbi1vcGFjaXR5XCI6W1wib3BhY2l0eVwiXSxcInRleHQtY29sb3JcIjpbXCJmaWxsX2NvbG9yXCJdLFwiaWNvbi1jb2xvclwiOltcImZpbGxfY29sb3JcIl0sXCJ0ZXh0LWhhbG8tY29sb3JcIjpbXCJoYWxvX2NvbG9yXCJdLFwiaWNvbi1oYWxvLWNvbG9yXCI6W1wiaGFsb19jb2xvclwiXSxcInRleHQtaGFsby1ibHVyXCI6W1wiaGFsb19ibHVyXCJdLFwiaWNvbi1oYWxvLWJsdXJcIjpbXCJoYWxvX2JsdXJcIl0sXCJ0ZXh0LWhhbG8td2lkdGhcIjpbXCJoYWxvX3dpZHRoXCJdLFwiaWNvbi1oYWxvLXdpZHRoXCI6W1wiaGFsb193aWR0aFwiXSxcImxpbmUtZ2FwLXdpZHRoXCI6W1wiZ2Fwd2lkdGhcIl0sXCJsaW5lLXBhdHRlcm5cIjpbXCJwYXR0ZXJuX3RvXCIsXCJwYXR0ZXJuX2Zyb21cIl0sXCJmaWxsLXBhdHRlcm5cIjpbXCJwYXR0ZXJuX3RvXCIsXCJwYXR0ZXJuX2Zyb21cIl0sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6W1wicGF0dGVybl90b1wiLFwicGF0dGVybl9mcm9tXCJdfVt0XXx8W3QucmVwbGFjZShlK1wiLVwiLFwiXCIpLnJlcGxhY2UoLy0vZyxcIl9cIildfWZ1bmN0aW9uIGhpKHQsZSxyKXt2YXIgbj17Y29sb3I6e3NvdXJjZTpJbixjb21wb3NpdGU6Vm59LG51bWJlcjp7c291cmNlOnduLGNvbXBvc2l0ZTpJbn19LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHtcImxpbmUtcGF0dGVyblwiOntzb3VyY2U6Zm4sY29tcG9zaXRlOmZufSxcImZpbGwtcGF0dGVyblwiOntzb3VyY2U6Zm4sY29tcG9zaXRlOmZufSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjp7c291cmNlOmZuLGNvbXBvc2l0ZTpmbn19W3RdfSh0KTtyZXR1cm4gaSYmaVtyXXx8bltlXVtyXX1saS5wcm90b3R5cGUucG9wdWxhdGVQYWludEFycmF5cz1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGkgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbaV0ucG9wdWxhdGVQYWludEFycmF5cyh0LGUscixuKTt0aGlzLm5lZWRzVXBsb2FkPSEwO30sbGkucHJvdG90eXBlLnVwZGF0ZVBhaW50QXJyYXlzPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT0wLGE9cjtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07dGhpcy5uZWVkc1VwbG9hZD10aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tvLmlkXS51cGRhdGVQYWludEFycmF5cyh0LGUsbyxuKXx8dGhpcy5uZWVkc1VwbG9hZDt9fSxsaS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1t0XX0sbGkucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXtpZih0aGlzLm5lZWRzVXBsb2FkKXtmb3IodmFyIGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0udXBsb2FkKHQpO3RoaXMubmVlZHNVcGxvYWQ9ITE7fX0sbGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0uZGVzdHJveSgpO30sa3IoXCJDb25zdGFudEJpbmRlclwiLGlpKSxrcihcIkNyb3NzRmFkZWRDb25zdGFudEJpbmRlclwiLGFpKSxrcihcIlNvdXJjZUV4cHJlc3Npb25CaW5kZXJcIixvaSksa3IoXCJDcm9zc0ZhZGVkQ29tcG9zaXRlQmluZGVyXCIsdWkpLGtyKFwiQ29tcG9zaXRlRXhwcmVzc2lvbkJpbmRlclwiLHNpKSxrcihcIlByb2dyYW1Db25maWd1cmF0aW9uXCIscGkse29taXQ6W1wiX2J1ZmZlcnNcIl19KSxrcihcIlByb2dyYW1Db25maWd1cmF0aW9uU2V0XCIsbGkpO3ZhciBmaT04MTkyO3ZhciB5aSxkaT0oeWk9MTYse21pbjotMSpNYXRoLnBvdygyLHlpLTEpLG1heDpNYXRoLnBvdygyLHlpLTEpLTF9KTtmdW5jdGlvbiBtaSh0KXtmb3IodmFyIGU9ZmkvdC5leHRlbnQscj10LmxvYWRHZW9tZXRyeSgpLG49MDtuPHIubGVuZ3RoO24rKylmb3IodmFyIGk9cltuXSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBvPWlbYV07by54PU1hdGgucm91bmQoby54KmUpLG8ueT1NYXRoLnJvdW5kKG8ueSplKSwoby54PGRpLm1pbnx8by54PmRpLm1heHx8by55PGRpLm1pbnx8by55PmRpLm1heCkmJmIoXCJHZW9tZXRyeSBleGNlZWRzIGFsbG93ZWQgZXh0ZW50LCByZWR1Y2UgeW91ciB2ZWN0b3IgdGlsZSBidWZmZXIgc2l6ZVwiKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gdmkodCxlLHIsbixpKXt0LmVtcGxhY2VCYWNrKDIqZSsobisxKS8yLDIqcisoaSsxKS8yKTt9dmFyIGdpPWZ1bmN0aW9uKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBwbix0aGlzLmluZGV4QXJyYXk9bmV3IHpuLHRoaXMuc2VnbWVudHM9bmV3IFpuLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBsaShObix0LmxheWVycyx0Lnpvb20pO307ZnVuY3Rpb24geGkodCxlLHIpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKElpKGksZSkpcmV0dXJuICEwO2lmKHppKGUsaSxyKSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIGJpKHQsZSl7aWYoMT09PXQubGVuZ3RoJiYxPT09dFswXS5sZW5ndGgpcmV0dXJuIEJpKGUsdFswXVswXSk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspZm9yKHZhciBuPWVbcl0saT0wO2k8bi5sZW5ndGg7aSsrKWlmKEJpKHQsbltpXSkpcmV0dXJuICEwO2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKXtmb3IodmFyIG89dFthXSxzPTA7czxvLmxlbmd0aDtzKyspaWYoQmkoZSxvW3NdKSlyZXR1cm4gITA7Zm9yKHZhciB1PTA7dTxlLmxlbmd0aDt1KyspaWYoQWkobyxlW3VdKSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIF9pKHQsZSxyKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylmb3IodmFyIGk9ZVtuXSxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBvPXRbYV07aWYoby5sZW5ndGg+PTMpZm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspaWYoSWkobyxpW3NdKSlyZXR1cm4gITA7aWYod2kobyxpLHIpKXJldHVybiAhMH1yZXR1cm4gITF9ZnVuY3Rpb24gd2kodCxlLHIpe2lmKHQubGVuZ3RoPjEpe2lmKEFpKHQsZSkpcmV0dXJuICEwO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKHppKGVbbl0sdCxyKSlyZXR1cm4gITB9Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoemkodFtpXSxlLHIpKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gQWkodCxlKXtpZigwPT09dC5sZW5ndGh8fDA9PT1lLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aC0xO3IrKylmb3IodmFyIG49dFtyXSxpPXRbcisxXSxhPTA7YTxlLmxlbmd0aC0xO2ErKyl7aWYoa2kobixpLGVbYV0sZVthKzFdKSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIGtpKHQsZSxyLG4pe3JldHVybiBfKHQscixuKSE9PV8oZSxyLG4pJiZfKHQsZSxyKSE9PV8odCxlLG4pfWZ1bmN0aW9uIHppKHQsZSxyKXt2YXIgbj1yKnI7aWYoMT09PWUubGVuZ3RoKXJldHVybiB0LmRpc3RTcXIoZVswXSk8bjtmb3IodmFyIGk9MTtpPGUubGVuZ3RoO2krKyl7aWYoU2kodCxlW2ktMV0sZVtpXSk8bilyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIFNpKHQsZSxyKXt2YXIgbj1lLmRpc3RTcXIocik7aWYoMD09PW4pcmV0dXJuIHQuZGlzdFNxcihlKTt2YXIgaT0oKHQueC1lLngpKihyLngtZS54KSsodC55LWUueSkqKHIueS1lLnkpKS9uO3JldHVybiBpPDA/dC5kaXN0U3FyKGUpOmk+MT90LmRpc3RTcXIocik6dC5kaXN0U3FyKHIuc3ViKGUpLl9tdWx0KGkpLl9hZGQoZSkpfWZ1bmN0aW9uIEJpKHQsZSl7Zm9yKHZhciByLG4saSxhPSExLG89MDtvPHQubGVuZ3RoO28rKylmb3IodmFyIHM9MCx1PShyPXRbb10pLmxlbmd0aC0xO3M8ci5sZW5ndGg7dT1zKyspbj1yW3NdLGk9clt1XSxuLnk+ZS55IT1pLnk+ZS55JiZlLng8KGkueC1uLngpKihlLnktbi55KS8oaS55LW4ueSkrbi54JiYoYT0hYSk7cmV0dXJuIGF9ZnVuY3Rpb24gSWkodCxlKXtmb3IodmFyIHI9ITEsbj0wLGk9dC5sZW5ndGgtMTtuPHQubGVuZ3RoO2k9bisrKXt2YXIgYT10W25dLG89dFtpXTthLnk+ZS55IT1vLnk+ZS55JiZlLng8KG8ueC1hLngpKihlLnktYS55KS8oby55LWEueSkrYS54JiYocj0hcik7fXJldHVybiByfWZ1bmN0aW9uIFZpKHQsZSxyKXt2YXIgbj1lLnBhaW50LmdldCh0KS52YWx1ZTtyZXR1cm4gXCJjb25zdGFudFwiPT09bi5raW5kP24udmFsdWU6ci5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGUuaWQpLmJpbmRlcnNbdF0ubWF4VmFsdWV9ZnVuY3Rpb24gUGkodCl7cmV0dXJuIE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKX1mdW5jdGlvbiBNaSh0LGUscixuLGkpe2lmKCFlWzBdJiYhZVsxXSlyZXR1cm4gdDt2YXIgbz1hLmNvbnZlcnQoZSk7XCJ2aWV3cG9ydFwiPT09ciYmby5fcm90YXRlKC1uKTtmb3IodmFyIHM9W10sdT0wO3U8dC5sZW5ndGg7dSsrKXtmb3IodmFyIHA9dFt1XSxsPVtdLGM9MDtjPHAubGVuZ3RoO2MrKylsLnB1c2gocFtjXS5zdWIoby5fbXVsdChpKSkpO3MucHVzaChsKTt9cmV0dXJuIHN9Z2kucHJvdG90eXBlLnBvcHVsYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsbj10O3I8bi5sZW5ndGg7cis9MSl7dmFyIGk9bltyXSxhPWkuZmVhdHVyZSxvPWkuaW5kZXgscz1pLnNvdXJjZUxheWVySW5kZXg7aWYodGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIobmV3IHFyKHRoaXMuem9vbSksYSkpe3ZhciB1PW1pKGEpO3RoaXMuYWRkRmVhdHVyZShhLHUsbyksZS5mZWF0dXJlSW5kZXguaW5zZXJ0KGEsdSxvLHMsdGhpcy5pbmRleCk7fX19LGdpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyKTt9LGdpLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH0sZ2kucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfSxnaS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LE5uKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fSxnaS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fSxnaS5wcm90b3R5cGUuYWRkRmVhdHVyZT1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuPTAsaT1lO248aS5sZW5ndGg7bis9MSlmb3IodmFyIGE9MCxvPWlbbl07YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLHU9cy54LHA9cy55O2lmKCEodTwwfHx1Pj1maXx8cDwwfHxwPj1maSkpe3ZhciBsPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksYz1sLnZlcnRleExlbmd0aDt2aSh0aGlzLmxheW91dFZlcnRleEFycmF5LHUscCwtMSwtMSksdmkodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx1LHAsMSwtMSksdmkodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx1LHAsMSwxKSx2aSh0aGlzLmxheW91dFZlcnRleEFycmF5LHUscCwtMSwxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soYyxjKzEsYysyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soYyxjKzMsYysyKSxsLnZlcnRleExlbmd0aCs9NCxsLnByaW1pdGl2ZUxlbmd0aCs9Mjt9fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLHt9KTt9LGtyKFwiQ2lyY2xlQnVja2V0XCIsZ2kse29taXQ6W1wibGF5ZXJzXCJdfSk7dmFyIENpPXtwYWludDpuZXcgZW4oe1wiY2lyY2xlLXJhZGl1c1wiOm5ldyAkcihMLnBhaW50X2NpcmNsZVtcImNpcmNsZS1yYWRpdXNcIl0pLFwiY2lyY2xlLWNvbG9yXCI6bmV3ICRyKEwucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWNvbG9yXCJdKSxcImNpcmNsZS1ibHVyXCI6bmV3ICRyKEwucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWJsdXJcIl0pLFwiY2lyY2xlLW9wYWNpdHlcIjpuZXcgJHIoTC5wYWludF9jaXJjbGVbXCJjaXJjbGUtb3BhY2l0eVwiXSksXCJjaXJjbGUtdHJhbnNsYXRlXCI6bmV3IFlyKEwucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXRyYW5zbGF0ZVwiXSksXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBZcihMLnBhaW50X2NpcmNsZVtcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImNpcmNsZS1waXRjaC1zY2FsZVwiOm5ldyBZcihMLnBhaW50X2NpcmNsZVtcImNpcmNsZS1waXRjaC1zY2FsZVwiXSksXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCI6bmV3IFlyKEwucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiXSksXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6bmV3ICRyKEwucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS13aWR0aFwiXSksXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCI6bmV3ICRyKEwucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS1jb2xvclwiXSksXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIjpuZXcgJHIoTC5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIl0pfSl9LFRpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O01hdGguUEk7ZnVuY3Rpb24gRWkoKXt2YXIgdD1uZXcgVGkoOSk7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTEsdFs1XT0wLHRbNl09MCx0WzddPTAsdFs4XT0xLHR9ZnVuY3Rpb24gRmkoKXt2YXIgdD1uZXcgVGkoMyk7cmV0dXJuIHRbMF09MCx0WzFdPTAsdFsyXT0wLHR9ZnVuY3Rpb24gT2kodCl7dmFyIGU9dFswXSxyPXRbMV0sbj10WzJdO3JldHVybiBNYXRoLnNxcnQoZSplK3IqcituKm4pfWZ1bmN0aW9uIExpKHQsZSxyKXt2YXIgbj1uZXcgVGkoMyk7cmV0dXJuIG5bMF09dCxuWzFdPWUsblsyXT1yLG59ZnVuY3Rpb24gRGkodCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sYT1yKnIrbipuK2kqaTtyZXR1cm4gYT4wJiYoYT0xL01hdGguc3FydChhKSx0WzBdPWVbMF0qYSx0WzFdPWVbMV0qYSx0WzJdPWVbMl0qYSksdH1mdW5jdGlvbiBqaSh0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdK3RbMl0qZVsyXX1mdW5jdGlvbiBVaSh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89clswXSxzPXJbMV0sdT1yWzJdO3JldHVybiB0WzBdPWkqdS1hKnMsdFsxXT1hKm8tbip1LHRbMl09bipzLWkqbyx0fXZhciBxaSxSaT1PaSxOaT0ocWk9RmkoKSxmdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG8scztmb3IoZXx8KGU9Mykscnx8KHI9MCkscz1uP01hdGgubWluKG4qZStyLHQubGVuZ3RoKTp0Lmxlbmd0aCxvPXI7bzxzO28rPWUpcWlbMF09dFtvXSxxaVsxXT10W28rMV0scWlbMl09dFtvKzJdLGkocWkscWksYSksdFtvXT1xaVswXSx0W28rMV09cWlbMV0sdFtvKzJdPXFpWzJdO3JldHVybiB0fSk7ZnVuY3Rpb24gWmkoKXt2YXIgdD1uZXcgVGkoNCk7cmV0dXJuIHRbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MCx0fWZ1bmN0aW9uIFhpKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9ZVszXSxvPXIqcituKm4raSppK2EqYTtyZXR1cm4gbz4wJiYobz0xL01hdGguc3FydChvKSx0WzBdPXIqbyx0WzFdPW4qbyx0WzJdPWkqbyx0WzNdPWEqbyksdH1mdW5jdGlvbiBIaSh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXTtyZXR1cm4gdFswXT1yWzBdKm4rcls0XSppK3JbOF0qYStyWzEyXSpvLHRbMV09clsxXSpuK3JbNV0qaStyWzldKmErclsxM10qbyx0WzJdPXJbMl0qbityWzZdKmkrclsxMF0qYStyWzE0XSpvLHRbM109clszXSpuK3JbN10qaStyWzExXSphK3JbMTVdKm8sdH12YXIgR2k9ZnVuY3Rpb24oKXt2YXIgdD1aaSgpO3JldHVybiBmdW5jdGlvbihlLHIsbixpLGEsbyl7dmFyIHMsdTtmb3Iocnx8KHI9NCksbnx8KG49MCksdT1pP01hdGgubWluKGkqcituLGUubGVuZ3RoKTplLmxlbmd0aCxzPW47czx1O3MrPXIpdFswXT1lW3NdLHRbMV09ZVtzKzFdLHRbMl09ZVtzKzJdLHRbM109ZVtzKzNdLGEodCx0LG8pLGVbc109dFswXSxlW3MrMV09dFsxXSxlW3MrMl09dFsyXSxlW3MrM109dFszXTtyZXR1cm4gZX19KCk7ZnVuY3Rpb24gSmkoKXt2YXIgdD1uZXcgVGkoNCk7cmV0dXJuIHRbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MSx0fWZ1bmN0aW9uIEtpKHQsZSxyLG4pe3ZhciBpLGEsbyxzLHUscD1lWzBdLGw9ZVsxXSxjPWVbMl0saD1lWzNdLGY9clswXSx5PXJbMV0sZD1yWzJdLG09clszXTtyZXR1cm4gKGE9cCpmK2wqeStjKmQraCptKTwwJiYoYT0tYSxmPS1mLHk9LXksZD0tZCxtPS1tKSwxLWE+MWUtNj8oaT1NYXRoLmFjb3MoYSksbz1NYXRoLnNpbihpKSxzPU1hdGguc2luKCgxLW4pKmkpL28sdT1NYXRoLnNpbihuKmkpL28pOihzPTEtbix1PW4pLHRbMF09cypwK3UqZix0WzFdPXMqbCt1KnksdFsyXT1zKmMrdSpkLHRbM109cypoK3UqbSx0fXZhciBZaSwkaSxXaSxRaSx0YSxlYSxyYT1YaTtZaT1GaSgpLCRpPUxpKDEsMCwwKSxXaT1MaSgwLDEsMCksUWk9SmkoKSx0YT1KaSgpLGVhPUVpKCk7IWZ1bmN0aW9uKCl7dmFyIHQsZT0oKHQ9bmV3IFRpKDIpKVswXT0wLHRbMV09MCx0KTt9KCk7dmFyIG5hPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxDaSk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBnaSh0KX0sZS5wcm90b3R5cGUucXVlcnlSYWRpdXM9ZnVuY3Rpb24odCl7dmFyIGU9dDtyZXR1cm4gVmkoXCJjaXJjbGUtcmFkaXVzXCIsdGhpcyxlKStWaShcImNpcmNsZS1zdHJva2Utd2lkdGhcIix0aGlzLGUpK1BpKHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSl9LGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmU9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzKXtmb3IodmFyIHU9TWkodCx0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiKSxhLmFuZ2xlLG8pLHA9dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcmFkaXVzXCIpLmV2YWx1YXRlKGUscikrdGhpcy5wYWludC5nZXQoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIpLmV2YWx1YXRlKGUsciksbD1cIm1hcFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCIpLGM9bD91OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpYSh0LGUscil9KX0pfSh1LHMsYSksaD1sP3AqbzpwLGY9MCx5PW47Zjx5Lmxlbmd0aDtmKz0xKWZvcih2YXIgZD0wLG09eVtmXTtkPG0ubGVuZ3RoO2QrPTEpe3ZhciB2PW1bZF0sZz1sP3Y6aWEodixzLGEpLHg9aCxiPUhpKFtdLFt2Lngsdi55LDAsMV0scyk7aWYoXCJ2aWV3cG9ydFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIikmJlwibWFwXCI9PT10aGlzLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIik/eCo9YlszXS9hLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6XCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLXNjYWxlXCIpJiZcInZpZXdwb3J0XCI9PT10aGlzLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIikmJih4Kj1hLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvYlszXSkseGkoYyxnLHgpKXJldHVybiAhMH1yZXR1cm4gITF9LGV9KHJuKTtmdW5jdGlvbiBpYSh0LGUscil7dmFyIG49SGkoW10sW3QueCx0LnksMCwxXSxlKTtyZXR1cm4gbmV3IGEoKG5bMF0vblszXSsxKSpyLndpZHRoKi41LChuWzFdL25bM10rMSkqci5oZWlnaHQqLjUpfXZhciBhYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlfShnaSk7ZnVuY3Rpb24gb2EodCxlLHIsbil7dmFyIGk9ZS53aWR0aCxhPWUuaGVpZ2h0O2lmKG4pe2lmKG4ubGVuZ3RoIT09aSphKnIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJtaXNtYXRjaGVkIGltYWdlIHNpemVcIil9ZWxzZSBuPW5ldyBVaW50OEFycmF5KGkqYSpyKTtyZXR1cm4gdC53aWR0aD1pLHQuaGVpZ2h0PWEsdC5kYXRhPW4sdH1mdW5jdGlvbiBzYSh0LGUscil7dmFyIG49ZS53aWR0aCxpPWUuaGVpZ2h0O2lmKG4hPT10LndpZHRofHxpIT09dC5oZWlnaHQpe3ZhciBhPW9hKHt9LHt3aWR0aDpuLGhlaWdodDppfSxyKTt1YSh0LGEse3g6MCx5OjB9LHt4OjAseTowfSx7d2lkdGg6TWF0aC5taW4odC53aWR0aCxuKSxoZWlnaHQ6TWF0aC5taW4odC5oZWlnaHQsaSl9LHIpLHQud2lkdGg9bix0LmhlaWdodD1pLHQuZGF0YT1hLmRhdGE7fX1mdW5jdGlvbiB1YSh0LGUscixuLGksYSl7aWYoMD09PWkud2lkdGh8fDA9PT1pLmhlaWdodClyZXR1cm4gZTtpZihpLndpZHRoPnQud2lkdGh8fGkuaGVpZ2h0PnQuaGVpZ2h0fHxyLng+dC53aWR0aC1pLndpZHRofHxyLnk+dC5oZWlnaHQtaS5oZWlnaHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2Ugc291cmNlIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5XCIpO2lmKGkud2lkdGg+ZS53aWR0aHx8aS5oZWlnaHQ+ZS5oZWlnaHR8fG4ueD5lLndpZHRoLWkud2lkdGh8fG4ueT5lLmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBkZXN0aW5hdGlvbiBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weVwiKTtmb3IodmFyIG89dC5kYXRhLHM9ZS5kYXRhLHU9MDt1PGkuaGVpZ2h0O3UrKylmb3IodmFyIHA9KChyLnkrdSkqdC53aWR0aCtyLngpKmEsbD0oKG4ueSt1KSplLndpZHRoK24ueCkqYSxjPTA7YzxpLndpZHRoKmE7YysrKXNbbCtjXT1vW3ArY107cmV0dXJuIGV9a3IoXCJIZWF0bWFwQnVja2V0XCIsYWEse29taXQ6W1wibGF5ZXJzXCJdfSk7dmFyIHBhPWZ1bmN0aW9uKHQsZSl7b2EodGhpcyx0LDEsZSk7fTtwYS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3NhKHRoaXMsdCwxKTt9LHBhLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgcGEoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX0scGEuY29weT1mdW5jdGlvbih0LGUscixuLGkpe3VhKHQsZSxyLG4saSwxKTt9O3ZhciBsYT1mdW5jdGlvbih0LGUpe29hKHRoaXMsdCw0LGUpO307bGEucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXtzYSh0aGlzLHQsNCk7fSxsYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGxhKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhKSl9LGxhLmNvcHk9ZnVuY3Rpb24odCxlLHIsbixpKXt1YSh0LGUscixuLGksNCk7fSxrcihcIkFscGhhSW1hZ2VcIixwYSksa3IoXCJSR0JBSW1hZ2VcIixsYSk7dmFyIGNhPXtwYWludDpuZXcgZW4oe1wiaGVhdG1hcC1yYWRpdXNcIjpuZXcgJHIoTC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1yYWRpdXNcIl0pLFwiaGVhdG1hcC13ZWlnaHRcIjpuZXcgJHIoTC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC13ZWlnaHRcIl0pLFwiaGVhdG1hcC1pbnRlbnNpdHlcIjpuZXcgWXIoTC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1pbnRlbnNpdHlcIl0pLFwiaGVhdG1hcC1jb2xvclwiOm5ldyB0bihMLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLWNvbG9yXCJdKSxcImhlYXRtYXAtb3BhY2l0eVwiOm5ldyBZcihMLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLW9wYWNpdHlcIl0pfSl9O2Z1bmN0aW9uIGhhKHQsZSl7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KDEwMjQpLG49e30saT0wLGE9MDtpPDI1NjtpKyssYSs9NCl7bltlXT1pLzI1NTt2YXIgbz10LmV2YWx1YXRlKG4pO3JbYSswXT1NYXRoLmZsb29yKDI1NSpvLnIvby5hKSxyW2ErMV09TWF0aC5mbG9vcigyNTUqby5nL28uYSksclthKzJdPU1hdGguZmxvb3IoMjU1Km8uYi9vLmEpLHJbYSszXT1NYXRoLmZsb29yKDI1NSpvLmEpO31yZXR1cm4gbmV3IGxhKHt3aWR0aDoyNTYsaGVpZ2h0OjF9LHIpfXZhciBmYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsY2EpLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYWEodCl9LGUucHJvdG90eXBlLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZT1mdW5jdGlvbih0KXtcImhlYXRtYXAtY29sb3JcIj09PXQmJnRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO30sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbG9yUmFtcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImhlYXRtYXAtY29sb3JcIl0udmFsdWUuZXhwcmVzc2lvbjt0aGlzLmNvbG9yUmFtcD1oYSh0LFwiaGVhdG1hcERlbnNpdHlcIiksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGw7fSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmhlYXRtYXBGYm8mJih0aGlzLmhlYXRtYXBGYm8uZGVzdHJveSgpLHRoaXMuaGVhdG1hcEZibz1udWxsKTt9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX0sZX0ocm4pLHlhPXtwYWludDpuZXcgZW4oe1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIjpuZXcgWXIoTC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiXSksXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOm5ldyBZcihMLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCJdKSxcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIjpuZXcgWXIoTC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCJdKSxcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIjpuZXcgWXIoTC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCJdKSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjpuZXcgWXIoTC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCJdKSxcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIjpuZXcgWXIoTC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCJdKX0pfSxkYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUseWEpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuaGFzT2Zmc2NyZWVuUGFzcz1mdW5jdGlvbigpe3JldHVybiAwIT09dGhpcy5wYWludC5nZXQoXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX0sZX0ocm4pLG1hPXNuKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCksdmE9bWEubWVtYmVycyxnYT0obWEuc2l6ZSxtYS5hbGlnbm1lbnQsYmEpLHhhPWJhO2Z1bmN0aW9uIGJhKHQsZSxyKXtyPXJ8fDI7dmFyIG4saSxhLG8scyx1LHAsbD1lJiZlLmxlbmd0aCxjPWw/ZVswXSpyOnQubGVuZ3RoLGg9X2EodCwwLGMsciwhMCksZj1bXTtpZighaClyZXR1cm4gZjtpZihsJiYoaD1mdW5jdGlvbih0LGUscixuKXt2YXIgaSxhLG8scyx1LHA9W107Zm9yKGk9MCxhPWUubGVuZ3RoO2k8YTtpKyspbz1lW2ldKm4scz1pPGEtMT9lW2krMV0qbjp0Lmxlbmd0aCwodT1fYSh0LG8scyxuLCExKSk9PT11Lm5leHQmJih1LnN0ZWluZXI9ITApLHAucHVzaChNYSh1KSk7Zm9yKHAuc29ydChJYSksaT0wO2k8cC5sZW5ndGg7aSsrKVZhKHBbaV0scikscj13YShyLHIubmV4dCk7cmV0dXJuIHJ9KHQsZSxoLHIpKSx0Lmxlbmd0aD44MCpyKXtuPWE9dFswXSxpPW89dFsxXTtmb3IodmFyIHk9cjt5PGM7eSs9cikocz10W3ldKTxuJiYobj1zKSwodT10W3krMV0pPGkmJihpPXUpLHM+YSYmKGE9cyksdT5vJiYobz11KTtwPTAhPT0ocD1NYXRoLm1heChhLW4sby1pKSk/MS9wOjA7fXJldHVybiBBYShoLGYscixuLGkscCksZn1mdW5jdGlvbiBfYSh0LGUscixuLGkpe3ZhciBhLG87aWYoaT09PVJhKHQsZSxyLG4pPjApZm9yKGE9ZTthPHI7YSs9bilvPWphKGEsdFthXSx0W2ErMV0sbyk7ZWxzZSBmb3IoYT1yLW47YT49ZTthLT1uKW89amEoYSx0W2FdLHRbYSsxXSxvKTtyZXR1cm4gbyYmRmEobyxvLm5leHQpJiYoVWEobyksbz1vLm5leHQpLG99ZnVuY3Rpb24gd2EodCxlKXtpZighdClyZXR1cm4gdDtlfHwoZT10KTt2YXIgcixuPXQ7ZG97aWYocj0hMSxuLnN0ZWluZXJ8fCFGYShuLG4ubmV4dCkmJjAhPT1FYShuLnByZXYsbixuLm5leHQpKW49bi5uZXh0O2Vsc2V7aWYoVWEobiksKG49ZT1uLnByZXYpPT09bi5uZXh0KWJyZWFrO3I9ITA7fX13aGlsZShyfHxuIT09ZSk7cmV0dXJuIGV9ZnVuY3Rpb24gQWEodCxlLHIsbixpLGEsbyl7aWYodCl7IW8mJmEmJmZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXQ7ZG97bnVsbD09PWkueiYmKGkuej1QYShpLngsaS55LGUscixuKSksaS5wcmV2Wj1pLnByZXYsaS5uZXh0Wj1pLm5leHQsaT1pLm5leHQ7fXdoaWxlKGkhPT10KTtpLnByZXZaLm5leHRaPW51bGwsaS5wcmV2Wj1udWxsLGZ1bmN0aW9uKHQpe3ZhciBlLHIsbixpLGEsbyxzLHUscD0xO2Rve2ZvcihyPXQsdD1udWxsLGE9bnVsbCxvPTA7cjspe2ZvcihvKyssbj1yLHM9MCxlPTA7ZTxwJiYocysrLG49bi5uZXh0Wik7ZSsrKTtmb3IodT1wO3M+MHx8dT4wJiZuOykwIT09cyYmKDA9PT11fHwhbnx8ci56PD1uLnopPyhpPXIscj1yLm5leHRaLHMtLSk6KGk9bixuPW4ubmV4dFosdS0tKSxhP2EubmV4dFo9aTp0PWksaS5wcmV2Wj1hLGE9aTtyPW47fWEubmV4dFo9bnVsbCxwKj0yO313aGlsZShvPjEpfShpKTt9KHQsbixpLGEpO2Zvcih2YXIgcyx1LHA9dDt0LnByZXYhPT10Lm5leHQ7KWlmKHM9dC5wcmV2LHU9dC5uZXh0LGE/emEodCxuLGksYSk6a2EodCkpZS5wdXNoKHMuaS9yKSxlLnB1c2godC5pL3IpLGUucHVzaCh1LmkvciksVWEodCksdD11Lm5leHQscD11Lm5leHQ7ZWxzZSBpZigodD11KT09PXApe28/MT09PW8/QWEodD1TYSh0LGUsciksZSxyLG4saSxhLDIpOjI9PT1vJiZCYSh0LGUscixuLGksYSk6QWEod2EodCksZSxyLG4saSxhLDEpO2JyZWFrfX19ZnVuY3Rpb24ga2EodCl7dmFyIGU9dC5wcmV2LHI9dCxuPXQubmV4dDtpZihFYShlLHIsbik+PTApcmV0dXJuICExO2Zvcih2YXIgaT10Lm5leHQubmV4dDtpIT09dC5wcmV2Oyl7aWYoQ2EoZS54LGUueSxyLngsci55LG4ueCxuLnksaS54LGkueSkmJkVhKGkucHJldixpLGkubmV4dCk+PTApcmV0dXJuICExO2k9aS5uZXh0O31yZXR1cm4gITB9ZnVuY3Rpb24gemEodCxlLHIsbil7dmFyIGk9dC5wcmV2LGE9dCxvPXQubmV4dDtpZihFYShpLGEsbyk+PTApcmV0dXJuICExO2Zvcih2YXIgcz1pLng8YS54P2kueDxvLng/aS54Om8ueDphLng8by54P2EueDpvLngsdT1pLnk8YS55P2kueTxvLnk/aS55Om8ueTphLnk8by55P2EueTpvLnkscD1pLng+YS54P2kueD5vLng/aS54Om8ueDphLng+by54P2EueDpvLngsbD1pLnk+YS55P2kueT5vLnk/aS55Om8ueTphLnk+by55P2EueTpvLnksYz1QYShzLHUsZSxyLG4pLGg9UGEocCxsLGUscixuKSxmPXQucHJldloseT10Lm5leHRaO2YmJmYuej49YyYmeSYmeS56PD1oOyl7aWYoZiE9PXQucHJldiYmZiE9PXQubmV4dCYmQ2EoaS54LGkueSxhLngsYS55LG8ueCxvLnksZi54LGYueSkmJkVhKGYucHJldixmLGYubmV4dCk+PTApcmV0dXJuICExO2lmKGY9Zi5wcmV2Wix5IT09dC5wcmV2JiZ5IT09dC5uZXh0JiZDYShpLngsaS55LGEueCxhLnksby54LG8ueSx5LngseS55KSYmRWEoeS5wcmV2LHkseS5uZXh0KT49MClyZXR1cm4gITE7eT15Lm5leHRaO31mb3IoO2YmJmYuej49Yzspe2lmKGYhPT10LnByZXYmJmYhPT10Lm5leHQmJkNhKGkueCxpLnksYS54LGEueSxvLngsby55LGYueCxmLnkpJiZFYShmLnByZXYsZixmLm5leHQpPj0wKXJldHVybiAhMTtmPWYucHJldlo7fWZvcig7eSYmeS56PD1oOyl7aWYoeSE9PXQucHJldiYmeSE9PXQubmV4dCYmQ2EoaS54LGkueSxhLngsYS55LG8ueCxvLnkseS54LHkueSkmJkVhKHkucHJldix5LHkubmV4dCk+PTApcmV0dXJuICExO3k9eS5uZXh0Wjt9cmV0dXJuICEwfWZ1bmN0aW9uIFNhKHQsZSxyKXt2YXIgbj10O2Rve3ZhciBpPW4ucHJldixhPW4ubmV4dC5uZXh0OyFGYShpLGEpJiZPYShpLG4sbi5uZXh0LGEpJiZMYShpLGEpJiZMYShhLGkpJiYoZS5wdXNoKGkuaS9yKSxlLnB1c2gobi5pL3IpLGUucHVzaChhLmkvciksVWEobiksVWEobi5uZXh0KSxuPXQ9YSksbj1uLm5leHQ7fXdoaWxlKG4hPT10KTtyZXR1cm4gbn1mdW5jdGlvbiBCYSh0LGUscixuLGksYSl7dmFyIG89dDtkb3tmb3IodmFyIHM9by5uZXh0Lm5leHQ7cyE9PW8ucHJldjspe2lmKG8uaSE9PXMuaSYmVGEobyxzKSl7dmFyIHU9RGEobyxzKTtyZXR1cm4gbz13YShvLG8ubmV4dCksdT13YSh1LHUubmV4dCksQWEobyxlLHIsbixpLGEpLHZvaWQgQWEodSxlLHIsbixpLGEpfXM9cy5uZXh0O31vPW8ubmV4dDt9d2hpbGUobyE9PXQpfWZ1bmN0aW9uIElhKHQsZSl7cmV0dXJuIHQueC1lLnh9ZnVuY3Rpb24gVmEodCxlKXtpZihlPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbj1lLGk9dC54LGE9dC55LG89LTEvMDtkb3tpZihhPD1uLnkmJmE+PW4ubmV4dC55JiZuLm5leHQueSE9PW4ueSl7dmFyIHM9bi54KyhhLW4ueSkqKG4ubmV4dC54LW4ueCkvKG4ubmV4dC55LW4ueSk7aWYoczw9aSYmcz5vKXtpZihvPXMscz09PWkpe2lmKGE9PT1uLnkpcmV0dXJuIG47aWYoYT09PW4ubmV4dC55KXJldHVybiBuLm5leHR9cj1uLng8bi5uZXh0Lng/bjpuLm5leHQ7fX1uPW4ubmV4dDt9d2hpbGUobiE9PWUpO2lmKCFyKXJldHVybiBudWxsO2lmKGk9PT1vKXJldHVybiByLnByZXY7dmFyIHUscD1yLGw9ci54LGM9ci55LGg9MS8wO249ci5uZXh0O2Zvcig7biE9PXA7KWk+PW4ueCYmbi54Pj1sJiZpIT09bi54JiZDYShhPGM/aTpvLGEsbCxjLGE8Yz9vOmksYSxuLngsbi55KSYmKCh1PU1hdGguYWJzKGEtbi55KS8oaS1uLngpKTxofHx1PT09aCYmbi54PnIueCkmJkxhKG4sdCkmJihyPW4saD11KSxuPW4ubmV4dDtyZXR1cm4gcn0odCxlKSl7dmFyIHI9RGEoZSx0KTt3YShyLHIubmV4dCk7fX1mdW5jdGlvbiBQYSh0LGUscixuLGkpe3JldHVybiAodD0xNDMxNjU1NzY1JigodD04NTg5OTM0NTkmKCh0PTI1MjY0NTEzNSYoKHQ9MTY3MTE5MzUmKCh0PTMyNzY3Kih0LXIpKmkpfHQ8PDgpKXx0PDw0KSl8dDw8MikpfHQ8PDEpKXwoZT0xNDMxNjU1NzY1JigoZT04NTg5OTM0NTkmKChlPTI1MjY0NTEzNSYoKGU9MTY3MTE5MzUmKChlPTMyNzY3KihlLW4pKmkpfGU8PDgpKXxlPDw0KSl8ZTw8MikpfGU8PDEpKTw8MX1mdW5jdGlvbiBNYSh0KXt2YXIgZT10LHI9dDtkb3tlLng8ci54JiYocj1lKSxlPWUubmV4dDt9d2hpbGUoZSE9PXQpO3JldHVybiByfWZ1bmN0aW9uIENhKHQsZSxyLG4saSxhLG8scyl7cmV0dXJuIChpLW8pKihlLXMpLSh0LW8pKihhLXMpPj0wJiYodC1vKSoobi1zKS0oci1vKSooZS1zKT49MCYmKHItbykqKGEtcyktKGktbykqKG4tcyk+PTB9ZnVuY3Rpb24gVGEodCxlKXtyZXR1cm4gdC5uZXh0LmkhPT1lLmkmJnQucHJldi5pIT09ZS5pJiYhZnVuY3Rpb24odCxlKXt2YXIgcj10O2Rve2lmKHIuaSE9PXQuaSYmci5uZXh0LmkhPT10LmkmJnIuaSE9PWUuaSYmci5uZXh0LmkhPT1lLmkmJk9hKHIsci5uZXh0LHQsZSkpcmV0dXJuICEwO3I9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuICExfSh0LGUpJiZMYSh0LGUpJiZMYShlLHQpJiZmdW5jdGlvbih0LGUpe3ZhciByPXQsbj0hMSxpPSh0LngrZS54KS8yLGE9KHQueStlLnkpLzI7ZG97ci55PmEhPXIubmV4dC55PmEmJnIubmV4dC55IT09ci55JiZpPChyLm5leHQueC1yLngpKihhLXIueSkvKHIubmV4dC55LXIueSkrci54JiYobj0hbikscj1yLm5leHQ7fXdoaWxlKHIhPT10KTtyZXR1cm4gbn0odCxlKX1mdW5jdGlvbiBFYSh0LGUscil7cmV0dXJuIChlLnktdC55KSooci54LWUueCktKGUueC10LngpKihyLnktZS55KX1mdW5jdGlvbiBGYSh0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiBPYSh0LGUscixuKXtyZXR1cm4gISEoRmEodCxlKSYmRmEocixuKXx8RmEodCxuKSYmRmEocixlKSl8fEVhKHQsZSxyKT4wIT1FYSh0LGUsbik+MCYmRWEocixuLHQpPjAhPUVhKHIsbixlKT4wfWZ1bmN0aW9uIExhKHQsZSl7cmV0dXJuIEVhKHQucHJldix0LHQubmV4dCk8MD9FYSh0LGUsdC5uZXh0KT49MCYmRWEodCx0LnByZXYsZSk+PTA6RWEodCxlLHQucHJldik8MHx8RWEodCx0Lm5leHQsZSk8MH1mdW5jdGlvbiBEYSh0LGUpe3ZhciByPW5ldyBxYSh0LmksdC54LHQueSksbj1uZXcgcWEoZS5pLGUueCxlLnkpLGk9dC5uZXh0LGE9ZS5wcmV2O3JldHVybiB0Lm5leHQ9ZSxlLnByZXY9dCxyLm5leHQ9aSxpLnByZXY9cixuLm5leHQ9cixyLnByZXY9bixhLm5leHQ9bixuLnByZXY9YSxufWZ1bmN0aW9uIGphKHQsZSxyLG4pe3ZhciBpPW5ldyBxYSh0LGUscik7cmV0dXJuIG4/KGkubmV4dD1uLm5leHQsaS5wcmV2PW4sbi5uZXh0LnByZXY9aSxuLm5leHQ9aSk6KGkucHJldj1pLGkubmV4dD1pKSxpfWZ1bmN0aW9uIFVhKHQpe3QubmV4dC5wcmV2PXQucHJldix0LnByZXYubmV4dD10Lm5leHQsdC5wcmV2WiYmKHQucHJldloubmV4dFo9dC5uZXh0WiksdC5uZXh0WiYmKHQubmV4dFoucHJldlo9dC5wcmV2Wik7fWZ1bmN0aW9uIHFhKHQsZSxyKXt0aGlzLmk9dCx0aGlzLng9ZSx0aGlzLnk9cix0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLno9bnVsbCx0aGlzLnByZXZaPW51bGwsdGhpcy5uZXh0Wj1udWxsLHRoaXMuc3RlaW5lcj0hMTt9ZnVuY3Rpb24gUmEodCxlLHIsbil7Zm9yKHZhciBpPTAsYT1lLG89ci1uO2E8cjthKz1uKWkrPSh0W29dLXRbYV0pKih0W2ErMV0rdFtvKzFdKSxvPWE7cmV0dXJuIGl9YmEuZGV2aWF0aW9uPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPWUmJmUubGVuZ3RoLGE9aT9lWzBdKnI6dC5sZW5ndGgsbz1NYXRoLmFicyhSYSh0LDAsYSxyKSk7aWYoaSlmb3IodmFyIHM9MCx1PWUubGVuZ3RoO3M8dTtzKyspe3ZhciBwPWVbc10qcixsPXM8dS0xP2VbcysxXSpyOnQubGVuZ3RoO28tPU1hdGguYWJzKFJhKHQscCxsLHIpKTt9dmFyIGM9MDtmb3Iocz0wO3M8bi5sZW5ndGg7cys9Myl7dmFyIGg9bltzXSpyLGY9bltzKzFdKnIseT1uW3MrMl0qcjtjKz1NYXRoLmFicygodFtoXS10W3ldKSoodFtmKzFdLXRbaCsxXSktKHRbaF0tdFtmXSkqKHRbeSsxXS10W2grMV0pKTt9cmV0dXJuIDA9PT1vJiYwPT09Yz8wOk1hdGguYWJzKChjLW8pL28pfSxiYS5mbGF0dGVuPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10WzBdWzBdLmxlbmd0aCxyPXt2ZXJ0aWNlczpbXSxob2xlczpbXSxkaW1lbnNpb25zOmV9LG49MCxpPTA7aTx0Lmxlbmd0aDtpKyspe2Zvcih2YXIgYT0wO2E8dFtpXS5sZW5ndGg7YSsrKWZvcih2YXIgbz0wO288ZTtvKyspci52ZXJ0aWNlcy5wdXNoKHRbaV1bYV1bb10pO2k+MCYmKG4rPXRbaS0xXS5sZW5ndGgsci5ob2xlcy5wdXNoKG4pKTt9cmV0dXJuIHJ9LGdhLmRlZmF1bHQ9eGE7dmFyIE5hPVhhLFphPVhhO2Z1bmN0aW9uIFhhKHQsZSxyLG4saSl7IWZ1bmN0aW9uIHQoZSxyLG4saSxhKXtmb3IoO2k+bjspe2lmKGktbj42MDApe3ZhciBvPWktbisxLHM9ci1uKzEsdT1NYXRoLmxvZyhvKSxwPS41Kk1hdGguZXhwKDIqdS8zKSxsPS41Kk1hdGguc3FydCh1KnAqKG8tcCkvbykqKHMtby8yPDA/LTE6MSksYz1NYXRoLm1heChuLE1hdGguZmxvb3Ioci1zKnAvbytsKSksaD1NYXRoLm1pbihpLE1hdGguZmxvb3Iocisoby1zKSpwL28rbCkpO3QoZSxyLGMsaCxhKTt9dmFyIGY9ZVtyXSx5PW4sZD1pO2ZvcihIYShlLG4sciksYShlW2ldLGYpPjAmJkhhKGUsbixpKTt5PGQ7KXtmb3IoSGEoZSx5LGQpLHkrKyxkLS07YShlW3ldLGYpPDA7KXkrKztmb3IoO2EoZVtkXSxmKT4wOylkLS07fTA9PT1hKGVbbl0sZik/SGEoZSxuLGQpOkhhKGUsKytkLGkpLGQ8PXImJihuPWQrMSkscjw9ZCYmKGk9ZC0xKTt9fSh0LGUscnx8MCxufHx0Lmxlbmd0aC0xLGl8fEdhKTt9ZnVuY3Rpb24gSGEodCxlLHIpe3ZhciBuPXRbZV07dFtlXT10W3JdLHRbcl09bjt9ZnVuY3Rpb24gR2EodCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9ZnVuY3Rpb24gSmEodCxlKXt2YXIgcj10Lmxlbmd0aDtpZihyPD0xKXJldHVybiBbdF07Zm9yKHZhciBuLGksYT1bXSxvPTA7bzxyO28rKyl7dmFyIHM9dyh0W29dKTswIT09cyYmKHRbb10uYXJlYT1NYXRoLmFicyhzKSx2b2lkIDA9PT1pJiYoaT1zPDApLGk9PT1zPDA/KG4mJmEucHVzaChuKSxuPVt0W29dXSk6bi5wdXNoKHRbb10pKTt9aWYobiYmYS5wdXNoKG4pLGU+MSlmb3IodmFyIHU9MDt1PGEubGVuZ3RoO3UrKylhW3VdLmxlbmd0aDw9ZXx8KE5hKGFbdV0sZSwxLGFbdV0ubGVuZ3RoLTEsS2EpLGFbdV09YVt1XS5zbGljZSgwLGUpKTtyZXR1cm4gYX1mdW5jdGlvbiBLYSh0LGUpe3JldHVybiBlLmFyZWEtdC5hcmVhfWZ1bmN0aW9uIFlhKHQsZSxyKXtmb3IodmFyIG49ci5wYXR0ZXJuRGVwZW5kZW5jaWVzLGk9ITEsYT0wLG89ZTthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV0ucGFpbnQuZ2V0KHQrXCItcGF0dGVyblwiKTtzLmlzQ29uc3RhbnQoKXx8KGk9ITApO3ZhciB1PXMuY29uc3RhbnRPcihudWxsKTt1JiYoaT0hMCxuW3UudG9dPSEwLG5bdS5mcm9tXT0hMCk7fXJldHVybiBpfWZ1bmN0aW9uICRhKHQsZSxyLG4saSl7Zm9yKHZhciBhPWkucGF0dGVybkRlcGVuZGVuY2llcyxvPTAscz1lO288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXSxwPXUucGFpbnQuZ2V0KHQrXCItcGF0dGVyblwiKS52YWx1ZTtpZihcImNvbnN0YW50XCIhPT1wLmtpbmQpe3ZhciBsPXAuZXZhbHVhdGUoe3pvb206bi0xfSxyLHt9KSxjPXAuZXZhbHVhdGUoe3pvb206bn0scix7fSksaD1wLmV2YWx1YXRlKHt6b29tOm4rMX0scix7fSk7YVtsXT0hMCxhW2NdPSEwLGFbaF09ITAsci5wYXR0ZXJuc1t1LmlkXT17bWluOmwsbWlkOmMsbWF4Omh9O319cmV0dXJuIHJ9TmEuZGVmYXVsdD1aYTt2YXIgV2E9ZnVuY3Rpb24odCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHBuLHRoaXMuaW5kZXhBcnJheT1uZXcgem4sdGhpcy5pbmRleEFycmF5Mj1uZXcgU24sdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IGxpKHZhLHQubGF5ZXJzLHQuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgWm4sdGhpcy5zZWdtZW50czI9bmV3IFpuO307V2EucHJvdG90eXBlLnBvcHVsYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5mZWF0dXJlcz1bXSx0aGlzLmhhc1BhdHRlcm49WWEoXCJmaWxsXCIsdGhpcy5sYXllcnMsZSk7Zm9yKHZhciByPTAsbj10O3I8bi5sZW5ndGg7cis9MSl7dmFyIGk9bltyXSxhPWkuZmVhdHVyZSxvPWkuaW5kZXgscz1pLnNvdXJjZUxheWVySW5kZXg7aWYodGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIobmV3IHFyKHRoaXMuem9vbSksYSkpe3ZhciB1PW1pKGEpLHA9e3NvdXJjZUxheWVySW5kZXg6cyxpbmRleDpvLGdlb21ldHJ5OnUscHJvcGVydGllczphLnByb3BlcnRpZXMsdHlwZTphLnR5cGUscGF0dGVybnM6e319O3ZvaWQgMCE9PWEuaWQmJihwLmlkPWEuaWQpLHRoaXMuaGFzUGF0dGVybj90aGlzLmZlYXR1cmVzLnB1c2goJGEoXCJmaWxsXCIsdGhpcy5sYXllcnMscCx0aGlzLnpvb20sZSkpOnRoaXMuYWRkRmVhdHVyZShwLHUsbyx7fSksZS5mZWF0dXJlSW5kZXguaW5zZXJ0KGEsdSxvLHMsdGhpcy5pbmRleCk7fX19LFdhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyKTt9LFdhLnByb3RvdHlwZS5hZGRGZWF0dXJlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLG49dGhpcy5mZWF0dXJlcztyPG4ubGVuZ3RoO3IrPTEpe3ZhciBpPW5bcl0sYT1pLmdlb21ldHJ5O3RoaXMuYWRkRmVhdHVyZShpLGEsaS5pbmRleCxlKTt9fSxXYS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9LFdhLnByb3RvdHlwZS51cGxvYWRQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH0sV2EucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXt0aGlzLnVwbG9hZGVkfHwodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx2YSksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5pbmRleEJ1ZmZlcjI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkyKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fSxXYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5zZWdtZW50czIuZGVzdHJveSgpKTt9LFdhLnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT0wLGE9SmEoZSw1MDApO2k8YS5sZW5ndGg7aSs9MSl7Zm9yKHZhciBvPWFbaV0scz0wLHU9MCxwPW87dTxwLmxlbmd0aDt1Kz0xKXtzKz1wW3VdLmxlbmd0aDt9Zm9yKHZhciBsPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQocyx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksYz1sLnZlcnRleExlbmd0aCxoPVtdLGY9W10seT0wLGQ9bzt5PGQubGVuZ3RoO3krPTEpe3ZhciBtPWRbeV07aWYoMCE9PW0ubGVuZ3RoKXttIT09b1swXSYmZi5wdXNoKGgubGVuZ3RoLzIpO3ZhciB2PXRoaXMuc2VnbWVudHMyLnByZXBhcmVTZWdtZW50KG0ubGVuZ3RoLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5MiksZz12LnZlcnRleExlbmd0aDt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKG1bMF0ueCxtWzBdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2soZyttLmxlbmd0aC0xLGcpLGgucHVzaChtWzBdLngpLGgucHVzaChtWzBdLnkpO2Zvcih2YXIgeD0xO3g8bS5sZW5ndGg7eCsrKXRoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2sobVt4XS54LG1beF0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayhnK3gtMSxnK3gpLGgucHVzaChtW3hdLngpLGgucHVzaChtW3hdLnkpO3YudmVydGV4TGVuZ3RoKz1tLmxlbmd0aCx2LnByaW1pdGl2ZUxlbmd0aCs9bS5sZW5ndGg7fX1mb3IodmFyIGI9Z2EoaCxmKSxfPTA7XzxiLmxlbmd0aDtfKz0zKXRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhjK2JbX10sYytiW18rMV0sYytiW18rMl0pO2wudmVydGV4TGVuZ3RoKz1zLGwucHJpbWl0aXZlTGVuZ3RoKz1iLmxlbmd0aC8zO310aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLHQscixuKTt9LGtyKFwiRmlsbEJ1Y2tldFwiLFdhLHtvbWl0OltcImxheWVyc1wiLFwiZmVhdHVyZXNcIl19KTt2YXIgUWE9e3BhaW50Om5ldyBlbih7XCJmaWxsLWFudGlhbGlhc1wiOm5ldyBZcihMLnBhaW50X2ZpbGxbXCJmaWxsLWFudGlhbGlhc1wiXSksXCJmaWxsLW9wYWNpdHlcIjpuZXcgJHIoTC5wYWludF9maWxsW1wiZmlsbC1vcGFjaXR5XCJdKSxcImZpbGwtY29sb3JcIjpuZXcgJHIoTC5wYWludF9maWxsW1wiZmlsbC1jb2xvclwiXSksXCJmaWxsLW91dGxpbmUtY29sb3JcIjpuZXcgJHIoTC5wYWludF9maWxsW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdKSxcImZpbGwtdHJhbnNsYXRlXCI6bmV3IFlyKEwucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlXCJdKSxcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBZcihMLnBhaW50X2ZpbGxbXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiZmlsbC1wYXR0ZXJuXCI6bmV3IFdyKEwucGFpbnRfZmlsbFtcImZpbGwtcGF0dGVyblwiXSl9KX0sdG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLFFhKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLnJlY2FsY3VsYXRlLmNhbGwodGhpcyxlKTt2YXIgcj10aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLW91dGxpbmUtY29sb3JcIl07XCJjb25zdGFudFwiPT09ci52YWx1ZS5raW5kJiZ2b2lkIDA9PT1yLnZhbHVlLnZhbHVlJiYodGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdPXRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtY29sb3JcIl0pO30sZS5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgV2EodCl9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIFBpKHRoaXMucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIikpfSxlLnByb3RvdHlwZS5xdWVyeUludGVyc2VjdHNGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3JldHVybiBiaShNaSh0LHRoaXMucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIiksYS5hbmdsZSxvKSxuKX0sZX0ocm4pLGVvPXNuKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfbm9ybWFsX2VkXCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifV0sNCkscm89ZW8ubWVtYmVycyxubz0oZW8uc2l6ZSxlby5hbGlnbm1lbnQsTWF0aC5wb3coMiwxMykpO2Z1bmN0aW9uIGlvKHQsZSxyLG4saSxhLG8scyl7dC5lbXBsYWNlQmFjayhlLHIsMipNYXRoLmZsb29yKG4qbm8pK28saSpubyoyLGEqbm8qMixNYXRoLnJvdW5kKHMpKTt9dmFyIGFvPWZ1bmN0aW9uKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBjbix0aGlzLmluZGV4QXJyYXk9bmV3IHpuLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBsaShybyx0LmxheWVycyx0Lnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IFpuO307ZnVuY3Rpb24gb28odCxlKXtyZXR1cm4gdC54PT09ZS54JiYodC54PDB8fHQueD5maSl8fHQueT09PWUueSYmKHQueTwwfHx0Lnk+ZmkpfWZ1bmN0aW9uIHNvKHQpe3JldHVybiB0LmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiB0Lng8MH0pfHx0LmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiB0Lng+Zml9KXx8dC5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4gdC55PDB9KXx8dC5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4gdC55PmZpfSl9YW8ucHJvdG90eXBlLnBvcHVsYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5mZWF0dXJlcz1bXSx0aGlzLmhhc1BhdHRlcm49WWEoXCJmaWxsLWV4dHJ1c2lvblwiLHRoaXMubGF5ZXJzLGUpO2Zvcih2YXIgcj0wLG49dDtyPG4ubGVuZ3RoO3IrPTEpe3ZhciBpPW5bcl0sYT1pLmZlYXR1cmUsbz1pLmluZGV4LHM9aS5zb3VyY2VMYXllckluZGV4O2lmKHRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyKG5ldyBxcih0aGlzLnpvb20pLGEpKXt2YXIgdT1taShhKSxwPXtzb3VyY2VMYXllckluZGV4OnMsaW5kZXg6byxnZW9tZXRyeTp1LHByb3BlcnRpZXM6YS5wcm9wZXJ0aWVzLHR5cGU6YS50eXBlLHBhdHRlcm5zOnt9fTt2b2lkIDAhPT1hLmlkJiYocC5pZD1hLmlkKSx0aGlzLmhhc1BhdHRlcm4/dGhpcy5mZWF0dXJlcy5wdXNoKCRhKFwiZmlsbC1leHRydXNpb25cIix0aGlzLmxheWVycyxwLHRoaXMuem9vbSxlKSk6dGhpcy5hZGRGZWF0dXJlKHAsdSxvLHt9KSxlLmZlYXR1cmVJbmRleC5pbnNlcnQoYSx1LG8scyx0aGlzLmluZGV4KTt9fX0sYW8ucHJvdG90eXBlLmFkZEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsbj10aGlzLmZlYXR1cmVzO3I8bi5sZW5ndGg7cis9MSl7dmFyIGk9bltyXSxhPWkuZ2VvbWV0cnk7dGhpcy5hZGRGZWF0dXJlKGksYSxpLmluZGV4LGUpO319LGFvLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyKTt9LGFvLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH0sYW8ucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfSxhby5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHJvKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fSxhby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fSxhby5wcm90b3R5cGUuYWRkRmVhdHVyZT1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGk9MCxhPUphKGUsNTAwKTtpPGEubGVuZ3RoO2krPTEpe2Zvcih2YXIgbz1hW2ldLHM9MCx1PTAscD1vO3U8cC5sZW5ndGg7dSs9MSl7cys9cFt1XS5sZW5ndGg7fWZvcih2YXIgbD10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpLGM9MCxoPW87YzxoLmxlbmd0aDtjKz0xKXt2YXIgZj1oW2NdO2lmKDAhPT1mLmxlbmd0aCYmIXNvKGYpKWZvcih2YXIgeT0wLGQ9MDtkPGYubGVuZ3RoO2QrKyl7dmFyIG09ZltkXTtpZihkPj0xKXt2YXIgdj1mW2QtMV07aWYoIW9vKG0sdikpe2wudmVydGV4TGVuZ3RoKzQ+Wm4uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJihsPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSkpO3ZhciBnPW0uc3ViKHYpLl9wZXJwKCkuX3VuaXQoKSx4PXYuZGlzdChtKTt5K3g+MzI3NjgmJih5PTApLGlvKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbS54LG0ueSxnLngsZy55LDAsMCx5KSxpbyh0aGlzLmxheW91dFZlcnRleEFycmF5LG0ueCxtLnksZy54LGcueSwwLDEseSkseSs9eCxpbyh0aGlzLmxheW91dFZlcnRleEFycmF5LHYueCx2LnksZy54LGcueSwwLDAseSksaW8odGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx2Lngsdi55LGcueCxnLnksMCwxLHkpO3ZhciBiPWwudmVydGV4TGVuZ3RoO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhiLGIrMSxiKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhiKzEsYisyLGIrMyksbC52ZXJ0ZXhMZW5ndGgrPTQsbC5wcmltaXRpdmVMZW5ndGgrPTI7fX19fWwudmVydGV4TGVuZ3RoK3M+Wm4uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJihsPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQocyx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSkpO2Zvcih2YXIgXz1bXSx3PVtdLEE9bC52ZXJ0ZXhMZW5ndGgsaz0wLHo9bztrPHoubGVuZ3RoO2srPTEpe3ZhciBTPXpba107aWYoMCE9PVMubGVuZ3RoKXtTIT09b1swXSYmdy5wdXNoKF8ubGVuZ3RoLzIpO2Zvcih2YXIgQj0wO0I8Uy5sZW5ndGg7QisrKXt2YXIgST1TW0JdO2lvKHRoaXMubGF5b3V0VmVydGV4QXJyYXksSS54LEkueSwwLDAsMSwxLDApLF8ucHVzaChJLngpLF8ucHVzaChJLnkpO319fWZvcih2YXIgVj1nYShfLHcpLFA9MDtQPFYubGVuZ3RoO1ArPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKEErVltQXSxBK1ZbUCsxXSxBK1ZbUCsyXSk7bC5wcmltaXRpdmVMZW5ndGgrPVYubGVuZ3RoLzMsbC52ZXJ0ZXhMZW5ndGgrPXM7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLG4pO30sa3IoXCJGaWxsRXh0cnVzaW9uQnVja2V0XCIsYW8se29taXQ6W1wibGF5ZXJzXCIsXCJmZWF0dXJlc1wiXX0pO3ZhciB1bz17cGFpbnQ6bmV3IGVuKHtcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIjpuZXcgWXIoTFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOm5ldyAkcihMW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjpuZXcgWXIoTFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCJdKSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgWXIoTFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6bmV3IFdyKExbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIl0pLFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCI6bmV3ICRyKExbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiXSksXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6bmV3ICRyKExbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWJhc2VcIl0pfSl9LHBvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSx1byk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBhbyh0KX0sZS5wcm90b3R5cGUucXVlcnlSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gUGkodGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIikpfSxlLnByb3RvdHlwZS5xdWVyeUludGVyc2VjdHNGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3JldHVybiBiaShNaSh0LHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiKSxhLmFuZ2xlLG8pLG4pfSxlLnByb3RvdHlwZS5oYXNPZmZzY3JlZW5QYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIikmJlwibm9uZVwiIT09dGhpcy52aXNpYmlsaXR5fSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLnZpZXdwb3J0RnJhbWUmJih0aGlzLnZpZXdwb3J0RnJhbWUuZGVzdHJveSgpLHRoaXMudmlld3BvcnRGcmFtZT1udWxsKTt9LGV9KHJuKSxsbz1zbihbe25hbWU6XCJhX3Bvc19ub3JtYWxcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9kYXRhXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50OFwifV0sNCksY289bG8ubWVtYmVycyxobz0obG8uc2l6ZSxsby5hbGlnbm1lbnQsZm8pO2Z1bmN0aW9uIGZvKHQsZSxyLG4saSl7dGhpcy5wcm9wZXJ0aWVzPXt9LHRoaXMuZXh0ZW50PXIsdGhpcy50eXBlPTAsdGhpcy5fcGJmPXQsdGhpcy5fZ2VvbWV0cnk9LTEsdGhpcy5fa2V5cz1uLHRoaXMuX3ZhbHVlcz1pLHQucmVhZEZpZWxkcyh5byx0aGlzLGUpO31mdW5jdGlvbiB5byh0LGUscil7MT09dD9lLmlkPXIucmVhZFZhcmludCgpOjI9PXQ/ZnVuY3Rpb24odCxlKXt2YXIgcj10LnJlYWRWYXJpbnQoKSt0LnBvcztmb3IoO3QucG9zPHI7KXt2YXIgbj1lLl9rZXlzW3QucmVhZFZhcmludCgpXSxpPWUuX3ZhbHVlc1t0LnJlYWRWYXJpbnQoKV07ZS5wcm9wZXJ0aWVzW25dPWk7fX0ocixlKTozPT10P2UudHlwZT1yLnJlYWRWYXJpbnQoKTo0PT10JiYoZS5fZ2VvbWV0cnk9ci5wb3MpO31mdW5jdGlvbiBtbyh0KXtmb3IodmFyIGUscixuPTAsaT0wLGE9dC5sZW5ndGgsbz1hLTE7aTxhO289aSsrKWU9dFtpXSxuKz0oKHI9dFtvXSkueC1lLngpKihlLnkrci55KTtyZXR1cm4gbn1mby50eXBlcz1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXSxmby5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZSxyPXQucmVhZFZhcmludCgpK3QucG9zLG49MSxpPTAsbz0wLHM9MCx1PVtdO3QucG9zPHI7KXtpZihpPD0wKXt2YXIgcD10LnJlYWRWYXJpbnQoKTtuPTcmcCxpPXA+PjM7fWlmKGktLSwxPT09bnx8Mj09PW4pbys9dC5yZWFkU1ZhcmludCgpLHMrPXQucmVhZFNWYXJpbnQoKSwxPT09biYmKGUmJnUucHVzaChlKSxlPVtdKSxlLnB1c2gobmV3IGEobyxzKSk7ZWxzZXtpZig3IT09bil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGNvbW1hbmQgXCIrbik7ZSYmZS5wdXNoKGVbMF0uY2xvbmUoKSk7fX1yZXR1cm4gZSYmdS5wdXNoKGUpLHV9LGZvLnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZT10LnJlYWRWYXJpbnQoKSt0LnBvcyxyPTEsbj0wLGk9MCxhPTAsbz0xLzAscz0tMS8wLHU9MS8wLHA9LTEvMDt0LnBvczxlOyl7aWYobjw9MCl7dmFyIGw9dC5yZWFkVmFyaW50KCk7cj03Jmwsbj1sPj4zO31pZihuLS0sMT09PXJ8fDI9PT1yKShpKz10LnJlYWRTVmFyaW50KCkpPG8mJihvPWkpLGk+cyYmKHM9aSksKGErPXQucmVhZFNWYXJpbnQoKSk8dSYmKHU9YSksYT5wJiYocD1hKTtlbHNlIGlmKDchPT1yKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIityKX1yZXR1cm4gW28sdSxzLHBdfSxmby5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLGE9dGhpcy5leHRlbnQqTWF0aC5wb3coMixyKSxvPXRoaXMuZXh0ZW50KnQscz10aGlzLmV4dGVudCplLHU9dGhpcy5sb2FkR2VvbWV0cnkoKSxwPWZvLnR5cGVzW3RoaXMudHlwZV07ZnVuY3Rpb24gbCh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXSxuPTE4MC0zNjAqKHIueStzKS9hO3RbZV09WzM2MCooci54K28pL2EtMTgwLDM2MC9NYXRoLlBJKk1hdGguYXRhbihNYXRoLmV4cChuKk1hdGguUEkvMTgwKSktOTBdO319c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciBjPVtdO2ZvcihuPTA7bjx1Lmxlbmd0aDtuKyspY1tuXT11W25dWzBdO2wodT1jKTticmVhaztjYXNlIDI6Zm9yKG49MDtuPHUubGVuZ3RoO24rKylsKHVbbl0pO2JyZWFrO2Nhc2UgMzpmb3IodT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD0xKXJldHVybiBbdF07Zm9yKHZhciByLG4saT1bXSxhPTA7YTxlO2ErKyl7dmFyIG89bW8odFthXSk7MCE9PW8mJih2b2lkIDA9PT1uJiYobj1vPDApLG49PT1vPDA/KHImJmkucHVzaChyKSxyPVt0W2FdXSk6ci5wdXNoKHRbYV0pKTt9ciYmaS5wdXNoKHIpO3JldHVybiBpfSh1KSxuPTA7bjx1Lmxlbmd0aDtuKyspZm9yKGk9MDtpPHVbbl0ubGVuZ3RoO2krKylsKHVbbl1baV0pO30xPT09dS5sZW5ndGg/dT11WzBdOnA9XCJNdWx0aVwiK3A7dmFyIGg9e3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6e3R5cGU6cCxjb29yZGluYXRlczp1fSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307cmV0dXJuIFwiaWRcImluIHRoaXMmJihoLmlkPXRoaXMuaWQpLGh9O3ZhciB2bz1nbztmdW5jdGlvbiBnbyh0LGUpe3RoaXMudmVyc2lvbj0xLHRoaXMubmFtZT1udWxsLHRoaXMuZXh0ZW50PTQwOTYsdGhpcy5sZW5ndGg9MCx0aGlzLl9wYmY9dCx0aGlzLl9rZXlzPVtdLHRoaXMuX3ZhbHVlcz1bXSx0aGlzLl9mZWF0dXJlcz1bXSx0LnJlYWRGaWVsZHMoeG8sdGhpcyxlKSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGg7fWZ1bmN0aW9uIHhvKHQsZSxyKXsxNT09PXQ/ZS52ZXJzaW9uPXIucmVhZFZhcmludCgpOjE9PT10P2UubmFtZT1yLnJlYWRTdHJpbmcoKTo1PT09dD9lLmV4dGVudD1yLnJlYWRWYXJpbnQoKToyPT09dD9lLl9mZWF0dXJlcy5wdXNoKHIucG9zKTozPT09dD9lLl9rZXlzLnB1c2goci5yZWFkU3RyaW5nKCkpOjQ9PT10JiZlLl92YWx1ZXMucHVzaChmdW5jdGlvbih0KXt2YXIgZT1udWxsLHI9dC5yZWFkVmFyaW50KCkrdC5wb3M7Zm9yKDt0LnBvczxyOyl7dmFyIG49dC5yZWFkVmFyaW50KCk+PjM7ZT0xPT09bj90LnJlYWRTdHJpbmcoKToyPT09bj90LnJlYWRGbG9hdCgpOjM9PT1uP3QucmVhZERvdWJsZSgpOjQ9PT1uP3QucmVhZFZhcmludDY0KCk6NT09PW4/dC5yZWFkVmFyaW50KCk6Nj09PW4/dC5yZWFkU1ZhcmludCgpOjc9PT1uP3QucmVhZEJvb2xlYW4oKTpudWxsO31yZXR1cm4gZX0ocikpO31mdW5jdGlvbiBibyh0LGUscil7aWYoMz09PXQpe3ZhciBuPW5ldyB2byhyLHIucmVhZFZhcmludCgpK3IucG9zKTtuLmxlbmd0aCYmKGVbbi5uYW1lXT1uKTt9fWdvLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kc1wiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW3RdO3ZhciBlPXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IGhvKHRoaXMuX3BiZixlLHRoaXMuZXh0ZW50LHRoaXMuX2tleXMsdGhpcy5fdmFsdWVzKX07dmFyIF9vPXtWZWN0b3JUaWxlOmZ1bmN0aW9uKHQsZSl7dGhpcy5sYXllcnM9dC5yZWFkRmllbGRzKGJvLHt9LGUpO30sVmVjdG9yVGlsZUZlYXR1cmU6aG8sVmVjdG9yVGlsZUxheWVyOnZvfSx3bz1fby5WZWN0b3JUaWxlRmVhdHVyZS50eXBlcyxBbz02Myxrbz1NYXRoLmNvcyhNYXRoLlBJLzE4MCozNy41KSx6bz0uNSxTbz1NYXRoLnBvdygyLDE0KS96bztmdW5jdGlvbiBCbyh0LGUscixuLGksYSxvKXt0LmVtcGxhY2VCYWNrKGUueCxlLnksbj8xOjAsaT8xOi0xLE1hdGgucm91bmQoQW8qci54KSsxMjgsTWF0aC5yb3VuZChBbypyLnkpKzEyOCwxKygwPT09YT8wOmE8MD8tMToxKXwobyp6byY2Myk8PDIsbyp6bz4+Nik7fXZhciBJbz1mdW5jdGlvbih0KXt0aGlzLnpvb209dC56b29tLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBobix0aGlzLmluZGV4QXJyYXk9bmV3IHpuLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBsaShjbyx0LmxheWVycyx0Lnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IFpuO307ZnVuY3Rpb24gVm8odCxlKXtyZXR1cm4gKHQvZS50aWxlVG90YWwqKGUuZW5kLWUuc3RhcnQpK2Uuc3RhcnQpKihTby0xKX1Jby5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaGFzUGF0dGVybj1ZYShcImxpbmVcIix0aGlzLmxheWVycyxlKTtmb3IodmFyIHI9MCxuPXQ7cjxuLmxlbmd0aDtyKz0xKXt2YXIgaT1uW3JdLGE9aS5mZWF0dXJlLG89aS5pbmRleCxzPWkuc291cmNlTGF5ZXJJbmRleDtpZih0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlcihuZXcgcXIodGhpcy56b29tKSxhKSl7dmFyIHU9bWkoYSkscD17c291cmNlTGF5ZXJJbmRleDpzLGluZGV4Om8sZ2VvbWV0cnk6dSxwcm9wZXJ0aWVzOmEucHJvcGVydGllcyx0eXBlOmEudHlwZSxwYXR0ZXJuczp7fX07dm9pZCAwIT09YS5pZCYmKHAuaWQ9YS5pZCksdGhpcy5oYXNQYXR0ZXJuP3RoaXMuZmVhdHVyZXMucHVzaCgkYShcImxpbmVcIix0aGlzLmxheWVycyxwLHRoaXMuem9vbSxlKSk6dGhpcy5hZGRGZWF0dXJlKHAsdSxvLHt9KSxlLmZlYXR1cmVJbmRleC5pbnNlcnQoYSx1LG8scyx0aGlzLmluZGV4KTt9fX0sSW8ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIpO30sSW8ucHJvdG90eXBlLmFkZEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsbj10aGlzLmZlYXR1cmVzO3I8bi5sZW5ndGg7cis9MSl7dmFyIGk9bltyXSxhPWkuZ2VvbWV0cnk7dGhpcy5hZGRGZWF0dXJlKGksYSxpLmluZGV4LGUpO319LElvLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH0sSW8ucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfSxJby5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGNvKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fSxJby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fSxJby5wcm90b3R5cGUuYWRkRmVhdHVyZT1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGk9dGhpcy5sYXllcnNbMF0ubGF5b3V0LGE9aS5nZXQoXCJsaW5lLWpvaW5cIikuZXZhbHVhdGUodCx7fSksbz1pLmdldChcImxpbmUtY2FwXCIpLHM9aS5nZXQoXCJsaW5lLW1pdGVyLWxpbWl0XCIpLHU9aS5nZXQoXCJsaW5lLXJvdW5kLWxpbWl0XCIpLHA9MCxsPWU7cDxsLmxlbmd0aDtwKz0xKXt2YXIgYz1sW3BdO3RoaXMuYWRkTGluZShjLHQsYSxvLHMsdSxyLG4pO319LElvLnByb3RvdHlwZS5hZGRMaW5lPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7dmFyIHU9bnVsbDtlLnByb3BlcnRpZXMmJmUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9jbGlwX3N0YXJ0XCIpJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfY2xpcF9lbmRcIikmJih1PXtzdGFydDplLnByb3BlcnRpZXMubWFwYm94X2NsaXBfc3RhcnQsZW5kOmUucHJvcGVydGllcy5tYXBib3hfY2xpcF9lbmQsdGlsZVRvdGFsOnZvaWQgMH0pO2Zvcih2YXIgcD1cIlBvbHlnb25cIj09PXdvW2UudHlwZV0sbD10Lmxlbmd0aDtsPj0yJiZ0W2wtMV0uZXF1YWxzKHRbbC0yXSk7KWwtLTtmb3IodmFyIGM9MDtjPGwtMSYmdFtjXS5lcXVhbHModFtjKzFdKTspYysrO2lmKCEobDwocD8zOjIpKSl7dSYmKHUudGlsZVRvdGFsPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG4saSxhPTAsbz1lO288ci0xO28rKyluPXRbb10saT10W28rMV0sYSs9bi5kaXN0KGkpO3JldHVybiBhfSh0LGMsbCkpLFwiYmV2ZWxcIj09PXImJihpPTEuMDUpO3ZhciBoPWZpLyg1MTIqdGhpcy5vdmVyc2NhbGluZykqMTUsZj10W2NdLHk9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgxMCpsLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KTt0aGlzLmRpc3RhbmNlPTA7dmFyIGQsbSx2LGc9bix4PXA/XCJidXR0XCI6bixiPSEwLF89dm9pZCAwLHc9dm9pZCAwLEE9dm9pZCAwLGs9dm9pZCAwO3RoaXMuZTE9dGhpcy5lMj10aGlzLmUzPS0xLHAmJihkPXRbbC0yXSxrPWYuc3ViKGQpLl91bml0KCkuX3BlcnAoKSk7Zm9yKHZhciB6PWM7ejxsO3orKylpZighKHc9cCYmej09PWwtMT90W2MrMV06dFt6KzFdKXx8IXRbel0uZXF1YWxzKHcpKXtrJiYoQT1rKSxkJiYoXz1kKSxkPXRbel0saz13P3cuc3ViKGQpLl91bml0KCkuX3BlcnAoKTpBO3ZhciBTPShBPUF8fGspLmFkZChrKTswPT09Uy54JiYwPT09Uy55fHxTLl91bml0KCk7dmFyIEI9Uy54KmsueCtTLnkqay55LEk9MCE9PUI/MS9COjEvMCxWPUI8a28mJl8mJnc7aWYoViYmej5jKXt2YXIgUD1kLmRpc3QoXyk7aWYoUD4yKmgpe3ZhciBNPWQuc3ViKGQuc3ViKF8pLl9tdWx0KGgvUCkuX3JvdW5kKCkpO3RoaXMuZGlzdGFuY2UrPU0uZGlzdChfKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoTSx0aGlzLmRpc3RhbmNlLEEubXVsdCgxKSwwLDAsITEseSx1KSxfPU07fX12YXIgQz1fJiZ3LFQ9Qz9yOnc/Zzp4O2lmKEMmJlwicm91bmRcIj09PVQmJihJPGE/VD1cIm1pdGVyXCI6STw9MiYmKFQ9XCJmYWtlcm91bmRcIikpLFwibWl0ZXJcIj09PVQmJkk+aSYmKFQ9XCJiZXZlbFwiKSxcImJldmVsXCI9PT1UJiYoST4yJiYoVD1cImZsaXBiZXZlbFwiKSxJPGkmJihUPVwibWl0ZXJcIikpLF8mJih0aGlzLmRpc3RhbmNlKz1kLmRpc3QoXykpLFwibWl0ZXJcIj09PVQpUy5fbXVsdChJKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZCx0aGlzLmRpc3RhbmNlLFMsMCwwLCExLHksdSk7ZWxzZSBpZihcImZsaXBiZXZlbFwiPT09VCl7aWYoST4xMDApUz1rLmNsb25lKCkubXVsdCgtMSk7ZWxzZXt2YXIgRT1BLngqay55LUEueSprLng+MD8tMToxLEY9SSpBLmFkZChrKS5tYWcoKS9BLnN1YihrKS5tYWcoKTtTLl9wZXJwKCkuX211bHQoRipFKTt9dGhpcy5hZGRDdXJyZW50VmVydGV4KGQsdGhpcy5kaXN0YW5jZSxTLDAsMCwhMSx5LHUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChkLHRoaXMuZGlzdGFuY2UsUy5tdWx0KC0xKSwwLDAsITEseSx1KTt9ZWxzZSBpZihcImJldmVsXCI9PT1UfHxcImZha2Vyb3VuZFwiPT09VCl7dmFyIE89QS54KmsueS1BLnkqay54PjAsTD0tTWF0aC5zcXJ0KEkqSS0xKTtpZihPPyh2PTAsbT1MKToobT0wLHY9TCksYnx8dGhpcy5hZGRDdXJyZW50VmVydGV4KGQsdGhpcy5kaXN0YW5jZSxBLG0sdiwhMSx5LHUpLFwiZmFrZXJvdW5kXCI9PT1UKXtmb3IodmFyIEQ9TWF0aC5mbG9vcig4KiguNS0oQi0uNSkpKSxqPXZvaWQgMCxVPTA7VTxEO1UrKylqPWsubXVsdCgoVSsxKS8oRCsxKSkuX2FkZChBKS5fdW5pdCgpLHRoaXMuYWRkUGllU2xpY2VWZXJ0ZXgoZCx0aGlzLmRpc3RhbmNlLGosTyx5LHUpO3RoaXMuYWRkUGllU2xpY2VWZXJ0ZXgoZCx0aGlzLmRpc3RhbmNlLFMsTyx5LHUpO2Zvcih2YXIgcT1ELTE7cT49MDtxLS0paj1BLm11bHQoKHErMSkvKEQrMSkpLl9hZGQoaykuX3VuaXQoKSx0aGlzLmFkZFBpZVNsaWNlVmVydGV4KGQsdGhpcy5kaXN0YW5jZSxqLE8seSx1KTt9dyYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGQsdGhpcy5kaXN0YW5jZSxrLC1tLC12LCExLHksdSk7fWVsc2VcImJ1dHRcIj09PVQ/KGJ8fHRoaXMuYWRkQ3VycmVudFZlcnRleChkLHRoaXMuZGlzdGFuY2UsQSwwLDAsITEseSx1KSx3JiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZCx0aGlzLmRpc3RhbmNlLGssMCwwLCExLHksdSkpOlwic3F1YXJlXCI9PT1UPyhifHwodGhpcy5hZGRDdXJyZW50VmVydGV4KGQsdGhpcy5kaXN0YW5jZSxBLDEsMSwhMSx5LHUpLHRoaXMuZTE9dGhpcy5lMj0tMSksdyYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGQsdGhpcy5kaXN0YW5jZSxrLC0xLC0xLCExLHksdSkpOlwicm91bmRcIj09PVQmJihifHwodGhpcy5hZGRDdXJyZW50VmVydGV4KGQsdGhpcy5kaXN0YW5jZSxBLDAsMCwhMSx5LHUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChkLHRoaXMuZGlzdGFuY2UsQSwxLDEsITAseSx1KSx0aGlzLmUxPXRoaXMuZTI9LTEpLHcmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZCx0aGlzLmRpc3RhbmNlLGssLTEsLTEsITAseSx1KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZCx0aGlzLmRpc3RhbmNlLGssMCwwLCExLHksdSkpKTtpZihWJiZ6PGwtMSl7dmFyIFI9ZC5kaXN0KHcpO2lmKFI+MipoKXt2YXIgTj1kLmFkZCh3LnN1YihkKS5fbXVsdChoL1IpLl9yb3VuZCgpKTt0aGlzLmRpc3RhbmNlKz1OLmRpc3QoZCksdGhpcy5hZGRDdXJyZW50VmVydGV4KE4sdGhpcy5kaXN0YW5jZSxrLm11bHQoMSksMCwwLCExLHksdSksZD1OO319Yj0hMTt9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxlLG8scyk7fX0sSW8ucHJvdG90eXBlLmFkZEN1cnJlbnRWZXJ0ZXg9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzKXt2YXIgdSxwPXRoaXMubGF5b3V0VmVydGV4QXJyYXksbD10aGlzLmluZGV4QXJyYXk7cyYmKGU9Vm8oZSxzKSksdT1yLmNsb25lKCksbiYmdS5fc3ViKHIucGVycCgpLl9tdWx0KG4pKSxCbyhwLHQsdSxhLCExLG4sZSksdGhpcy5lMz1vLnZlcnRleExlbmd0aCsrLHRoaXMuZTE+PTAmJnRoaXMuZTI+PTAmJihsLmVtcGxhY2VCYWNrKHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzKSxvLnByaW1pdGl2ZUxlbmd0aCsrKSx0aGlzLmUxPXRoaXMuZTIsdGhpcy5lMj10aGlzLmUzLHU9ci5tdWx0KC0xKSxpJiZ1Ll9zdWIoci5wZXJwKCkuX211bHQoaSkpLEJvKHAsdCx1LGEsITAsLWksZSksdGhpcy5lMz1vLnZlcnRleExlbmd0aCsrLHRoaXMuZTE+PTAmJnRoaXMuZTI+PTAmJihsLmVtcGxhY2VCYWNrKHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzKSxvLnByaW1pdGl2ZUxlbmd0aCsrKSx0aGlzLmUxPXRoaXMuZTIsdGhpcy5lMj10aGlzLmUzLGU+U28vMiYmIXMmJih0aGlzLmRpc3RhbmNlPTAsdGhpcy5hZGRDdXJyZW50VmVydGV4KHQsdGhpcy5kaXN0YW5jZSxyLG4saSxhLG8pKTt9LElvLnByb3RvdHlwZS5hZGRQaWVTbGljZVZlcnRleD1mdW5jdGlvbih0LGUscixuLGksYSl7cj1yLm11bHQobj8tMToxKTt2YXIgbz10aGlzLmxheW91dFZlcnRleEFycmF5LHM9dGhpcy5pbmRleEFycmF5O2EmJihlPVZvKGUsYSkpLEJvKG8sdCxyLCExLG4sMCxlKSx0aGlzLmUzPWkudmVydGV4TGVuZ3RoKyssdGhpcy5lMT49MCYmdGhpcy5lMj49MCYmKHMuZW1wbGFjZUJhY2sodGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpLGkucHJpbWl0aXZlTGVuZ3RoKyspLG4/dGhpcy5lMj10aGlzLmUzOnRoaXMuZTE9dGhpcy5lMzt9LGtyKFwiTGluZUJ1Y2tldFwiLElvLHtvbWl0OltcImxheWVyc1wiLFwiZmVhdHVyZXNcIl19KTt2YXIgUG89bmV3IGVuKHtcImxpbmUtY2FwXCI6bmV3IFlyKEwubGF5b3V0X2xpbmVbXCJsaW5lLWNhcFwiXSksXCJsaW5lLWpvaW5cIjpuZXcgJHIoTC5sYXlvdXRfbGluZVtcImxpbmUtam9pblwiXSksXCJsaW5lLW1pdGVyLWxpbWl0XCI6bmV3IFlyKEwubGF5b3V0X2xpbmVbXCJsaW5lLW1pdGVyLWxpbWl0XCJdKSxcImxpbmUtcm91bmQtbGltaXRcIjpuZXcgWXIoTC5sYXlvdXRfbGluZVtcImxpbmUtcm91bmQtbGltaXRcIl0pfSksTW89e3BhaW50Om5ldyBlbih7XCJsaW5lLW9wYWNpdHlcIjpuZXcgJHIoTC5wYWludF9saW5lW1wibGluZS1vcGFjaXR5XCJdKSxcImxpbmUtY29sb3JcIjpuZXcgJHIoTC5wYWludF9saW5lW1wibGluZS1jb2xvclwiXSksXCJsaW5lLXRyYW5zbGF0ZVwiOm5ldyBZcihMLnBhaW50X2xpbmVbXCJsaW5lLXRyYW5zbGF0ZVwiXSksXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgWXIoTC5wYWludF9saW5lW1wibGluZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImxpbmUtd2lkdGhcIjpuZXcgJHIoTC5wYWludF9saW5lW1wibGluZS13aWR0aFwiXSksXCJsaW5lLWdhcC13aWR0aFwiOm5ldyAkcihMLnBhaW50X2xpbmVbXCJsaW5lLWdhcC13aWR0aFwiXSksXCJsaW5lLW9mZnNldFwiOm5ldyAkcihMLnBhaW50X2xpbmVbXCJsaW5lLW9mZnNldFwiXSksXCJsaW5lLWJsdXJcIjpuZXcgJHIoTC5wYWludF9saW5lW1wibGluZS1ibHVyXCJdKSxcImxpbmUtZGFzaGFycmF5XCI6bmV3IFFyKEwucGFpbnRfbGluZVtcImxpbmUtZGFzaGFycmF5XCJdKSxcImxpbmUtcGF0dGVyblwiOm5ldyBXcihMLnBhaW50X2xpbmVbXCJsaW5lLXBhdHRlcm5cIl0pLFwibGluZS1ncmFkaWVudFwiOm5ldyB0bihMLnBhaW50X2xpbmVbXCJsaW5lLWdyYWRpZW50XCJdKX0pLGxheW91dDpQb30sQ289bmV3KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gcj1uZXcgcXIoTWF0aC5mbG9vcihyLnpvb20pLHtub3c6ci5ub3csZmFkZUR1cmF0aW9uOnIuZmFkZUR1cmF0aW9uLHpvb21IaXN0b3J5OnIuem9vbUhpc3RvcnksdHJhbnNpdGlvbjpyLnRyYW5zaXRpb259KSx0LnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlLmNhbGwodGhpcyxlLHIpfSxlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbihlLHIsbixpKXtyZXR1cm4gcj1jKHt9LHIse3pvb206TWF0aC5mbG9vcihyLnpvb20pfSksdC5wcm90b3R5cGUuZXZhbHVhdGUuY2FsbCh0aGlzLGUscixuLGkpfSxlfSgkcikpKE1vLnBhaW50LnByb3BlcnRpZXNbXCJsaW5lLXdpZHRoXCJdLnNwZWNpZmljYXRpb24pO0NvLnVzZUludGVnZXJab29tPSEwO3ZhciBUbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsTW8pO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlPWZ1bmN0aW9uKHQpe1wibGluZS1ncmFkaWVudFwiPT09dCYmdGhpcy5fdXBkYXRlR3JhZGllbnQoKTt9LGUucHJvdG90eXBlLl91cGRhdGVHcmFkaWVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImxpbmUtZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbjt0aGlzLmdyYWRpZW50PWhhKHQsXCJsaW5lUHJvZ3Jlc3NcIiksdGhpcy5ncmFkaWVudFRleHR1cmU9bnVsbDt9LGUucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLnJlY2FsY3VsYXRlLmNhbGwodGhpcyxlKSx0aGlzLnBhaW50Ll92YWx1ZXNbXCJsaW5lLWZsb29yd2lkdGhcIl09Q28ucG9zc2libHlFdmFsdWF0ZSh0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuX3ZhbHVlc1tcImxpbmUtd2lkdGhcIl0udmFsdWUsZSk7fSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJbyh0KX0sZS5wcm90b3R5cGUucXVlcnlSYWRpdXM9ZnVuY3Rpb24odCl7dmFyIGU9dCxyPUVvKFZpKFwibGluZS13aWR0aFwiLHRoaXMsZSksVmkoXCJsaW5lLWdhcC13aWR0aFwiLHRoaXMsZSkpLG49VmkoXCJsaW5lLW9mZnNldFwiLHRoaXMsZSk7cmV0dXJuIHIvMitNYXRoLmFicyhuKStQaSh0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlXCIpKX0sZS5wcm90b3R5cGUucXVlcnlJbnRlcnNlY3RzRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGksbyxzKXt2YXIgdT1NaSh0LHRoaXMucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxzKSxwPXMvMipFbyh0aGlzLnBhaW50LmdldChcImxpbmUtd2lkdGhcIikuZXZhbHVhdGUoZSxyKSx0aGlzLnBhaW50LmdldChcImxpbmUtZ2FwLXdpZHRoXCIpLmV2YWx1YXRlKGUscikpLGw9dGhpcy5wYWludC5nZXQoXCJsaW5lLW9mZnNldFwiKS5ldmFsdWF0ZShlLHIpO3JldHVybiBsJiYobj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1bXSxuPW5ldyBhKDAsMCksaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3IodmFyIG89dFtpXSxzPVtdLHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIHA9b1t1LTFdLGw9b1t1XSxjPW9bdSsxXSxoPTA9PT11P246bC5zdWIocCkuX3VuaXQoKS5fcGVycCgpLGY9dT09PW8ubGVuZ3RoLTE/bjpjLnN1YihsKS5fdW5pdCgpLl9wZXJwKCkseT1oLl9hZGQoZikuX3VuaXQoKSxkPXkueCpmLngreS55KmYueTt5Ll9tdWx0KDEvZCkscy5wdXNoKHkuX211bHQoZSkuX2FkZChsKSk7fXIucHVzaChzKTt9cmV0dXJuIHJ9KG4sbCpzKSksX2kodSxuLHApfSxlfShybik7ZnVuY3Rpb24gRW8odCxlKXtyZXR1cm4gZT4wP2UrMip0OnR9dmFyIEZvPXNuKFt7bmFtZTpcImFfcG9zX29mZnNldFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2RhdGFcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifV0pLE9vPXNuKFt7bmFtZTpcImFfcHJvamVjdGVkX3Bvc1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0sNCksTG89KHNuKFt7bmFtZTpcImFfZmFkZV9vcGFjaXR5XCIsY29tcG9uZW50czoxLHR5cGU6XCJVaW50MzJcIn1dLDQpLHNuKFt7bmFtZTpcImFfcGxhY2VkXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50OFwifV0sNCkpLERvPShzbihbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJhbmNob3JQb2ludFhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJhbmNob3JQb2ludFlcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ4MVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInkxXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwieDJcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ5MlwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJmZWF0dXJlSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwic291cmNlTGF5ZXJJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJidWNrZXRJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInJhZGl1c1wifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInNpZ25lZERpc3RhbmNlRnJvbUFuY2hvclwifV0pLHNuKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfYW5jaG9yX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2V4dHJ1ZGVcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KSksam89c24oW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9hbmNob3JfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZXh0cnVkZVwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpO3NuKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcImFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJhbmNob3JZXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImdseXBoU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1HbHlwaHNcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwidmVydGV4U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lTGVuZ3RoXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInNlZ21lbnRcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibG93ZXJTaXplXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVwcGVyU2l6ZVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwibGluZU9mZnNldFhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImxpbmVPZmZzZXRZXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwid3JpdGluZ01vZGVcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJoaWRkZW5cIn1dKSxzbihbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJhbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiYW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImhvcml6b250YWxQbGFjZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJrZXlcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidGV4dEJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidGV4dEJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJmZWF0dXJlSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtR2x5cGhWZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1WZXJ0aWNhbEdseXBoVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImNyb3NzVGlsZUlEXCJ9XSksc24oW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJvZmZzZXRYXCJ9XSksc24oW3t0eXBlOlwiSW50MTZcIixuYW1lOlwieFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInlcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvclwifV0pO2Z1bmN0aW9uIFVvKHQsZSxyKXt2YXIgbj1lLmxheW91dC5nZXQoXCJ0ZXh0LXRyYW5zZm9ybVwiKS5ldmFsdWF0ZShyLHt9KTtyZXR1cm4gXCJ1cHBlcmNhc2VcIj09PW4/dD10LnRvTG9jYWxlVXBwZXJDYXNlKCk6XCJsb3dlcmNhc2VcIj09PW4mJih0PXQudG9Mb2NhbGVMb3dlckNhc2UoKSksVXIuYXBwbHlBcmFiaWNTaGFwaW5nJiYodD1Vci5hcHBseUFyYWJpY1NoYXBpbmcodCkpLHR9ZnVuY3Rpb24gcW8odCxlLHIpe3JldHVybiB0IGluc3RhbmNlb2YgY3Q/KHQuc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnRleHQ9VW8odC50ZXh0LGUscik7fSksdCk6VW8odCxlLHIpfXZhciBSbz17XCIhXCI6XCLvuJVcIixcIiNcIjpcIu+8g1wiLCQ6XCLvvIRcIixcIiVcIjpcIu+8hVwiLFwiJlwiOlwi77yGXCIsXCIoXCI6XCLvuLVcIixcIilcIjpcIu+4tlwiLFwiKlwiOlwi77yKXCIsXCIrXCI6XCLvvItcIixcIixcIjpcIu+4kFwiLFwiLVwiOlwi77iyXCIsXCIuXCI6XCLjg7tcIixcIi9cIjpcIu+8j1wiLFwiOlwiOlwi77iTXCIsXCI7XCI6XCLvuJRcIixcIjxcIjpcIu+4v1wiLFwiPVwiOlwi77ydXCIsXCI+XCI6XCLvuYBcIixcIj9cIjpcIu+4llwiLFwiQFwiOlwi77ygXCIsXCJbXCI6XCLvuYdcIixcIlxcXFxcIjpcIu+8vFwiLFwiXVwiOlwi77mIXCIsXCJeXCI6XCLvvL5cIixfOlwi77izXCIsXCJgXCI6XCLvvYBcIixcIntcIjpcIu+4t1wiLFwifFwiOlwi4oCVXCIsXCJ9XCI6XCLvuLhcIixcIn5cIjpcIu+9nlwiLFwiwqJcIjpcIu+/oFwiLFwiwqNcIjpcIu+/oVwiLFwiwqVcIjpcIu+/pVwiLFwiwqZcIjpcIu+/pFwiLFwiwqxcIjpcIu+/olwiLFwiwq9cIjpcIu+/o1wiLFwi4oCTXCI6XCLvuLJcIixcIuKAlFwiOlwi77ixXCIsXCLigJhcIjpcIu+5g1wiLFwi4oCZXCI6XCLvuYRcIixcIuKAnFwiOlwi77mBXCIsXCLigJ1cIjpcIu+5glwiLFwi4oCmXCI6XCLvuJlcIixcIuKAp1wiOlwi44O7XCIsXCLigqlcIjpcIu+/plwiLFwi44CBXCI6XCLvuJFcIixcIuOAglwiOlwi77iSXCIsXCLjgIhcIjpcIu+4v1wiLFwi44CJXCI6XCLvuYBcIixcIuOAilwiOlwi77i9XCIsXCLjgItcIjpcIu+4vlwiLFwi44CMXCI6XCLvuYFcIixcIuOAjVwiOlwi77mCXCIsXCLjgI5cIjpcIu+5g1wiLFwi44CPXCI6XCLvuYRcIixcIuOAkFwiOlwi77i7XCIsXCLjgJFcIjpcIu+4vFwiLFwi44CUXCI6XCLvuLlcIixcIuOAlVwiOlwi77i6XCIsXCLjgJZcIjpcIu+4l1wiLFwi44CXXCI6XCLvuJhcIixcIu+8gVwiOlwi77iVXCIsXCLvvIhcIjpcIu+4tVwiLFwi77yJXCI6XCLvuLZcIixcIu+8jFwiOlwi77iQXCIsXCLvvI1cIjpcIu+4slwiLFwi77yOXCI6XCLjg7tcIixcIu+8mlwiOlwi77iTXCIsXCLvvJtcIjpcIu+4lFwiLFwi77ycXCI6XCLvuL9cIixcIu+8nlwiOlwi77mAXCIsXCLvvJ9cIjpcIu+4llwiLFwi77y7XCI6XCLvuYdcIixcIu+8vVwiOlwi77mIXCIsXCLvvL9cIjpcIu+4s1wiLFwi772bXCI6XCLvuLdcIixcIu+9nFwiOlwi4oCVXCIsXCLvvZ1cIjpcIu+4uFwiLFwi772fXCI6XCLvuLVcIixcIu+9oFwiOlwi77i2XCIsXCLvvaFcIjpcIu+4klwiLFwi772iXCI6XCLvuYFcIixcIu+9o1wiOlwi77mCXCJ9O3ZhciBObz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscixuLGkpe3QuY2FsbCh0aGlzLGUsciksdGhpcy5hbmdsZT1uLHZvaWQgMCE9PWkmJih0aGlzLnNlZ21lbnQ9aSk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLngsdGhpcy55LHRoaXMuYW5nbGUsdGhpcy5zZWdtZW50KX0sZX0oYSk7a3IoXCJBbmNob3JcIixObyk7dmFyIFpvPTI1NjtmdW5jdGlvbiBYbyh0LGUpe3ZhciByPWUuZXhwcmVzc2lvbjtpZihcImNvbnN0YW50XCI9PT1yLmtpbmQpcmV0dXJuIHtmdW5jdGlvblR5cGU6XCJjb25zdGFudFwiLGxheW91dFNpemU6ci5ldmFsdWF0ZShuZXcgcXIodCsxKSl9O2lmKFwic291cmNlXCI9PT1yLmtpbmQpcmV0dXJuIHtmdW5jdGlvblR5cGU6XCJzb3VyY2VcIn07Zm9yKHZhciBuPXIuem9vbVN0b3BzLGk9MDtpPG4ubGVuZ3RoJiZuW2ldPD10OylpKys7Zm9yKHZhciBhPWk9TWF0aC5tYXgoMCxpLTEpO2E8bi5sZW5ndGgmJm5bYV08dCsxOylhKys7YT1NYXRoLm1pbihuLmxlbmd0aC0xLGEpO3ZhciBvPXttaW46bltpXSxtYXg6blthXX07cmV0dXJuIFwiY29tcG9zaXRlXCI9PT1yLmtpbmQ/e2Z1bmN0aW9uVHlwZTpcImNvbXBvc2l0ZVwiLHpvb21SYW5nZTpvLHByb3BlcnR5VmFsdWU6ZS52YWx1ZX06e2Z1bmN0aW9uVHlwZTpcImNhbWVyYVwiLGxheW91dFNpemU6ci5ldmFsdWF0ZShuZXcgcXIodCsxKSksem9vbVJhbmdlOm8sc2l6ZVJhbmdlOnttaW46ci5ldmFsdWF0ZShuZXcgcXIoby5taW4pKSxtYXg6ci5ldmFsdWF0ZShuZXcgcXIoby5tYXgpKX0scHJvcGVydHlWYWx1ZTplLnZhbHVlfX12YXIgSG89X28uVmVjdG9yVGlsZUZlYXR1cmUudHlwZXMsR289W3tuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQ4XCIsb2Zmc2V0OjB9XTtmdW5jdGlvbiBKbyh0LGUscixuLGksYSxvLHMpe3QuZW1wbGFjZUJhY2soZSxyLE1hdGgucm91bmQoMzIqbiksTWF0aC5yb3VuZCgzMippKSxhLG8scz9zWzBdOjAscz9zWzFdOjApO31mdW5jdGlvbiBLbyh0LGUscil7dC5lbXBsYWNlQmFjayhlLngsZS55LHIpLHQuZW1wbGFjZUJhY2soZS54LGUueSxyKSx0LmVtcGxhY2VCYWNrKGUueCxlLnksciksdC5lbXBsYWNlQmFjayhlLngsZS55LHIpO312YXIgWW89ZnVuY3Rpb24odCl7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgeW4sdGhpcy5pbmRleEFycmF5PW5ldyB6bix0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz10LHRoaXMuc2VnbWVudHM9bmV3IFpuLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5PW5ldyBkbix0aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheT1uZXcgbW4sdGhpcy5wbGFjZWRTeW1ib2xBcnJheT1uZXcgVG47fTtZby5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQsZSxyLG4pe3ImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LEZvLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXksZSksdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5LE9vLm1lbWJlcnMsITApLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheSxHbywhMCksdGhpcy5vcGFjaXR5VmVydGV4QnVmZmVyLml0ZW1TaXplPTEpLChyfHxuKSYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpO30sWW8ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKTt9LGtyKFwiU3ltYm9sQnVmZmVyc1wiLFlvKTt2YXIgJG89ZnVuY3Rpb24odCxlLHIpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHQsdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPWUsdGhpcy5pbmRleEFycmF5PW5ldyByLHRoaXMuc2VnbWVudHM9bmV3IFpuLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXk9bmV3IHhuO307JG8ucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMubGF5b3V0QXR0cmlidXRlcyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheSxMby5tZW1iZXJzLCEwKTt9LCRvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKTt9LGtyKFwiQ29sbGlzaW9uQnVmZmVyc1wiLCRvKTt2YXIgV289ZnVuY3Rpb24odCl7dGhpcy5jb2xsaXNpb25Cb3hBcnJheT10LmNvbGxpc2lvbkJveEFycmF5LHRoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW8sdGhpcy5zb3VyY2VMYXllckluZGV4PXQuc291cmNlTGF5ZXJJbmRleCx0aGlzLmhhc1BhdHRlcm49ITE7dmFyIGU9dGhpcy5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXM7dGhpcy50ZXh0U2l6ZURhdGE9WG8odGhpcy56b29tLGVbXCJ0ZXh0LXNpemVcIl0pLHRoaXMuaWNvblNpemVEYXRhPVhvKHRoaXMuem9vbSxlW1wiaWNvbi1zaXplXCJdKTt2YXIgcj10aGlzLmxheWVyc1swXS5sYXlvdXQsbj1cInZpZXdwb3J0LXlcIj09PXIuZ2V0KFwic3ltYm9sLXotb3JkZXJcIik7dGhpcy5zb3J0RmVhdHVyZXNCeVk9biYmKHIuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpfHxyLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKXx8ci5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIil8fHIuZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpKSx0aGlzLnNvdXJjZUlEPXQuc291cmNlSUQ7fTtXby5wcm90b3R5cGUuY3JlYXRlQXJyYXlzPWZ1bmN0aW9uKCl7dGhpcy50ZXh0PW5ldyBZbyhuZXcgbGkoRm8ubWVtYmVycyx0aGlzLmxheWVycyx0aGlzLnpvb20sZnVuY3Rpb24odCl7cmV0dXJuIC9edGV4dC8udGVzdCh0KX0pKSx0aGlzLmljb249bmV3IFlvKG5ldyBsaShGby5tZW1iZXJzLHRoaXMubGF5ZXJzLHRoaXMuem9vbSxmdW5jdGlvbih0KXtyZXR1cm4gL15pY29uLy50ZXN0KHQpfSkpLHRoaXMuY29sbGlzaW9uQm94PW5ldyAkbyhnbixEby5tZW1iZXJzLFNuKSx0aGlzLmNvbGxpc2lvbkNpcmNsZT1uZXcgJG8oZ24sam8ubWVtYmVycyx6biksdGhpcy5nbHlwaE9mZnNldEFycmF5PW5ldyBMbix0aGlzLmxpbmVWZXJ0ZXhBcnJheT1uZXcgam4sdGhpcy5zeW1ib2xJbnN0YW5jZXM9bmV3IEZuO30sV28ucHJvdG90eXBlLmNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKGVbdC5jaGFyQ29kZUF0KGkpXT0hMCxyJiZuKXt2YXIgYT1Sb1t0LmNoYXJBdChpKV07YSYmKGVbYS5jaGFyQ29kZUF0KDApXT0hMCk7fX0sV28ucHJvdG90eXBlLnBvcHVsYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5sYXllcnNbMF0sbj1yLmxheW91dCxpPW4uZ2V0KFwidGV4dC1mb250XCIpLGE9bi5nZXQoXCJ0ZXh0LWZpZWxkXCIpLG89bi5nZXQoXCJpY29uLWltYWdlXCIpLHM9KFwiY29uc3RhbnRcIiE9PWEudmFsdWUua2luZHx8YS52YWx1ZS52YWx1ZS50b1N0cmluZygpLmxlbmd0aD4wKSYmKFwiY29uc3RhbnRcIiE9PWkudmFsdWUua2luZHx8aS52YWx1ZS52YWx1ZS5sZW5ndGg+MCksdT1cImNvbnN0YW50XCIhPT1vLnZhbHVlLmtpbmR8fG8udmFsdWUudmFsdWUmJm8udmFsdWUudmFsdWUubGVuZ3RoPjA7aWYodGhpcy5mZWF0dXJlcz1bXSxzfHx1KXtmb3IodmFyIHA9ZS5pY29uRGVwZW5kZW5jaWVzLGw9ZS5nbHlwaERlcGVuZGVuY2llcyxjPW5ldyBxcih0aGlzLnpvb20pLGg9MCxmPXQ7aDxmLmxlbmd0aDtoKz0xKXt2YXIgeT1mW2hdLGQ9eS5mZWF0dXJlLG09eS5pbmRleCx2PXkuc291cmNlTGF5ZXJJbmRleDtpZihyLl9mZWF0dXJlRmlsdGVyKGMsZCkpe3ZhciBnPXZvaWQgMDtzJiYoZz1xbyhnPXIuZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKFwidGV4dC1maWVsZFwiLGQpLHIsZCkpO3ZhciB4PXZvaWQgMDtpZih1JiYoeD1yLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcImljb24taW1hZ2VcIixkKSksZ3x8eCl7dmFyIGI9e3RleHQ6ZyxpY29uOngsaW5kZXg6bSxzb3VyY2VMYXllckluZGV4OnYsZ2VvbWV0cnk6bWkoZCkscHJvcGVydGllczpkLnByb3BlcnRpZXMsdHlwZTpIb1tkLnR5cGVdfTtpZih2b2lkIDAhPT1kLmlkJiYoYi5pZD1kLmlkKSx0aGlzLmZlYXR1cmVzLnB1c2goYikseCYmKHBbeF09ITApLGcpe3ZhciBfPWkuZXZhbHVhdGUoZCx7fSkuam9pbihcIixcIiksdz1sW19dPWxbX118fHt9LEE9XCJtYXBcIj09PW4uZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PW4uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKTtpZihnIGluc3RhbmNlb2YgY3QpZm9yKHZhciBrPTAsej1nLnNlY3Rpb25zO2s8ei5sZW5ndGg7ays9MSl7dmFyIFM9eltrXSxCPVByKGcudG9TdHJpbmcoKSksST1TLmZvbnRTdGFja3x8XyxWPWxbSV09bFtJXXx8e307dGhpcy5jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcyhTLnRleHQsVixBLEIpO31lbHNle3ZhciBQPVByKGcpO3RoaXMuY2FsY3VsYXRlR2x5cGhEZXBlbmRlbmNpZXMoZyx3LEEsUCk7fX19fX1cImxpbmVcIj09PW4uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSYmKHRoaXMuZmVhdHVyZXM9ZnVuY3Rpb24odCl7dmFyIGU9e30scj17fSxuPVtdLGk9MDtmdW5jdGlvbiBhKGUpe24ucHVzaCh0W2VdKSxpKys7fWZ1bmN0aW9uIG8odCxlLGkpe3ZhciBhPXJbdF07cmV0dXJuIGRlbGV0ZSByW3RdLHJbZV09YSxuW2FdLmdlb21ldHJ5WzBdLnBvcCgpLG5bYV0uZ2VvbWV0cnlbMF09blthXS5nZW9tZXRyeVswXS5jb25jYXQoaVswXSksYX1mdW5jdGlvbiBzKHQscixpKXt2YXIgYT1lW3JdO3JldHVybiBkZWxldGUgZVtyXSxlW3RdPWEsblthXS5nZW9tZXRyeVswXS5zaGlmdCgpLG5bYV0uZ2VvbWV0cnlbMF09aVswXS5jb25jYXQoblthXS5nZW9tZXRyeVswXSksYX1mdW5jdGlvbiB1KHQsZSxyKXt2YXIgbj1yP2VbMF1bZVswXS5sZW5ndGgtMV06ZVswXVswXTtyZXR1cm4gdCtcIjpcIituLngrXCI6XCIrbi55fWZvcih2YXIgcD0wO3A8dC5sZW5ndGg7cCsrKXt2YXIgbD10W3BdLGM9bC5nZW9tZXRyeSxoPWwudGV4dCBpbnN0YW5jZW9mIGN0P2wudGV4dC50b1N0cmluZygpOmwudGV4dDtpZihoKXt2YXIgZj11KGgsYykseT11KGgsYywhMCk7aWYoZiBpbiByJiZ5IGluIGUmJnJbZl0hPT1lW3ldKXt2YXIgZD1zKGYseSxjKSxtPW8oZix5LG5bZF0uZ2VvbWV0cnkpO2RlbGV0ZSBlW2ZdLGRlbGV0ZSByW3ldLHJbdShoLG5bbV0uZ2VvbWV0cnksITApXT1tLG5bZF0uZ2VvbWV0cnk9bnVsbDt9ZWxzZSBmIGluIHI/byhmLHksYyk6eSBpbiBlP3MoZix5LGMpOihhKHApLGVbZl09aS0xLHJbeV09aS0xKTt9ZWxzZSBhKHApO31yZXR1cm4gbi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2VvbWV0cnl9KX0odGhpcy5mZWF0dXJlcykpO319LFdvLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiYodGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5sYXllcnMsciksdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5sYXllcnMscikpO30sV28ucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aH0sV28ucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR8fHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9LFdvLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy51cGxvYWRlZHx8KHRoaXMuY29sbGlzaW9uQm94LnVwbG9hZCh0KSx0aGlzLmNvbGxpc2lvbkNpcmNsZS51cGxvYWQodCkpLHRoaXMudGV4dC51cGxvYWQodCx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkKSx0aGlzLmljb24udXBsb2FkKHQsdGhpcy5zb3J0RmVhdHVyZXNCeVksIXRoaXMudXBsb2FkZWQsdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCksdGhpcy51cGxvYWRlZD0hMDt9LFdvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy50ZXh0LmRlc3Ryb3koKSx0aGlzLmljb24uZGVzdHJveSgpLHRoaXMuY29sbGlzaW9uQm94LmRlc3Ryb3koKSx0aGlzLmNvbGxpc2lvbkNpcmNsZS5kZXN0cm95KCk7fSxXby5wcm90b3R5cGUuYWRkVG9MaW5lVmVydGV4QXJyYXk9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxpbmVWZXJ0ZXhBcnJheS5sZW5ndGg7aWYodm9pZCAwIT09dC5zZWdtZW50KXtmb3IodmFyIG49dC5kaXN0KGVbdC5zZWdtZW50KzFdKSxpPXQuZGlzdChlW3Quc2VnbWVudF0pLGE9e30sbz10LnNlZ21lbnQrMTtvPGUubGVuZ3RoO28rKylhW29dPXt4OmVbb10ueCx5OmVbb10ueSx0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcjpufSxvPGUubGVuZ3RoLTEmJihuKz1lW28rMV0uZGlzdChlW29dKSk7Zm9yKHZhciBzPXQuc2VnbWVudHx8MDtzPj0wO3MtLSlhW3NdPXt4OmVbc10ueCx5OmVbc10ueSx0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcjppfSxzPjAmJihpKz1lW3MtMV0uZGlzdChlW3NdKSk7Zm9yKHZhciB1PTA7dTxlLmxlbmd0aDt1Kyspe3ZhciBwPWFbdV07dGhpcy5saW5lVmVydGV4QXJyYXkuZW1wbGFjZUJhY2socC54LHAueSxwLnRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yKTt9fXJldHVybiB7bGluZVN0YXJ0SW5kZXg6cixsaW5lTGVuZ3RoOnRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aC1yfX0sV28ucHJvdG90eXBlLmFkZFN5bWJvbHM9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUscCl7Zm9yKHZhciBsPXQuaW5kZXhBcnJheSxjPXQubGF5b3V0VmVydGV4QXJyYXksaD10LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxmPXQuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCplLmxlbmd0aCx0LmxheW91dFZlcnRleEFycmF5LHQuaW5kZXhBcnJheSkseT10aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLGQ9Zi52ZXJ0ZXhMZW5ndGgsbT0wLHY9ZTttPHYubGVuZ3RoO20rPTEpe3ZhciBnPXZbbV0seD1nLnRsLGI9Zy50cixfPWcuYmwsdz1nLmJyLEE9Zy50ZXgsaz1mLnZlcnRleExlbmd0aCx6PWcuZ2x5cGhPZmZzZXRbMV07Sm8oYyxzLngscy55LHgueCx6K3gueSxBLngsQS55LHIpLEpvKGMscy54LHMueSxiLngseitiLnksQS54K0EudyxBLnksciksSm8oYyxzLngscy55LF8ueCx6K18ueSxBLngsQS55K0EuaCxyKSxKbyhjLHMueCxzLnksdy54LHordy55LEEueCtBLncsQS55K0EuaCxyKSxLbyhoLHMsMCksbC5lbXBsYWNlQmFjayhrLGsrMSxrKzIpLGwuZW1wbGFjZUJhY2soaysxLGsrMixrKzMpLGYudmVydGV4TGVuZ3RoKz00LGYucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhnLmdseXBoT2Zmc2V0WzBdKTt9dC5wbGFjZWRTeW1ib2xBcnJheS5lbXBsYWNlQmFjayhzLngscy55LHksdGhpcy5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aC15LGQsdSxwLHMuc2VnbWVudCxyP3JbMF06MCxyP3JbMV06MCxuWzBdLG5bMV0sbywhMSksdC5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0LmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxhLGEuaW5kZXgse30pO30sV28ucHJvdG90eXBlLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleD1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIGUuZW1wbGFjZUJhY2soMCwwKSx0LmVtcGxhY2VCYWNrKHIueCxyLnksbixpLE1hdGgucm91bmQoYS54KSxNYXRoLnJvdW5kKGEueSkpfSxXby5wcm90b3R5cGUuYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcz1mdW5jdGlvbih0LGUscixuLGksbyxzLHUpe3ZhciBwPWkuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCxpLmxheW91dFZlcnRleEFycmF5LGkuaW5kZXhBcnJheSksbD1wLnZlcnRleExlbmd0aCxjPWkubGF5b3V0VmVydGV4QXJyYXksaD1pLmNvbGxpc2lvblZlcnRleEFycmF5LGY9cy5hbmNob3JYLHk9cy5hbmNob3JZO2lmKHRoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGV4KGMsaCxvLGYseSxuZXcgYSh0LGUpKSx0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleChjLGgsbyxmLHksbmV3IGEocixlKSksdGhpcy5fYWRkQ29sbGlzaW9uRGVidWdWZXJ0ZXgoYyxoLG8sZix5LG5ldyBhKHIsbikpLHRoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGV4KGMsaCxvLGYseSxuZXcgYSh0LG4pKSxwLnZlcnRleExlbmd0aCs9NCx1KXt2YXIgZD1pLmluZGV4QXJyYXk7ZC5lbXBsYWNlQmFjayhsLGwrMSxsKzIpLGQuZW1wbGFjZUJhY2sobCxsKzIsbCszKSxwLnByaW1pdGl2ZUxlbmd0aCs9Mjt9ZWxzZXt2YXIgbT1pLmluZGV4QXJyYXk7bS5lbXBsYWNlQmFjayhsLGwrMSksbS5lbXBsYWNlQmFjayhsKzEsbCsyKSxtLmVtcGxhY2VCYWNrKGwrMixsKzMpLG0uZW1wbGFjZUJhY2sobCszLGwpLHAucHJpbWl0aXZlTGVuZ3RoKz00O319LFdvLnByb3RvdHlwZS5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49dDtuPGU7bisrKXt2YXIgaT10aGlzLmNvbGxpc2lvbkJveEFycmF5LmdldChuKSxhPWkueDEsbz1pLnkxLHM9aS54Mix1PWkueTIscD1pLnJhZGl1cz4wO3RoaXMuYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyhhLG8scyx1LHA/dGhpcy5jb2xsaXNpb25DaXJjbGU6dGhpcy5jb2xsaXNpb25Cb3gsaS5hbmNob3JQb2ludCxyLHApO319LFdvLnByb3RvdHlwZS5nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpO3RoaXMuYWRkRGVidWdDb2xsaXNpb25Cb3hlcyhlLnRleHRCb3hTdGFydEluZGV4LGUudGV4dEJveEVuZEluZGV4LGUpLHRoaXMuYWRkRGVidWdDb2xsaXNpb25Cb3hlcyhlLmljb25Cb3hTdGFydEluZGV4LGUuaWNvbkJveEVuZEluZGV4LGUpO319LFdvLnByb3RvdHlwZS5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbD1mdW5jdGlvbih0LGUscixuLGkpe2Zvcih2YXIgYT17fSxvPWU7bzxyO28rKyl7dmFyIHM9dC5nZXQobyk7aWYoMD09PXMucmFkaXVzKXthLnRleHRCb3g9e3gxOnMueDEseTE6cy55MSx4MjpzLngyLHkyOnMueTIsYW5jaG9yUG9pbnRYOnMuYW5jaG9yUG9pbnRYLGFuY2hvclBvaW50WTpzLmFuY2hvclBvaW50WX0sYS50ZXh0RmVhdHVyZUluZGV4PXMuZmVhdHVyZUluZGV4O2JyZWFrfWEudGV4dENpcmNsZXN8fChhLnRleHRDaXJjbGVzPVtdLGEudGV4dEZlYXR1cmVJbmRleD1zLmZlYXR1cmVJbmRleCk7YS50ZXh0Q2lyY2xlcy5wdXNoKHMuYW5jaG9yUG9pbnRYLHMuYW5jaG9yUG9pbnRZLHMucmFkaXVzLHMuc2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yLDEpO31mb3IodmFyIHU9bjt1PGk7dSsrKXt2YXIgcD10LmdldCh1KTtpZigwPT09cC5yYWRpdXMpe2EuaWNvbkJveD17eDE6cC54MSx5MTpwLnkxLHgyOnAueDIseTI6cC55MixhbmNob3JQb2ludFg6cC5hbmNob3JQb2ludFgsYW5jaG9yUG9pbnRZOnAuYW5jaG9yUG9pbnRZfSxhLmljb25GZWF0dXJlSW5kZXg9cC5mZWF0dXJlSW5kZXg7YnJlYWt9fXJldHVybiBhfSxXby5wcm90b3R5cGUuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcz1mdW5jdGlvbih0KXt0aGlzLmNvbGxpc2lvbkFycmF5cz1bXTtmb3IodmFyIGU9MDtlPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspe3ZhciByPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChlKTt0aGlzLmNvbGxpc2lvbkFycmF5cy5wdXNoKHRoaXMuX2Rlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXNGb3JTeW1ib2wodCxyLnRleHRCb3hTdGFydEluZGV4LHIudGV4dEJveEVuZEluZGV4LHIuaWNvbkJveFN0YXJ0SW5kZXgsci5pY29uQm94RW5kSW5kZXgpKTt9fSxXby5wcm90b3R5cGUuaGFzVGV4dERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfSxXby5wcm90b3R5cGUuaGFzSWNvbkRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfSxXby5wcm90b3R5cGUuaGFzQ29sbGlzaW9uQm94RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH0sV28ucHJvdG90eXBlLmhhc0NvbGxpc2lvbkNpcmNsZURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xsaXNpb25DaXJjbGUuc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9LFdvLnByb3RvdHlwZS5hZGRJbmRpY2VzRm9yUGxhY2VkVGV4dFN5bWJvbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh0KSxyPWUudmVydGV4U3RhcnRJbmRleCs0KmUubnVtR2x5cGhzLG49ZS52ZXJ0ZXhTdGFydEluZGV4O248cjtuKz00KXRoaXMudGV4dC5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG4sbisxLG4rMiksdGhpcy50ZXh0LmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobisxLG4rMixuKzMpO30sV28ucHJvdG90eXBlLnNvcnRGZWF0dXJlcz1mdW5jdGlvbih0KXtpZih0aGlzLnNvcnRGZWF0dXJlc0J5WSYmdGhpcy5zb3J0ZWRBbmdsZSE9PXQmJih0aGlzLnNvcnRlZEFuZ2xlPXQsISh0aGlzLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjF8fHRoaXMuaWNvbi5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MSkpKXtmb3IodmFyIGU9W10scj0wO3I8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO3IrKyllLnB1c2gocik7Zm9yKHZhciBuPU1hdGguc2luKHQpLGk9TWF0aC5jb3ModCksYT1bXSxvPVtdLHM9MDtzPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtzKyspe3ZhciB1PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChzKTthLnB1c2goMHxNYXRoLnJvdW5kKG4qdS5hbmNob3JYK2kqdS5hbmNob3JZKSksby5wdXNoKHUuZmVhdHVyZUluZGV4KTt9ZS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFbdF0tYVtlXXx8b1tlXS1vW3RdfSksdGhpcy50ZXh0LmluZGV4QXJyYXkuY2xlYXIoKSx0aGlzLmljb24uaW5kZXhBcnJheS5jbGVhcigpLHRoaXMuZmVhdHVyZVNvcnRPcmRlcj1bXTtmb3IodmFyIHA9MCxsPWU7cDxsLmxlbmd0aDtwKz0xKXt2YXIgYz1sW3BdLGg9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGMpO3RoaXMuZmVhdHVyZVNvcnRPcmRlci5wdXNoKGguZmVhdHVyZUluZGV4KSxoLmhvcml6b250YWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFRleHRTeW1ib2woaC5ob3Jpem9udGFsUGxhY2VkVGV4dFN5bWJvbEluZGV4KSxoLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRUZXh0U3ltYm9sKGgudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpO3ZhciBmPXRoaXMuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoYyk7aWYoZi5udW1HbHlwaHMpe3ZhciB5PWYudmVydGV4U3RhcnRJbmRleDt0aGlzLmljb24uaW5kZXhBcnJheS5lbXBsYWNlQmFjayh5LHkrMSx5KzIpLHRoaXMuaWNvbi5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHkrMSx5KzIseSszKTt9fXRoaXMudGV4dC5pbmRleEJ1ZmZlciYmdGhpcy50ZXh0LmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LmluZGV4QXJyYXkpLHRoaXMuaWNvbi5pbmRleEJ1ZmZlciYmdGhpcy5pY29uLmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLmluZGV4QXJyYXkpO319LGtyKFwiU3ltYm9sQnVja2V0XCIsV28se29taXQ6W1wibGF5ZXJzXCIsXCJjb2xsaXNpb25Cb3hBcnJheVwiLFwiZmVhdHVyZXNcIixcImNvbXBhcmVUZXh0XCJdfSksV28uTUFYX0dMWVBIUz02NTUzNSxXby5hZGREeW5hbWljQXR0cmlidXRlcz1Lbzt2YXIgUW89bmV3IGVuKHtcInN5bWJvbC1wbGFjZW1lbnRcIjpuZXcgWXIoTC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXBsYWNlbWVudFwiXSksXCJzeW1ib2wtc3BhY2luZ1wiOm5ldyBZcihMLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtc3BhY2luZ1wiXSksXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjpuZXcgWXIoTC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLWF2b2lkLWVkZ2VzXCJdKSxcInN5bWJvbC16LW9yZGVyXCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcInN5bWJvbC16LW9yZGVyXCJdKSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOm5ldyBZcihMLmxheW91dF9zeW1ib2xbXCJpY29uLWFsbG93LW92ZXJsYXBcIl0pLFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcImljb24taWdub3JlLXBsYWNlbWVudFwiXSksXCJpY29uLW9wdGlvbmFsXCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcImljb24tb3B0aW9uYWxcIl0pLFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpuZXcgWXIoTC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl0pLFwiaWNvbi1zaXplXCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcImljb24tc2l6ZVwiXSksXCJpY29uLXRleHQtZml0XCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXRcIl0pLFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXQtcGFkZGluZ1wiXSksXCJpY29uLWltYWdlXCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcImljb24taW1hZ2VcIl0pLFwiaWNvbi1yb3RhdGVcIjpuZXcgJHIoTC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGVcIl0pLFwiaWNvbi1wYWRkaW5nXCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcImljb24tcGFkZGluZ1wiXSksXCJpY29uLWtlZXAtdXByaWdodFwiOm5ldyBZcihMLmxheW91dF9zeW1ib2xbXCJpY29uLWtlZXAtdXByaWdodFwiXSksXCJpY29uLW9mZnNldFwiOm5ldyAkcihMLmxheW91dF9zeW1ib2xbXCJpY29uLW9mZnNldFwiXSksXCJpY29uLWFuY2hvclwiOm5ldyAkcihMLmxheW91dF9zeW1ib2xbXCJpY29uLWFuY2hvclwiXSksXCJpY29uLXBpdGNoLWFsaWdubWVudFwiOm5ldyBZcihMLmxheW91dF9zeW1ib2xbXCJpY29uLXBpdGNoLWFsaWdubWVudFwiXSksXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiOm5ldyBZcihMLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiXSksXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOm5ldyBZcihMLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXSksXCJ0ZXh0LWZpZWxkXCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtZmllbGRcIl0pLFwidGV4dC1mb250XCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtZm9udFwiXSksXCJ0ZXh0LXNpemVcIjpuZXcgJHIoTC5sYXlvdXRfc3ltYm9sW1widGV4dC1zaXplXCJdKSxcInRleHQtbWF4LXdpZHRoXCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtbWF4LXdpZHRoXCJdKSxcInRleHQtbGluZS1oZWlnaHRcIjpuZXcgWXIoTC5sYXlvdXRfc3ltYm9sW1widGV4dC1saW5lLWhlaWdodFwiXSksXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtbGV0dGVyLXNwYWNpbmdcIl0pLFwidGV4dC1qdXN0aWZ5XCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtanVzdGlmeVwiXSksXCJ0ZXh0LWFuY2hvclwiOm5ldyAkcihMLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFuY2hvclwiXSksXCJ0ZXh0LW1heC1hbmdsZVwiOm5ldyBZcihMLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW1heC1hbmdsZVwiXSksXCJ0ZXh0LXJvdGF0ZVwiOm5ldyAkcihMLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0ZVwiXSksXCJ0ZXh0LXBhZGRpbmdcIjpuZXcgWXIoTC5sYXlvdXRfc3ltYm9sW1widGV4dC1wYWRkaW5nXCJdKSxcInRleHQta2VlcC11cHJpZ2h0XCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcInRleHQta2VlcC11cHJpZ2h0XCJdKSxcInRleHQtdHJhbnNmb3JtXCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtdHJhbnNmb3JtXCJdKSxcInRleHQtb2Zmc2V0XCI6bmV3ICRyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtb2Zmc2V0XCJdKSxcInRleHQtYWxsb3ctb3ZlcmxhcFwiOm5ldyBZcihMLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIl0pLFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtaWdub3JlLXBsYWNlbWVudFwiXSksXCJ0ZXh0LW9wdGlvbmFsXCI6bmV3IFlyKEwubGF5b3V0X3N5bWJvbFtcInRleHQtb3B0aW9uYWxcIl0pfSksdHM9e3BhaW50Om5ldyBlbih7XCJpY29uLW9wYWNpdHlcIjpuZXcgJHIoTC5wYWludF9zeW1ib2xbXCJpY29uLW9wYWNpdHlcIl0pLFwiaWNvbi1jb2xvclwiOm5ldyAkcihMLnBhaW50X3N5bWJvbFtcImljb24tY29sb3JcIl0pLFwiaWNvbi1oYWxvLWNvbG9yXCI6bmV3ICRyKEwucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLWNvbG9yXCJdKSxcImljb24taGFsby13aWR0aFwiOm5ldyAkcihMLnBhaW50X3N5bWJvbFtcImljb24taGFsby13aWR0aFwiXSksXCJpY29uLWhhbG8tYmx1clwiOm5ldyAkcihMLnBhaW50X3N5bWJvbFtcImljb24taGFsby1ibHVyXCJdKSxcImljb24tdHJhbnNsYXRlXCI6bmV3IFlyKEwucGFpbnRfc3ltYm9sW1wiaWNvbi10cmFuc2xhdGVcIl0pLFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IFlyKEwucGFpbnRfc3ltYm9sW1wiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSxcInRleHQtb3BhY2l0eVwiOm5ldyAkcihMLnBhaW50X3N5bWJvbFtcInRleHQtb3BhY2l0eVwiXSksXCJ0ZXh0LWNvbG9yXCI6bmV3ICRyKEwucGFpbnRfc3ltYm9sW1widGV4dC1jb2xvclwiXSksXCJ0ZXh0LWhhbG8tY29sb3JcIjpuZXcgJHIoTC5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8tY29sb3JcIl0pLFwidGV4dC1oYWxvLXdpZHRoXCI6bmV3ICRyKEwucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLXdpZHRoXCJdKSxcInRleHQtaGFsby1ibHVyXCI6bmV3ICRyKEwucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWJsdXJcIl0pLFwidGV4dC10cmFuc2xhdGVcIjpuZXcgWXIoTC5wYWludF9zeW1ib2xbXCJ0ZXh0LXRyYW5zbGF0ZVwiXSksXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgWXIoTC5wYWludF9zeW1ib2xbXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIl0pfSksbGF5b3V0OlFvfSxlcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsdHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucmVjYWxjdWxhdGU9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUucmVjYWxjdWxhdGUuY2FsbCh0aGlzLGUpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJihcInBvaW50XCIhPT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP3RoaXMubGF5b3V0Ll92YWx1ZXNbXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiXT1cIm1hcFwiOnRoaXMubGF5b3V0Ll92YWx1ZXNbXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiXT1cInZpZXdwb3J0XCIpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJihcInBvaW50XCIhPT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP3RoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXT1cIm1hcFwiOnRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXT1cInZpZXdwb3J0XCIpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC1waXRjaC1hbGlnbm1lbnRcIl09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1wiaWNvbi1waXRjaC1hbGlnbm1lbnRcIl09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikpO30sZS5wcm90b3R5cGUuZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbj10aGlzLmxheW91dC5nZXQodCkuZXZhbHVhdGUoZSx7fSksaT10aGlzLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW3RdO3JldHVybiBpLmlzRGF0YURyaXZlbigpfHxDZShpLnZhbHVlKT9uOihyPWUucHJvcGVydGllcyxuLnJlcGxhY2UoL3soW157fV0rKX0vZyxmdW5jdGlvbih0LGUpe3JldHVybiBlIGluIHI/U3RyaW5nKHJbZV0pOlwiXCJ9KSl9LGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFdvKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5xdWVyeUludGVyc2VjdHNGZWF0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlfShybikscnM9e3BhaW50Om5ldyBlbih7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6bmV3IFlyKEwucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtY29sb3JcIl0pLFwiYmFja2dyb3VuZC1wYXR0ZXJuXCI6bmV3IFFyKEwucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtcGF0dGVyblwiXSksXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIjpuZXcgWXIoTC5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1vcGFjaXR5XCJdKX0pfSxucz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUscnMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZX0ocm4pLGlzPXtwYWludDpuZXcgZW4oe1wicmFzdGVyLW9wYWNpdHlcIjpuZXcgWXIoTC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItb3BhY2l0eVwiXSksXCJyYXN0ZXItaHVlLXJvdGF0ZVwiOm5ldyBZcihMLnBhaW50X3Jhc3RlcltcInJhc3Rlci1odWUtcm90YXRlXCJdKSxcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiOm5ldyBZcihMLnBhaW50X3Jhc3RlcltcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiXSksXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIjpuZXcgWXIoTC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIl0pLFwicmFzdGVyLXNhdHVyYXRpb25cIjpuZXcgWXIoTC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItc2F0dXJhdGlvblwiXSksXCJyYXN0ZXItY29udHJhc3RcIjpuZXcgWXIoTC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItY29udHJhc3RcIl0pLFwicmFzdGVyLXJlc2FtcGxpbmdcIjpuZXcgWXIoTC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItcmVzYW1wbGluZ1wiXSksXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiOm5ldyBZcihMLnBhaW50X3Jhc3RlcltcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCJdKX0pfSxhcz17Y2lyY2xlOm5hLGhlYXRtYXA6ZmEsaGlsbHNoYWRlOmRhLGZpbGw6dG8sXCJmaWxsLWV4dHJ1c2lvblwiOnBvLGxpbmU6VG8sc3ltYm9sOmVzLGJhY2tncm91bmQ6bnMscmFzdGVyOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxpcyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlfShybil9O2Z1bmN0aW9uIG9zKHQpe2Zvcih2YXIgZT0wLHI9MCxuPTAsaT10O248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtlKz1hLncqYS5oLHI9TWF0aC5tYXgocixhLncpO310LnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5oLXQuaH0pO2Zvcih2YXIgbz1be3g6MCx5OjAsdzpNYXRoLm1heChNYXRoLmNlaWwoTWF0aC5zcXJ0KGUvLjk1KSksciksaDoxLzB9XSxzPTAsdT0wLHA9MCxsPXQ7cDxsLmxlbmd0aDtwKz0xKWZvcih2YXIgYz1sW3BdLGg9by5sZW5ndGgtMTtoPj0wO2gtLSl7dmFyIGY9b1toXTtpZighKGMudz5mLnd8fGMuaD5mLmgpKXtpZihjLng9Zi54LGMueT1mLnksdT1NYXRoLm1heCh1LGMueStjLmgpLHM9TWF0aC5tYXgocyxjLngrYy53KSxjLnc9PT1mLncmJmMuaD09PWYuaCl7dmFyIHk9by5wb3AoKTtoPG8ubGVuZ3RoJiYob1toXT15KTt9ZWxzZSBjLmg9PT1mLmg/KGYueCs9Yy53LGYudy09Yy53KTpjLnc9PT1mLnc/KGYueSs9Yy5oLGYuaC09Yy5oKTooby5wdXNoKHt4OmYueCtjLncseTpmLnksdzpmLnctYy53LGg6Yy5ofSksZi55Kz1jLmgsZi5oLT1jLmgpO2JyZWFrfX1yZXR1cm4ge3c6cyxoOnUsZmlsbDplLyhzKnUpfHwwfX12YXIgc3M9ZnVuY3Rpb24odCxlKXt2YXIgcj1lLnBpeGVsUmF0aW87dGhpcy5wYWRkZWRSZWN0PXQsdGhpcy5waXhlbFJhdGlvPXI7fSx1cz17dGw6e2NvbmZpZ3VyYWJsZTohMH0sYnI6e2NvbmZpZ3VyYWJsZTohMH0sdGxicjp7Y29uZmlndXJhYmxlOiEwfSxkaXNwbGF5U2l6ZTp7Y29uZmlndXJhYmxlOiEwfX07dXMudGwuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFt0aGlzLnBhZGRlZFJlY3QueCsxLHRoaXMucGFkZGVkUmVjdC55KzFdfSx1cy5ici5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gW3RoaXMucGFkZGVkUmVjdC54K3RoaXMucGFkZGVkUmVjdC53LTEsdGhpcy5wYWRkZWRSZWN0LnkrdGhpcy5wYWRkZWRSZWN0LmgtMV19LHVzLnRsYnIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGwuY29uY2F0KHRoaXMuYnIpfSx1cy5kaXNwbGF5U2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gWyh0aGlzLnBhZGRlZFJlY3Qudy0yKS90aGlzLnBpeGVsUmF0aW8sKHRoaXMucGFkZGVkUmVjdC5oLTIpL3RoaXMucGl4ZWxSYXRpb119LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNzLnByb3RvdHlwZSx1cyk7dmFyIHBzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9e30sbj17fSxpPVtdO2Zvcih2YXIgYSBpbiB0KXt2YXIgbz10W2FdLHM9e3g6MCx5OjAsdzpvLmRhdGEud2lkdGgrMixoOm8uZGF0YS5oZWlnaHQrMn07aS5wdXNoKHMpLHJbYV09bmV3IHNzKHMsbyk7fWZvcih2YXIgdSBpbiBlKXt2YXIgcD1lW3VdLGw9e3g6MCx5OjAsdzpwLmRhdGEud2lkdGgrMixoOnAuZGF0YS5oZWlnaHQrMn07aS5wdXNoKGwpLG5bdV09bmV3IHNzKGwscCk7fXZhciBjPW9zKGkpLGg9Yy53LGY9Yy5oLHk9bmV3IGxhKHt3aWR0aDpofHwxLGhlaWdodDpmfHwxfSk7Zm9yKHZhciBkIGluIHQpe3ZhciBtPXRbZF0sdj1yW2RdLnBhZGRlZFJlY3Q7bGEuY29weShtLmRhdGEseSx7eDowLHk6MH0se3g6di54KzEseTp2LnkrMX0sbS5kYXRhKTt9Zm9yKHZhciBnIGluIGUpe3ZhciB4PWVbZ10sYj1uW2ddLnBhZGRlZFJlY3QsXz1iLngrMSx3PWIueSsxLEE9eC5kYXRhLndpZHRoLGs9eC5kYXRhLmhlaWdodDtsYS5jb3B5KHguZGF0YSx5LHt4OjAseTowfSx7eDpfLHk6d30seC5kYXRhKSxsYS5jb3B5KHguZGF0YSx5LHt4OjAseTprLTF9LHt4Ol8seTp3LTF9LHt3aWR0aDpBLGhlaWdodDoxfSksbGEuY29weSh4LmRhdGEseSx7eDowLHk6MH0se3g6Xyx5Oncra30se3dpZHRoOkEsaGVpZ2h0OjF9KSxsYS5jb3B5KHguZGF0YSx5LHt4OkEtMSx5OjB9LHt4Ol8tMSx5Ond9LHt3aWR0aDoxLGhlaWdodDprfSksbGEuY29weSh4LmRhdGEseSx7eDowLHk6MH0se3g6XytBLHk6d30se3dpZHRoOjEsaGVpZ2h0Omt9KTt9dGhpcy5pbWFnZT15LHRoaXMuaWNvblBvc2l0aW9ucz1yLHRoaXMucGF0dGVyblBvc2l0aW9ucz1uO307a3IoXCJJbWFnZVBvc2l0aW9uXCIsc3MpLGtyKFwiSW1hZ2VBdGxhc1wiLHBzKTt2YXIgbHM9c2VsZi5IVE1MSW1hZ2VFbGVtZW50LGNzPXNlbGYuSFRNTENhbnZhc0VsZW1lbnQsaHM9c2VsZi5IVE1MVmlkZW9FbGVtZW50LGZzPXNlbGYuSW1hZ2VEYXRhLHlzPWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMuY29udGV4dD10LHRoaXMuZm9ybWF0PXIsdGhpcy50ZXh0dXJlPXQuZ2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMudXBkYXRlKGUsbik7fTt5cy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC53aWR0aCxuPXQuaGVpZ2h0LGk9IXRoaXMuc2l6ZXx8dGhpcy5zaXplWzBdIT09cnx8dGhpcy5zaXplWzFdIT09bixhPXRoaXMuY29udGV4dCxvPWEuZ2w7dGhpcy51c2VNaXBtYXA9Qm9vbGVhbihlJiZlLnVzZU1pcG1hcCksby5iaW5kVGV4dHVyZShvLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxpPyh0aGlzLnNpemU9W3Isbl0sYS5waXhlbFN0b3JlVW5wYWNrLnNldCgxKSx0aGlzLmZvcm1hdCE9PW8uUkdCQXx8ZSYmITE9PT1lLnByZW11bHRpcGx5fHxhLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCghMCksdCBpbnN0YW5jZW9mIGxzfHx0IGluc3RhbmNlb2YgY3N8fHQgaW5zdGFuY2VvZiBoc3x8dCBpbnN0YW5jZW9mIGZzP28udGV4SW1hZ2UyRChvLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCx0aGlzLmZvcm1hdCxvLlVOU0lHTkVEX0JZVEUsdCk6by50ZXhJbWFnZTJEKG8uVEVYVFVSRV8yRCwwLHRoaXMuZm9ybWF0LHIsbiwwLHRoaXMuZm9ybWF0LG8uVU5TSUdORURfQllURSx0LmRhdGEpKTp0IGluc3RhbmNlb2YgbHN8fHQgaW5zdGFuY2VvZiBjc3x8dCBpbnN0YW5jZW9mIGhzfHx0IGluc3RhbmNlb2YgZnM/by50ZXhTdWJJbWFnZTJEKG8uVEVYVFVSRV8yRCwwLDAsMCxvLlJHQkEsby5VTlNJR05FRF9CWVRFLHQpOm8udGV4U3ViSW1hZ2UyRChvLlRFWFRVUkVfMkQsMCwwLDAscixuLG8uUkdCQSxvLlVOU0lHTkVEX0JZVEUsdC5kYXRhKSx0aGlzLnVzZU1pcG1hcCYmdGhpcy5pc1NpemVQb3dlck9mVHdvKCkmJm8uZ2VuZXJhdGVNaXBtYXAoby5URVhUVVJFXzJEKTt9LHlzLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10aGlzLmNvbnRleHQuZ2w7bi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxyIT09bi5MSU5FQVJfTUlQTUFQX05FQVJFU1R8fHRoaXMuaXNTaXplUG93ZXJPZlR3bygpfHwocj1uLkxJTkVBUiksdCE9PXRoaXMuZmlsdGVyJiYobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUix0KSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NSU5fRklMVEVSLHJ8fHQpLHRoaXMuZmlsdGVyPXQpLGUhPT10aGlzLndyYXAmJihuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1MsZSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9ULGUpLHRoaXMud3JhcD1lKTt9LHlzLnByb3RvdHlwZS5pc1NpemVQb3dlck9mVHdvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZVswXT09PXRoaXMuc2l6ZVsxXSYmTWF0aC5sb2codGhpcy5zaXplWzBdKS9NYXRoLkxOMiUxPT0wfSx5cy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSksdGhpcy50ZXh0dXJlPW51bGw7fTt2YXIgZHM9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYSxvLHM9OCppLW4tMSx1PSgxPDxzKS0xLHA9dT4+MSxsPS03LGM9cj9pLTE6MCxoPXI/LTE6MSxmPXRbZStjXTtmb3IoYys9aCxhPWYmKDE8PC1sKS0xLGY+Pj0tbCxsKz1zO2w+MDthPTI1NiphK3RbZStjXSxjKz1oLGwtPTgpO2ZvcihvPWEmKDE8PC1sKS0xLGE+Pj0tbCxsKz1uO2w+MDtvPTI1NipvK3RbZStjXSxjKz1oLGwtPTgpO2lmKDA9PT1hKWE9MS1wO2Vsc2V7aWYoYT09PXUpcmV0dXJuIG8/TmFOOjEvMCooZj8tMToxKTtvKz1NYXRoLnBvdygyLG4pLGEtPXA7fXJldHVybiAoZj8tMToxKSpvKk1hdGgucG93KDIsYS1uKX0sbXM9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3ZhciBvLHMsdSxwPTgqYS1pLTEsbD0oMTw8cCktMSxjPWw+PjEsaD0yMz09PWk/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGY9bj8wOmEtMSx5PW4/MTotMSxkPWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8ocz1pc05hTihlKT8xOjAsbz1sKToobz1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKih1PU1hdGgucG93KDIsLW8pKTwxJiYoby0tLHUqPTIpLChlKz1vK2M+PTE/aC91OmgqTWF0aC5wb3coMiwxLWMpKSp1Pj0yJiYobysrLHUvPTIpLG8rYz49bD8ocz0wLG89bCk6bytjPj0xPyhzPShlKnUtMSkqTWF0aC5wb3coMixpKSxvKz1jKToocz1lKk1hdGgucG93KDIsYy0xKSpNYXRoLnBvdygyLGkpLG89MCkpO2k+PTg7dFtyK2ZdPTI1NSZzLGYrPXkscy89MjU2LGktPTgpO2ZvcihvPW88PGl8cyxwKz1pO3A+MDt0W3IrZl09MjU1Jm8sZis9eSxvLz0yNTYscC09OCk7dFtyK2YteV18PTEyOCpkO30sdnM9Z3M7ZnVuY3Rpb24gZ3ModCl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDpuZXcgVWludDhBcnJheSh0fHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aDt9Z3MuVmFyaW50PTAsZ3MuRml4ZWQ2ND0xLGdzLkJ5dGVzPTIsZ3MuRml4ZWQzMj01O2Z1bmN0aW9uIHhzKHQpe3JldHVybiB0LnR5cGU9PT1ncy5CeXRlcz90LnJlYWRWYXJpbnQoKSt0LnBvczp0LnBvcysxfWZ1bmN0aW9uIGJzKHQsZSxyKXtyZXR1cm4gcj80Mjk0OTY3Mjk2KmUrKHQ+Pj4wKTo0Mjk0OTY3Mjk2KihlPj4+MCkrKHQ+Pj4wKX1mdW5jdGlvbiBfcyh0LGUscil7dmFyIG49ZTw9MTYzODM/MTplPD0yMDk3MTUxPzI6ZTw9MjY4NDM1NDU1PzM6TWF0aC5jZWlsKE1hdGgubG9nKGUpLyg3Kk1hdGguTE4yKSk7ci5yZWFsbG9jKG4pO2Zvcih2YXIgaT1yLnBvcy0xO2k+PXQ7aS0tKXIuYnVmW2krbl09ci5idWZbaV07fWZ1bmN0aW9uIHdzKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZVZhcmludCh0W3JdKTt9ZnVuY3Rpb24gQXModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlU1ZhcmludCh0W3JdKTt9ZnVuY3Rpb24ga3ModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRmxvYXQodFtyXSk7fWZ1bmN0aW9uIHpzKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZURvdWJsZSh0W3JdKTt9ZnVuY3Rpb24gU3ModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlQm9vbGVhbih0W3JdKTt9ZnVuY3Rpb24gQnModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRml4ZWQzMih0W3JdKTt9ZnVuY3Rpb24gSXModCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlU0ZpeGVkMzIodFtyXSk7fWZ1bmN0aW9uIFZzKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZUZpeGVkNjQodFtyXSk7fWZ1bmN0aW9uIFBzKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZVNGaXhlZDY0KHRbcl0pO31mdW5jdGlvbiBNcyh0LGUpe3JldHVybiAodFtlXXx0W2UrMV08PDh8dFtlKzJdPDwxNikrMTY3NzcyMTYqdFtlKzNdfWZ1bmN0aW9uIENzKHQsZSxyKXt0W3JdPWUsdFtyKzFdPWU+Pj44LHRbcisyXT1lPj4+MTYsdFtyKzNdPWU+Pj4yNDt9ZnVuY3Rpb24gVHModCxlKXtyZXR1cm4gKHRbZV18dFtlKzFdPDw4fHRbZSsyXTw8MTYpKyh0W2UrM108PDI0KX1ncy5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmJ1Zj1udWxsO30scmVhZEZpZWxkczpmdW5jdGlvbih0LGUscil7Zm9yKHI9cnx8dGhpcy5sZW5ndGg7dGhpcy5wb3M8cjspe3ZhciBuPXRoaXMucmVhZFZhcmludCgpLGk9bj4+MyxhPXRoaXMucG9zO3RoaXMudHlwZT03Jm4sdChpLGUsdGhpcyksdGhpcy5wb3M9PT1hJiZ0aGlzLnNraXAobik7fXJldHVybiBlfSxyZWFkTWVzc2FnZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlYWRGaWVsZHModCxlLHRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zKX0scmVhZEZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgdD1Ncyh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWRTRml4ZWQzMjpmdW5jdGlvbigpe3ZhciB0PVRzKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsdH0scmVhZEZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgdD1Ncyh0aGlzLmJ1Zix0aGlzLnBvcykrNDI5NDk2NzI5NipNcyh0aGlzLmJ1Zix0aGlzLnBvcys0KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9TXModGhpcy5idWYsdGhpcy5wb3MpKzQyOTQ5NjcyOTYqVHModGhpcy5idWYsdGhpcy5wb3MrNCk7cmV0dXJuIHRoaXMucG9zKz04LHR9LHJlYWRGbG9hdDpmdW5jdGlvbigpe3ZhciB0PWRzKHRoaXMuYnVmLHRoaXMucG9zLCEwLDIzLDQpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRG91YmxlOmZ1bmN0aW9uKCl7dmFyIHQ9ZHModGhpcy5idWYsdGhpcy5wb3MsITAsNTIsOCk7cmV0dXJuIHRoaXMucG9zKz04LHR9LHJlYWRWYXJpbnQ6ZnVuY3Rpb24odCl7dmFyIGUscixuPXRoaXMuYnVmO3JldHVybiBlPTEyNyYocj1uW3RoaXMucG9zKytdKSxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8NyxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8MTQscjwxMjg/ZTooZXw9KDEyNyYocj1uW3RoaXMucG9zKytdKSk8PDIxLHI8MTI4P2U6ZnVuY3Rpb24odCxlLHIpe3ZhciBuLGksYT1yLmJ1ZjtpZihpPWFbci5wb3MrK10sbj0oMTEyJmkpPj40LGk8MTI4KXJldHVybiBicyh0LG4sZSk7aWYoaT1hW3IucG9zKytdLG58PSgxMjcmaSk8PDMsaTwxMjgpcmV0dXJuIGJzKHQsbixlKTtpZihpPWFbci5wb3MrK10sbnw9KDEyNyZpKTw8MTAsaTwxMjgpcmV0dXJuIGJzKHQsbixlKTtpZihpPWFbci5wb3MrK10sbnw9KDEyNyZpKTw8MTcsaTwxMjgpcmV0dXJuIGJzKHQsbixlKTtpZihpPWFbci5wb3MrK10sbnw9KDEyNyZpKTw8MjQsaTwxMjgpcmV0dXJuIGJzKHQsbixlKTtpZihpPWFbci5wb3MrK10sbnw9KDEmaSk8PDMxLGk8MTI4KXJldHVybiBicyh0LG4sZSk7dGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdmFyaW50IG5vdCBtb3JlIHRoYW4gMTAgYnl0ZXNcIil9KGV8PSgxNSYocj1uW3RoaXMucG9zXSkpPDwyOCx0LHRoaXMpKSkpfSxyZWFkVmFyaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkVmFyaW50KCEwKX0scmVhZFNWYXJpbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKTtyZXR1cm4gdCUyPT0xPyh0KzEpLy0yOnQvMn0scmVhZEJvb2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRWYXJpbnQoKSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1cIlwiLGk9ZTtmb3IoO2k8cjspe3ZhciBhLG8scyx1PXRbaV0scD1udWxsLGw9dT4yMzk/NDp1PjIyMz8zOnU+MTkxPzI6MTtpZihpK2w+cilicmVhazsxPT09bD91PDEyOCYmKHA9dSk6Mj09PWw/MTI4PT0oMTkyJihhPXRbaSsxXSkpJiYocD0oMzEmdSk8PDZ8NjMmYSk8PTEyNyYmKHA9bnVsbCk6Mz09PWw/KGE9dFtpKzFdLG89dFtpKzJdLDEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJm8pJiYoKHA9KDE1JnUpPDwxMnwoNjMmYSk8PDZ8NjMmbyk8PTIwNDd8fHA+PTU1Mjk2JiZwPD01NzM0MykmJihwPW51bGwpKTo0PT09bCYmKGE9dFtpKzFdLG89dFtpKzJdLHM9dFtpKzNdLDEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJm8pJiYxMjg9PSgxOTImcykmJigocD0oMTUmdSk8PDE4fCg2MyZhKTw8MTJ8KDYzJm8pPDw2fDYzJnMpPD02NTUzNXx8cD49MTExNDExMikmJihwPW51bGwpKSxudWxsPT09cD8ocD02NTUzMyxsPTEpOnA+NjU1MzUmJihwLT02NTUzNixuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHA+Pj4xMCYxMDIzfDU1Mjk2KSxwPTU2MzIwfDEwMjMmcCksbis9U3RyaW5nLmZyb21DaGFyQ29kZShwKSxpKz1sO31yZXR1cm4gbn0odGhpcy5idWYsdGhpcy5wb3MsdCk7cmV0dXJuIHRoaXMucG9zPXQsZX0scmVhZEJ5dGVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsZT10aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcyx0KTtyZXR1cm4gdGhpcy5wb3M9dCxlfSxyZWFkUGFja2VkVmFyaW50OmZ1bmN0aW9uKHQsZSl7dmFyIHI9eHModGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8cjspdC5wdXNoKHRoaXMucmVhZFZhcmludChlKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXhzKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO3JldHVybiB0fSxyZWFkUGFja2VkQm9vbGVhbjpmdW5jdGlvbih0KXt2YXIgZT14cyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEZsb2F0OmZ1bmN0aW9uKHQpe3ZhciBlPXhzKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZERvdWJsZTpmdW5jdGlvbih0KXt2YXIgZT14cyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3JldHVybiB0fSxyZWFkUGFja2VkRml4ZWQzMjpmdW5jdGlvbih0KXt2YXIgZT14cyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtyZXR1cm4gdH0scmVhZFBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKHQpe3ZhciBlPXhzKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEZpeGVkNjQ6ZnVuY3Rpb24odCl7dmFyIGU9eHModGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0KXt2YXIgZT14cyh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7cmV0dXJuIHR9LHNraXA6ZnVuY3Rpb24odCl7dmFyIGU9NyZ0O2lmKGU9PT1ncy5WYXJpbnQpZm9yKDt0aGlzLmJ1Zlt0aGlzLnBvcysrXT4xMjc7KTtlbHNlIGlmKGU9PT1ncy5CeXRlcyl0aGlzLnBvcz10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcztlbHNlIGlmKGU9PT1ncy5GaXhlZDMyKXRoaXMucG9zKz00O2Vsc2V7aWYoZSE9PWdzLkZpeGVkNjQpdGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIitlKTt0aGlzLnBvcys9ODt9fSx3cml0ZVRhZzpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVWYXJpbnQodDw8M3xlKTt9LHJlYWxsb2M6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMubGVuZ3RofHwxNjtlPHRoaXMucG9zK3Q7KWUqPTI7aWYoZSE9PXRoaXMubGVuZ3RoKXt2YXIgcj1uZXcgVWludDhBcnJheShlKTtyLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9cix0aGlzLmxlbmd0aD1lO319LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLENzKHRoaXMuYnVmLHQsdGhpcy5wb3MpLHRoaXMucG9zKz00O30sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksQ3ModGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTQ7fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLENzKHRoaXMuYnVmLC0xJnQsdGhpcy5wb3MpLENzKHRoaXMuYnVmLE1hdGguZmxvb3IodCooMS80Mjk0OTY3Mjk2KSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTg7fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxDcyh0aGlzLmJ1ZiwtMSZ0LHRoaXMucG9zKSxDcyh0aGlzLmJ1ZixNYXRoLmZsb29yKHQqKDEvNDI5NDk2NzI5NikpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04O30sd3JpdGVWYXJpbnQ6ZnVuY3Rpb24odCl7KHQ9K3R8fDApPjI2ODQzNTQ1NXx8dDwwP2Z1bmN0aW9uKHQsZSl7dmFyIHIsbjt0Pj0wPyhyPXQlNDI5NDk2NzI5NnwwLG49dC80Mjk0OTY3Mjk2fDApOihuPX4oLXQvNDI5NDk2NzI5NiksNDI5NDk2NzI5NV4ocj1+KC10JTQyOTQ5NjcyOTYpKT9yPXIrMXwwOihyPTAsbj1uKzF8MCkpO2lmKHQ+PTB4MTAwMDAwMDAwMDAwMDAwMDB8fHQ8LTB4MTAwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKFwiR2l2ZW4gdmFyaW50IGRvZXNuJ3QgZml0IGludG8gMTAgYnl0ZXNcIik7ZS5yZWFsbG9jKDEwKSxmdW5jdGlvbih0LGUscil7ci5idWZbci5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsci5idWZbci5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxyLmJ1ZltyLnBvc109MTI3JnQ7fShyLDAsZSksZnVuY3Rpb24odCxlKXt2YXIgcj0oNyZ0KTw8NDtpZihlLmJ1ZltlLnBvcysrXXw9cnwoKHQ+Pj49Myk/MTI4OjApLCF0KXJldHVybjtpZihlLmJ1ZltlLnBvcysrXT0xMjcmdHwoKHQ+Pj49Nyk/MTI4OjApLCF0KXJldHVybjtpZihlLmJ1ZltlLnBvcysrXT0xMjcmdHwoKHQ+Pj49Nyk/MTI4OjApLCF0KXJldHVybjtpZihlLmJ1ZltlLnBvcysrXT0xMjcmdHwoKHQ+Pj49Nyk/MTI4OjApLCF0KXJldHVybjtpZihlLmJ1ZltlLnBvcysrXT0xMjcmdHwoKHQ+Pj49Nyk/MTI4OjApLCF0KXJldHVybjtlLmJ1ZltlLnBvcysrXT0xMjcmdDt9KG4sZSk7fSh0LHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JnR8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT10Pj4+NyYxMjcpKSkpO30sd3JpdGVTVmFyaW50OmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQodDwwPzIqLXQtMToyKnQpO30sd3JpdGVCb29sZWFuOmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQoQm9vbGVhbih0KSk7fSx3cml0ZVN0cmluZzpmdW5jdGlvbih0KXt0PVN0cmluZyh0KSx0aGlzLnJlYWxsb2MoNCp0Lmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgZT10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuLGksYT0wO2E8ZS5sZW5ndGg7YSsrKXtpZigobj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZuPDU3MzQ0KXtpZighaSl7bj41NjMxOXx8YSsxPT09ZS5sZW5ndGg/KHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5KTppPW47Y29udGludWV9aWYobjw1NjMyMCl7dFtyKytdPTIzOSx0W3IrK109MTkxLHRbcisrXT0xODksaT1uO2NvbnRpbnVlfW49aS01NTI5Njw8MTB8bi01NjMyMHw2NTUzNixpPW51bGw7fWVsc2UgaSYmKHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5LGk9bnVsbCk7bjwxMjg/dFtyKytdPW46KG48MjA0OD90W3IrK109bj4+NnwxOTI6KG48NjU1MzY/dFtyKytdPW4+PjEyfDIyNDoodFtyKytdPW4+PjE4fDI0MCx0W3IrK109bj4+MTImNjN8MTI4KSx0W3IrK109bj4+NiY2M3wxMjgpLHRbcisrXT02MyZufDEyOCk7fXJldHVybiByfSh0aGlzLmJ1Zix0LHRoaXMucG9zKTt2YXIgcj10aGlzLnBvcy1lO3I+PTEyOCYmX3MoZSxyLHRoaXMpLHRoaXMucG9zPWUtMSx0aGlzLndyaXRlVmFyaW50KHIpLHRoaXMucG9zKz1yO30sd3JpdGVGbG9hdDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksbXModGhpcy5idWYsdCx0aGlzLnBvcywhMCwyMyw0KSx0aGlzLnBvcys9NDt9LHdyaXRlRG91YmxlOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxtcyh0aGlzLmJ1Zix0LHRoaXMucG9zLCEwLDUyLDgpLHRoaXMucG9zKz04O30sd3JpdGVCeXRlczpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLndyaXRlVmFyaW50KGUpLHRoaXMucmVhbGxvYyhlKTtmb3IodmFyIHI9MDtyPGU7cisrKXRoaXMuYnVmW3RoaXMucG9zKytdPXRbcl07fSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLnBvcysrO3ZhciByPXRoaXMucG9zO3QoZSx0aGlzKTt2YXIgbj10aGlzLnBvcy1yO24+PTEyOCYmX3MocixuLHRoaXMpLHRoaXMucG9zPXItMSx0aGlzLndyaXRlVmFyaW50KG4pLHRoaXMucG9zKz1uO30sd3JpdGVNZXNzYWdlOmZ1bmN0aW9uKHQsZSxyKXt0aGlzLndyaXRlVGFnKHQsZ3MuQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKGUscik7fSx3cml0ZVBhY2tlZFZhcmludDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVNZXNzYWdlKHQsd3MsZSk7fSx3cml0ZVBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlTWVzc2FnZSh0LEFzLGUpO30sd3JpdGVQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZU1lc3NhZ2UodCxTcyxlKTt9LHdyaXRlUGFja2VkRmxvYXQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlTWVzc2FnZSh0LGtzLGUpO30sd3JpdGVQYWNrZWREb3VibGU6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlTWVzc2FnZSh0LHpzLGUpO30sd3JpdGVQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZU1lc3NhZ2UodCxCcyxlKTt9LHdyaXRlUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlTWVzc2FnZSh0LElzLGUpO30sd3JpdGVQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZU1lc3NhZ2UodCxWcyxlKTt9LHdyaXRlUGFja2VkU0ZpeGVkNjQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlTWVzc2FnZSh0LFBzLGUpO30sd3JpdGVCeXRlc0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdzLkJ5dGVzKSx0aGlzLndyaXRlQnl0ZXMoZSk7fSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxncy5GaXhlZDMyKSx0aGlzLndyaXRlRml4ZWQzMihlKTt9LHdyaXRlU0ZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxncy5GaXhlZDMyKSx0aGlzLndyaXRlU0ZpeGVkMzIoZSk7fSx3cml0ZUZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxncy5GaXhlZDY0KSx0aGlzLndyaXRlRml4ZWQ2NChlKTt9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxncy5GaXhlZDY0KSx0aGlzLndyaXRlU0ZpeGVkNjQoZSk7fSx3cml0ZVZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdzLlZhcmludCksdGhpcy53cml0ZVZhcmludChlKTt9LHdyaXRlU1ZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdzLlZhcmludCksdGhpcy53cml0ZVNWYXJpbnQoZSk7fSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdzLkJ5dGVzKSx0aGlzLndyaXRlU3RyaW5nKGUpO30sd3JpdGVGbG9hdEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdzLkZpeGVkMzIpLHRoaXMud3JpdGVGbG9hdChlKTt9LHdyaXRlRG91YmxlRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsZ3MuRml4ZWQ2NCksdGhpcy53cml0ZURvdWJsZShlKTt9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludEZpZWxkKHQsQm9vbGVhbihlKSk7fX07dmFyIEVzPTM7ZnVuY3Rpb24gRnModCxlLHIpezE9PT10JiZyLnJlYWRNZXNzYWdlKE9zLGUpO31mdW5jdGlvbiBPcyh0LGUscil7aWYoMz09PXQpe3ZhciBuPXIucmVhZE1lc3NhZ2UoTHMse30pLGk9bi5pZCxhPW4uYml0bWFwLG89bi53aWR0aCxzPW4uaGVpZ2h0LHU9bi5sZWZ0LHA9bi50b3AsbD1uLmFkdmFuY2U7ZS5wdXNoKHtpZDppLGJpdG1hcDpuZXcgcGEoe3dpZHRoOm8rMipFcyxoZWlnaHQ6cysyKkVzfSxhKSxtZXRyaWNzOnt3aWR0aDpvLGhlaWdodDpzLGxlZnQ6dSx0b3A6cCxhZHZhbmNlOmx9fSk7fX1mdW5jdGlvbiBMcyh0LGUscil7MT09PXQ/ZS5pZD1yLnJlYWRWYXJpbnQoKToyPT09dD9lLmJpdG1hcD1yLnJlYWRCeXRlcygpOjM9PT10P2Uud2lkdGg9ci5yZWFkVmFyaW50KCk6ND09PXQ/ZS5oZWlnaHQ9ci5yZWFkVmFyaW50KCk6NT09PXQ/ZS5sZWZ0PXIucmVhZFNWYXJpbnQoKTo2PT09dD9lLnRvcD1yLnJlYWRTVmFyaW50KCk6Nz09PXQmJihlLmFkdmFuY2U9ci5yZWFkVmFyaW50KCkpO312YXIgRHM9RXMsanM9ZnVuY3Rpb24odCxlLHIpe3RoaXMudGFyZ2V0PXQsdGhpcy5wYXJlbnQ9ZSx0aGlzLm1hcElkPXIsdGhpcy5jYWxsYmFja3M9e30sdGhpcy5jYWxsYmFja0lEPTAseShbXCJyZWNlaXZlXCJdLHRoaXMpLHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5yZWNlaXZlLCExKTt9O2Z1bmN0aW9uIFVzKHQsZSxyKXt2YXIgbj0yKk1hdGguUEkqNjM3ODEzNy8yNTYvTWF0aC5wb3coMixyKTtyZXR1cm4gW3Qqbi0yKk1hdGguUEkqNjM3ODEzNy8yLGUqbi0yKk1hdGguUEkqNjM3ODEzNy8yXX1qcy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1yP3RoaXMubWFwSWQrXCI6XCIrdGhpcy5jYWxsYmFja0lEKys6bnVsbDtyJiYodGhpcy5jYWxsYmFja3NbaV09cik7dmFyIGE9W107dGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe3RhcmdldE1hcElkOm4sc291cmNlTWFwSWQ6dGhpcy5tYXBJZCx0eXBlOnQsaWQ6U3RyaW5nKGkpLGRhdGE6U3IoZSxhKX0sYSk7fSxqcy5wcm90b3R5cGUucmVjZWl2ZT1mdW5jdGlvbih0KXt2YXIgZSxyPXRoaXMsbj10LmRhdGEsaT1uLmlkO2lmKCFuLnRhcmdldE1hcElkfHx0aGlzLm1hcElkPT09bi50YXJnZXRNYXBJZCl7dmFyIGE9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyLnRhcmdldC5wb3N0TWVzc2FnZSh7c291cmNlTWFwSWQ6ci5tYXBJZCx0eXBlOlwiPHJlc3BvbnNlPlwiLGlkOlN0cmluZyhpKSxlcnJvcjp0P1NyKHQpOm51bGwsZGF0YTpTcihlLG4pfSxuKTt9O2lmKFwiPHJlc3BvbnNlPlwiPT09bi50eXBlKWU9dGhpcy5jYWxsYmFja3Nbbi5pZF0sZGVsZXRlIHRoaXMuY2FsbGJhY2tzW24uaWRdLGUmJm4uZXJyb3I/ZShCcihuLmVycm9yKSk6ZSYmZShudWxsLEJyKG4uZGF0YSkpO2Vsc2UgaWYodm9pZCAwIT09bi5pZCYmdGhpcy5wYXJlbnRbbi50eXBlXSl0aGlzLnBhcmVudFtuLnR5cGVdKG4uc291cmNlTWFwSWQsQnIobi5kYXRhKSxhKTtlbHNlIGlmKHZvaWQgMCE9PW4uaWQmJnRoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZSl7dmFyIG89bi50eXBlLnNwbGl0KFwiLlwiKSxzPUJyKG4uZGF0YSk7dGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKG4uc291cmNlTWFwSWQsb1swXSxzLnNvdXJjZSlbb1sxXV0ocyxhKTt9ZWxzZSB0aGlzLnBhcmVudFtuLnR5cGVdKEJyKG4uZGF0YSkpO319LGpzLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMucmVjZWl2ZSwhMSk7fTt2YXIgcXM9ZnVuY3Rpb24odCxlLHIpe3RoaXMuej10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMua2V5PVpzKDAsdCxlLHIpO307cXMucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy56PT09dC56JiZ0aGlzLng9PT10LngmJnRoaXMueT09PXQueX0scXMucHJvdG90eXBlLnVybD1mdW5jdGlvbih0LGUpe3ZhciByLG4saSxhLG8scz0ocj10aGlzLngsbj10aGlzLnksaT10aGlzLnosYT1VcygyNTYqciwyNTYqKG49TWF0aC5wb3coMixpKS1uLTEpLGkpLG89VXMoMjU2KihyKzEpLDI1NioobisxKSxpKSxhWzBdK1wiLFwiK2FbMV0rXCIsXCIrb1swXStcIixcIitvWzFdKSx1PWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG4saT1cIlwiLGE9dDthPjA7YS0tKWkrPShlJihuPTE8PGEtMSk/MTowKSsociZuPzI6MCk7cmV0dXJuIGl9KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gdFsodGhpcy54K3RoaXMueSkldC5sZW5ndGhdLnJlcGxhY2UoXCJ7cHJlZml4fVwiLCh0aGlzLnglMTYpLnRvU3RyaW5nKDE2KSsodGhpcy55JTE2KS50b1N0cmluZygxNikpLnJlcGxhY2UoXCJ7en1cIixTdHJpbmcodGhpcy56KSkucmVwbGFjZShcInt4fVwiLFN0cmluZyh0aGlzLngpKS5yZXBsYWNlKFwie3l9XCIsU3RyaW5nKFwidG1zXCI9PT1lP01hdGgucG93KDIsdGhpcy56KS10aGlzLnktMTp0aGlzLnkpKS5yZXBsYWNlKFwie3F1YWRrZXl9XCIsdSkucmVwbGFjZShcIntiYm94LWVwc2ctMzg1N31cIixzKX07dmFyIFJzPWZ1bmN0aW9uKHQsZSl7dGhpcy53cmFwPXQsdGhpcy5jYW5vbmljYWw9ZSx0aGlzLmtleT1acyh0LGUueixlLngsZS55KTt9LE5zPWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy5vdmVyc2NhbGVkWj10LHRoaXMud3JhcD1lLHRoaXMuY2Fub25pY2FsPW5ldyBxcyhyLCtuLCtpKSx0aGlzLmtleT1acyhlLHQsbixpKTt9O2Z1bmN0aW9uIFpzKHQsZSxyLG4peyh0Kj0yKTwwJiYodD0tMSp0LTEpO3ZhciBpPTE8PGU7cmV0dXJuIDMyKihpKmkqdCtpKm4rcikrZX1Ocy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm92ZXJzY2FsZWRaPT09dC5vdmVyc2NhbGVkWiYmdGhpcy53cmFwPT09dC53cmFwJiZ0aGlzLmNhbm9uaWNhbC5lcXVhbHModC5jYW5vbmljYWwpfSxOcy5wcm90b3R5cGUuc2NhbGVkVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jYW5vbmljYWwuei10O3JldHVybiB0PnRoaXMuY2Fub25pY2FsLno/bmV3IE5zKHQsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTpuZXcgTnModCx0aGlzLndyYXAsdCx0aGlzLmNhbm9uaWNhbC54Pj5lLHRoaXMuY2Fub25pY2FsLnk+PmUpfSxOcy5wcm90b3R5cGUuaXNDaGlsZE9mPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2Fub25pY2FsLnotdC5jYW5vbmljYWwuejtyZXR1cm4gMD09PXQub3ZlcnNjYWxlZFp8fHQub3ZlcnNjYWxlZFo8dGhpcy5vdmVyc2NhbGVkWiYmdC5jYW5vbmljYWwueD09PXRoaXMuY2Fub25pY2FsLng+PmUmJnQuY2Fub25pY2FsLnk9PT10aGlzLmNhbm9uaWNhbC55Pj5lfSxOcy5wcm90b3R5cGUuY2hpbGRyZW49ZnVuY3Rpb24odCl7aWYodGhpcy5vdmVyc2NhbGVkWj49dClyZXR1cm4gW25ldyBOcyh0aGlzLm92ZXJzY2FsZWRaKzEsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KV07dmFyIGU9dGhpcy5jYW5vbmljYWwueisxLHI9Mip0aGlzLmNhbm9uaWNhbC54LG49Mip0aGlzLmNhbm9uaWNhbC55O3JldHVybiBbbmV3IE5zKGUsdGhpcy53cmFwLGUscixuKSxuZXcgTnMoZSx0aGlzLndyYXAsZSxyKzEsbiksbmV3IE5zKGUsdGhpcy53cmFwLGUscixuKzEpLG5ldyBOcyhlLHRoaXMud3JhcCxlLHIrMSxuKzEpXX0sTnMucHJvdG90eXBlLmlzTGVzc1RoYW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud3JhcDx0LndyYXB8fCEodGhpcy53cmFwPnQud3JhcCkmJih0aGlzLm92ZXJzY2FsZWRaPHQub3ZlcnNjYWxlZFp8fCEodGhpcy5vdmVyc2NhbGVkWj50Lm92ZXJzY2FsZWRaKSYmKHRoaXMuY2Fub25pY2FsLng8dC5jYW5vbmljYWwueHx8ISh0aGlzLmNhbm9uaWNhbC54PnQuY2Fub25pY2FsLngpJiZ0aGlzLmNhbm9uaWNhbC55PHQuY2Fub25pY2FsLnkpKX0sTnMucHJvdG90eXBlLndyYXBwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE5zKHRoaXMub3ZlcnNjYWxlZFosMCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSl9LE5zLnByb3RvdHlwZS51bndyYXBUbz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IE5zKHRoaXMub3ZlcnNjYWxlZFosdCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSl9LE5zLnByb3RvdHlwZS5vdmVyc2NhbGVGYWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5wb3coMix0aGlzLm92ZXJzY2FsZWRaLXRoaXMuY2Fub25pY2FsLnopfSxOcy5wcm90b3R5cGUudG9VbndyYXBwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJzKHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbCl9LE5zLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm92ZXJzY2FsZWRaK1wiL1wiK3RoaXMuY2Fub25pY2FsLngrXCIvXCIrdGhpcy5jYW5vbmljYWwueX0sTnMucHJvdG90eXBlLnRvQ29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLmNhbm9uaWNhbC54K01hdGgucG93KDIsdGhpcy53cmFwKSx0aGlzLmNhbm9uaWNhbC55LHRoaXMuY2Fub25pY2FsLnopfSxrcihcIkNhbm9uaWNhbFRpbGVJRFwiLHFzKSxrcihcIk92ZXJzY2FsZWRUaWxlSURcIixOcyx7b21pdDpbXCJwb3NNYXRyaXhcIl19KTt2YXIgWHM9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMudWlkPXQsZS5oZWlnaHQhPT1lLndpZHRoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiREVNIHRpbGVzIG11c3QgYmUgc3F1YXJlXCIpO2lmKHImJlwibWFwYm94XCIhPT1yJiZcInRlcnJhcml1bVwiIT09cilyZXR1cm4gYignXCInK3IrJ1wiIGlzIG5vdCBhIHZhbGlkIGVuY29kaW5nIHR5cGUuIFZhbGlkIHR5cGVzIGluY2x1ZGUgXCJtYXBib3hcIiBhbmQgXCJ0ZXJyYXJpdW1cIi4nKTt2YXIgbj10aGlzLmRpbT1lLmhlaWdodDt0aGlzLmJvcmRlcj1NYXRoLm1heChNYXRoLmNlaWwoZS5oZWlnaHQvMiksMSksdGhpcy5zdHJpZGU9dGhpcy5kaW0rMip0aGlzLmJvcmRlcix0aGlzLmRhdGE9bmV3IEludDMyQXJyYXkodGhpcy5zdHJpZGUqdGhpcy5zdHJpZGUpO2Zvcih2YXIgaT1lLmRhdGEsYT1cInRlcnJhcml1bVwiPT09cj90aGlzLl91bnBhY2tUZXJyYXJpdW06dGhpcy5fdW5wYWNrTWFwYm94LG89MDtvPG47bysrKWZvcih2YXIgcz0wO3M8bjtzKyspe3ZhciB1PTQqKG8qbitzKTt0aGlzLnNldChzLG8sYShpW3VdLGlbdSsxXSxpW3UrMl0pKTt9Zm9yKHZhciBwPTA7cDxuO3ArKyl0aGlzLnNldCgtMSxwLHRoaXMuZ2V0KDAscCkpLHRoaXMuc2V0KG4scCx0aGlzLmdldChuLTEscCkpLHRoaXMuc2V0KHAsLTEsdGhpcy5nZXQocCwwKSksdGhpcy5zZXQocCxuLHRoaXMuZ2V0KHAsbi0xKSk7dGhpcy5zZXQoLTEsLTEsdGhpcy5nZXQoMCwwKSksdGhpcy5zZXQobiwtMSx0aGlzLmdldChuLTEsMCkpLHRoaXMuc2V0KC0xLG4sdGhpcy5nZXQoMCxuLTEpKSx0aGlzLnNldChuLG4sdGhpcy5nZXQobi0xLG4tMSkpO307WHMucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUscil7dGhpcy5kYXRhW3RoaXMuX2lkeCh0LGUpXT1yKzY1NTM2O30sWHMucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmRhdGFbdGhpcy5faWR4KHQsZSldLTY1NTM2fSxYcy5wcm90b3R5cGUuX2lkeD1mdW5jdGlvbih0LGUpe2lmKHQ8LXRoaXMuYm9yZGVyfHx0Pj10aGlzLmRpbSt0aGlzLmJvcmRlcnx8ZTwtdGhpcy5ib3JkZXJ8fGU+PXRoaXMuZGltK3RoaXMuYm9yZGVyKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgREVNIGRhdGFcIik7cmV0dXJuIChlK3RoaXMuYm9yZGVyKSp0aGlzLnN0cmlkZSsodCt0aGlzLmJvcmRlcil9LFhzLnByb3RvdHlwZS5fdW5wYWNrTWFwYm94PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gKDI1Nip0KjI1NisyNTYqZStyKS8xMC0xZTR9LFhzLnByb3RvdHlwZS5fdW5wYWNrVGVycmFyaXVtPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gMjU2KnQrZStyLzI1Ni0zMjc2OH0sWHMucHJvdG90eXBlLmdldFBpeGVscz1mdW5jdGlvbigpe3JldHVybiBuZXcgbGEoe3dpZHRoOnRoaXMuZGltKzIqdGhpcy5ib3JkZXIsaGVpZ2h0OnRoaXMuZGltKzIqdGhpcy5ib3JkZXJ9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YS5idWZmZXIpKX0sWHMucHJvdG90eXBlLmJhY2tmaWxsQm9yZGVyPWZ1bmN0aW9uKHQsZSxyKXtpZih0aGlzLmRpbSE9PXQuZGltKXRocm93IG5ldyBFcnJvcihcImRlbSBkaW1lbnNpb24gbWlzbWF0Y2hcIik7dmFyIG49ZSp0aGlzLmRpbSxpPWUqdGhpcy5kaW0rdGhpcy5kaW0sYT1yKnRoaXMuZGltLG89cip0aGlzLmRpbSt0aGlzLmRpbTtzd2l0Y2goZSl7Y2FzZS0xOm49aS0xO2JyZWFrO2Nhc2UgMTppPW4rMTt9c3dpdGNoKHIpe2Nhc2UtMTphPW8tMTticmVhaztjYXNlIDE6bz1hKzE7fWZvcih2YXIgcz1sKG4sLXRoaXMuYm9yZGVyLHRoaXMuZGltK3RoaXMuYm9yZGVyKSx1PWwoaSwtdGhpcy5ib3JkZXIsdGhpcy5kaW0rdGhpcy5ib3JkZXIpLHA9bChhLC10aGlzLmJvcmRlcix0aGlzLmRpbSt0aGlzLmJvcmRlciksYz1sKG8sLXRoaXMuYm9yZGVyLHRoaXMuZGltK3RoaXMuYm9yZGVyKSxoPS1lKnRoaXMuZGltLGY9LXIqdGhpcy5kaW0seT1wO3k8Yzt5KyspZm9yKHZhciBkPXM7ZDx1O2QrKyl0aGlzLnNldChkLHksdC5nZXQoZCtoLHkrZikpO30sa3IoXCJERU1EYXRhXCIsWHMpO3ZhciBIcz1zbihbe25hbWU6XCJhX3Bvc1wiLHR5cGU6XCJJbnQxNlwiLGNvbXBvbmVudHM6Mn0se25hbWU6XCJhX3RleHR1cmVfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfV0pO3ZhciBHcz1mdW5jdGlvbih0KXt0aGlzLl9zdHJpbmdUb051bWJlcj17fSx0aGlzLl9udW1iZXJUb1N0cmluZz1bXTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTt0aGlzLl9zdHJpbmdUb051bWJlcltyXT1lLHRoaXMuX251bWJlclRvU3RyaW5nW2VdPXI7fX07R3MucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbdF19LEdzLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX251bWJlclRvU3RyaW5nW3RdfTt2YXIgSnM9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy50eXBlPVwiRmVhdHVyZVwiLHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlPXQsdC5fej1lLHQuX3g9cix0Ll95PW4sdGhpcy5wcm9wZXJ0aWVzPXQucHJvcGVydGllcyxudWxsIT10LmlkJiYodGhpcy5pZD10LmlkKTt9LEtzPXtnZW9tZXRyeTp7Y29uZmlndXJhYmxlOiEwfX07S3MuZ2VvbWV0cnkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2dlb21ldHJ5JiYodGhpcy5fZ2VvbWV0cnk9dGhpcy5fdmVjdG9yVGlsZUZlYXR1cmUudG9HZW9KU09OKHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl94LHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl95LHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl96KS5nZW9tZXRyeSksdGhpcy5fZ2VvbWV0cnl9LEtzLmdlb21ldHJ5LnNldD1mdW5jdGlvbih0KXt0aGlzLl9nZW9tZXRyeT10O30sSnMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXtnZW9tZXRyeTp0aGlzLmdlb21ldHJ5fTtmb3IodmFyIGUgaW4gdGhpcylcIl9nZW9tZXRyeVwiIT09ZSYmXCJfdmVjdG9yVGlsZUZlYXR1cmVcIiE9PWUmJih0W2VdPXRoaXNbZV0pO3JldHVybiB0fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhKcy5wcm90b3R5cGUsS3MpO3ZhciBZcz1mdW5jdGlvbigpe3RoaXMuc3RhdGU9e30sdGhpcy5zdGF0ZUNoYW5nZXM9e307fTtZcy5wcm90b3R5cGUudXBkYXRlU3RhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPVN0cmluZyhlKTt0aGlzLnN0YXRlQ2hhbmdlc1t0XT10aGlzLnN0YXRlQ2hhbmdlc1t0XXx8e30sdGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl09dGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl18fHt9LGModGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl0scik7fSxZcy5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1TdHJpbmcoZSksbj10aGlzLnN0YXRlW3RdfHx7fSxpPXRoaXMuc3RhdGVDaGFuZ2VzW3RdfHx7fTtyZXR1cm4gYyh7fSxuW3JdLGlbcl0pfSxZcy5wcm90b3R5cGUuaW5pdGlhbGl6ZVRpbGVTdGF0ZT1mdW5jdGlvbih0LGUpe3Quc2V0RmVhdHVyZVN0YXRlKHRoaXMuc3RhdGUsZSk7fSxZcy5wcm90b3R5cGUuY29hbGVzY2VDaGFuZ2VzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9e307Zm9yKHZhciBuIGluIHRoaXMuc3RhdGVDaGFuZ2VzKXt0aGlzLnN0YXRlW25dPXRoaXMuc3RhdGVbbl18fHt9O3ZhciBpPXt9O2Zvcih2YXIgYSBpbiB0aGlzLnN0YXRlQ2hhbmdlc1tuXSl0aGlzLnN0YXRlW25dW2FdfHwodGhpcy5zdGF0ZVtuXVthXT17fSksYyh0aGlzLnN0YXRlW25dW2FdLHRoaXMuc3RhdGVDaGFuZ2VzW25dW2FdKSxpW2FdPXRoaXMuc3RhdGVbbl1bYV07cltuXT1pO31pZih0aGlzLnN0YXRlQ2hhbmdlcz17fSwwIT09T2JqZWN0LmtleXMocikubGVuZ3RoKWZvcih2YXIgbyBpbiB0KXt0W29dLnNldEZlYXR1cmVTdGF0ZShyLGUpO319O3ZhciAkcz1mdW5jdGlvbih0LGUscil7dGhpcy50aWxlSUQ9dCx0aGlzLng9dC5jYW5vbmljYWwueCx0aGlzLnk9dC5jYW5vbmljYWwueSx0aGlzLno9dC5jYW5vbmljYWwueix0aGlzLmdyaWQ9ZXx8bmV3IHhyKGZpLDE2LDApLHRoaXMuZmVhdHVyZUluZGV4QXJyYXk9cnx8bmV3IHFuO307ZnVuY3Rpb24gV3ModCxlKXtyZXR1cm4gZS10fSRzLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT10aGlzLmZlYXR1cmVJbmRleEFycmF5Lmxlbmd0aDt0aGlzLmZlYXR1cmVJbmRleEFycmF5LmVtcGxhY2VCYWNrKHIsbixpKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7Zm9yKHZhciBzPWVbb10sdT1bMS8wLDEvMCwtMS8wLC0xLzBdLHA9MDtwPHMubGVuZ3RoO3ArKyl7dmFyIGw9c1twXTt1WzBdPU1hdGgubWluKHVbMF0sbC54KSx1WzFdPU1hdGgubWluKHVbMV0sbC55KSx1WzJdPU1hdGgubWF4KHVbMl0sbC54KSx1WzNdPU1hdGgubWF4KHVbM10sbC55KTt9dVswXTxmaSYmdVsxXTxmaSYmdVsyXT49MCYmdVszXT49MCYmdGhpcy5ncmlkLmluc2VydChhLHVbMF0sdVsxXSx1WzJdLHVbM10pO319LCRzLnByb3RvdHlwZS5sb2FkVlRMYXllcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52dExheWVyc3x8KHRoaXMudnRMYXllcnM9bmV3IF9vLlZlY3RvclRpbGUobmV3IHZzKHRoaXMucmF3VGlsZURhdGEpKS5sYXllcnMsdGhpcy5zb3VyY2VMYXllckNvZGVyPW5ldyBHcyh0aGlzLnZ0TGF5ZXJzP09iamVjdC5rZXlzKHRoaXMudnRMYXllcnMpLnNvcnQoKTpbXCJfZ2VvanNvblRpbGVMYXllclwiXSkpLHRoaXMudnRMYXllcnN9LCRzLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpczt0aGlzLmxvYWRWVExheWVycygpO2Zvcih2YXIgaT10LnBhcmFtc3x8e30sYT1maS90LnRpbGVTaXplL3Quc2NhbGUsbz1HZShpLmZpbHRlcikscz10LnF1ZXJ5R2VvbWV0cnksdT10LnF1ZXJ5UGFkZGluZyphLHA9MS8wLGw9MS8wLGM9LTEvMCxoPS0xLzAsZj0wO2Y8cy5sZW5ndGg7ZisrKWZvcih2YXIgeT1zW2ZdLGQ9MDtkPHkubGVuZ3RoO2QrKyl7dmFyIG09eVtkXTtwPU1hdGgubWluKHAsbS54KSxsPU1hdGgubWluKGwsbS55KSxjPU1hdGgubWF4KGMsbS54KSxoPU1hdGgubWF4KGgsbS55KTt9dmFyIHY9dGhpcy5ncmlkLnF1ZXJ5KHAtdSxsLXUsYyt1LGgrdSk7di5zb3J0KFdzKTtmb3IodmFyIGcseD17fSxiPWZ1bmN0aW9uKHUpe3ZhciBwPXZbdV07aWYocCE9PWcpe2c9cDt2YXIgbD1uLmZlYXR1cmVJbmRleEFycmF5LmdldChwKSxjPW51bGw7bi5sb2FkTWF0Y2hpbmdGZWF0dXJlKHgsbC5idWNrZXRJbmRleCxsLnNvdXJjZUxheWVySW5kZXgsbC5mZWF0dXJlSW5kZXgsbyxpLmxheWVycyxlLGZ1bmN0aW9uKGUsaSl7Y3x8KGM9bWkoZSkpO3ZhciBvPXt9O3JldHVybiBlLmlkJiYobz1yLmdldFN0YXRlKGkuc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixlLmlkKSksaS5xdWVyeUludGVyc2VjdHNGZWF0dXJlKHMsZSxvLGMsbi56LHQudHJhbnNmb3JtLGEsdC5wb3NNYXRyaXgpfSk7fX0sXz0wO188di5sZW5ndGg7XysrKWIoXyk7cmV0dXJuIHh9LCRzLnByb3RvdHlwZS5sb2FkTWF0Y2hpbmdGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7dmFyIHU9dGhpcy5idWNrZXRMYXllcklEc1tlXTtpZighYXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihlLmluZGV4T2YodFtyXSk+PTApcmV0dXJuICEwO3JldHVybiAhMX0oYSx1KSl7dmFyIHA9dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZShyKSxsPXRoaXMudnRMYXllcnNbcF0uZmVhdHVyZShuKTtpZihpKG5ldyBxcih0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksbCkpZm9yKHZhciBjPTA7Yzx1Lmxlbmd0aDtjKyspe3ZhciBoPXVbY107aWYoIShhJiZhLmluZGV4T2YoaCk8MCkpe3ZhciBmPW9baF07aWYoZiYmKCFzfHxzKGwsZikpKXt2YXIgeT1uZXcgSnMobCx0aGlzLnosdGhpcy54LHRoaXMueSk7eS5sYXllcj1mLnNlcmlhbGl6ZSgpO3ZhciBkPXRbaF07dm9pZCAwPT09ZCYmKGQ9dFtoXT1bXSksZC5wdXNoKHtmZWF0dXJlSW5kZXg6bixmZWF0dXJlOnl9KTt9fX19fSwkcy5wcm90b3R5cGUubG9va3VwU3ltYm9sRmVhdHVyZXM9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3ZhciBvPXt9O3RoaXMubG9hZFZUTGF5ZXJzKCk7Zm9yKHZhciBzPUdlKG4pLHU9MCxwPXQ7dTxwLmxlbmd0aDt1Kz0xKXt2YXIgbD1wW3VdO3RoaXMubG9hZE1hdGNoaW5nRmVhdHVyZShvLGUscixsLHMsaSxhKTt9cmV0dXJuIG99LCRzLnByb3RvdHlwZS5oYXNMYXllcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuYnVja2V0TGF5ZXJJRHM7ZTxyLmxlbmd0aDtlKz0xKWZvcih2YXIgbj0wLGk9cltlXTtuPGkubGVuZ3RoO24rPTEpe2lmKHQ9PT1pW25dKXJldHVybiAhMH1yZXR1cm4gITF9LGtyKFwiRmVhdHVyZUluZGV4XCIsJHMse29taXQ6W1wicmF3VGlsZURhdGFcIixcInNvdXJjZUxheWVyQ29kZXJcIl19KTt2YXIgUXM9ZnVuY3Rpb24odCxlKXt0aGlzLnRpbGVJRD10LHRoaXMudWlkPWYoKSx0aGlzLnVzZXM9MCx0aGlzLnRpbGVTaXplPWUsdGhpcy5idWNrZXRzPXt9LHRoaXMuZXhwaXJhdGlvblRpbWU9bnVsbCx0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMSx0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLnN0YXRlPVwibG9hZGluZ1wiO307UXMucHJvdG90eXBlLnJlZ2lzdGVyRmFkZUR1cmF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXQrdGhpcy50aW1lQWRkZWQ7ZTxTLm5vdygpfHx0aGlzLmZhZGVFbmRUaW1lJiZlPHRoaXMuZmFkZUVuZFRpbWV8fCh0aGlzLmZhZGVFbmRUaW1lPWUpO30sUXMucHJvdG90eXBlLndhc1JlcXVlc3RlZD1mdW5jdGlvbigpe3JldHVybiBcImVycm9yZWRcIj09PXRoaXMuc3RhdGV8fFwibG9hZGVkXCI9PT10aGlzLnN0YXRlfHxcInJlbG9hZGluZ1wiPT09dGhpcy5zdGF0ZX0sUXMucHJvdG90eXBlLmxvYWRWZWN0b3JEYXRhPWZ1bmN0aW9uKHQsZSxyKXtpZih0aGlzLmhhc0RhdGEoKSYmdGhpcy51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5zdGF0ZT1cImxvYWRlZFwiLHQpe2Zvcih2YXIgbiBpbiB0LmZlYXR1cmVJbmRleCYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PXQuZmVhdHVyZUluZGV4LHQucmF3VGlsZURhdGE/KHRoaXMubGF0ZXN0UmF3VGlsZURhdGE9dC5yYXdUaWxlRGF0YSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10LnJhd1RpbGVEYXRhKTp0aGlzLmxhdGVzdFJhd1RpbGVEYXRhJiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSkpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLmJ1Y2tldHM9ZnVuY3Rpb24odCxlKXt2YXIgcj17fTtpZighZSlyZXR1cm4gcjtmb3IodmFyIG49MCxpPXQ7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dLG89YS5sYXllcklkcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0TGF5ZXIodCl9KS5maWx0ZXIoQm9vbGVhbik7aWYoMCE9PW8ubGVuZ3RoKXthLmxheWVycz1vLGEuc3RhdGVEZXBlbmRlbnRMYXllcnM9by5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSk7Zm9yKHZhciBzPTAsdT1vO3M8dS5sZW5ndGg7cys9MSlyW3Vbc10uaWRdPWE7fX1yZXR1cm4gcn0odC5idWNrZXRzLGUuc3R5bGUpLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMSx0aGlzLmJ1Y2tldHMpe3ZhciBpPXRoaXMuYnVja2V0c1tuXTtpZihpIGluc3RhbmNlb2YgV28pe2lmKHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMCwhcilicmVhaztpLmp1c3RSZWxvYWRlZD0hMDt9fWZvcih2YXIgYSBpbiB0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuYnVja2V0cyl7dmFyIG89dGhpcy5idWNrZXRzW2FdO3RoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLGUuc3R5bGUuZ2V0TGF5ZXIoYSkucXVlcnlSYWRpdXMobykpO310LmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9dC5pbWFnZUF0bGFzKSx0LmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc0ltYWdlPXQuZ2x5cGhBdGxhc0ltYWdlKTt9ZWxzZSB0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBNbjt9LFFzLnByb3RvdHlwZS51bmxvYWRWZWN0b3JEYXRhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYnVja2V0cyl0aGlzLmJ1Y2tldHNbdF0uZGVzdHJveSgpO3RoaXMuYnVja2V0cz17fSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlJiZ0aGlzLmltYWdlQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9bnVsbCksdGhpcy5nbHlwaEF0bGFzVGV4dHVyZSYmdGhpcy5nbHlwaEF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9bnVsbCx0aGlzLnN0YXRlPVwidW5sb2FkZWRcIjt9LFFzLnByb3RvdHlwZS51bmxvYWRERU1EYXRhPWZ1bmN0aW9uKCl7dGhpcy5kZW09bnVsbCx0aGlzLm5laWdoYm9yaW5nVGlsZXM9bnVsbCx0aGlzLnN0YXRlPVwidW5sb2FkZWRcIjt9LFFzLnByb3RvdHlwZS5nZXRCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYnVja2V0c1t0LmlkXX0sUXMucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5idWNrZXRzKXt2YXIgcj10aGlzLmJ1Y2tldHNbZV07ci51cGxvYWRQZW5kaW5nKCkmJnIudXBsb2FkKHQpO312YXIgbj10LmdsO3RoaXMuaW1hZ2VBdGxhcyYmIXRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZCYmKHRoaXMuaW1hZ2VBdGxhc1RleHR1cmU9bmV3IHlzKHQsdGhpcy5pbWFnZUF0bGFzLmltYWdlLG4uUkdCQSksdGhpcy5pbWFnZUF0bGFzLnVwbG9hZGVkPSEwKSx0aGlzLmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc1RleHR1cmU9bmV3IHlzKHQsdGhpcy5nbHlwaEF0bGFzSW1hZ2Usbi5BTFBIQSksdGhpcy5nbHlwaEF0bGFzSW1hZ2U9bnVsbCk7fSxRcy5wcm90b3R5cGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7cmV0dXJuIHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiZ0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT90aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5xdWVyeSh7cXVlcnlHZW9tZXRyeTpyLHNjYWxlOm4sdGlsZVNpemU6dGhpcy50aWxlU2l6ZSxwb3NNYXRyaXg6cyx0cmFuc2Zvcm06YSxwYXJhbXM6aSxxdWVyeVBhZGRpbmc6dGhpcy5xdWVyeVBhZGRpbmcqb30sdCxlKTp7fX0sUXMucHJvdG90eXBlLnF1ZXJ5U291cmNlRmVhdHVyZXM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmxhdGVzdEZlYXR1cmVJbmRleCYmdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGEpe3ZhciByPXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LmxvYWRWVExheWVycygpLG49ZT9lLnNvdXJjZUxheWVyOlwiXCIsaT1yLl9nZW9qc29uVGlsZUxheWVyfHxyW25dO2lmKGkpZm9yKHZhciBhPUdlKGUmJmUuZmlsdGVyKSxvPXRoaXMudGlsZUlELmNhbm9uaWNhbCxzPW8ueix1PW8ueCxwPW8ueSxsPXt6OnMseDp1LHk6cH0sYz0wO2M8aS5sZW5ndGg7YysrKXt2YXIgaD1pLmZlYXR1cmUoYyk7aWYoYShuZXcgcXIodGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGgpKXt2YXIgZj1uZXcgSnMoaCxzLHUscCk7Zi50aWxlPWwsdC5wdXNoKGYpO319fX0sUXMucHJvdG90eXBlLmNsZWFyTWFzaz1mdW5jdGlvbigpe3RoaXMuc2VnbWVudHMmJih0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5zZWdtZW50cyksdGhpcy5tYXNrZWRCb3VuZHNCdWZmZXImJih0aGlzLm1hc2tlZEJvdW5kc0J1ZmZlci5kZXN0cm95KCksZGVsZXRlIHRoaXMubWFza2VkQm91bmRzQnVmZmVyKSx0aGlzLm1hc2tlZEluZGV4QnVmZmVyJiYodGhpcy5tYXNrZWRJbmRleEJ1ZmZlci5kZXN0cm95KCksZGVsZXRlIHRoaXMubWFza2VkSW5kZXhCdWZmZXIpO30sUXMucHJvdG90eXBlLnNldE1hc2s9ZnVuY3Rpb24odCxlKXtpZighcyh0aGlzLm1hc2ssdCkmJih0aGlzLm1hc2s9dCx0aGlzLmNsZWFyTWFzaygpLCFzKHQsezA6ITB9KSkpe3ZhciByPW5ldyBsbixuPW5ldyB6bjt0aGlzLnNlZ21lbnRzPW5ldyBabix0aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDAscixuKTtmb3IodmFyIGk9T2JqZWN0LmtleXModCksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgdT10W2lbb11dLHA9Zmk+PnUueixsPW5ldyBhKHUueCpwLHUueSpwKSxjPW5ldyBhKGwueCtwLGwueStwKSxoPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCxyLG4pO3IuZW1wbGFjZUJhY2sobC54LGwueSxsLngsbC55KSxyLmVtcGxhY2VCYWNrKGMueCxsLnksYy54LGwueSksci5lbXBsYWNlQmFjayhsLngsYy55LGwueCxjLnkpLHIuZW1wbGFjZUJhY2soYy54LGMueSxjLngsYy55KTt2YXIgZj1oLnZlcnRleExlbmd0aDtuLmVtcGxhY2VCYWNrKGYsZisxLGYrMiksbi5lbXBsYWNlQmFjayhmKzEsZisyLGYrMyksaC52ZXJ0ZXhMZW5ndGgrPTQsaC5wcmltaXRpdmVMZW5ndGgrPTI7fXRoaXMubWFza2VkQm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHIsSHMubWVtYmVycyksdGhpcy5tYXNrZWRJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pO319LFFzLnByb3RvdHlwZS5oYXNEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIFwibG9hZGVkXCI9PT10aGlzLnN0YXRlfHxcInJlbG9hZGluZ1wiPT09dGhpcy5zdGF0ZXx8XCJleHBpcmVkXCI9PT10aGlzLnN0YXRlfSxRcy5wcm90b3R5cGUucGF0dGVybnNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnZUF0bGFzJiYhIU9iamVjdC5rZXlzKHRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zKS5sZW5ndGh9LFFzLnByb3RvdHlwZS5zZXRFeHBpcnlEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZXhwaXJhdGlvblRpbWU7aWYodC5jYWNoZUNvbnRyb2wpe3ZhciByPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2lmKHQucmVwbGFjZSgvKD86XnwoPzpcXHMqXFwsXFxzKikpKFteXFx4MDAtXFx4MjBcXChcXCk8PkBcXCw7XFw6XFxcXFwiXFwvXFxbXFxdXFw/XFw9XFx7XFx9XFx4N0ZdKykoPzpcXD0oPzooW15cXHgwMC1cXHgyMFxcKFxcKTw+QFxcLDtcXDpcXFxcXCJcXC9cXFtcXF1cXD9cXD1cXHtcXH1cXHg3Rl0rKXwoPzpcXFwiKCg/OlteXCJcXFxcXXxcXFxcLikqKVxcXCIpKSk/L2csZnVuY3Rpb24odCxyLG4saSl7dmFyIGE9bnx8aTtyZXR1cm4gZVtyXT0hYXx8YS50b0xvd2VyQ2FzZSgpLFwiXCJ9KSxlW1wibWF4LWFnZVwiXSl7dmFyIHI9cGFyc2VJbnQoZVtcIm1heC1hZ2VcIl0sMTApO2lzTmFOKHIpP2RlbGV0ZSBlW1wibWF4LWFnZVwiXTplW1wibWF4LWFnZVwiXT1yO31yZXR1cm4gZX0odC5jYWNoZUNvbnRyb2wpO3JbXCJtYXgtYWdlXCJdJiYodGhpcy5leHBpcmF0aW9uVGltZT1EYXRlLm5vdygpKzFlMypyW1wibWF4LWFnZVwiXSk7fWVsc2UgdC5leHBpcmVzJiYodGhpcy5leHBpcmF0aW9uVGltZT1uZXcgRGF0ZSh0LmV4cGlyZXMpLmdldFRpbWUoKSk7aWYodGhpcy5leHBpcmF0aW9uVGltZSl7dmFyIG49RGF0ZS5ub3coKSxpPSExO2lmKHRoaXMuZXhwaXJhdGlvblRpbWU+bilpPSExO2Vsc2UgaWYoZSlpZih0aGlzLmV4cGlyYXRpb25UaW1lPGUpaT0hMDtlbHNle3ZhciBhPXRoaXMuZXhwaXJhdGlvblRpbWUtZTthP3RoaXMuZXhwaXJhdGlvblRpbWU9bitNYXRoLm1heChhLDNlNCk6aT0hMDt9ZWxzZSBpPSEwO2k/KHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrLHRoaXMuc3RhdGU9XCJleHBpcmVkXCIpOnRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wO319LFFzLnByb3RvdHlwZS5nZXRFeHBpcnlUaW1lb3V0PWZ1bmN0aW9uKCl7aWYodGhpcy5leHBpcmF0aW9uVGltZSlyZXR1cm4gdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PzFlMyooMTw8TWF0aC5taW4odGhpcy5leHBpcmVkUmVxdWVzdENvdW50LTEsMzEpKTpNYXRoLm1pbih0aGlzLmV4cGlyYXRpb25UaW1lLShuZXcgRGF0ZSkuZ2V0VGltZSgpLE1hdGgucG93KDIsMzEpLTEpfSxRcy5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgmJnRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhJiYwIT09T2JqZWN0LmtleXModCkubGVuZ3RoKXt2YXIgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5sb2FkVlRMYXllcnMoKTtmb3IodmFyIG4gaW4gdGhpcy5idWNrZXRzKXt2YXIgaT10aGlzLmJ1Y2tldHNbbl0sYT1pLmxheWVyc1swXS5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiLG89clthXSxzPXRbYV07byYmcyYmMCE9PU9iamVjdC5rZXlzKHMpLmxlbmd0aCYmKGkudXBkYXRlKHMsbyx0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zfHx7fSksZSYmZS5zdHlsZSYmKHRoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLGUuc3R5bGUuZ2V0TGF5ZXIobikucXVlcnlSYWRpdXMoaSkpKSk7fX19LFFzLnByb3RvdHlwZS5ob2xkaW5nRm9yRmFkZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLnN5bWJvbEZhZGVIb2xkVW50aWx9LFFzLnByb3RvdHlwZS5zeW1ib2xGYWRlRmluaXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbHx8dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPFMubm93KCl9LFFzLnByb3RvdHlwZS5jbGVhckZhZGVIb2xkPWZ1bmN0aW9uKCl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPXZvaWQgMDt9LFFzLnByb3RvdHlwZS5zZXRIb2xkRHVyYXRpb249ZnVuY3Rpb24odCl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPVMubm93KCkrdDt9O3ZhciB0dT17aG9yaXpvbnRhbDoxLHZlcnRpY2FsOjIsaG9yaXpvbnRhbE9ubHk6M30sZXU9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9XCJcIix0aGlzLnNlY3Rpb25JbmRleD1bXSx0aGlzLnNlY3Rpb25zPVtdO307ZXUuZnJvbUZlYXR1cmU9ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgZXU7aWYodCBpbnN0YW5jZW9mIGN0KWZvcih2YXIgbj0wO248dC5zZWN0aW9ucy5sZW5ndGg7bisrKXt2YXIgaT10LnNlY3Rpb25zW25dO3Iuc2VjdGlvbnMucHVzaCh7c2NhbGU6aS5zY2FsZXx8MSxmb250U3RhY2s6aS5mb250U3RhY2t8fGV9KSxyLnRleHQrPWkudGV4dDtmb3IodmFyIGE9MDthPGkudGV4dC5sZW5ndGg7YSsrKXIuc2VjdGlvbkluZGV4LnB1c2gobik7fWVsc2V7ci50ZXh0PXQsci5zZWN0aW9ucy5wdXNoKHtzY2FsZToxLGZvbnRTdGFjazplfSk7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspci5zZWN0aW9uSW5kZXgucHVzaCgwKTt9cmV0dXJuIHJ9LGV1LnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sZXUucHJvdG90eXBlLmdldFNlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VjdGlvbnNbdGhpcy5zZWN0aW9uSW5kZXhbdF1dfSxldS5wcm90b3R5cGUuZ2V0Q2hhckNvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dC5jaGFyQ29kZUF0KHQpfSxldS5wcm90b3R5cGUudmVydGljYWxpemVQdW5jdHVhdGlvbj1mdW5jdGlvbigpe3RoaXMudGV4dD1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXQuY2hhckNvZGVBdChyKzEpfHxudWxsLGk9dC5jaGFyQ29kZUF0KHItMSl8fG51bGw7biYmVHIobikmJiFSb1t0W3IrMV1dfHxpJiZUcihpKSYmIVJvW3Rbci0xXV18fCFSb1t0W3JdXT9lKz10W3JdOmUrPVJvW3Rbcl1dO31yZXR1cm4gZX0odGhpcy50ZXh0KTt9LGV1LnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy50ZXh0Lmxlbmd0aCYmcnVbdGhpcy50ZXh0LmNoYXJDb2RlQXQoZSldO2UrKyl0Kys7Zm9yKHZhciByPXRoaXMudGV4dC5sZW5ndGgsbj10aGlzLnRleHQubGVuZ3RoLTE7bj49MCYmbj49dCYmcnVbdGhpcy50ZXh0LmNoYXJDb2RlQXQobildO24tLSlyLS07dGhpcy50ZXh0PXRoaXMudGV4dC5zdWJzdHJpbmcodCxyKSx0aGlzLnNlY3Rpb25JbmRleD10aGlzLnNlY3Rpb25JbmRleC5zbGljZSh0LHIpO30sZXUucHJvdG90eXBlLnN1YnN0cmluZz1mdW5jdGlvbih0LGUpe3ZhciByPW5ldyBldTtyZXR1cm4gci50ZXh0PXRoaXMudGV4dC5zdWJzdHJpbmcodCxlKSxyLnNlY3Rpb25JbmRleD10aGlzLnNlY3Rpb25JbmRleC5zbGljZSh0LGUpLHIuc2VjdGlvbnM9dGhpcy5zZWN0aW9ucyxyfSxldS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0fSxldS5wcm90b3R5cGUuZ2V0TWF4U2NhbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnNlY3Rpb25JbmRleC5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gTWF0aC5tYXgoZSx0LnNlY3Rpb25zW3JdLnNjYWxlKX0sMCl9O3ZhciBydT17OTohMCwxMDohMCwxMTohMCwxMjohMCwxMzohMCwzMjohMH0sbnU9e307ZnVuY3Rpb24gaXUodCxlLHIsbil7dmFyIGk9TWF0aC5wb3codC1lLDIpO3JldHVybiBuP3Q8ZT9pLzI6MippOmkrTWF0aC5hYnMocikqcn1mdW5jdGlvbiBhdSh0LGUpe3ZhciByPTA7cmV0dXJuIDEwPT09dCYmKHItPTFlNCksNDAhPT10JiY2NTI4OCE9PXR8fChyKz01MCksNDEhPT1lJiY2NTI4OSE9PWV8fChyKz01MCkscn1mdW5jdGlvbiBvdSh0LGUscixuLGksYSl7Zm9yKHZhciBvPW51bGwscz1pdShlLHIsaSxhKSx1PTAscD1uO3U8cC5sZW5ndGg7dSs9MSl7dmFyIGw9cFt1XSxjPWl1KGUtbC54LHIsaSxhKStsLmJhZG5lc3M7Yzw9cyYmKG89bCxzPWMpO31yZXR1cm4ge2luZGV4OnQseDplLHByaW9yQnJlYWs6byxiYWRuZXNzOnN9fWZ1bmN0aW9uIHN1KHQsZSxyLG4pe2lmKCFyKXJldHVybiBbXTtpZighdClyZXR1cm4gW107Zm9yKHZhciBpLGE9W10sbz1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGk9MCxhPTA7YTx0Lmxlbmd0aCgpO2ErKyl7dmFyIG89dC5nZXRTZWN0aW9uKGEpLHM9bltvLmZvbnRTdGFja10sdT1zJiZzW3QuZ2V0Q2hhckNvZGUoYSldO3UmJihpKz11Lm1ldHJpY3MuYWR2YW5jZSpvLnNjYWxlK2UpO31yZXR1cm4gaS9NYXRoLm1heCgxLE1hdGguY2VpbChpL3IpKX0odCxlLHIsbikscz0wLHU9MDt1PHQubGVuZ3RoKCk7dSsrKXt2YXIgcD10LmdldFNlY3Rpb24odSksbD10LmdldENoYXJDb2RlKHUpLGM9bltwLmZvbnRTdGFja10saD1jJiZjW2xdO2gmJiFydVtsXSYmKHMrPWgubWV0cmljcy5hZHZhbmNlKnAuc2NhbGUrZSksdTx0Lmxlbmd0aCgpLTEmJihudVtsXXx8ISgoaT1sKTwxMTkwNCkmJihWcltcIkJvcG9tb2ZvIEV4dGVuZGVkXCJdKGkpfHxWci5Cb3BvbW9mbyhpKXx8VnJbXCJDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1wiXShpKXx8VnJbXCJDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzXCJdKGkpfHxWcltcIkNKSyBDb21wYXRpYmlsaXR5XCJdKGkpfHxWcltcIkNKSyBSYWRpY2FscyBTdXBwbGVtZW50XCJdKGkpfHxWcltcIkNKSyBTdHJva2VzXCJdKGkpfHxWcltcIkNKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvblwiXShpKXx8VnJbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBXCJdKGkpfHxWcltcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHNcIl0oaSl8fFZyW1wiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRoc1wiXShpKXx8VnJbXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiXShpKXx8VnIuSGlyYWdhbmEoaSl8fFZyW1wiSWRlb2dyYXBoaWMgRGVzY3JpcHRpb24gQ2hhcmFjdGVyc1wiXShpKXx8VnJbXCJLYW5neGkgUmFkaWNhbHNcIl0oaSl8fFZyW1wiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9uc1wiXShpKXx8VnIuS2F0YWthbmEoaSl8fFZyW1wiVmVydGljYWwgRm9ybXNcIl0oaSl8fFZyW1wiWWkgUmFkaWNhbHNcIl0oaSl8fFZyW1wiWWkgU3lsbGFibGVzXCJdKGkpKSkmJmEucHVzaChvdSh1KzEscyxvLGEsYXUobCx0LmdldENoYXJDb2RlKHUrMSkpLCExKSk7fXJldHVybiBmdW5jdGlvbiB0KGUpe3JldHVybiBlP3QoZS5wcmlvckJyZWFrKS5jb25jYXQoZS5pbmRleCk6W119KG91KHQubGVuZ3RoKCkscyxvLGEsMCwhMCkpfWZ1bmN0aW9uIHV1KHQpe3ZhciBlPS41LHI9LjU7c3dpdGNoKHQpe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6ZT0xO2JyZWFrO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6ZT0wO31zd2l0Y2godCl7Y2FzZVwiYm90dG9tXCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpyPTE7YnJlYWs7Y2FzZVwidG9wXCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwidG9wLWxlZnRcIjpyPTA7fXJldHVybiB7aG9yaXpvbnRhbEFsaWduOmUsdmVydGljYWxBbGlnbjpyfX1mdW5jdGlvbiBwdSh0LGUscixuLGkpe2lmKGkpe3ZhciBhPXRbbl0sbz1lW2EuZm9udFN0YWNrXSxzPW8mJm9bYS5nbHlwaF07aWYocylmb3IodmFyIHU9cy5tZXRyaWNzLmFkdmFuY2UqYS5zY2FsZSxwPSh0W25dLngrdSkqaSxsPXI7bDw9bjtsKyspdFtsXS54LT1wO319bnVbMTBdPSEwLG51WzMyXT0hMCxudVszOF09ITAsbnVbNDBdPSEwLG51WzQxXT0hMCxudVs0M109ITAsbnVbNDVdPSEwLG51WzQ3XT0hMCxudVsxNzNdPSEwLG51WzE4M109ITAsbnVbODIwM109ITAsbnVbODIwOF09ITAsbnVbODIxMV09ITAsbnVbODIzMV09ITAsdC5jcmVhdGVDb21tb25qc01vZHVsZT1lLHQuUG9pbnQ9YSx0LndpbmRvdz1zZWxmLHQuYnJvd3Nlcj1TLHQudXVpZD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiB0KGUpe3JldHVybiBlPyhlXjE2Kk1hdGgucmFuZG9tKCk+PmUvNCkudG9TdHJpbmcoMTYpOihbMWU3XSstWzFlM10rLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLHQpfSgpfSx0LnZhbGlkYXRlVXVpZD1mdW5jdGlvbih0KXtyZXR1cm4gISF0JiYvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVs0XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KHQpfSx0LnN0b3JhZ2VBdmFpbGFibGU9ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPXNlbGZbdF07cmV0dXJuIGUuc2V0SXRlbShcIl9tYXBib3hfdGVzdF9cIiwxKSxlLnJlbW92ZUl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIpLCEwfWNhdGNoKHQpe3JldHVybiAhMX19LHQud2Fybk9uY2U9Yix0LnBvc3REYXRhPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1QKGModCx7bWV0aG9kOlwiUE9TVFwifSkpO3JldHVybiBuLm9uZXJyb3I9ZnVuY3Rpb24oKXtyKG5ldyBFcnJvcihuLnN0YXR1c1RleHQpKTt9LG4ub25sb2FkPWZ1bmN0aW9uKCl7bi5zdGF0dXM+PTIwMCYmbi5zdGF0dXM8MzAwP3IobnVsbCxuLnJlc3BvbnNlKTpyKG5ldyBWKG4uc3RhdHVzVGV4dCxuLnN0YXR1cyx0LnVybCkpO30sbi5zZW5kKGUpLHtjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gbi5hYm9ydCgpfX19LHQuZ2V0SlNPTj1mdW5jdGlvbih0LGUpe3ZhciByPVAodCk7cmV0dXJuIHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLFwiYXBwbGljYXRpb24vanNvblwiKSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKG5ldyBFcnJvcihyLnN0YXR1c1RleHQpKTt9LHIub25sb2FkPWZ1bmN0aW9uKCl7aWYoKHIuc3RhdHVzPj0yMDAmJnIuc3RhdHVzPDMwMHx8MD09PXIuc3RhdHVzKSYmci5yZXNwb25zZSl7dmFyIG47dHJ5e249SlNPTi5wYXJzZShyLnJlc3BvbnNlKTt9Y2F0Y2godCl7cmV0dXJuIGUodCl9ZShudWxsLG4pO31lbHNlIDQwMT09PXIuc3RhdHVzJiZ0LnVybC5tYXRjaCgvbWFwYm94LmNvbS8pP2UobmV3IFYoci5zdGF0dXNUZXh0K1wiOiB5b3UgbWF5IGhhdmUgcHJvdmlkZWQgYW4gaW52YWxpZCBNYXBib3ggYWNjZXNzIHRva2VuLiBTZWUgaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hcGktZG9jdW1lbnRhdGlvbi8jYWNjZXNzLXRva2Vuc1wiLHIuc3RhdHVzLHQudXJsKSk6ZShuZXcgVihyLnN0YXR1c1RleHQsci5zdGF0dXMsdC51cmwpKTt9LHIuc2VuZCgpLHtjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gci5hYm9ydCgpfX19LHQuZ2V0SW1hZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTSh0LGZ1bmN0aW9uKHQscil7aWYodCllKHQpO2Vsc2UgaWYocil7dmFyIG49bmV3IHNlbGYuSW1hZ2UsaT1zZWxmLlVSTHx8c2VsZi53ZWJraXRVUkw7bi5vbmxvYWQ9ZnVuY3Rpb24oKXtlKG51bGwsbiksaS5yZXZva2VPYmplY3RVUkwobi5zcmMpO307dmFyIGE9bmV3IHNlbGYuQmxvYihbbmV3IFVpbnQ4QXJyYXkoci5kYXRhKV0se3R5cGU6XCJpbWFnZS9wbmdcIn0pO24uY2FjaGVDb250cm9sPXIuY2FjaGVDb250cm9sLG4uZXhwaXJlcz1yLmV4cGlyZXMsbi5zcmM9ci5kYXRhLmJ5dGVMZW5ndGg/aS5jcmVhdGVPYmplY3RVUkwoYSk6XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQzBsRVFWUVlWMk5nQUFJQUFBVUFBYXJWeUZFQUFBQUFTVVZPUks1Q1lJST1cIjt9fSl9LHQuUmVzb3VyY2VUeXBlPUksdC5SR0JBSW1hZ2U9bGEsdC5wb3RwYWNrPW9zLHQuSW1hZ2VQb3NpdGlvbj1zcyx0LlRleHR1cmU9eXMsdC5nZXRBcnJheUJ1ZmZlcj1NLHQucGFyc2VHbHlwaFBCRj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHZzKHQpLnJlYWRGaWVsZHMoRnMsW10pfSx0LmlzQ2hhcj1Wcix0LmFzeW5jQWxsPWZ1bmN0aW9uKHQsZSxyKXtpZighdC5sZW5ndGgpcmV0dXJuIHIobnVsbCxbXSk7dmFyIG49dC5sZW5ndGgsaT1uZXcgQXJyYXkodC5sZW5ndGgpLGE9bnVsbDt0LmZvckVhY2goZnVuY3Rpb24odCxvKXtlKHQsZnVuY3Rpb24odCxlKXt0JiYoYT10KSxpW29dPWUsMD09LS1uJiZyKGEsaSk7fSk7fSk7fSx0LkFscGhhSW1hZ2U9cGEsdC5zdHlsZVNwZWM9TCx0LmVuZHNXaXRoPWQsdC5leHRlbmQ9Yyx0LnNwaGVyaWNhbFRvQ2FydGVzaWFuPWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0scj10WzFdLG49dFsyXTtyZXR1cm4gcis9OTAscio9TWF0aC5QSS8xODAsbio9TWF0aC5QSS8xODAse3g6ZSpNYXRoLmNvcyhyKSpNYXRoLnNpbihuKSx5OmUqTWF0aC5zaW4ocikqTWF0aC5zaW4obiksejplKk1hdGguY29zKG4pfX0sdC5FdmVudGVkPU8sdC52YWxpZGF0ZVN0eWxlPXlyLHQudmFsaWRhdGVMaWdodD1kcix0LmVtaXRWYWxpZGF0aW9uRXJyb3JzPWdyLHQuQ29sb3I9YXQsdC5udW1iZXI9VnQsdC5Qcm9wZXJ0aWVzPWVuLHQuVHJhbnNpdGlvbmFibGU9WnIsdC5UcmFuc2l0aW9uaW5nPUhyLHQuUG9zc2libHlFdmFsdWF0ZWQ9S3IsdC5EYXRhQ29uc3RhbnRQcm9wZXJ0eT1Zcix0LnVuaXF1ZUlkPWYsdC5BY3Rvcj1qcyx0LnBpY2s9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kgaW4gdCYmKHJbaV09dFtpXSk7fXJldHVybiByfSx0LndyYXA9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXItZSxpPSgodC1lKSVuK24pJW4rZTtyZXR1cm4gaT09PWU/cjppfSx0LmNsYW1wPWwsdC5FdmVudD1FLHQuRXJyb3JFdmVudD1GLHQuT3ZlcnNjYWxlZFRpbGVJRD1Ocyx0LkVYVEVOVD1maSx0LmdldENvb3JkaW5hdGVzQ2VudGVyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xLzAscj0xLzAsbj0tMS8wLGE9LTEvMCxvPTA7bzx0Lmxlbmd0aDtvKyspZT1NYXRoLm1pbihlLHRbb10uY29sdW1uKSxyPU1hdGgubWluKHIsdFtvXS5yb3cpLG49TWF0aC5tYXgobix0W29dLmNvbHVtbiksYT1NYXRoLm1heChhLHRbb10ucm93KTt2YXIgcz1uLWUsdT1hLXIscD1NYXRoLm1heChzLHUpLGw9TWF0aC5tYXgoMCxNYXRoLmZsb29yKC1NYXRoLmxvZyhwKS9NYXRoLkxOMikpO3JldHVybiBuZXcgaSgoZStuKS8yLChyK2EpLzIsMCkuem9vbVRvKGwpfSx0LkNhbm9uaWNhbFRpbGVJRD1xcyx0LlN0cnVjdEFycmF5TGF5b3V0NGk4PWxuLHQucmFzdGVyQm91bmRzQXR0cmlidXRlcz1Icyx0LlNlZ21lbnRWZWN0b3I9Wm4sdC5nZXRWaWRlbz1mdW5jdGlvbih0LGUpe3ZhciByLG4saT1zZWxmLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtpLm11dGVkPSEwLGkub25sb2Fkc3RhcnQ9ZnVuY3Rpb24oKXtlKG51bGwsaSk7fTtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIG89c2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO3I9dFthXSxuPXZvaWQgMCwobj1zZWxmLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKS5ocmVmPXIsKG4ucHJvdG9jb2whPT1zZWxmLmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfHxuLmhvc3QhPT1zZWxmLmRvY3VtZW50LmxvY2F0aW9uLmhvc3QpJiYoaS5jcm9zc09yaWdpbj1cIkFub255bW91c1wiKSxvLnNyYz10W2FdLGkuYXBwZW5kQ2hpbGQobyk7fXJldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7fX19LHQuVmFsaWRhdGlvbkVycm9yPUQsdC5iaW5kQWxsPXksdC5kZWVwRXF1YWw9cyx0LlRpbGU9UXMsdC5Db29yZGluYXRlPWksdC5rZXlzRGlmZmVyZW5jZT1mdW5jdGlvbih0LGUpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiB0KW4gaW4gZXx8ci5wdXNoKG4pO3JldHVybiByfSx0LlNvdXJjZUZlYXR1cmVTdGF0ZT1Zcyx0LnJlZlByb3BlcnRpZXM9W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcImZpbHRlclwiLFwibGF5b3V0XCJdLHQuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFRpKDE2KTtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPTEsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPTEsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9LHQuaWRlbnRpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fSx0LmludmVydD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM10sbz1lWzRdLHM9ZVs1XSx1PWVbNl0scD1lWzddLGw9ZVs4XSxjPWVbOV0saD1lWzEwXSxmPWVbMTFdLHk9ZVsxMl0sZD1lWzEzXSxtPWVbMTRdLHY9ZVsxNV0sZz1yKnMtbipvLHg9cip1LWkqbyxiPXIqcC1hKm8sXz1uKnUtaSpzLHc9bipwLWEqcyxBPWkqcC1hKnUsaz1sKmQtYyp5LHo9bCptLWgqeSxTPWwqdi1mKnksQj1jKm0taCpkLEk9Yyp2LWYqZCxWPWgqdi1mKm0sUD1nKlYteCpJK2IqQitfKlMtdyp6K0EqaztyZXR1cm4gUD8oUD0xL1AsdFswXT0ocypWLXUqSStwKkIpKlAsdFsxXT0oaSpJLW4qVi1hKkIpKlAsdFsyXT0oZCpBLW0qdyt2Kl8pKlAsdFszXT0oaCp3LWMqQS1mKl8pKlAsdFs0XT0odSpTLW8qVi1wKnopKlAsdFs1XT0ocipWLWkqUythKnopKlAsdFs2XT0obSpiLXkqQS12KngpKlAsdFs3XT0obCpBLWgqYitmKngpKlAsdFs4XT0obypJLXMqUytwKmspKlAsdFs5XT0obipTLXIqSS1hKmspKlAsdFsxMF09KHkqdy1kKmIrdipnKSpQLHRbMTFdPShjKmItbCp3LWYqZykqUCx0WzEyXT0ocyp6LW8qQi11KmspKlAsdFsxM109KHIqQi1uKnoraSprKSpQLHRbMTRdPShkKngteSpfLW0qZykqUCx0WzE1XT0obCpfLWMqeCtoKmcpKlAsdCk6bnVsbH0sdC5tdWx0aXBseT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPWVbNF0sdT1lWzVdLHA9ZVs2XSxsPWVbN10sYz1lWzhdLGg9ZVs5XSxmPWVbMTBdLHk9ZVsxMV0sZD1lWzEyXSxtPWVbMTNdLHY9ZVsxNF0sZz1lWzE1XSx4PXJbMF0sYj1yWzFdLF89clsyXSx3PXJbM107cmV0dXJuIHRbMF09eCpuK2IqcytfKmMrdypkLHRbMV09eCppK2IqdStfKmgrdyptLHRbMl09eCphK2IqcCtfKmYrdyp2LHRbM109eCpvK2IqbCtfKnkrdypnLHg9cls0XSxiPXJbNV0sXz1yWzZdLHc9cls3XSx0WzRdPXgqbitiKnMrXypjK3cqZCx0WzVdPXgqaStiKnUrXypoK3cqbSx0WzZdPXgqYStiKnArXypmK3cqdix0WzddPXgqbytiKmwrXyp5K3cqZyx4PXJbOF0sYj1yWzldLF89clsxMF0sdz1yWzExXSx0WzhdPXgqbitiKnMrXypjK3cqZCx0WzldPXgqaStiKnUrXypoK3cqbSx0WzEwXT14KmErYipwK18qZit3KnYsdFsxMV09eCpvK2IqbCtfKnkrdypnLHg9clsxMl0sYj1yWzEzXSxfPXJbMTRdLHc9clsxNV0sdFsxMl09eCpuK2IqcytfKmMrdypkLHRbMTNdPXgqaStiKnUrXypoK3cqbSx0WzE0XT14KmErYipwK18qZit3KnYsdFsxNV09eCpvK2IqbCtfKnkrdypnLHR9LHQudHJhbnNsYXRlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLGEsbyxzLHUscCxsLGMsaCxmLHksZD1yWzBdLG09clsxXSx2PXJbMl07cmV0dXJuIGU9PT10Pyh0WzEyXT1lWzBdKmQrZVs0XSptK2VbOF0qditlWzEyXSx0WzEzXT1lWzFdKmQrZVs1XSptK2VbOV0qditlWzEzXSx0WzE0XT1lWzJdKmQrZVs2XSptK2VbMTBdKnYrZVsxNF0sdFsxNV09ZVszXSpkK2VbN10qbStlWzExXSp2K2VbMTVdKToobj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0scD1lWzZdLGw9ZVs3XSxjPWVbOF0saD1lWzldLGY9ZVsxMF0seT1lWzExXSx0WzBdPW4sdFsxXT1pLHRbMl09YSx0WzNdPW8sdFs0XT1zLHRbNV09dSx0WzZdPXAsdFs3XT1sLHRbOF09Yyx0WzldPWgsdFsxMF09Zix0WzExXT15LHRbMTJdPW4qZCtzKm0rYyp2K2VbMTJdLHRbMTNdPWkqZCt1Km0raCp2K2VbMTNdLHRbMTRdPWEqZCtwKm0rZip2K2VbMTRdLHRbMTVdPW8qZCtsKm0reSp2K2VbMTVdKSx0fSx0LnNjYWxlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXSxhPXJbMl07cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHRbMl09ZVsyXSpuLHRbM109ZVszXSpuLHRbNF09ZVs0XSppLHRbNV09ZVs1XSppLHRbNl09ZVs2XSppLHRbN109ZVs3XSppLHRbOF09ZVs4XSphLHRbOV09ZVs5XSphLHRbMTBdPWVbMTBdKmEsdFsxMV09ZVsxMV0qYSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSx0fSx0LnJvdGF0ZVg9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPU1hdGguc2luKHIpLGk9TWF0aC5jb3MociksYT1lWzRdLG89ZVs1XSxzPWVbNl0sdT1lWzddLHA9ZVs4XSxsPWVbOV0sYz1lWzEwXSxoPWVbMTFdO3JldHVybiBlIT09dCYmKHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFs0XT1hKmkrcCpuLHRbNV09byppK2wqbix0WzZdPXMqaStjKm4sdFs3XT11KmkraCpuLHRbOF09cCppLWEqbix0WzldPWwqaS1vKm4sdFsxMF09YyppLXMqbix0WzExXT1oKmktdSpuLHR9LHQucm90YXRlWj1mdW5jdGlvbih0LGUscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxhPWVbMF0sbz1lWzFdLHM9ZVsyXSx1PWVbM10scD1lWzRdLGw9ZVs1XSxjPWVbNl0saD1lWzddO3JldHVybiBlIT09dCYmKHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbMF09YSppK3Aqbix0WzFdPW8qaStsKm4sdFsyXT1zKmkrYypuLHRbM109dSppK2gqbix0WzRdPXAqaS1hKm4sdFs1XT1sKmktbypuLHRbNl09YyppLXMqbix0WzddPWgqaS11Km4sdH0sdC5wZXJzcGVjdGl2ZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPTEvTWF0aC50YW4oZS8yKSxvPTEvKG4taSk7cmV0dXJuIHRbMF09YS9yLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPWEsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPShpK24pKm8sdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTIqaSpuKm8sdFsxNV09MCx0fSx0Lm9ydGhvPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3ZhciBzPTEvKGUtciksdT0xLyhuLWkpLHA9MS8oYS1vKTtyZXR1cm4gdFswXT0tMipzLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPS0yKnUsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPTIqcCx0WzExXT0wLHRbMTJdPShlK3IpKnMsdFsxM109KGkrbikqdSx0WzE0XT0obythKSpwLHRbMTVdPTEsdH0sdC5jcmVhdGUkMT1aaSx0Lm5vcm1hbGl6ZT1YaSx0LnRyYW5zZm9ybU1hdDQ9SGksdC5mb3JFYWNoPUdpLHQuZ2V0U2l6ZURhdGE9WG8sdC5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lO3JldHVybiBcInNvdXJjZVwiPT09dC5mdW5jdGlvblR5cGU/ci5sb3dlclNpemUvWm86XCJjb21wb3NpdGVcIj09PXQuZnVuY3Rpb25UeXBlP1Z0KHIubG93ZXJTaXplL1pvLHIudXBwZXJTaXplL1pvLG4udVNpemVUKTpuLnVTaXplfSx0LmV2YWx1YXRlU2l6ZUZvclpvb209ZnVuY3Rpb24odCxlLHIpe2lmKFwiY29uc3RhbnRcIj09PXQuZnVuY3Rpb25UeXBlKXJldHVybiB7dVNpemVUOjAsdVNpemU6dC5sYXlvdXRTaXplfTtpZihcInNvdXJjZVwiPT09dC5mdW5jdGlvblR5cGUpcmV0dXJuIHt1U2l6ZVQ6MCx1U2l6ZTowfTtpZihcImNhbWVyYVwiPT09dC5mdW5jdGlvblR5cGUpe3ZhciBuPXQucHJvcGVydHlWYWx1ZSxpPXQuem9vbVJhbmdlLGE9dC5zaXplUmFuZ2Usbz1sKERlKG4sci5zcGVjaWZpY2F0aW9uKS5pbnRlcnBvbGF0aW9uRmFjdG9yKGUsaS5taW4saS5tYXgpLDAsMSk7cmV0dXJuIHt1U2l6ZVQ6MCx1U2l6ZTphLm1pbitvKihhLm1heC1hLm1pbil9fXZhciBzPXQucHJvcGVydHlWYWx1ZSx1PXQuem9vbVJhbmdlO3JldHVybiB7dVNpemVUOmwoRGUocyxyLnNwZWNpZmljYXRpb24pLmludGVycG9sYXRpb25GYWN0b3IoZSx1Lm1pbix1Lm1heCksMCwxKSx1U2l6ZTowfX0sdC5TSVpFX1BBQ0tfRkFDVE9SPVpvLHQuYWRkRHluYW1pY0F0dHJpYnV0ZXM9S28sdC5wcm9wZXJ0aWVzPXRzLHQuV3JpdGluZ01vZGU9dHUsdC5tdWx0aVBvbHlnb25JbnRlcnNlY3RzQnVmZmVyZWRQb2ludD14aSx0Lm11bHRpUG9seWdvbkludGVyc2VjdHNNdWx0aVBvbHlnb249YmksdC5tdWx0aVBvbHlnb25JbnRlcnNlY3RzQnVmZmVyZWRNdWx0aUxpbmU9X2ksdC5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb249ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihJaShlLHRbcl0pKXJldHVybiAhMDtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihJaSh0LGVbbl0pKXJldHVybiAhMDtyZXR1cm4gISFBaSh0LGUpfSx0LmRpc3RUb1NlZ21lbnRTcXVhcmVkPVNpLHQuU3ltYm9sSW5zdGFuY2VBcnJheT1Gbix0LlN0eWxlTGF5ZXI9cm4sdC5jcmVhdGVTdHlsZUxheWVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYXNbdC50eXBlXSh0KX0sdC5jbG9uZT1nLHQuZmlsdGVyT2JqZWN0PXYsdC5tYXBPYmplY3Q9bSx0LnJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5PWZ1bmN0aW9uKHQpe3JldHVybiBMcj90KHtwbHVnaW5VUkw6THIsY29tcGxldGlvbkNhbGxiYWNrOkZyfSk6anIub25jZShcInBsdWdpbkF2YWlsYWJsZVwiLHQpLHR9LHQuZXZlbnRlZD1qcix0Llpvb21IaXN0b3J5PUlyLHQuY3JlYXRlTGF5b3V0PXNuLHQuUHJvZ3JhbUNvbmZpZ3VyYXRpb249cGksdC5Vbmlmb3JtMWk9S24sdC5Vbmlmb3JtMWY9WW4sdC5Vbmlmb3JtMmY9JG4sdC5Vbmlmb3JtNGY9UW4sdC5Vbmlmb3JtM2Y9V24sdC5Vbmlmb3JtTWF0cml4NGY9cmksdC5jcmVhdGUkMj1FaSx0LmZyb21Sb3RhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciByPU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7cmV0dXJuIHRbMF09bix0WzFdPXIsdFsyXT0wLHRbM109LXIsdFs0XT1uLHRbNV09MCx0WzZdPTAsdFs3XT0wLHRbOF09MSx0fSx0LmNyZWF0ZSQzPUZpLHQubGVuZ3RoPU9pLHQuZnJvbVZhbHVlcz1MaSx0Lm5vcm1hbGl6ZSQxPURpLHQuZG90PWppLHQuY3Jvc3M9VWksdC50cmFuc2Zvcm1NYXQzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl07cmV0dXJuIHRbMF09bipyWzBdK2kqclszXSthKnJbNl0sdFsxXT1uKnJbMV0raSpyWzRdK2Eqcls3XSx0WzJdPW4qclsyXStpKnJbNV0rYSpyWzhdLHR9LHQubGVuPVJpLHQuZm9yRWFjaCQxPU5pLHQuVW5pZm9ybUNvbG9yPXRpLHQuU3RydWN0QXJyYXlMYXlvdXQyaTQ9cG4sdC5TdHJ1Y3RBcnJheUxheW91dDJ1aTQ9U24sdC5TdHJ1Y3RBcnJheUxheW91dDN1aTY9em4sdC5TdHJ1Y3RBcnJheUxheW91dDF1aTI9Qm4sdC5VbndyYXBwZWRUaWxlSUQ9UnMsdC5jcmVhdGUkND1mdW5jdGlvbigpe3ZhciB0PW5ldyBUaSg0KTtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0xLHR9LHQucm90YXRlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9TWF0aC5zaW4ociksdT1NYXRoLmNvcyhyKTtyZXR1cm4gdFswXT1uKnUrYSpzLHRbMV09aSp1K28qcyx0WzJdPW4qLXMrYSp1LHRbM109aSotcytvKnUsdH0sdC5lYXNlPXAsdC5iZXppZXI9dSx0LkV2YWx1YXRpb25QYXJhbWV0ZXJzPXFyLHQuc2V0UlRMVGV4dFBsdWdpbj1mdW5jdGlvbih0LGUpe2lmKE9yKXRocm93IG5ldyBFcnJvcihcInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cIik7T3I9ITAsTHI9Uy5yZXNvbHZlVVJMKHQpLEZyPWZ1bmN0aW9uKHQpe3Q/KE9yPSExLExyPW51bGwsZSYmZSh0KSk6RHI9ITA7fSxqci5maXJlKG5ldyBFKFwicGx1Z2luQXZhaWxhYmxlXCIse3BsdWdpblVSTDpMcixjb21wbGV0aW9uQ2FsbGJhY2s6RnJ9KSk7fSx0LnZhbHVlcz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIHIgaW4gdCllLnB1c2godFtyXSk7cmV0dXJuIGV9LHQuZmVhdHVyZUZpbHRlcj1HZSx0LkFuY2hvcj1Obyx0LkdMWVBIX1BCRl9CT1JERVI9RHMsdC5zaGFwZVRleHQ9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUscCxsKXt2YXIgYz1ldS5mcm9tRmVhdHVyZSh0LHIpO2w9PT10dS52ZXJ0aWNhbCYmYy52ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKCk7dmFyIGgsZj1bXSx5PXtwb3NpdGlvbmVkR2x5cGhzOmYsdGV4dDpjLHRvcDp1WzFdLGJvdHRvbTp1WzFdLGxlZnQ6dVswXSxyaWdodDp1WzBdLHdyaXRpbmdNb2RlOmx9LGQ9VXIucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LG09VXIucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0O2lmKGQmJjE9PT1jLnNlY3Rpb25zLmxlbmd0aCl7aD1bXTtmb3IodmFyIHY9MCxnPWQoYy50b1N0cmluZygpLHN1KGMscyxuLGUpKTt2PGcubGVuZ3RoO3YrPTEpe3ZhciB4PWdbdl0sYj1uZXcgZXU7Yi50ZXh0PXgsYi5zZWN0aW9ucz1jLnNlY3Rpb25zO2Zvcih2YXIgXz0wO188eC5sZW5ndGg7XysrKWIuc2VjdGlvbkluZGV4LnB1c2goMCk7aC5wdXNoKGIpO319ZWxzZSBpZihtKXtoPVtdO2Zvcih2YXIgdz0wLEE9bShjLnRleHQsYy5zZWN0aW9uSW5kZXgsc3UoYyxzLG4sZSkpO3c8QS5sZW5ndGg7dys9MSl7dmFyIGs9QVt3XSx6PW5ldyBldTt6LnRleHQ9a1swXSx6LnNlY3Rpb25JbmRleD1rWzFdLHouc2VjdGlvbnM9Yy5zZWN0aW9ucyxoLnB1c2goeik7fX1lbHNlIGg9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9W10sbj10LnRleHQsaT0wLGE9MCxvPWU7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdO3IucHVzaCh0LnN1YnN0cmluZyhpLHMpKSxpPXM7fXJldHVybiBpPG4ubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSxuLmxlbmd0aCkpLHJ9KGMsc3UoYyxzLG4sZSkpO3JldHVybiBmdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSl7Zm9yKHZhciBwPTAsbD0tMTcsYz0wLGg9dC5wb3NpdGlvbmVkR2x5cGhzLGY9XCJyaWdodFwiPT09YT8xOlwibGVmdFwiPT09YT8wOi41LHk9MCxkPXI7eTxkLmxlbmd0aDt5Kz0xKXt2YXIgbT1kW3ldO20udHJpbSgpO3ZhciB2PW0uZ2V0TWF4U2NhbGUoKTtpZihtLmxlbmd0aCgpKXtmb3IodmFyIGc9aC5sZW5ndGgseD0wO3g8bS5sZW5ndGgoKTt4Kyspe3ZhciBiPW0uZ2V0U2VjdGlvbih4KSxfPW0uZ2V0Q2hhckNvZGUoeCksdz0yNCoodi1iLnNjYWxlKSxBPWVbYi5mb250U3RhY2tdLGs9QSYmQVtfXTtrJiYoQ3IoXykmJm8hPT10dS5ob3Jpem9udGFsPyhoLnB1c2goe2dseXBoOl8seDpwLHk6dyx2ZXJ0aWNhbDohMCxzY2FsZTpiLnNjYWxlLGZvbnRTdGFjazpiLmZvbnRTdGFja30pLHArPXUqYi5zY2FsZStzKTooaC5wdXNoKHtnbHlwaDpfLHg6cCx5Omwrdyx2ZXJ0aWNhbDohMSxzY2FsZTpiLnNjYWxlLGZvbnRTdGFjazpiLmZvbnRTdGFja30pLHArPWsubWV0cmljcy5hZHZhbmNlKmIuc2NhbGUrcykpO31pZihoLmxlbmd0aCE9PWcpe3ZhciB6PXAtcztjPU1hdGgubWF4KHosYykscHUoaCxlLGcsaC5sZW5ndGgtMSxmKTt9cD0wLGwrPW4qdjt9ZWxzZSBsKz1uO312YXIgUz11dShpKSxCPVMuaG9yaXpvbnRhbEFsaWduLEk9Uy52ZXJ0aWNhbEFsaWduOyFmdW5jdGlvbih0LGUscixuLGksYSxvKXtmb3IodmFyIHM9KGUtcikqaSx1PSgtbipvKy41KSphLHA9MDtwPHQubGVuZ3RoO3ArKyl0W3BdLngrPXMsdFtwXS55Kz11O30oaCxmLEIsSSxjLG4sci5sZW5ndGgpO3ZhciBWPWwtIC0xNzt0LnRvcCs9LUkqVix0LmJvdHRvbT10LnRvcCtWLHQubGVmdCs9LUIqYyx0LnJpZ2h0PXQubGVmdCtjO30oeSxlLGgsaSxhLG8sbCxzLHApLCEhZi5sZW5ndGgmJih5LnRleHQ9eS50ZXh0LnRvU3RyaW5nKCkseSl9LHQuc2hhcGVJY29uPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj11dShyKSxpPW4uaG9yaXpvbnRhbEFsaWduLGE9bi52ZXJ0aWNhbEFsaWduLG89ZVswXSxzPWVbMV0sdT1vLXQuZGlzcGxheVNpemVbMF0qaSxwPXUrdC5kaXNwbGF5U2l6ZVswXSxsPXMtdC5kaXNwbGF5U2l6ZVsxXSphO3JldHVybiB7aW1hZ2U6dCx0b3A6bCxib3R0b206bCt0LmRpc3BsYXlTaXplWzFdLGxlZnQ6dSxyaWdodDpwfX0sdC5hbGxvd3NWZXJ0aWNhbFdyaXRpbmdNb2RlPVByLHQuYWxsb3dzTGV0dGVyU3BhY2luZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKz0xKWlmKCFNcihyW2VdLmNoYXJDb2RlQXQoMCkpKXJldHVybiAhMTtyZXR1cm4gITB9LHQuY2xhc3NpZnlSaW5ncz1KYSx0LlN5bWJvbEJ1Y2tldD1Xbyx0LkZvcm1hdHRlZD1jdCx0LnJlZ2lzdGVyPWtyLHQuRmVhdHVyZUluZGV4PSRzLHQuQ29sbGlzaW9uQm94QXJyYXk9TW4sdC5EaWN0aW9uYXJ5Q29kZXI9R3MsdC5MaW5lQnVja2V0PUlvLHQuRmlsbEJ1Y2tldD1XYSx0LkZpbGxFeHRydXNpb25CdWNrZXQ9YW8sdC5JbWFnZUF0bGFzPXBzLHQubXZ0PV9vLHQuUHJvdG9idWY9dnMsdC5ERU1EYXRhPVhzLHQudmVjdG9yVGlsZT1fbyx0LlBvaW50JDE9YSx0LnBiZj12cyx0LnBsdWdpbj1Vcjt9KTtcblxuZGVmaW5lKFtcIi4vc2hhcmVkLmpzXCJdLGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSl7dmFyIHI9dHlwZW9mIGU7aWYoXCJudW1iZXJcIj09PXJ8fFwiYm9vbGVhblwiPT09cnx8XCJzdHJpbmdcIj09PXJ8fG51bGw9PWUpcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgbj1cIltcIixvPTAsaT1lO288aS5sZW5ndGg7bys9MSl7bis9dChpW29dKStcIixcIjt9cmV0dXJuIG4rXCJdXCJ9Zm9yKHZhciBhPU9iamVjdC5rZXlzKGUpLnNvcnQoKSxzPVwie1wiLGw9MDtsPGEubGVuZ3RoO2wrKylzKz1KU09OLnN0cmluZ2lmeShhW2xdKStcIjpcIit0KGVbYVtsXV0pK1wiLFwiO3JldHVybiBzK1wifVwifWZ1bmN0aW9uIHIocil7Zm9yKHZhciBuPVwiXCIsbz0wLGk9ZS5yZWZQcm9wZXJ0aWVzO288aS5sZW5ndGg7bys9MSl7bis9XCIvXCIrdChyW2lbb11dKTt9cmV0dXJuIG59dmFyIG49ZnVuY3Rpb24oZSl7ZSYmdGhpcy5yZXBsYWNlKGUpO307ZnVuY3Rpb24gbyhlLHQscixuLG8pe2lmKHZvaWQgMD09PXQuc2VnbWVudClyZXR1cm4gITA7Zm9yKHZhciBpPXQsYT10LnNlZ21lbnQrMSxzPTA7cz4tci8yOyl7aWYoLS1hPDApcmV0dXJuICExO3MtPWVbYV0uZGlzdChpKSxpPWVbYV07fXMrPWVbYV0uZGlzdChlW2ErMV0pLGErKztmb3IodmFyIGw9W10sdT0wO3M8ci8yOyl7dmFyIGg9ZVthLTFdLGM9ZVthXSxmPWVbYSsxXTtpZighZilyZXR1cm4gITE7dmFyIHA9aC5hbmdsZVRvKGMpLWMuYW5nbGVUbyhmKTtmb3IocD1NYXRoLmFicygocCszKk1hdGguUEkpJSgyKk1hdGguUEkpLU1hdGguUEkpLGwucHVzaCh7ZGlzdGFuY2U6cyxhbmdsZURlbHRhOnB9KSx1Kz1wO3MtbFswXS5kaXN0YW5jZT5uOyl1LT1sLnNoaWZ0KCkuYW5nbGVEZWx0YTtpZih1Pm8pcmV0dXJuICExO2ErKyxzKz1jLmRpc3QoZik7fXJldHVybiAhMH1mdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD0wLHI9MDtyPGUubGVuZ3RoLTE7cisrKXQrPWVbcl0uZGlzdChlW3IrMV0pO3JldHVybiB0fWZ1bmN0aW9uIGEoZSx0LHIpe3JldHVybiBlPy42KnQqcjowfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gTWF0aC5tYXgoZT9lLnJpZ2h0LWUubGVmdDowLHQ/dC5yaWdodC10LmxlZnQ6MCl9ZnVuY3Rpb24gbCh0LHIsbixsLHUsaCl7Zm9yKHZhciBjPWEobix1LGgpLGY9cyhuLGwpKmgscD0wLGQ9aSh0KS8yLGc9MDtnPHQubGVuZ3RoLTE7ZysrKXt2YXIgbT10W2ddLHY9dFtnKzFdLHk9bS5kaXN0KHYpO2lmKHAreT5kKXt2YXIgeD0oZC1wKS95LHc9ZS5udW1iZXIobS54LHYueCx4KSxNPWUubnVtYmVyKG0ueSx2LnkseCksUz1uZXcgZS5BbmNob3IodyxNLHYuYW5nbGVUbyhtKSxnKTtyZXR1cm4gUy5fcm91bmQoKSwhY3x8byh0LFMsZixjLHIpP1M6dm9pZCAwfXArPXk7fX1mdW5jdGlvbiB1KHQscixuLGwsdSxoLGMsZixwKXt2YXIgZD1hKGwsaCxjKSxnPXMobCx1KSxtPWcqYyx2PTA9PT10WzBdLnh8fHRbMF0ueD09PXB8fDA9PT10WzBdLnl8fHRbMF0ueT09PXA7cmV0dXJuIHItbTxyLzQmJihyPW0rci80KSxmdW5jdGlvbiB0KHIsbixhLHMsbCx1LGgsYyxmKXt2YXIgcD11LzI7dmFyIGQ9aShyKTt2YXIgZz0wLG09bi1hO3ZhciB2PVtdO2Zvcih2YXIgeT0wO3k8ci5sZW5ndGgtMTt5Kyspe2Zvcih2YXIgeD1yW3ldLHc9clt5KzFdLE09eC5kaXN0KHcpLFM9dy5hbmdsZVRvKHgpO20rYTxnK007KXt2YXIgXz0oKG0rPWEpLWcpL00sUD1lLm51bWJlcih4Lngsdy54LF8pLGI9ZS5udW1iZXIoeC55LHcueSxfKTtpZihQPj0wJiZQPGYmJmI+PTAmJmI8ZiYmbS1wPj0wJiZtK3A8PWQpe3ZhciBJPW5ldyBlLkFuY2hvcihQLGIsUyx5KTtJLl9yb3VuZCgpLHMmJiFvKHIsSSx1LHMsbCl8fHYucHVzaChJKTt9fWcrPU07fWN8fHYubGVuZ3RofHxofHwodj10KHIsZy8yLGEscyxsLHUsaCwhMCxmKSk7cmV0dXJuIHZ9KHQsdj9yLzIqZiVyOihnLzIrMipoKSpjKmYlcixyLGQsbixtLHYsITEscCl9bi5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlKXt0aGlzLl9sYXllckNvbmZpZ3M9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMudXBkYXRlKGUsW10pO30sbi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsbil7Zm9yKHZhciBvPXRoaXMsaT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpe3ZhciBzPWFbaV07by5fbGF5ZXJDb25maWdzW3MuaWRdPXM7dmFyIGw9by5fbGF5ZXJzW3MuaWRdPWUuY3JlYXRlU3R5bGVMYXllcihzKTtsLl9mZWF0dXJlRmlsdGVyPWUuZmVhdHVyZUZpbHRlcihsLmZpbHRlcik7fWZvcih2YXIgdT0wLGg9bjt1PGgubGVuZ3RoO3UrPTEpe3ZhciBjPWhbdV07ZGVsZXRlIG8uX2xheWVyQ29uZmlnc1tjXSxkZWxldGUgby5fbGF5ZXJzW2NdO310aGlzLmZhbWlsaWVzQnlTb3VyY2U9e307Zm9yKHZhciBmPTAscD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1yKGVbbl0pLGk9dFtvXTtpfHwoaT10W29dPVtdKSxpLnB1c2goZVtuXSk7fXZhciBhPVtdO2Zvcih2YXIgcyBpbiB0KWEucHVzaCh0W3NdKTtyZXR1cm4gYX0oZS52YWx1ZXModGhpcy5fbGF5ZXJDb25maWdzKSk7ZjxwLmxlbmd0aDtmKz0xKXt2YXIgZD1wW2ZdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gby5fbGF5ZXJzW2UuaWRdfSksZz1kWzBdO2lmKFwibm9uZVwiIT09Zy52aXNpYmlsaXR5KXt2YXIgbT1nLnNvdXJjZXx8XCJcIix2PW8uZmFtaWxpZXNCeVNvdXJjZVttXTt2fHwodj1vLmZhbWlsaWVzQnlTb3VyY2VbbV09e30pO3ZhciB5PWcuc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIix4PXZbeV07eHx8KHg9dlt5XT1bXSkseC5wdXNoKGQpO319fTt2YXIgaD1mdW5jdGlvbih0LHIsbixvLGksYSxzLGwsdSxoLGMsZil7dmFyIHA9cy50b3AqbC11LGQ9cy5ib3R0b20qbCt1LGc9cy5sZWZ0KmwtdSxtPXMucmlnaHQqbCt1O2lmKHRoaXMuYm94U3RhcnRJbmRleD10Lmxlbmd0aCxoKXt2YXIgdj1kLXAseT1tLWc7dj4wJiYodj1NYXRoLm1heCgxMCpsLHYpLHRoaXMuX2FkZExpbmVDb2xsaXNpb25DaXJjbGVzKHQscixuLG4uc2VnbWVudCx5LHYsbyxpLGEsYykpO31lbHNle2lmKGYpe3ZhciB4PW5ldyBlLlBvaW50KGcscCksdz1uZXcgZS5Qb2ludChtLHApLE09bmV3IGUuUG9pbnQoZyxkKSxTPW5ldyBlLlBvaW50KG0sZCksXz1mKk1hdGguUEkvMTgwO3guX3JvdGF0ZShfKSx3Ll9yb3RhdGUoXyksTS5fcm90YXRlKF8pLFMuX3JvdGF0ZShfKSxnPU1hdGgubWluKHgueCx3LngsTS54LFMueCksbT1NYXRoLm1heCh4Lngsdy54LE0ueCxTLngpLHA9TWF0aC5taW4oeC55LHcueSxNLnksUy55KSxkPU1hdGgubWF4KHgueSx3LnksTS55LFMueSk7fXQuZW1wbGFjZUJhY2sobi54LG4ueSxnLHAsbSxkLG8saSxhLDAsMCk7fXRoaXMuYm94RW5kSW5kZXg9dC5sZW5ndGg7fTtoLnByb3RvdHlwZS5fYWRkTGluZUNvbGxpc2lvbkNpcmNsZXM9ZnVuY3Rpb24oZSx0LHIsbixvLGksYSxzLGwsdSl7dmFyIGg9aS8yLGM9TWF0aC5mbG9vcihvL2gpfHwxLGY9MSsuNCpNYXRoLmxvZyh1KS9NYXRoLkxOMixwPU1hdGguZmxvb3IoYypmLzIpLGQ9LWkvMixnPXIsbT1uKzEsdj1kLHk9LW8vMix4PXktby80O2Rve2lmKC0tbTwwKXtpZih2PnkpcmV0dXJuO209MDticmVha312LT10W21dLmRpc3QoZyksZz10W21dO313aGlsZSh2PngpO2Zvcih2YXIgdz10W21dLmRpc3QodFttKzFdKSxNPS1wO008YytwO00rKyl7dmFyIFM9TSpoLF89eStTO2lmKFM8MCYmKF8rPVMpLFM+byYmKF8rPVMtbyksIShfPHYpKXtmb3IoO3YrdzxfOyl7aWYodis9dywrK20rMT49dC5sZW5ndGgpcmV0dXJuO3c9dFttXS5kaXN0KHRbbSsxXSk7fXZhciBQPV8tdixiPXRbbV0sST10W20rMV0uc3ViKGIpLl91bml0KCkuX211bHQoUCkuX2FkZChiKS5fcm91bmQoKSxUPU1hdGguYWJzKF8tZCk8aD8wOi44KihfLWQpO2UuZW1wbGFjZUJhY2soSS54LEkueSwtaS8yLC1pLzIsaS8yLGkvMixhLHMsbCxpLzIsVCk7fX19O3ZhciBjPXAsZj1wO2Z1bmN0aW9uIHAoZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBwKSlyZXR1cm4gbmV3IHAoZSx0KTtpZih0aGlzLmRhdGE9ZXx8W10sdGhpcy5sZW5ndGg9dGhpcy5kYXRhLmxlbmd0aCx0aGlzLmNvbXBhcmU9dHx8ZCx0aGlzLmxlbmd0aD4wKWZvcih2YXIgcj0odGhpcy5sZW5ndGg+PjEpLTE7cj49MDtyLS0pdGhpcy5fZG93bihyKTt9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiBnKHQscixuKXt2b2lkIDA9PT1yJiYocj0xKSx2b2lkIDA9PT1uJiYobj0hMSk7Zm9yKHZhciBvPTEvMCxpPTEvMCxhPS0xLzAscz0tMS8wLGw9dFswXSx1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBoPWxbdV07KCF1fHxoLng8bykmJihvPWgueCksKCF1fHxoLnk8aSkmJihpPWgueSksKCF1fHxoLng+YSkmJihhPWgueCksKCF1fHxoLnk+cykmJihzPWgueSk7fXZhciBmPWEtbyxwPXMtaSxkPU1hdGgubWluKGYscCksZz1kLzIseT1uZXcgYyhudWxsLG0pO2lmKDA9PT1kKXJldHVybiBuZXcgZS5Qb2ludChvLGkpO2Zvcih2YXIgeD1vO3g8YTt4Kz1kKWZvcih2YXIgdz1pO3c8czt3Kz1kKXkucHVzaChuZXcgdih4K2csdytnLGcsdCkpO2Zvcih2YXIgTT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPTAsbj0wLG89ZVswXSxpPTAsYT1vLmxlbmd0aCxzPWEtMTtpPGE7cz1pKyspe3ZhciBsPW9baV0sdT1vW3NdLGg9bC54KnUueS11LngqbC55O3IrPShsLngrdS54KSpoLG4rPShsLnkrdS55KSpoLHQrPTMqaDt9cmV0dXJuIG5ldyB2KHIvdCxuL3QsMCxlKX0odCksUz15Lmxlbmd0aDt5Lmxlbmd0aDspe3ZhciBfPXkucG9wKCk7KF8uZD5NLmR8fCFNLmQpJiYoTT1fLG4mJmNvbnNvbGUubG9nKFwiZm91bmQgYmVzdCAlZCBhZnRlciAlZCBwcm9iZXNcIixNYXRoLnJvdW5kKDFlNCpfLmQpLzFlNCxTKSksXy5tYXgtTS5kPD1yfHwoZz1fLmgvMix5LnB1c2gobmV3IHYoXy5wLngtZyxfLnAueS1nLGcsdCkpLHkucHVzaChuZXcgdihfLnAueCtnLF8ucC55LWcsZyx0KSkseS5wdXNoKG5ldyB2KF8ucC54LWcsXy5wLnkrZyxnLHQpKSx5LnB1c2gobmV3IHYoXy5wLngrZyxfLnAueStnLGcsdCkpLFMrPTQpO31yZXR1cm4gbiYmKGNvbnNvbGUubG9nKFwibnVtIHByb2JlczogXCIrUyksY29uc29sZS5sb2coXCJiZXN0IGRpc3RhbmNlOiBcIitNLmQpKSxNLnB9ZnVuY3Rpb24gbShlLHQpe3JldHVybiB0Lm1heC1lLm1heH1mdW5jdGlvbiB2KHQscixuLG8pe3RoaXMucD1uZXcgZS5Qb2ludCh0LHIpLHRoaXMuaD1uLHRoaXMuZD1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj0hMSxvPTEvMCxpPTA7aTxyLmxlbmd0aDtpKyspZm9yKHZhciBhPXJbaV0scz0wLGw9YS5sZW5ndGgsdT1sLTE7czxsO3U9cysrKXt2YXIgaD1hW3NdLGM9YVt1XTtoLnk+dC55IT1jLnk+dC55JiZ0Lng8KGMueC1oLngpKih0LnktaC55KS8oYy55LWgueSkraC54JiYobj0hbiksbz1NYXRoLm1pbihvLGUuZGlzdFRvU2VnbWVudFNxdWFyZWQodCxoLGMpKTt9cmV0dXJuIChuPzE6LTEpKk1hdGguc3FydChvKX0odGhpcy5wLG8pLHRoaXMubWF4PXRoaXMuZCt0aGlzLmgqTWF0aC5TUVJUMjt9cC5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oZSl7dGhpcy5kYXRhLnB1c2goZSksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKTt9LHBvcDpmdW5jdGlvbigpe2lmKDAhPT10aGlzLmxlbmd0aCl7dmFyIGU9dGhpcy5kYXRhWzBdO3JldHVybiB0aGlzLmxlbmd0aC0tLHRoaXMubGVuZ3RoPjAmJih0aGlzLmRhdGFbMF09dGhpcy5kYXRhW3RoaXMubGVuZ3RoXSx0aGlzLl9kb3duKDApKSx0aGlzLmRhdGEucG9wKCksZX19LHBlZWs6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhWzBdfSxfdXA6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZGF0YSxyPXRoaXMuY29tcGFyZSxuPXRbZV07ZT4wOyl7dmFyIG89ZS0xPj4xLGk9dFtvXTtpZihyKG4saSk+PTApYnJlYWs7dFtlXT1pLGU9bzt9dFtlXT1uO30sX2Rvd246ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZGF0YSxyPXRoaXMuY29tcGFyZSxuPXRoaXMubGVuZ3RoPj4xLG89dFtlXTtlPG47KXt2YXIgaT0xKyhlPDwxKSxhPWkrMSxzPXRbaV07aWYoYTx0aGlzLmxlbmd0aCYmcih0W2FdLHMpPDAmJihpPWEscz10W2FdKSxyKHMsbyk+PTApYnJlYWs7dFtlXT1zLGU9aTt9dFtlXT1vO319LGMuZGVmYXVsdD1mO3ZhciB5PWUuY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixvLGksYSxzLGwsdTtmb3Iocj0zJmUubGVuZ3RoLG49ZS5sZW5ndGgtcixvPXQsYT0zNDMyOTE4MzUzLHM9NDYxODQ1OTA3LHU9MDt1PG47KWw9MjU1JmUuY2hhckNvZGVBdCh1KXwoMjU1JmUuY2hhckNvZGVBdCgrK3UpKTw8OHwoMjU1JmUuY2hhckNvZGVBdCgrK3UpKTw8MTZ8KDI1NSZlLmNoYXJDb2RlQXQoKyt1KSk8PDI0LCsrdSxvPTI3NDkyKyg2NTUzNSYoaT01Kig2NTUzNSYobz0ob149bD0oNjU1MzUmKGw9KGw9KDY1NTM1JmwpKmErKCgobD4+PjE2KSphJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTN8bz4+PjE5KSkrKCg1KihvPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpKSsoKDU4OTY0KyhpPj4+MTYpJjY1NTM1KTw8MTYpO3N3aXRjaChsPTAscil7Y2FzZSAzOmxePSgyNTUmZS5jaGFyQ29kZUF0KHUrMikpPDwxNjtjYXNlIDI6bF49KDI1NSZlLmNoYXJDb2RlQXQodSsxKSk8PDg7Y2FzZSAxOm9ePWw9KDY1NTM1JihsPShsPSg2NTUzNSYobF49MjU1JmUuY2hhckNvZGVBdCh1KSkpKmErKCgobD4+PjE2KSphJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1O31yZXR1cm4gb149ZS5sZW5ndGgsbz0yMjQ2ODIyNTA3Kig2NTUzNSYob149bz4+PjE2KSkrKCgyMjQ2ODIyNTA3KihvPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsbz0zMjY2NDg5OTA5Kig2NTUzNSYob149bz4+PjEzKSkrKCgzMjY2NDg5OTA5KihvPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsKG9ePW8+Pj4xNik+Pj4wfTt9KSx4PWUuY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLG49ZS5sZW5ndGgsbz10Xm4saT0wO24+PTQ7KXI9MTU0MDQ4MzQ3NyooNjU1MzUmKHI9MjU1JmUuY2hhckNvZGVBdChpKXwoMjU1JmUuY2hhckNvZGVBdCgrK2kpKTw8OHwoMjU1JmUuY2hhckNvZGVBdCgrK2kpKTw8MTZ8KDI1NSZlLmNoYXJDb2RlQXQoKytpKSk8PDI0KSkrKCgxNTQwNDgzNDc3KihyPj4+MTYpJjY1NTM1KTw8MTYpLG89MTU0MDQ4MzQ3NyooNjU1MzUmbykrKCgxNTQwNDgzNDc3KihvPj4+MTYpJjY1NTM1KTw8MTYpXihyPTE1NDA0ODM0NzcqKDY1NTM1JihyXj1yPj4+MjQpKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNikpLG4tPTQsKytpO3N3aXRjaChuKXtjYXNlIDM6b149KDI1NSZlLmNoYXJDb2RlQXQoaSsyKSk8PDE2O2Nhc2UgMjpvXj0oMjU1JmUuY2hhckNvZGVBdChpKzEpKTw8ODtjYXNlIDE6bz0xNTQwNDgzNDc3Kig2NTUzNSYob149MjU1JmUuY2hhckNvZGVBdChpKSkpKygoMTU0MDQ4MzQ3Nyoobz4+PjE2KSY2NTUzNSk8PDE2KTt9cmV0dXJuIG89MTU0MDQ4MzQ3NyooNjU1MzUmKG9ePW8+Pj4xMykpKygoMTU0MDQ4MzQ3Nyoobz4+PjE2KSY2NTUzNSk8PDE2KSwob149bz4+PjE1KT4+PjB9O30pLHc9eSxNPXksUz14O2Z1bmN0aW9uIF8odCxyLG4sbyxpLGEpe3QuY3JlYXRlQXJyYXlzKCk7dmFyIHM9NTEyKnQub3ZlcnNjYWxpbmc7dC50aWxlUGl4ZWxSYXRpbz1lLkVYVEVOVC9zLHQuY29tcGFyZVRleHQ9e30sdC5pY29uc05lZWRMaW5lYXI9ITE7dmFyIGw9dC5sYXllcnNbMF0ubGF5b3V0LHU9dC5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXMsaD17fTtpZihcImNvbXBvc2l0ZVwiPT09dC50ZXh0U2l6ZURhdGEuZnVuY3Rpb25UeXBlKXt2YXIgYz10LnRleHRTaXplRGF0YS56b29tUmFuZ2UsZj1jLm1pbixwPWMubWF4O2guY29tcG9zaXRlVGV4dFNpemVzPVt1W1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IGUuRXZhbHVhdGlvblBhcmFtZXRlcnMoZikpLHVbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgZS5FdmFsdWF0aW9uUGFyYW1ldGVycyhwKSldO31pZihcImNvbXBvc2l0ZVwiPT09dC5pY29uU2l6ZURhdGEuZnVuY3Rpb25UeXBlKXt2YXIgZD10Lmljb25TaXplRGF0YS56b29tUmFuZ2UsZz1kLm1pbixtPWQubWF4O2guY29tcG9zaXRlSWNvblNpemVzPVt1W1wiaWNvbi1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IGUuRXZhbHVhdGlvblBhcmFtZXRlcnMoZykpLHVbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgZS5FdmFsdWF0aW9uUGFyYW1ldGVycyhtKSldO31oLmxheW91dFRleHRTaXplPXVbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgZS5FdmFsdWF0aW9uUGFyYW1ldGVycyh0Lnpvb20rMSkpLGgubGF5b3V0SWNvblNpemU9dVtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBlLkV2YWx1YXRpb25QYXJhbWV0ZXJzKHQuem9vbSsxKSksaC50ZXh0TWF4U2l6ZT11W1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IGUuRXZhbHVhdGlvblBhcmFtZXRlcnMoMTgpKTtmb3IodmFyIHY9MjQqbC5nZXQoXCJ0ZXh0LWxpbmUtaGVpZ2h0XCIpLHk9XCJtYXBcIj09PWwuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PWwuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSx4PWwuZ2V0KFwidGV4dC1rZWVwLXVwcmlnaHRcIiksdz0wLE09dC5mZWF0dXJlczt3PE0ubGVuZ3RoO3crPTEpe3ZhciBTPU1bd10sXz1sLmdldChcInRleHQtZm9udFwiKS5ldmFsdWF0ZShTLHt9KS5qb2luKFwiLFwiKSxiPW4sST17fSxUPVMudGV4dDtpZihUKXt2YXIgaz1UIGluc3RhbmNlb2YgZS5Gb3JtYXR0ZWQ/VC50b1N0cmluZygpOlQsej1sLmdldChcInRleHQtb2Zmc2V0XCIpLmV2YWx1YXRlKFMse30pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gMjQqZX0pLEM9MjQqbC5nZXQoXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCIpLmV2YWx1YXRlKFMse30pLEU9ZS5hbGxvd3NMZXR0ZXJTcGFjaW5nKGspP0M6MCxMPWwuZ2V0KFwidGV4dC1hbmNob3JcIikuZXZhbHVhdGUoUyx7fSksQT1sLmdldChcInRleHQtanVzdGlmeVwiKS5ldmFsdWF0ZShTLHt9KSxEPVwicG9pbnRcIj09PWwuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT8yNCpsLmdldChcInRleHQtbWF4LXdpZHRoXCIpLmV2YWx1YXRlKFMse30pOjA7SS5ob3Jpem9udGFsPWUuc2hhcGVUZXh0KFQscixfLEQsdixMLEEsRSx6LDI0LGUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbCksZS5hbGxvd3NWZXJ0aWNhbFdyaXRpbmdNb2RlKGspJiZ5JiZ4JiYoSS52ZXJ0aWNhbD1lLnNoYXBlVGV4dChULHIsXyxELHYsTCxBLEUseiwyNCxlLldyaXRpbmdNb2RlLnZlcnRpY2FsKSk7fXZhciBPPXZvaWQgMDtpZihTLmljb24pe3ZhciBOPW9bUy5pY29uXTtOJiYoTz1lLnNoYXBlSWNvbihpW1MuaWNvbl0sbC5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZShTLHt9KSxsLmdldChcImljb24tYW5jaG9yXCIpLmV2YWx1YXRlKFMse30pKSx2b2lkIDA9PT10LnNkZkljb25zP3Quc2RmSWNvbnM9Ti5zZGY6dC5zZGZJY29ucyE9PU4uc2RmJiZlLndhcm5PbmNlKFwiU3R5bGUgc2hlZXQgd2FybmluZzogQ2Fubm90IG1peCBTREYgYW5kIG5vbi1TREYgaWNvbnMgaW4gb25lIGJ1ZmZlclwiKSxOLnBpeGVsUmF0aW8hPT10LnBpeGVsUmF0aW8/dC5pY29uc05lZWRMaW5lYXI9ITA6MCE9PWwuZ2V0KFwiaWNvbi1yb3RhdGVcIikuY29uc3RhbnRPcigxKSYmKHQuaWNvbnNOZWVkTGluZWFyPSEwKSk7fShJLmhvcml6b250YWx8fE8pJiZQKHQsUyxJLE8sYixoKTt9YSYmdC5nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycygpO31mdW5jdGlvbiBQKHQscixuLG8saSxhKXt2YXIgcz1hLmxheW91dFRleHRTaXplLmV2YWx1YXRlKHIse30pLGM9YS5sYXlvdXRJY29uU2l6ZS5ldmFsdWF0ZShyLHt9KSxmPWEudGV4dE1heFNpemUuZXZhbHVhdGUocix7fSk7dm9pZCAwPT09ZiYmKGY9cyk7dmFyIHA9dC5sYXllcnNbMF0ubGF5b3V0LGQ9cC5nZXQoXCJ0ZXh0LW9mZnNldFwiKS5ldmFsdWF0ZShyLHt9KSxtPXAuZ2V0KFwiaWNvbi1vZmZzZXRcIikuZXZhbHVhdGUocix7fSksdj1zLzI0LHk9dC50aWxlUGl4ZWxSYXRpbyp2LHg9dC50aWxlUGl4ZWxSYXRpbypmLzI0LE09dC50aWxlUGl4ZWxSYXRpbypjLFM9dC50aWxlUGl4ZWxSYXRpbypwLmdldChcInN5bWJvbC1zcGFjaW5nXCIpLF89cC5nZXQoXCJ0ZXh0LXBhZGRpbmdcIikqdC50aWxlUGl4ZWxSYXRpbyxQPXAuZ2V0KFwiaWNvbi1wYWRkaW5nXCIpKnQudGlsZVBpeGVsUmF0aW8saz1wLmdldChcInRleHQtbWF4LWFuZ2xlXCIpLzE4MCpNYXRoLlBJLHo9XCJtYXBcIj09PXAuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PXAuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxDPVwibWFwXCI9PT1wLmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1wLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksRT1wLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksTD1TLzIsQT1mdW5jdGlvbihzLGwpe2wueDwwfHxsLng+PWUuRVhURU5UfHxsLnk8MHx8bC55Pj1lLkVYVEVOVHx8ZnVuY3Rpb24odCxyLG4sbyxpLGEscyxsLHUsYyxmLHAsZCxnLG0sdix5LHgsTSxTLF8pe3ZhciBQLFQsaz10LmFkZFRvTGluZVZlcnRleEFycmF5KHIsbiksej0wLEM9MCxFPTAsTD13KG8uaG9yaXpvbnRhbD9vLmhvcml6b250YWwudGV4dDpcIlwiKSxBPVtdO2lmKG8uaG9yaXpvbnRhbCl7dmFyIEQ9YS5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUoTSx7fSk7UD1uZXcgaChzLG4scixsLHUsYyxvLmhvcml6b250YWwsZixwLGQsdC5vdmVyc2NhbGluZyxEKSxDKz1JKHQscixvLmhvcml6b250YWwsYSxkLE0sZyxrLG8udmVydGljYWw/ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsOmUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbE9ubHksQSxTLF8pLG8udmVydGljYWwmJihFKz1JKHQscixvLnZlcnRpY2FsLGEsZCxNLGcsayxlLldyaXRpbmdNb2RlLnZlcnRpY2FsLEEsUyxfKSk7fXZhciBPPVA/UC5ib3hTdGFydEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLE49UD9QLmJveEVuZEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoO2lmKGkpe3ZhciBSPWZ1bmN0aW9uKHQscixuLG8saSxhKXt2YXIgcyxsLHUsaCxjPXIuaW1hZ2UsZj1uLmxheW91dCxwPXIudG9wLTEvYy5waXhlbFJhdGlvLGQ9ci5sZWZ0LTEvYy5waXhlbFJhdGlvLGc9ci5ib3R0b20rMS9jLnBpeGVsUmF0aW8sbT1yLnJpZ2h0KzEvYy5waXhlbFJhdGlvO2lmKFwibm9uZVwiIT09Zi5nZXQoXCJpY29uLXRleHQtZml0XCIpJiZpKXt2YXIgdj1tLWQseT1nLXAseD1mLmdldChcInRleHQtc2l6ZVwiKS5ldmFsdWF0ZShhLHt9KS8yNCx3PWkubGVmdCp4LE09aS5yaWdodCp4LFM9aS50b3AqeCxfPU0tdyxQPWkuYm90dG9tKngtUyxiPWYuZ2V0KFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCIpWzBdLEk9Zi5nZXQoXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIilbMV0sVD1mLmdldChcImljb24tdGV4dC1maXQtcGFkZGluZ1wiKVsyXSxrPWYuZ2V0KFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCIpWzNdLHo9XCJ3aWR0aFwiPT09Zi5nZXQoXCJpY29uLXRleHQtZml0XCIpPy41KihQLXkpOjAsQz1cImhlaWdodFwiPT09Zi5nZXQoXCJpY29uLXRleHQtZml0XCIpPy41KihfLXYpOjAsRT1cIndpZHRoXCI9PT1mLmdldChcImljb24tdGV4dC1maXRcIil8fFwiYm90aFwiPT09Zi5nZXQoXCJpY29uLXRleHQtZml0XCIpP186dixMPVwiaGVpZ2h0XCI9PT1mLmdldChcImljb24tdGV4dC1maXRcIil8fFwiYm90aFwiPT09Zi5nZXQoXCJpY29uLXRleHQtZml0XCIpP1A6eTtzPW5ldyBlLlBvaW50KHcrQy1rLFMrei1iKSxsPW5ldyBlLlBvaW50KHcrQytJK0UsUyt6LWIpLHU9bmV3IGUuUG9pbnQodytDK0krRSxTK3orVCtMKSxoPW5ldyBlLlBvaW50KHcrQy1rLFMreitUK0wpO31lbHNlIHM9bmV3IGUuUG9pbnQoZCxwKSxsPW5ldyBlLlBvaW50KG0scCksdT1uZXcgZS5Qb2ludChtLGcpLGg9bmV3IGUuUG9pbnQoZCxnKTt2YXIgQT1uLmxheW91dC5nZXQoXCJpY29uLXJvdGF0ZVwiKS5ldmFsdWF0ZShhLHt9KSpNYXRoLlBJLzE4MDtpZihBKXt2YXIgRD1NYXRoLnNpbihBKSxPPU1hdGguY29zKEEpLE49W08sLUQsRCxPXTtzLl9tYXRNdWx0KE4pLGwuX21hdE11bHQoTiksaC5fbWF0TXVsdChOKSx1Ll9tYXRNdWx0KE4pO31yZXR1cm4gW3t0bDpzLHRyOmwsYmw6aCxicjp1LHRleDpjLnBhZGRlZFJlY3Qsd3JpdGluZ01vZGU6dm9pZCAwLGdseXBoT2Zmc2V0OlswLDBdfV19KDAsaSxhLDAsby5ob3Jpem9udGFsLE0pLEY9YS5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGVcIikuZXZhbHVhdGUoTSx7fSk7VD1uZXcgaChzLG4scixsLHUsYyxpLG0sdiwhMSx0Lm92ZXJzY2FsaW5nLEYpLHo9NCpSLmxlbmd0aDt2YXIgQj10Lmljb25TaXplRGF0YSxaPW51bGw7XCJzb3VyY2VcIj09PUIuZnVuY3Rpb25UeXBlPyhaPVtlLlNJWkVfUEFDS19GQUNUT1IqYS5sYXlvdXQuZ2V0KFwiaWNvbi1zaXplXCIpLmV2YWx1YXRlKE0se30pXSlbMF0+YiYmZS53YXJuT25jZSh0LmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciBcImljb24tc2l6ZVwiIGlzID49IDI1Ni4gUmVkdWNlIHlvdXIgXCJpY29uLXNpemVcIi4nKTpcImNvbXBvc2l0ZVwiPT09Qi5mdW5jdGlvblR5cGUmJigoWj1bZS5TSVpFX1BBQ0tfRkFDVE9SKl8uY29tcG9zaXRlSWNvblNpemVzWzBdLmV2YWx1YXRlKE0se30pLGUuU0laRV9QQUNLX0ZBQ1RPUipfLmNvbXBvc2l0ZUljb25TaXplc1sxXS5ldmFsdWF0ZShNLHt9KV0pWzBdPmJ8fFpbMV0+YikmJmUud2Fybk9uY2UodC5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgXCJpY29uLXNpemVcIiBpcyA+PSAyNTYuIFJlZHVjZSB5b3VyIFwiaWNvbi1zaXplXCIuJyksdC5hZGRTeW1ib2xzKHQuaWNvbixSLFoseCx5LE0sITEscixrLmxpbmVTdGFydEluZGV4LGsubGluZUxlbmd0aCk7fXZhciBqPVQ/VC5ib3hTdGFydEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLEc9VD9ULmJveEVuZEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoO3QuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGg+PWUuU3ltYm9sQnVja2V0Lk1BWF9HTFlQSFMmJmUud2Fybk9uY2UoXCJUb28gbWFueSBnbHlwaHMgYmVpbmcgcmVuZGVyZWQgaW4gYSB0aWxlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzI5MDdcIik7dC5zeW1ib2xJbnN0YW5jZXMuZW1wbGFjZUJhY2soci54LHIueSxBLmxlbmd0aD4wP0FbMF06LTEsQS5sZW5ndGg+MT9BWzFdOi0xLEwsTyxOLGosRyxsLEMsRSx6LDApO30odCxsLHMsbixvLHQubGF5ZXJzWzBdLHQuY29sbGlzaW9uQm94QXJyYXksci5pbmRleCxyLnNvdXJjZUxheWVySW5kZXgsdC5pbmRleCx5LF8seixkLE0sUCxDLG0scixpLGEpO307aWYoXCJsaW5lXCI9PT1FKWZvcih2YXIgRD0wLE89ZnVuY3Rpb24odCxyLG4sbyxpKXtmb3IodmFyIGE9W10scz0wO3M8dC5sZW5ndGg7cysrKWZvcih2YXIgbD10W3NdLHU9dm9pZCAwLGg9MDtoPGwubGVuZ3RoLTE7aCsrKXt2YXIgYz1sW2hdLGY9bFtoKzFdO2MueDxyJiZmLng8cnx8KGMueDxyP2M9bmV3IGUuUG9pbnQocixjLnkrKGYueS1jLnkpKigoci1jLngpLyhmLngtYy54KSkpLl9yb3VuZCgpOmYueDxyJiYoZj1uZXcgZS5Qb2ludChyLGMueSsoZi55LWMueSkqKChyLWMueCkvKGYueC1jLngpKSkuX3JvdW5kKCkpLGMueTxuJiZmLnk8bnx8KGMueTxuP2M9bmV3IGUuUG9pbnQoYy54KyhmLngtYy54KSooKG4tYy55KS8oZi55LWMueSkpLG4pLl9yb3VuZCgpOmYueTxuJiYoZj1uZXcgZS5Qb2ludChjLngrKGYueC1jLngpKigobi1jLnkpLyhmLnktYy55KSksbikuX3JvdW5kKCkpLGMueD49byYmZi54Pj1vfHwoYy54Pj1vP2M9bmV3IGUuUG9pbnQobyxjLnkrKGYueS1jLnkpKigoby1jLngpLyhmLngtYy54KSkpLl9yb3VuZCgpOmYueD49byYmKGY9bmV3IGUuUG9pbnQobyxjLnkrKGYueS1jLnkpKigoby1jLngpLyhmLngtYy54KSkpLl9yb3VuZCgpKSxjLnk+PWkmJmYueT49aXx8KGMueT49aT9jPW5ldyBlLlBvaW50KGMueCsoZi54LWMueCkqKChpLWMueSkvKGYueS1jLnkpKSxpKS5fcm91bmQoKTpmLnk+PWkmJihmPW5ldyBlLlBvaW50KGMueCsoZi54LWMueCkqKChpLWMueSkvKGYueS1jLnkpKSxpKS5fcm91bmQoKSksdSYmYy5lcXVhbHModVt1Lmxlbmd0aC0xXSl8fCh1PVtjXSxhLnB1c2godSkpLHUucHVzaChmKSkpKSk7fXJldHVybiBhfShyLmdlb21ldHJ5LDAsMCxlLkVYVEVOVCxlLkVYVEVOVCk7RDxPLmxlbmd0aDtEKz0xKWZvcih2YXIgTj1PW0RdLFI9MCxGPXUoTixTLGssbi52ZXJ0aWNhbHx8bi5ob3Jpem9udGFsLG8sMjQseCx0Lm92ZXJzY2FsaW5nLGUuRVhURU5UKTtSPEYubGVuZ3RoO1IrPTEpe3ZhciBCPUZbUl0sWj1uLmhvcml6b250YWw7WiYmVCh0LFoudGV4dCxMLEIpfHxBKE4sQik7fWVsc2UgaWYoXCJsaW5lLWNlbnRlclwiPT09RSlmb3IodmFyIGo9MCxHPXIuZ2VvbWV0cnk7ajxHLmxlbmd0aDtqKz0xKXt2YXIgSj1HW2pdO2lmKEoubGVuZ3RoPjEpe3ZhciBYPWwoSixrLG4udmVydGljYWx8fG4uaG9yaXpvbnRhbCxvLDI0LHgpO1gmJkEoSixYKTt9fWVsc2UgaWYoXCJQb2x5Z29uXCI9PT1yLnR5cGUpZm9yKHZhciBWPTAsVz1lLmNsYXNzaWZ5UmluZ3Moci5nZW9tZXRyeSwwKTtWPFcubGVuZ3RoO1YrPTEpe3ZhciBZPVdbVl0scT1nKFksMTYpO0EoWVswXSxuZXcgZS5BbmNob3IocS54LHEueSwwKSk7fWVsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT1yLnR5cGUpZm9yKHZhciBLPTAsVT1yLmdlb21ldHJ5O0s8VS5sZW5ndGg7Sys9MSl7dmFyIEg9VVtLXTtBKEgsbmV3IGUuQW5jaG9yKEhbMF0ueCxIWzBdLnksMCkpO31lbHNlIGlmKFwiUG9pbnRcIj09PXIudHlwZSlmb3IodmFyIFE9MCwkPXIuZ2VvbWV0cnk7UTwkLmxlbmd0aDtRKz0xKWZvcih2YXIgZWU9MCx0ZT0kW1FdO2VlPHRlLmxlbmd0aDtlZSs9MSl7dmFyIHJlPXRlW2VlXTtBKFtyZV0sbmV3IGUuQW5jaG9yKHJlLngscmUueSwwKSk7fX13Lm11cm11cjM9TSx3Lm11cm11cjI9Uzt2YXIgYj02NTUzNTtmdW5jdGlvbiBJKHQscixuLG8saSxhLHMsbCx1LGgsYyxmKXt2YXIgcD1mdW5jdGlvbih0LHIsbixvLGksYSl7Zm9yKHZhciBzPW4ubGF5b3V0LmdldChcInRleHQtcm90YXRlXCIpLmV2YWx1YXRlKGkse30pKk1hdGguUEkvMTgwLGw9bi5sYXlvdXQuZ2V0KFwidGV4dC1vZmZzZXRcIikuZXZhbHVhdGUoaSx7fSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiAyNCplfSksdT1yLnBvc2l0aW9uZWRHbHlwaHMsaD1bXSxjPTA7Yzx1Lmxlbmd0aDtjKyspe3ZhciBmPXVbY10scD1hW2YuZm9udFN0YWNrXSxkPXAmJnBbZi5nbHlwaF07aWYoZCl7dmFyIGc9ZC5yZWN0O2lmKGcpe3ZhciBtPWUuR0xZUEhfUEJGX0JPUkRFUisxLHY9ZC5tZXRyaWNzLmFkdmFuY2UqZi5zY2FsZS8yLHk9bz9bZi54K3YsZi55XTpbMCwwXSx4PW8/WzAsMF06W2YueCt2K2xbMF0sZi55K2xbMV1dLHc9KGQubWV0cmljcy5sZWZ0LW0pKmYuc2NhbGUtdit4WzBdLE09KC1kLm1ldHJpY3MudG9wLW0pKmYuc2NhbGUreFsxXSxTPXcrZy53KmYuc2NhbGUsXz1NK2cuaCpmLnNjYWxlLFA9bmV3IGUuUG9pbnQodyxNKSxiPW5ldyBlLlBvaW50KFMsTSksST1uZXcgZS5Qb2ludCh3LF8pLFQ9bmV3IGUuUG9pbnQoUyxfKTtpZihvJiZmLnZlcnRpY2FsKXt2YXIgaz1uZXcgZS5Qb2ludCgtdix2KSx6PS1NYXRoLlBJLzIsQz1uZXcgZS5Qb2ludCg1LDApO1AuX3JvdGF0ZUFyb3VuZCh6LGspLl9hZGQoQyksYi5fcm90YXRlQXJvdW5kKHosaykuX2FkZChDKSxJLl9yb3RhdGVBcm91bmQoeixrKS5fYWRkKEMpLFQuX3JvdGF0ZUFyb3VuZCh6LGspLl9hZGQoQyk7fWlmKHMpe3ZhciBFPU1hdGguc2luKHMpLEw9TWF0aC5jb3MocyksQT1bTCwtRSxFLExdO1AuX21hdE11bHQoQSksYi5fbWF0TXVsdChBKSxJLl9tYXRNdWx0KEEpLFQuX21hdE11bHQoQSk7fWgucHVzaCh7dGw6UCx0cjpiLGJsOkksYnI6VCx0ZXg6Zyx3cml0aW5nTW9kZTpyLndyaXRpbmdNb2RlLGdseXBoT2Zmc2V0Onl9KTt9fX1yZXR1cm4gaH0oMCxuLG8saSxhLGMpLGQ9dC50ZXh0U2l6ZURhdGEsZz1udWxsO3JldHVybiBcInNvdXJjZVwiPT09ZC5mdW5jdGlvblR5cGU/KGc9W2UuU0laRV9QQUNLX0ZBQ1RPUipvLmxheW91dC5nZXQoXCJ0ZXh0LXNpemVcIikuZXZhbHVhdGUoYSx7fSldKVswXT5iJiZlLndhcm5PbmNlKHQubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yIFwidGV4dC1zaXplXCIgaXMgPj0gMjU2LiBSZWR1Y2UgeW91ciBcInRleHQtc2l6ZVwiLicpOlwiY29tcG9zaXRlXCI9PT1kLmZ1bmN0aW9uVHlwZSYmKChnPVtlLlNJWkVfUEFDS19GQUNUT1IqZi5jb21wb3NpdGVUZXh0U2l6ZXNbMF0uZXZhbHVhdGUoYSx7fSksZS5TSVpFX1BBQ0tfRkFDVE9SKmYuY29tcG9zaXRlVGV4dFNpemVzWzFdLmV2YWx1YXRlKGEse30pXSlbMF0+Ynx8Z1sxXT5iKSYmZS53YXJuT25jZSh0LmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciBcInRleHQtc2l6ZVwiIGlzID49IDI1Ni4gUmVkdWNlIHlvdXIgXCJ0ZXh0LXNpemVcIi4nKSx0LmFkZFN5bWJvbHModC50ZXh0LHAsZyxzLGksYSx1LHIsbC5saW5lU3RhcnRJbmRleCxsLmxpbmVMZW5ndGgpLGgucHVzaCh0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEpLDQqcC5sZW5ndGh9ZnVuY3Rpb24gVChlLHQscixuKXt2YXIgbz1lLmNvbXBhcmVUZXh0O2lmKHQgaW4gbyl7Zm9yKHZhciBpPW9bdF0sYT1pLmxlbmd0aC0xO2E+PTA7YS0tKWlmKG4uZGlzdChpW2FdKTxyKXJldHVybiAhMH1lbHNlIG9bdF09W107cmV0dXJuIG9bdF0ucHVzaChuKSwhMX12YXIgaz1mdW5jdGlvbih0KXt2YXIgcj17fSxuPVtdO2Zvcih2YXIgbyBpbiB0KXt2YXIgaT10W29dLGE9cltvXT17fTtmb3IodmFyIHMgaW4gaSl7dmFyIGw9aVsrc107aWYobCYmMCE9PWwuYml0bWFwLndpZHRoJiYwIT09bC5iaXRtYXAuaGVpZ2h0KXt2YXIgdT17eDowLHk6MCx3OmwuYml0bWFwLndpZHRoKzIsaDpsLmJpdG1hcC5oZWlnaHQrMn07bi5wdXNoKHUpLGFbc109e3JlY3Q6dSxtZXRyaWNzOmwubWV0cmljc307fX19dmFyIGg9ZS5wb3RwYWNrKG4pLGM9aC53LGY9aC5oLHA9bmV3IGUuQWxwaGFJbWFnZSh7d2lkdGg6Y3x8MSxoZWlnaHQ6Znx8MX0pO2Zvcih2YXIgZCBpbiB0KXt2YXIgZz10W2RdO2Zvcih2YXIgbSBpbiBnKXt2YXIgdj1nWyttXTtpZih2JiYwIT09di5iaXRtYXAud2lkdGgmJjAhPT12LmJpdG1hcC5oZWlnaHQpe3ZhciB5PXJbZF1bbV0ucmVjdDtlLkFscGhhSW1hZ2UuY29weSh2LmJpdG1hcCxwLHt4OjAseTowfSx7eDp5LngrMSx5OnkueSsxfSx2LmJpdG1hcCk7fX19dGhpcy5pbWFnZT1wLHRoaXMucG9zaXRpb25zPXI7fTtlLnJlZ2lzdGVyKFwiR2x5cGhBdGxhc1wiLGspO3ZhciB6PWZ1bmN0aW9uKHQpe3RoaXMudGlsZUlEPW5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC50aWxlSUQub3ZlcnNjYWxlZFosdC50aWxlSUQud3JhcCx0LnRpbGVJRC5jYW5vbmljYWwueix0LnRpbGVJRC5jYW5vbmljYWwueCx0LnRpbGVJRC5jYW5vbmljYWwueSksdGhpcy51aWQ9dC51aWQsdGhpcy56b29tPXQuem9vbSx0aGlzLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvLHRoaXMudGlsZVNpemU9dC50aWxlU2l6ZSx0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLm92ZXJzY2FsaW5nPXRoaXMudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzPXQuc2hvd0NvbGxpc2lvbkJveGVzLHRoaXMuY29sbGVjdFJlc291cmNlVGltaW5nPSEhdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7fTtmdW5jdGlvbiBDKHQscil7Zm9yKHZhciBuPW5ldyBlLkV2YWx1YXRpb25QYXJhbWV0ZXJzKHIpLG89MCxpPXQ7bzxpLmxlbmd0aDtvKz0xKXtpW29dLnJlY2FsY3VsYXRlKG4pO319ei5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxyLG4sbyl7dmFyIGk9dGhpczt0aGlzLnN0YXR1cz1cInBhcnNpbmdcIix0aGlzLmRhdGE9dCx0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBlLkNvbGxpc2lvbkJveEFycmF5O3ZhciBhPW5ldyBlLkRpY3Rpb25hcnlDb2RlcihPYmplY3Qua2V5cyh0LmxheWVycykuc29ydCgpKSxzPW5ldyBlLkZlYXR1cmVJbmRleCh0aGlzLnRpbGVJRCk7cy5idWNrZXRMYXllcklEcz1bXTt2YXIgbCx1LGgsYyxmPXt9LHA9e2ZlYXR1cmVJbmRleDpzLGljb25EZXBlbmRlbmNpZXM6e30scGF0dGVybkRlcGVuZGVuY2llczp7fSxnbHlwaERlcGVuZGVuY2llczp7fX0sZD1yLmZhbWlsaWVzQnlTb3VyY2VbdGhpcy5zb3VyY2VdO2Zvcih2YXIgZyBpbiBkKXt2YXIgbT10LmxheWVyc1tnXTtpZihtKXsxPT09bS52ZXJzaW9uJiZlLndhcm5PbmNlKCdWZWN0b3IgdGlsZSBzb3VyY2UgXCInK2kuc291cmNlKydcIiBsYXllciBcIicrZysnXCIgZG9lcyBub3QgdXNlIHZlY3RvciB0aWxlIHNwZWMgdjIgYW5kIHRoZXJlZm9yZSBtYXkgaGF2ZSBzb21lIHJlbmRlcmluZyBlcnJvcnMuJyk7Zm9yKHZhciB2PWEuZW5jb2RlKGcpLHk9W10seD0wO3g8bS5sZW5ndGg7eCsrKXt2YXIgdz1tLmZlYXR1cmUoeCk7eS5wdXNoKHtmZWF0dXJlOncsaW5kZXg6eCxzb3VyY2VMYXllckluZGV4OnZ9KTt9Zm9yKHZhciBNPTAsUz1kW2ddO008Uy5sZW5ndGg7TSs9MSl7dmFyIFA9U1tNXSxiPVBbMF07aWYoIShiLm1pbnpvb20mJmkuem9vbTxNYXRoLmZsb29yKGIubWluem9vbSkpKWlmKCEoYi5tYXh6b29tJiZpLnpvb20+PWIubWF4em9vbSkpaWYoXCJub25lXCIhPT1iLnZpc2liaWxpdHkpQyhQLGkuem9vbSksKGZbYi5pZF09Yi5jcmVhdGVCdWNrZXQoe2luZGV4OnMuYnVja2V0TGF5ZXJJRHMubGVuZ3RoLGxheWVyczpQLHpvb206aS56b29tLHBpeGVsUmF0aW86aS5waXhlbFJhdGlvLG92ZXJzY2FsaW5nOmkub3ZlcnNjYWxpbmcsY29sbGlzaW9uQm94QXJyYXk6aS5jb2xsaXNpb25Cb3hBcnJheSxzb3VyY2VMYXllckluZGV4OnYsc291cmNlSUQ6aS5zb3VyY2V9KSkucG9wdWxhdGUoeSxwKSxzLmJ1Y2tldExheWVySURzLnB1c2goUC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSk7fX19dmFyIEk9ZS5tYXBPYmplY3QocC5nbHlwaERlcGVuZGVuY2llcyxmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKE51bWJlcil9KTtPYmplY3Qua2V5cyhJKS5sZW5ndGg/bi5zZW5kKFwiZ2V0R2x5cGhzXCIse3VpZDp0aGlzLnVpZCxzdGFja3M6SX0sZnVuY3Rpb24oZSx0KXtsfHwobD1lLHU9dCxFLmNhbGwoaSkpO30pOnU9e307dmFyIFQ9T2JqZWN0LmtleXMocC5pY29uRGVwZW5kZW5jaWVzKTtULmxlbmd0aD9uLnNlbmQoXCJnZXRJbWFnZXNcIix7aWNvbnM6VH0sZnVuY3Rpb24oZSx0KXtsfHwobD1lLGg9dCxFLmNhbGwoaSkpO30pOmg9e307dmFyIHo9T2JqZWN0LmtleXMocC5wYXR0ZXJuRGVwZW5kZW5jaWVzKTtmdW5jdGlvbiBFKCl7aWYobClyZXR1cm4gbyhsKTtpZih1JiZoJiZjKXt2YXIgdD1uZXcgayh1KSxyPW5ldyBlLkltYWdlQXRsYXMoaCxjKTtmb3IodmFyIG4gaW4gZil7dmFyIGk9ZltuXTtpIGluc3RhbmNlb2YgZS5TeW1ib2xCdWNrZXQ/KEMoaS5sYXllcnMsdGhpcy56b29tKSxfKGksdSx0LnBvc2l0aW9ucyxoLHIuaWNvblBvc2l0aW9ucyx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcykpOmkuaGFzUGF0dGVybiYmKGkgaW5zdGFuY2VvZiBlLkxpbmVCdWNrZXR8fGkgaW5zdGFuY2VvZiBlLkZpbGxCdWNrZXR8fGkgaW5zdGFuY2VvZiBlLkZpbGxFeHRydXNpb25CdWNrZXQpJiYoQyhpLmxheWVycyx0aGlzLnpvb20pLGkuYWRkRmVhdHVyZXMocCxyLnBhdHRlcm5Qb3NpdGlvbnMpKTt9dGhpcy5zdGF0dXM9XCJkb25lXCIsbyhudWxsLHtidWNrZXRzOmUudmFsdWVzKGYpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gIWUuaXNFbXB0eSgpfSksZmVhdHVyZUluZGV4OnMsY29sbGlzaW9uQm94QXJyYXk6dGhpcy5jb2xsaXNpb25Cb3hBcnJheSxnbHlwaEF0bGFzSW1hZ2U6dC5pbWFnZSxpbWFnZUF0bGFzOnJ9KTt9fXoubGVuZ3RoP24uc2VuZChcImdldEltYWdlc1wiLHtpY29uczp6fSxmdW5jdGlvbihlLHQpe2x8fChsPWUsYz10LEUuY2FsbChpKSk7fSk6Yz17fSxFLmNhbGwodGhpcyk7fTt2YXIgRT1cInVuZGVmaW5lZFwiIT10eXBlb2YgcGVyZm9ybWFuY2UsTD17Z2V0RW50cmllc0J5TmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gISEoRSYmcGVyZm9ybWFuY2UmJnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUpJiZwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKGUpfSxtYXJrOmZ1bmN0aW9uKGUpe3JldHVybiAhIShFJiZwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubWFyaykmJnBlcmZvcm1hbmNlLm1hcmsoZSl9LG1lYXN1cmU6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiAhIShFJiZwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubWVhc3VyZSkmJnBlcmZvcm1hbmNlLm1lYXN1cmUoZSx0LHIpfSxjbGVhck1hcmtzOmZ1bmN0aW9uKGUpe3JldHVybiAhIShFJiZwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UuY2xlYXJNYXJrcykmJnBlcmZvcm1hbmNlLmNsZWFyTWFya3MoZSl9LGNsZWFyTWVhc3VyZXM6ZnVuY3Rpb24oZSl7cmV0dXJuICEhKEUmJnBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKSYmcGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcyhlKX19LEE9ZnVuY3Rpb24oZSl7dGhpcy5fbWFya3M9e3N0YXJ0OltlLnVybCxcInN0YXJ0XCJdLmpvaW4oXCIjXCIpLGVuZDpbZS51cmwsXCJlbmRcIl0uam9pbihcIiNcIiksbWVhc3VyZTplLnVybC50b1N0cmluZygpfSxMLm1hcmsodGhpcy5fbWFya3Muc3RhcnQpO307ZnVuY3Rpb24gRCh0LHIpe3ZhciBuPWUuZ2V0QXJyYXlCdWZmZXIodC5yZXF1ZXN0LGZ1bmN0aW9uKHQsbil7dD9yKHQpOm4mJnIobnVsbCx7dmVjdG9yVGlsZTpuZXcgZS5tdnQuVmVjdG9yVGlsZShuZXcgZS5Qcm90b2J1ZihuLmRhdGEpKSxyYXdEYXRhOm4uZGF0YSxjYWNoZUNvbnRyb2w6bi5jYWNoZUNvbnRyb2wsZXhwaXJlczpuLmV4cGlyZXN9KTt9KTtyZXR1cm4gZnVuY3Rpb24oKXtuLmNhbmNlbCgpLHIoKTt9fUEucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe0wubWFyayh0aGlzLl9tYXJrcy5lbmQpO3ZhciBlPUwuZ2V0RW50cmllc0J5TmFtZSh0aGlzLl9tYXJrcy5tZWFzdXJlKTtyZXR1cm4gMD09PWUubGVuZ3RoJiYoTC5tZWFzdXJlKHRoaXMuX21hcmtzLm1lYXN1cmUsdGhpcy5fbWFya3Muc3RhcnQsdGhpcy5fbWFya3MuZW5kKSxlPUwuZ2V0RW50cmllc0J5TmFtZSh0aGlzLl9tYXJrcy5tZWFzdXJlKSxMLmNsZWFyTWFya3ModGhpcy5fbWFya3Muc3RhcnQpLEwuY2xlYXJNYXJrcyh0aGlzLl9tYXJrcy5lbmQpLEwuY2xlYXJNZWFzdXJlcyh0aGlzLl9tYXJrcy5tZWFzdXJlKSksZX0sTC5QZXJmb3JtYW5jZT1BO3ZhciBPPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmFjdG9yPWUsdGhpcy5sYXllckluZGV4PXQsdGhpcy5sb2FkVmVjdG9yRGF0YT1yfHxELHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fTt9O08ucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcyxvPXQudWlkO3RoaXMubG9hZGluZ3x8KHRoaXMubG9hZGluZz17fSk7dmFyIGk9ISEodCYmdC5yZXF1ZXN0JiZ0LnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nKSYmbmV3IEwuUGVyZm9ybWFuY2UodC5yZXF1ZXN0KSxhPXRoaXMubG9hZGluZ1tvXT1uZXcgeih0KTthLmFib3J0PXRoaXMubG9hZFZlY3RvckRhdGEodCxmdW5jdGlvbih0LHMpe2lmKGRlbGV0ZSBuLmxvYWRpbmdbb10sdHx8IXMpcmV0dXJuIHIodCk7dmFyIGw9cy5yYXdEYXRhLHU9e307cy5leHBpcmVzJiYodS5leHBpcmVzPXMuZXhwaXJlcykscy5jYWNoZUNvbnRyb2wmJih1LmNhY2hlQ29udHJvbD1zLmNhY2hlQ29udHJvbCk7dmFyIGg9e307aWYoaSl7dmFyIGM9aS5maW5pc2goKTtjJiYoaC5yZXNvdXJjZVRpbWluZz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGMpKSk7fWEudmVjdG9yVGlsZT1zLnZlY3RvclRpbGUsYS5wYXJzZShzLnZlY3RvclRpbGUsbi5sYXllckluZGV4LG4uYWN0b3IsZnVuY3Rpb24odCxuKXtpZih0fHwhbilyZXR1cm4gcih0KTtyKG51bGwsZS5leHRlbmQoe3Jhd1RpbGVEYXRhOmwuc2xpY2UoMCl9LG4sdSxoKSk7fSksbi5sb2FkZWQ9bi5sb2FkZWR8fHt9LG4ubG9hZGVkW29dPWE7fSk7fSxPLnByb3RvdHlwZS5yZWxvYWRUaWxlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5sb2FkZWQsbj1lLnVpZCxvPXRoaXM7aWYociYmcltuXSl7dmFyIGk9cltuXTtpLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlczt2YXIgYT1mdW5jdGlvbihlLHIpe3ZhciBuPWkucmVsb2FkQ2FsbGJhY2s7biYmKGRlbGV0ZSBpLnJlbG9hZENhbGxiYWNrLGkucGFyc2UoaS52ZWN0b3JUaWxlLG8ubGF5ZXJJbmRleCxvLmFjdG9yLG4pKSx0KGUscik7fTtcInBhcnNpbmdcIj09PWkuc3RhdHVzP2kucmVsb2FkQ2FsbGJhY2s9YTpcImRvbmVcIj09PWkuc3RhdHVzJiZpLnBhcnNlKGkudmVjdG9yVGlsZSx0aGlzLmxheWVySW5kZXgsdGhpcy5hY3RvcixhKTt9fSxPLnByb3RvdHlwZS5hYm9ydFRpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmxvYWRpbmcsbj1lLnVpZDtyJiZyW25dJiZyW25dLmFib3J0JiYocltuXS5hYm9ydCgpLGRlbGV0ZSByW25dKSx0KCk7fSxPLnByb3RvdHlwZS5yZW1vdmVUaWxlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5sb2FkZWQsbj1lLnVpZDtyJiZyW25dJiZkZWxldGUgcltuXSx0KCk7fTt2YXIgTj1mdW5jdGlvbigpe3RoaXMubG9hZGVkPXt9O307Ti5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24odCxyKXt2YXIgbj10LnVpZCxvPXQuZW5jb2RpbmcsaT10LnJhd0ltYWdlRGF0YSxhPW5ldyBlLkRFTURhdGEobixpLG8pO3RoaXMubG9hZGVkPXRoaXMubG9hZGVkfHx7fSx0aGlzLmxvYWRlZFtuXT1hLHIobnVsbCxhKTt9LE4ucHJvdG90eXBlLnJlbW92ZVRpbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sb2FkZWQscj1lLnVpZDt0JiZ0W3JdJiZkZWxldGUgdFtyXTt9O3ZhciBSPXtSQURJVVM6NjM3ODEzNyxGTEFUVEVOSU5HOjEvMjk4LjI1NzIyMzU2MyxQT0xBUl9SQURJVVM6NjM1Njc1Mi4zMTQyfTtmdW5jdGlvbiBGKGUpe3ZhciB0PTA7aWYoZSYmZS5sZW5ndGg+MCl7dCs9TWF0aC5hYnMoQihlWzBdKSk7Zm9yKHZhciByPTE7cjxlLmxlbmd0aDtyKyspdC09TWF0aC5hYnMoQihlW3JdKSk7fXJldHVybiB0fWZ1bmN0aW9uIEIoZSl7dmFyIHQscixuLG8saSxhLHM9MCxsPWUubGVuZ3RoO2lmKGw+Mil7Zm9yKGE9MDthPGw7YSsrKWE9PT1sLTI/KG49bC0yLG89bC0xLGk9MCk6YT09PWwtMT8obj1sLTEsbz0wLGk9MSk6KG49YSxvPWErMSxpPWErMiksdD1lW25dLHI9ZVtvXSxzKz0oWihlW2ldWzBdKS1aKHRbMF0pKSpNYXRoLnNpbihaKHJbMV0pKTtzPXMqUi5SQURJVVMqUi5SQURJVVMvMjt9cmV0dXJuIHN9ZnVuY3Rpb24gWihlKXtyZXR1cm4gZSpNYXRoLlBJLzE4MH12YXIgaj17Z2VvbWV0cnk6ZnVuY3Rpb24gZSh0KXt2YXIgcixuPTA7c3dpdGNoKHQudHlwZSl7Y2FzZVwiUG9seWdvblwiOnJldHVybiBGKHQuY29vcmRpbmF0ZXMpO2Nhc2VcIk11bHRpUG9seWdvblwiOmZvcihyPTA7cjx0LmNvb3JkaW5hdGVzLmxlbmd0aDtyKyspbis9Rih0LmNvb3JkaW5hdGVzW3JdKTtyZXR1cm4gbjtjYXNlXCJQb2ludFwiOmNhc2VcIk11bHRpUG9pbnRcIjpjYXNlXCJMaW5lU3RyaW5nXCI6Y2FzZVwiTXVsdGlMaW5lU3RyaW5nXCI6cmV0dXJuIDA7Y2FzZVwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6Zm9yKHI9MDtyPHQuZ2VvbWV0cmllcy5sZW5ndGg7cisrKW4rPWUodC5nZW9tZXRyaWVzW3JdKTtyZXR1cm4gbn19LHJpbmc6Qn0sRz1mdW5jdGlvbiBlKHQscil7c3dpdGNoKHQmJnQudHlwZXx8bnVsbCl7Y2FzZVwiRmVhdHVyZUNvbGxlY3Rpb25cIjpyZXR1cm4gdC5mZWF0dXJlcz10LmZlYXR1cmVzLm1hcChKKGUscikpLHQ7Y2FzZVwiRmVhdHVyZVwiOnJldHVybiB0Lmdlb21ldHJ5PWUodC5nZW9tZXRyeSxyKSx0O2Nhc2VcIlBvbHlnb25cIjpjYXNlXCJNdWx0aVBvbHlnb25cIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtcIlBvbHlnb25cIj09PWUudHlwZT9lLmNvb3JkaW5hdGVzPVgoZS5jb29yZGluYXRlcyx0KTpcIk11bHRpUG9seWdvblwiPT09ZS50eXBlJiYoZS5jb29yZGluYXRlcz1lLmNvb3JkaW5hdGVzLm1hcChKKFgsdCkpKTtyZXR1cm4gZX0odCxyKTtkZWZhdWx0OnJldHVybiB0fX07ZnVuY3Rpb24gSihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZShyLHQpfX1mdW5jdGlvbiBYKGUsdCl7dD0hIXQsZVswXT1WKGVbMF0sdCk7Zm9yKHZhciByPTE7cjxlLmxlbmd0aDtyKyspZVtyXT1WKGVbcl0sIXQpO3JldHVybiBlfWZ1bmN0aW9uIFYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGoucmluZyhlKT49MH0oZSk9PT10P2U6ZS5yZXZlcnNlKCl9dmFyIFc9ZS5tdnQuVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTixZPWZ1bmN0aW9uKHQpe3RoaXMuX2ZlYXR1cmU9dCx0aGlzLmV4dGVudD1lLkVYVEVOVCx0aGlzLnR5cGU9dC50eXBlLHRoaXMucHJvcGVydGllcz10LnRhZ3MsXCJpZFwiaW4gdCYmIWlzTmFOKHQuaWQpJiYodGhpcy5pZD1wYXJzZUludCh0LmlkLDEwKSk7fTtZLnByb3RvdHlwZS5sb2FkR2VvbWV0cnk9ZnVuY3Rpb24oKXtpZigxPT09dGhpcy5fZmVhdHVyZS50eXBlKXtmb3IodmFyIHQ9W10scj0wLG49dGhpcy5fZmVhdHVyZS5nZW9tZXRyeTtyPG4ubGVuZ3RoO3IrPTEpe3ZhciBvPW5bcl07dC5wdXNoKFtuZXcgZS5Qb2ludChvWzBdLG9bMV0pXSk7fXJldHVybiB0fWZvcih2YXIgaT1bXSxhPTAscz10aGlzLl9mZWF0dXJlLmdlb21ldHJ5O2E8cy5sZW5ndGg7YSs9MSl7Zm9yKHZhciBsPVtdLHU9MCxoPXNbYV07dTxoLmxlbmd0aDt1Kz0xKXt2YXIgYz1oW3VdO2wucHVzaChuZXcgZS5Qb2ludChjWzBdLGNbMV0pKTt9aS5wdXNoKGwpO31yZXR1cm4gaX0sWS5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gVy5jYWxsKHRoaXMsZSx0LHIpfTt2YXIgcT1mdW5jdGlvbih0KXt0aGlzLmxheWVycz17X2dlb2pzb25UaWxlTGF5ZXI6dGhpc30sdGhpcy5uYW1lPVwiX2dlb2pzb25UaWxlTGF5ZXJcIix0aGlzLmV4dGVudD1lLkVYVEVOVCx0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLl9mZWF0dXJlcz10O307cS5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFkodGhpcy5fZmVhdHVyZXNbZV0pfTt2YXIgSz1lLnZlY3RvclRpbGUuVmVjdG9yVGlsZUZlYXR1cmUsVT1IO2Z1bmN0aW9uIEgoZSx0KXt0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5mZWF0dXJlcz1lLHRoaXMubGVuZ3RoPWUubGVuZ3RoO31mdW5jdGlvbiBRKGUsdCl7dGhpcy5pZD1cIm51bWJlclwiPT10eXBlb2YgZS5pZD9lLmlkOnZvaWQgMCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMucmF3R2VvbWV0cnk9MT09PWUudHlwZT9bZS5nZW9tZXRyeV06ZS5nZW9tZXRyeSx0aGlzLnByb3BlcnRpZXM9ZS50YWdzLHRoaXMuZXh0ZW50PXR8fDQwOTY7fUgucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBRKHRoaXMuZmVhdHVyZXNbZV0sdGhpcy5vcHRpb25zLmV4dGVudCl9LFEucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucmF3R2VvbWV0cnk7dGhpcy5nZW9tZXRyeT1bXTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7Zm9yKHZhciBuPXRbcl0sbz1bXSxpPTA7aTxuLmxlbmd0aDtpKyspby5wdXNoKG5ldyBlLlBvaW50JDEobltpXVswXSxuW2ldWzFdKSk7dGhpcy5nZW9tZXRyeS5wdXNoKG8pO31yZXR1cm4gdGhpcy5nZW9tZXRyeX0sUS5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3RoaXMuZ2VvbWV0cnl8fHRoaXMubG9hZEdlb21ldHJ5KCk7Zm9yKHZhciBlPXRoaXMuZ2VvbWV0cnksdD0xLzAscj0tMS8wLG49MS8wLG89LTEvMCxpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciBhPWVbaV0scz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO3Q9TWF0aC5taW4odCxsLngpLHI9TWF0aC5tYXgocixsLngpLG49TWF0aC5taW4obixsLnkpLG89TWF0aC5tYXgobyxsLnkpO31yZXR1cm4gW3QsbixyLG9dfSxRLnByb3RvdHlwZS50b0dlb0pTT049Sy5wcm90b3R5cGUudG9HZW9KU09OO3ZhciAkPW5lLGVlPW5lLHRlPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcj17fTtmb3IodmFyIG4gaW4gZSlyW25dPW5ldyBVKGVbbl0uZmVhdHVyZXMsdCkscltuXS5uYW1lPW4scltuXS52ZXJzaW9uPXQudmVyc2lvbixyW25dLmV4dGVudD10LmV4dGVudDtyZXR1cm4gbmUoe2xheWVyczpyfSl9LHJlPVU7ZnVuY3Rpb24gbmUodCl7dmFyIHI9bmV3IGUucGJmO3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiBlLmxheWVycyl0LndyaXRlTWVzc2FnZSgzLG9lLGUubGF5ZXJzW3JdKTt9KHQsciksci5maW5pc2goKX1mdW5jdGlvbiBvZShlLHQpe3ZhciByO3Qud3JpdGVWYXJpbnRGaWVsZCgxNSxlLnZlcnNpb258fDEpLHQud3JpdGVTdHJpbmdGaWVsZCgxLGUubmFtZXx8XCJcIiksdC53cml0ZVZhcmludEZpZWxkKDUsZS5leHRlbnR8fDQwOTYpO3ZhciBuPXtrZXlzOltdLHZhbHVlczpbXSxrZXljYWNoZTp7fSx2YWx1ZWNhY2hlOnt9fTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKW4uZmVhdHVyZT1lLmZlYXR1cmUociksdC53cml0ZU1lc3NhZ2UoMixpZSxuKTt2YXIgbz1uLmtleXM7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyl0LndyaXRlU3RyaW5nRmllbGQoMyxvW3JdKTt2YXIgaT1uLnZhbHVlcztmb3Iocj0wO3I8aS5sZW5ndGg7cisrKXQud3JpdGVNZXNzYWdlKDQsaGUsaVtyXSk7fWZ1bmN0aW9uIGllKGUsdCl7dmFyIHI9ZS5mZWF0dXJlO3ZvaWQgMCE9PXIuaWQmJnQud3JpdGVWYXJpbnRGaWVsZCgxLHIuaWQpLHQud3JpdGVNZXNzYWdlKDIsYWUsZSksdC53cml0ZVZhcmludEZpZWxkKDMsci50eXBlKSx0LndyaXRlTWVzc2FnZSg0LHVlLHIpO31mdW5jdGlvbiBhZShlLHQpe3ZhciByPWUuZmVhdHVyZSxuPWUua2V5cyxvPWUudmFsdWVzLGk9ZS5rZXljYWNoZSxhPWUudmFsdWVjYWNoZTtmb3IodmFyIHMgaW4gci5wcm9wZXJ0aWVzKXt2YXIgbD1pW3NdO3ZvaWQgMD09PWwmJihuLnB1c2gocyksbD1uLmxlbmd0aC0xLGlbc109bCksdC53cml0ZVZhcmludChsKTt2YXIgdT1yLnByb3BlcnRpZXNbc10saD10eXBlb2YgdTtcInN0cmluZ1wiIT09aCYmXCJib29sZWFuXCIhPT1oJiZcIm51bWJlclwiIT09aCYmKHU9SlNPTi5zdHJpbmdpZnkodSkpO3ZhciBjPWgrXCI6XCIrdSxmPWFbY107dm9pZCAwPT09ZiYmKG8ucHVzaCh1KSxmPW8ubGVuZ3RoLTEsYVtjXT1mKSx0LndyaXRlVmFyaW50KGYpO319ZnVuY3Rpb24gc2UoZSx0KXtyZXR1cm4gKHQ8PDMpKyg3JmUpfWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlPDwxXmU+PjMxfWZ1bmN0aW9uIHVlKGUsdCl7Zm9yKHZhciByPWUubG9hZEdlb21ldHJ5KCksbj1lLnR5cGUsbz0wLGk9MCxhPXIubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbD1yW3NdLHU9MTsxPT09biYmKHU9bC5sZW5ndGgpLHQud3JpdGVWYXJpbnQoc2UoMSx1KSk7Zm9yKHZhciBoPTM9PT1uP2wubGVuZ3RoLTE6bC5sZW5ndGgsYz0wO2M8aDtjKyspezE9PT1jJiYxIT09biYmdC53cml0ZVZhcmludChzZSgyLGgtMSkpO3ZhciBmPWxbY10ueC1vLHA9bFtjXS55LWk7dC53cml0ZVZhcmludChsZShmKSksdC53cml0ZVZhcmludChsZShwKSksbys9ZixpKz1wO30zPT09biYmdC53cml0ZVZhcmludChzZSg3LDApKTt9fWZ1bmN0aW9uIGhlKGUsdCl7dmFyIHI9dHlwZW9mIGU7XCJzdHJpbmdcIj09PXI/dC53cml0ZVN0cmluZ0ZpZWxkKDEsZSk6XCJib29sZWFuXCI9PT1yP3Qud3JpdGVCb29sZWFuRmllbGQoNyxlKTpcIm51bWJlclwiPT09ciYmKGUlMSE9MD90LndyaXRlRG91YmxlRmllbGQoMyxlKTplPDA/dC53cml0ZVNWYXJpbnRGaWVsZCg2LGUpOnQud3JpdGVWYXJpbnRGaWVsZCg1LGUpKTt9ZnVuY3Rpb24gY2UoZSx0LHIsbixvLGkpe2lmKCEoby1uPD1yKSl7dmFyIGE9TWF0aC5mbG9vcigobitvKS8yKTshZnVuY3Rpb24gZSh0LHIsbixvLGksYSl7Zm9yKDtpPm87KXtpZihpLW8+NjAwKXt2YXIgcz1pLW8rMSxsPW4tbysxLHU9TWF0aC5sb2cocyksaD0uNSpNYXRoLmV4cCgyKnUvMyksYz0uNSpNYXRoLnNxcnQodSpoKihzLWgpL3MpKihsLXMvMjwwPy0xOjEpLGY9TWF0aC5tYXgobyxNYXRoLmZsb29yKG4tbCpoL3MrYykpLHA9TWF0aC5taW4oaSxNYXRoLmZsb29yKG4rKHMtbCkqaC9zK2MpKTtlKHQscixuLGYscCxhKTt9dmFyIGQ9clsyKm4rYV0sZz1vLG09aTtmb3IoZmUodCxyLG8sbiksclsyKmkrYV0+ZCYmZmUodCxyLG8saSk7ZzxtOyl7Zm9yKGZlKHQscixnLG0pLGcrKyxtLS07clsyKmcrYV08ZDspZysrO2Zvcig7clsyKm0rYV0+ZDspbS0tO31yWzIqbythXT09PWQ/ZmUodCxyLG8sbSk6ZmUodCxyLCsrbSxpKSxtPD1uJiYobz1tKzEpLG48PW0mJihpPW0tMSk7fX0oZSx0LGEsbixvLGklMiksY2UoZSx0LHIsbixhLTEsaSsxKSxjZShlLHQscixhKzEsbyxpKzEpO319ZnVuY3Rpb24gZmUoZSx0LHIsbil7cGUoZSxyLG4pLHBlKHQsMipyLDIqbikscGUodCwyKnIrMSwyKm4rMSk7fWZ1bmN0aW9uIHBlKGUsdCxyKXt2YXIgbj1lW3RdO2VbdF09ZVtyXSxlW3JdPW47fWZ1bmN0aW9uIGRlKGUsdCxyLG4pe3ZhciBvPWUtcixpPXQtbjtyZXR1cm4gbypvK2kqaX1mdW5jdGlvbiBnZShlLHQscixuLG8pe3JldHVybiBuZXcgbWUoZSx0LHIsbixvKX1mdW5jdGlvbiBtZShlLHQscixuLG8pe3Q9dHx8dmUscj1yfHx5ZSxvPW98fEFycmF5LHRoaXMubm9kZVNpemU9bnx8NjQsdGhpcy5wb2ludHM9ZSx0aGlzLmlkcz1uZXcgbyhlLmxlbmd0aCksdGhpcy5jb29yZHM9bmV3IG8oMiplLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5pZHNbaV09aSx0aGlzLmNvb3Jkc1syKmldPXQoZVtpXSksdGhpcy5jb29yZHNbMippKzFdPXIoZVtpXSk7Y2UodGhpcy5pZHMsdGhpcy5jb29yZHMsdGhpcy5ub2RlU2l6ZSwwLHRoaXMuaWRzLmxlbmd0aC0xLDApO31mdW5jdGlvbiB2ZShlKXtyZXR1cm4gZVswXX1mdW5jdGlvbiB5ZShlKXtyZXR1cm4gZVsxXX1mdW5jdGlvbiB4ZShlKXt0aGlzLm9wdGlvbnM9YmUoT2JqZWN0LmNyZWF0ZSh0aGlzLm9wdGlvbnMpLGUpLHRoaXMudHJlZXM9bmV3IEFycmF5KHRoaXMub3B0aW9ucy5tYXhab29tKzEpO31mdW5jdGlvbiB3ZShlLHQscixuLG8pe3JldHVybiB7eDplLHk6dCx6b29tOjEvMCxpZDpyLHBhcmVudElkOi0xLG51bVBvaW50czpuLHByb3BlcnRpZXM6b319ZnVuY3Rpb24gTWUoZSl7cmV0dXJuIHt0eXBlOlwiRmVhdHVyZVwiLGlkOmUuaWQscHJvcGVydGllczpTZShlKSxnZW9tZXRyeTp7dHlwZTpcIlBvaW50XCIsY29vcmRpbmF0ZXM6WyhuPWUueCwzNjAqKG4tLjUpKSwodD1lLnkscj0oMTgwLTM2MCp0KSpNYXRoLlBJLzE4MCwzNjAqTWF0aC5hdGFuKE1hdGguZXhwKHIpKS9NYXRoLlBJLTkwKV19fTt2YXIgdCxyLG47fWZ1bmN0aW9uIFNlKGUpe3ZhciB0PWUubnVtUG9pbnRzLHI9dD49MWU0P01hdGgucm91bmQodC8xZTMpK1wia1wiOnQ+PTFlMz9NYXRoLnJvdW5kKHQvMTAwKS8xMCtcImtcIjp0O3JldHVybiBiZShiZSh7fSxlLnByb3BlcnRpZXMpLHtjbHVzdGVyOiEwLGNsdXN0ZXJfaWQ6ZS5pZCxwb2ludF9jb3VudDp0LHBvaW50X2NvdW50X2FiYnJldmlhdGVkOnJ9KX1mdW5jdGlvbiBfZShlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gUGUoZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHI8MD8wOnI+MT8xOnJ9ZnVuY3Rpb24gYmUoZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gSWUoZSl7cmV0dXJuIGUueH1mdW5jdGlvbiBUZShlKXtyZXR1cm4gZS55fWZ1bmN0aW9uIGtlKGUsdCxyLG4sbyxpKXt2YXIgYT1vLXIscz1pLW47aWYoMCE9PWF8fDAhPT1zKXt2YXIgbD0oKGUtcikqYSsodC1uKSpzKS8oYSphK3Mqcyk7bD4xPyhyPW8sbj1pKTpsPjAmJihyKz1hKmwsbis9cypsKTt9cmV0dXJuIChhPWUtcikqYSsocz10LW4pKnN9ZnVuY3Rpb24gemUoZSx0LHIsbil7dmFyIG89e2lkOnZvaWQgMD09PWU/bnVsbDplLHR5cGU6dCxnZW9tZXRyeTpyLHRhZ3M6bixtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZW9tZXRyeSxyPWUudHlwZTtpZihcIlBvaW50XCI9PT1yfHxcIk11bHRpUG9pbnRcIj09PXJ8fFwiTGluZVN0cmluZ1wiPT09cilDZShlLHQpO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1yfHxcIk11bHRpTGluZVN0cmluZ1wiPT09cilmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylDZShlLHRbbl0pO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PXIpZm9yKG49MDtuPHQubGVuZ3RoO24rKylmb3IodmFyIG89MDtvPHRbbl0ubGVuZ3RoO28rKylDZShlLHRbbl1bb10pO30obyksb31mdW5jdGlvbiBDZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cis9MyllLm1pblg9TWF0aC5taW4oZS5taW5YLHRbcl0pLGUubWluWT1NYXRoLm1pbihlLm1pblksdFtyKzFdKSxlLm1heFg9TWF0aC5tYXgoZS5tYXhYLHRbcl0pLGUubWF4WT1NYXRoLm1heChlLm1heFksdFtyKzFdKTt9ZnVuY3Rpb24gRWUoZSx0LHIsbil7aWYodC5nZW9tZXRyeSl7dmFyIG89dC5nZW9tZXRyeS5jb29yZGluYXRlcyxpPXQuZ2VvbWV0cnkudHlwZSxhPU1hdGgucG93KHIudG9sZXJhbmNlLygoMTw8ci5tYXhab29tKSpyLmV4dGVudCksMikscz1bXSxsPXQuaWQ7aWYoci5wcm9tb3RlSWQ/bD10LnByb3BlcnRpZXNbci5wcm9tb3RlSWRdOnIuZ2VuZXJhdGVJZCYmKGw9bnx8MCksXCJQb2ludFwiPT09aSlMZShvLHMpO2Vsc2UgaWYoXCJNdWx0aVBvaW50XCI9PT1pKWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKUxlKG9bdV0scyk7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PWkpQWUobyxzLGEsITEpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWkpe2lmKHIubGluZU1ldHJpY3Mpe2Zvcih1PTA7dTxvLmxlbmd0aDt1Kyspcz1bXSxBZShvW3VdLHMsYSwhMSksZS5wdXNoKHplKGwsXCJMaW5lU3RyaW5nXCIscyx0LnByb3BlcnRpZXMpKTtyZXR1cm59RGUobyxzLGEsITEpO31lbHNlIGlmKFwiUG9seWdvblwiPT09aSlEZShvLHMsYSwhMCk7ZWxzZXtpZihcIk11bHRpUG9seWdvblwiIT09aSl7aWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PWkpe2Zvcih1PTA7dTx0Lmdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoO3UrKylFZShlLHtpZDpsLGdlb21ldHJ5OnQuZ2VvbWV0cnkuZ2VvbWV0cmllc1t1XSxwcm9wZXJ0aWVzOnQucHJvcGVydGllc30scixuKTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZGF0YSBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5cIil9Zm9yKHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIGg9W107RGUob1t1XSxoLGEsITApLHMucHVzaChoKTt9fWUucHVzaCh6ZShsLGkscyx0LnByb3BlcnRpZXMpKTt9fWZ1bmN0aW9uIExlKGUsdCl7dC5wdXNoKE9lKGVbMF0pKSx0LnB1c2goTmUoZVsxXSkpLHQucHVzaCgwKTt9ZnVuY3Rpb24gQWUoZSx0LHIsbil7Zm9yKHZhciBvLGksYT0wLHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIGw9T2UoZVtzXVswXSksdT1OZShlW3NdWzFdKTt0LnB1c2gobCksdC5wdXNoKHUpLHQucHVzaCgwKSxzPjAmJihhKz1uPyhvKnUtbCppKS8yOk1hdGguc3FydChNYXRoLnBvdyhsLW8sMikrTWF0aC5wb3codS1pLDIpKSksbz1sLGk9dTt9dmFyIGg9dC5sZW5ndGgtMzt0WzJdPTEsZnVuY3Rpb24gZSh0LHIsbixvKXtmb3IodmFyIGksYT1vLHM9bi1yPj4xLGw9bi1yLHU9dFtyXSxoPXRbcisxXSxjPXRbbl0sZj10W24rMV0scD1yKzM7cDxuO3ArPTMpe3ZhciBkPWtlKHRbcF0sdFtwKzFdLHUsaCxjLGYpO2lmKGQ+YSlpPXAsYT1kO2Vsc2UgaWYoZD09PWEpe3ZhciBnPU1hdGguYWJzKHAtcyk7ZzxsJiYoaT1wLGw9Zyk7fX1hPm8mJihpLXI+MyYmZSh0LHIsaSxvKSx0W2krMl09YSxuLWk+MyYmZSh0LGksbixvKSk7fSh0LDAsaCxyKSx0W2grMl09MSx0LnNpemU9TWF0aC5hYnMoYSksdC5zdGFydD0wLHQuZW5kPXQuc2l6ZTt9ZnVuY3Rpb24gRGUoZSx0LHIsbil7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBpPVtdO0FlKGVbb10saSxyLG4pLHQucHVzaChpKTt9fWZ1bmN0aW9uIE9lKGUpe3JldHVybiBlLzM2MCsuNX1mdW5jdGlvbiBOZShlKXt2YXIgdD1NYXRoLnNpbihlKk1hdGguUEkvMTgwKSxyPS41LS4yNSpNYXRoLmxvZygoMSt0KS8oMS10KSkvTWF0aC5QSTtyZXR1cm4gcjwwPzA6cj4xPzE6cn1mdW5jdGlvbiBSZShlLHQscixuLG8saSxhLHMpe2lmKG4vPXQsaT49KHIvPXQpJiZhPG4pcmV0dXJuIGU7aWYoYTxyfHxpPj1uKXJldHVybiBudWxsO2Zvcih2YXIgbD1bXSx1PTA7dTxlLmxlbmd0aDt1Kyspe3ZhciBoPWVbdV0sYz1oLmdlb21ldHJ5LGY9aC50eXBlLHA9MD09PW8/aC5taW5YOmgubWluWSxkPTA9PT1vP2gubWF4WDpoLm1heFk7aWYocD49ciYmZDxuKWwucHVzaChoKTtlbHNlIGlmKCEoZDxyfHxwPj1uKSl7dmFyIGc9W107aWYoXCJQb2ludFwiPT09Znx8XCJNdWx0aVBvaW50XCI9PT1mKUZlKGMsZyxyLG4sbyk7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PWYpQmUoYyxnLHIsbixvLCExLHMubGluZU1ldHJpY3MpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWYpamUoYyxnLHIsbixvLCExKTtlbHNlIGlmKFwiUG9seWdvblwiPT09ZilqZShjLGcscixuLG8sITApO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWYpZm9yKHZhciBtPTA7bTxjLmxlbmd0aDttKyspe3ZhciB2PVtdO2plKGNbbV0sdixyLG4sbywhMCksdi5sZW5ndGgmJmcucHVzaCh2KTt9aWYoZy5sZW5ndGgpe2lmKHMubGluZU1ldHJpY3MmJlwiTGluZVN0cmluZ1wiPT09Zil7Zm9yKG09MDttPGcubGVuZ3RoO20rKylsLnB1c2goemUoaC5pZCxmLGdbbV0saC50YWdzKSk7Y29udGludWV9XCJMaW5lU3RyaW5nXCIhPT1mJiZcIk11bHRpTGluZVN0cmluZ1wiIT09Znx8KDE9PT1nLmxlbmd0aD8oZj1cIkxpbmVTdHJpbmdcIixnPWdbMF0pOmY9XCJNdWx0aUxpbmVTdHJpbmdcIiksXCJQb2ludFwiIT09ZiYmXCJNdWx0aVBvaW50XCIhPT1mfHwoZj0zPT09Zy5sZW5ndGg/XCJQb2ludFwiOlwiTXVsdGlQb2ludFwiKSxsLnB1c2goemUoaC5pZCxmLGcsaC50YWdzKSk7fX19cmV0dXJuIGwubGVuZ3RoP2w6bnVsbH1mdW5jdGlvbiBGZShlLHQscixuLG8pe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSs9Myl7dmFyIGE9ZVtpK29dO2E+PXImJmE8PW4mJih0LnB1c2goZVtpXSksdC5wdXNoKGVbaSsxXSksdC5wdXNoKGVbaSsyXSkpO319ZnVuY3Rpb24gQmUoZSx0LHIsbixvLGksYSl7Zm9yKHZhciBzLGwsdT1aZShlKSxoPTA9PT1vP0plOlhlLGM9ZS5zdGFydCxmPTA7ZjxlLmxlbmd0aC0zO2YrPTMpe3ZhciBwPWVbZl0sZD1lW2YrMV0sZz1lW2YrMl0sbT1lW2YrM10sdj1lW2YrNF0seT0wPT09bz9wOmQseD0wPT09bz9tOnYsdz0hMTthJiYocz1NYXRoLnNxcnQoTWF0aC5wb3cocC1tLDIpK01hdGgucG93KGQtdiwyKSkpLHk8cj94Pj1yJiYobD1oKHUscCxkLG0sdixyKSxhJiYodS5zdGFydD1jK3MqbCkpOnk+PW4/eDxuJiYobD1oKHUscCxkLG0sdixuKSxhJiYodS5zdGFydD1jK3MqbCkpOkdlKHUscCxkLGcpLHg8ciYmeT49ciYmKGw9aCh1LHAsZCxtLHYsciksdz0hMCkseD5uJiZ5PD1uJiYobD1oKHUscCxkLG0sdixuKSx3PSEwKSwhaSYmdyYmKGEmJih1LmVuZD1jK3MqbCksdC5wdXNoKHUpLHU9WmUoZSkpLGEmJihjKz1zKTt9dmFyIE09ZS5sZW5ndGgtMztwPWVbTV0sZD1lW00rMV0sZz1lW00rMl0sKHk9MD09PW8/cDpkKT49ciYmeTw9biYmR2UodSxwLGQsZyksTT11Lmxlbmd0aC0zLGkmJk0+PTMmJih1W01dIT09dVswXXx8dVtNKzFdIT09dVsxXSkmJkdlKHUsdVswXSx1WzFdLHVbMl0pLHUubGVuZ3RoJiZ0LnB1c2godSk7fWZ1bmN0aW9uIFplKGUpe3ZhciB0PVtdO3JldHVybiB0LnNpemU9ZS5zaXplLHQuc3RhcnQ9ZS5zdGFydCx0LmVuZD1lLmVuZCx0fWZ1bmN0aW9uIGplKGUsdCxyLG4sbyxpKXtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKylCZShlW2FdLHQscixuLG8saSwhMSk7fWZ1bmN0aW9uIEdlKGUsdCxyLG4pe2UucHVzaCh0KSxlLnB1c2gociksZS5wdXNoKG4pO31mdW5jdGlvbiBKZShlLHQscixuLG8saSl7dmFyIGE9KGktdCkvKG4tdCk7cmV0dXJuIGUucHVzaChpKSxlLnB1c2gocisoby1yKSphKSxlLnB1c2goMSksYX1mdW5jdGlvbiBYZShlLHQscixuLG8saSl7dmFyIGE9KGktcikvKG8tcik7cmV0dXJuIGUucHVzaCh0KyhuLXQpKmEpLGUucHVzaChpKSxlLnB1c2goMSksYX1mdW5jdGlvbiBWZShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvLGk9ZVtuXSxhPWkudHlwZTtpZihcIlBvaW50XCI9PT1hfHxcIk11bHRpUG9pbnRcIj09PWF8fFwiTGluZVN0cmluZ1wiPT09YSlvPVdlKGkuZ2VvbWV0cnksdCk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09YXx8XCJQb2x5Z29uXCI9PT1hKXtvPVtdO2Zvcih2YXIgcz0wO3M8aS5nZW9tZXRyeS5sZW5ndGg7cysrKW8ucHVzaChXZShpLmdlb21ldHJ5W3NdLHQpKTt9ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09YSlmb3Iobz1bXSxzPTA7czxpLmdlb21ldHJ5Lmxlbmd0aDtzKyspe2Zvcih2YXIgbD1bXSx1PTA7dTxpLmdlb21ldHJ5W3NdLmxlbmd0aDt1KyspbC5wdXNoKFdlKGkuZ2VvbWV0cnlbc11bdV0sdCkpO28ucHVzaChsKTt9ci5wdXNoKHplKGkuaWQsYSxvLGkudGFncykpO31yZXR1cm4gcn1mdW5jdGlvbiBXZShlLHQpe3ZhciByPVtdO3Iuc2l6ZT1lLnNpemUsdm9pZCAwIT09ZS5zdGFydCYmKHIuc3RhcnQ9ZS5zdGFydCxyLmVuZD1lLmVuZCk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0zKXIucHVzaChlW25dK3QsZVtuKzFdLGVbbisyXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gWWUoZSx0KXtpZihlLnRyYW5zZm9ybWVkKXJldHVybiBlO3ZhciByLG4sbyxpPTE8PGUueixhPWUueCxzPWUueTtmb3Iocj0wO3I8ZS5mZWF0dXJlcy5sZW5ndGg7cisrKXt2YXIgbD1lLmZlYXR1cmVzW3JdLHU9bC5nZW9tZXRyeSxoPWwudHlwZTtpZihsLmdlb21ldHJ5PVtdLDE9PT1oKWZvcihuPTA7bjx1Lmxlbmd0aDtuKz0yKWwuZ2VvbWV0cnkucHVzaChxZSh1W25dLHVbbisxXSx0LGksYSxzKSk7ZWxzZSBmb3Iobj0wO248dS5sZW5ndGg7bisrKXt2YXIgYz1bXTtmb3Iobz0wO288dVtuXS5sZW5ndGg7bys9MiljLnB1c2gocWUodVtuXVtvXSx1W25dW28rMV0sdCxpLGEscykpO2wuZ2VvbWV0cnkucHVzaChjKTt9fXJldHVybiBlLnRyYW5zZm9ybWVkPSEwLGV9ZnVuY3Rpb24gcWUoZSx0LHIsbixvLGkpe3JldHVybiBbTWF0aC5yb3VuZChyKihlKm4tbykpLE1hdGgucm91bmQocioodCpuLWkpKV19ZnVuY3Rpb24gS2UoZSx0LHIsbixvKXtmb3IodmFyIGk9dD09PW8ubWF4Wm9vbT8wOm8udG9sZXJhbmNlLygoMTw8dCkqby5leHRlbnQpLGE9e2ZlYXR1cmVzOltdLG51bVBvaW50czowLG51bVNpbXBsaWZpZWQ6MCxudW1GZWF0dXJlczowLHNvdXJjZTpudWxsLHg6cix5Om4sejp0LHRyYW5zZm9ybWVkOiExLG1pblg6MixtaW5ZOjEsbWF4WDotMSxtYXhZOjB9LHM9MDtzPGUubGVuZ3RoO3MrKyl7YS5udW1GZWF0dXJlcysrLFVlKGEsZVtzXSxpLG8pO3ZhciBsPWVbc10ubWluWCx1PWVbc10ubWluWSxoPWVbc10ubWF4WCxjPWVbc10ubWF4WTtsPGEubWluWCYmKGEubWluWD1sKSx1PGEubWluWSYmKGEubWluWT11KSxoPmEubWF4WCYmKGEubWF4WD1oKSxjPmEubWF4WSYmKGEubWF4WT1jKTt9cmV0dXJuIGF9ZnVuY3Rpb24gVWUoZSx0LHIsbil7dmFyIG89dC5nZW9tZXRyeSxpPXQudHlwZSxhPVtdO2lmKFwiUG9pbnRcIj09PWl8fFwiTXVsdGlQb2ludFwiPT09aSlmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrPTMpYS5wdXNoKG9bc10pLGEucHVzaChvW3MrMV0pLGUubnVtUG9pbnRzKyssZS5udW1TaW1wbGlmaWVkKys7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PWkpSGUoYSxvLGUsciwhMSwhMSk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09aXx8XCJQb2x5Z29uXCI9PT1pKWZvcihzPTA7czxvLmxlbmd0aDtzKyspSGUoYSxvW3NdLGUscixcIlBvbHlnb25cIj09PWksMD09PXMpO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWkpZm9yKHZhciBsPTA7bDxvLmxlbmd0aDtsKyspe3ZhciB1PW9bbF07Zm9yKHM9MDtzPHUubGVuZ3RoO3MrKylIZShhLHVbc10sZSxyLCEwLDA9PT1zKTt9aWYoYS5sZW5ndGgpe3ZhciBoPXQudGFnc3x8bnVsbDtpZihcIkxpbmVTdHJpbmdcIj09PWkmJm4ubGluZU1ldHJpY3Mpe2Zvcih2YXIgYyBpbiBoPXt9LHQudGFncyloW2NdPXQudGFnc1tjXTtoLm1hcGJveF9jbGlwX3N0YXJ0PW8uc3RhcnQvby5zaXplLGgubWFwYm94X2NsaXBfZW5kPW8uZW5kL28uc2l6ZTt9dmFyIGY9e2dlb21ldHJ5OmEsdHlwZTpcIlBvbHlnb25cIj09PWl8fFwiTXVsdGlQb2x5Z29uXCI9PT1pPzM6XCJMaW5lU3RyaW5nXCI9PT1pfHxcIk11bHRpTGluZVN0cmluZ1wiPT09aT8yOjEsdGFnczpofTtudWxsIT09dC5pZCYmKGYuaWQ9dC5pZCksZS5mZWF0dXJlcy5wdXNoKGYpO319ZnVuY3Rpb24gSGUoZSx0LHIsbixvLGkpe3ZhciBhPW4qbjtpZihuPjAmJnQuc2l6ZTwobz9hOm4pKXIubnVtUG9pbnRzKz10Lmxlbmd0aC8zO2Vsc2V7Zm9yKHZhciBzPVtdLGw9MDtsPHQubGVuZ3RoO2wrPTMpKDA9PT1ufHx0W2wrMl0+YSkmJihyLm51bVNpbXBsaWZpZWQrKyxzLnB1c2godFtsXSkscy5wdXNoKHRbbCsxXSkpLHIubnVtUG9pbnRzKys7byYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxuPTAsbz1lLmxlbmd0aCxpPW8tMjtuPG87aT1uLG4rPTIpcis9KGVbbl0tZVtpXSkqKGVbbisxXStlW2krMV0pO2lmKHI+MD09PXQpZm9yKG49MCxvPWUubGVuZ3RoO248by8yO24rPTIpe3ZhciBhPWVbbl0scz1lW24rMV07ZVtuXT1lW28tMi1uXSxlW24rMV09ZVtvLTEtbl0sZVtvLTItbl09YSxlW28tMS1uXT1zO319KHMsaSksZS5wdXNoKHMpO319ZnVuY3Rpb24gUWUoZSx0KXt2YXIgcj0odD10aGlzLm9wdGlvbnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9KE9iamVjdC5jcmVhdGUodGhpcy5vcHRpb25zKSx0KSkuZGVidWc7aWYociYmY29uc29sZS50aW1lKFwicHJlcHJvY2VzcyBkYXRhXCIpLHQubWF4Wm9vbTwwfHx0Lm1heFpvb20+MjQpdGhyb3cgbmV3IEVycm9yKFwibWF4Wm9vbSBzaG91bGQgYmUgaW4gdGhlIDAtMjQgcmFuZ2VcIik7aWYodC5wcm9tb3RlSWQmJnQuZ2VuZXJhdGVJZCl0aHJvdyBuZXcgRXJyb3IoXCJwcm9tb3RlSWQgYW5kIGdlbmVyYXRlSWQgY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuXCIpO3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09ZS50eXBlKWZvcih2YXIgbj0wO248ZS5mZWF0dXJlcy5sZW5ndGg7bisrKUVlKHIsZS5mZWF0dXJlc1tuXSx0LG4pO2Vsc2VcIkZlYXR1cmVcIj09PWUudHlwZT9FZShyLGUsdCk6RWUocix7Z2VvbWV0cnk6ZX0sdCk7cmV0dXJuIHJ9KGUsdCk7dGhpcy50aWxlcz17fSx0aGlzLnRpbGVDb29yZHM9W10sciYmKGNvbnNvbGUudGltZUVuZChcInByZXByb2Nlc3MgZGF0YVwiKSxjb25zb2xlLmxvZyhcImluZGV4OiBtYXhab29tOiAlZCwgbWF4UG9pbnRzOiAlZFwiLHQuaW5kZXhNYXhab29tLHQuaW5kZXhNYXhQb2ludHMpLGNvbnNvbGUudGltZShcImdlbmVyYXRlIHRpbGVzXCIpLHRoaXMuc3RhdHM9e30sdGhpcy50b3RhbD0wKSwobj1mdW5jdGlvbihlLHQpe3ZhciByPXQuYnVmZmVyL3QuZXh0ZW50LG49ZSxvPVJlKGUsMSwtMS1yLHIsMCwtMSwyLHQpLGk9UmUoZSwxLDEtciwyK3IsMCwtMSwyLHQpO3JldHVybiAob3x8aSkmJihuPVJlKGUsMSwtciwxK3IsMCwtMSwyLHQpfHxbXSxvJiYobj1WZShvLDEpLmNvbmNhdChuKSksaSYmKG49bi5jb25jYXQoVmUoaSwtMSkpKSksbn0obix0KSkubGVuZ3RoJiZ0aGlzLnNwbGl0VGlsZShuLDAsMCwwKSxyJiYobi5sZW5ndGgmJmNvbnNvbGUubG9nKFwiZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkXCIsdGhpcy50aWxlc1swXS5udW1GZWF0dXJlcyx0aGlzLnRpbGVzWzBdLm51bVBvaW50cyksY29uc29sZS50aW1lRW5kKFwiZ2VuZXJhdGUgdGlsZXNcIiksY29uc29sZS5sb2coXCJ0aWxlcyBnZW5lcmF0ZWQ6XCIsdGhpcy50b3RhbCxKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRzKSkpO31mdW5jdGlvbiAkZShlLHQscil7cmV0dXJuIDMyKigoMTw8ZSkqcit0KStlfWZ1bmN0aW9uIGV0KGUsdCl7dmFyIHI9ZS50aWxlSUQuY2Fub25pY2FsO2lmKCF0aGlzLl9nZW9KU09OSW5kZXgpcmV0dXJuIHQobnVsbCxudWxsKTt2YXIgbj10aGlzLl9nZW9KU09OSW5kZXguZ2V0VGlsZShyLnosci54LHIueSk7aWYoIW4pcmV0dXJuIHQobnVsbCxudWxsKTt2YXIgbz1uZXcgcShuLmZlYXR1cmVzKSxpPSQobyk7MD09PWkuYnl0ZU9mZnNldCYmaS5ieXRlTGVuZ3RoPT09aS5idWZmZXIuYnl0ZUxlbmd0aHx8KGk9bmV3IFVpbnQ4QXJyYXkoaSkpLHQobnVsbCx7dmVjdG9yVGlsZTpvLHJhd0RhdGE6aS5idWZmZXJ9KTt9JC5mcm9tVmVjdG9yVGlsZUpzPWVlLCQuZnJvbUdlb2pzb25WdD10ZSwkLkdlb0pTT05XcmFwcGVyPXJlLG1lLnByb3RvdHlwZT17cmFuZ2U6ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLG4sbyxpLGEpe2Zvcih2YXIgcyxsLHU9WzAsZS5sZW5ndGgtMSwwXSxoPVtdO3UubGVuZ3RoOyl7dmFyIGM9dS5wb3AoKSxmPXUucG9wKCkscD11LnBvcCgpO2lmKGYtcDw9YSlmb3IodmFyIGQ9cDtkPD1mO2QrKylzPXRbMipkXSxsPXRbMipkKzFdLHM+PXImJnM8PW8mJmw+PW4mJmw8PWkmJmgucHVzaChlW2RdKTtlbHNle3ZhciBnPU1hdGguZmxvb3IoKHArZikvMik7cz10WzIqZ10sbD10WzIqZysxXSxzPj1yJiZzPD1vJiZsPj1uJiZsPD1pJiZoLnB1c2goZVtnXSk7dmFyIG09KGMrMSklMjsoMD09PWM/cjw9czpuPD1sKSYmKHUucHVzaChwKSx1LnB1c2goZy0xKSx1LnB1c2gobSkpLCgwPT09Yz9vPj1zOmk+PWwpJiYodS5wdXNoKGcrMSksdS5wdXNoKGYpLHUucHVzaChtKSk7fX1yZXR1cm4gaH0odGhpcy5pZHMsdGhpcy5jb29yZHMsZSx0LHIsbix0aGlzLm5vZGVTaXplKX0sd2l0aGluOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbixvLGkpe2Zvcih2YXIgYT1bMCxlLmxlbmd0aC0xLDBdLHM9W10sbD1vKm87YS5sZW5ndGg7KXt2YXIgdT1hLnBvcCgpLGg9YS5wb3AoKSxjPWEucG9wKCk7aWYoaC1jPD1pKWZvcih2YXIgZj1jO2Y8PWg7ZisrKWRlKHRbMipmXSx0WzIqZisxXSxyLG4pPD1sJiZzLnB1c2goZVtmXSk7ZWxzZXt2YXIgcD1NYXRoLmZsb29yKChjK2gpLzIpLGQ9dFsyKnBdLGc9dFsyKnArMV07ZGUoZCxnLHIsbik8PWwmJnMucHVzaChlW3BdKTt2YXIgbT0odSsxKSUyOygwPT09dT9yLW88PWQ6bi1vPD1nKSYmKGEucHVzaChjKSxhLnB1c2gocC0xKSxhLnB1c2gobSkpLCgwPT09dT9yK28+PWQ6bitvPj1nKSYmKGEucHVzaChwKzEpLGEucHVzaChoKSxhLnB1c2gobSkpO319cmV0dXJuIHN9KHRoaXMuaWRzLHRoaXMuY29vcmRzLGUsdCxyLHRoaXMubm9kZVNpemUpfX0seGUucHJvdG90eXBlPXtvcHRpb25zOnttaW5ab29tOjAsbWF4Wm9vbToxNixyYWRpdXM6NDAsZXh0ZW50OjUxMixub2RlU2l6ZTo2NCxsb2c6ITEscmVkdWNlOm51bGwsaW5pdGlhbDpmdW5jdGlvbigpe3JldHVybiB7fX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiBlfX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMubG9nO3QmJmNvbnNvbGUudGltZShcInRvdGFsIHRpbWVcIik7dmFyIHI9XCJwcmVwYXJlIFwiK2UubGVuZ3RoK1wiIHBvaW50c1wiO3QmJmNvbnNvbGUudGltZShyKSx0aGlzLnBvaW50cz1lO2Zvcih2YXIgbixvLGksYT1bXSxzPTA7czxlLmxlbmd0aDtzKyspZVtzXS5nZW9tZXRyeSYmYS5wdXNoKChuPWVbc10sbz1zLHZvaWQgMCx7eDpfZSgoaT1uLmdlb21ldHJ5LmNvb3JkaW5hdGVzKVswXSkseTpQZShpWzFdKSx6b29tOjEvMCxpbmRleDpvLHBhcmVudElkOi0xfSkpO3RoaXMudHJlZXNbdGhpcy5vcHRpb25zLm1heFpvb20rMV09Z2UoYSxJZSxUZSx0aGlzLm9wdGlvbnMubm9kZVNpemUsRmxvYXQzMkFycmF5KSx0JiZjb25zb2xlLnRpbWVFbmQocik7Zm9yKHZhciBsPXRoaXMub3B0aW9ucy5tYXhab29tO2w+PXRoaXMub3B0aW9ucy5taW5ab29tO2wtLSl7dmFyIHU9K0RhdGUubm93KCk7YT10aGlzLl9jbHVzdGVyKGEsbCksdGhpcy50cmVlc1tsXT1nZShhLEllLFRlLHRoaXMub3B0aW9ucy5ub2RlU2l6ZSxGbG9hdDMyQXJyYXkpLHQmJmNvbnNvbGUubG9nKFwieiVkOiAlZCBjbHVzdGVycyBpbiAlZG1zXCIsbCxhLmxlbmd0aCwrRGF0ZS5ub3coKS11KTt9cmV0dXJuIHQmJmNvbnNvbGUudGltZUVuZChcInRvdGFsIHRpbWVcIiksdGhpc30sZ2V0Q2x1c3RlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgcj0oKGVbMF0rMTgwKSUzNjArMzYwKSUzNjAtMTgwLG49TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbMV0pKSxvPTE4MD09PWVbMl0/MTgwOigoZVsyXSsxODApJTM2MCszNjApJTM2MC0xODAsaT1NYXRoLm1heCgtOTAsTWF0aC5taW4oOTAsZVszXSkpO2lmKGVbMl0tZVswXT49MzYwKXI9LTE4MCxvPTE4MDtlbHNlIGlmKHI+byl7dmFyIGE9dGhpcy5nZXRDbHVzdGVycyhbcixuLDE4MCxpXSx0KSxzPXRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsbixvLGldLHQpO3JldHVybiBhLmNvbmNhdChzKX1mb3IodmFyIGw9dGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20odCldLHU9bC5yYW5nZShfZShyKSxQZShpKSxfZShvKSxQZShuKSksaD1bXSxjPTA7Yzx1Lmxlbmd0aDtjKyspe3ZhciBmPWwucG9pbnRzW3VbY11dO2gucHVzaChmLm51bVBvaW50cz9NZShmKTp0aGlzLnBvaW50c1tmLmluZGV4XSk7fXJldHVybiBofSxnZXRDaGlsZHJlbjpmdW5jdGlvbihlKXt2YXIgdD1lPj41LHI9ZSUzMixuPVwiTm8gY2x1c3RlciB3aXRoIHRoZSBzcGVjaWZpZWQgaWQuXCIsbz10aGlzLnRyZWVzW3JdO2lmKCFvKXRocm93IG5ldyBFcnJvcihuKTt2YXIgaT1vLnBvaW50c1t0XTtpZighaSl0aHJvdyBuZXcgRXJyb3Iobik7Zm9yKHZhciBhPXRoaXMub3B0aW9ucy5yYWRpdXMvKHRoaXMub3B0aW9ucy5leHRlbnQqTWF0aC5wb3coMixyLTEpKSxzPW8ud2l0aGluKGkueCxpLnksYSksbD1bXSx1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBoPW8ucG9pbnRzW3NbdV1dO2gucGFyZW50SWQ9PT1lJiZsLnB1c2goaC5udW1Qb2ludHM/TWUoaCk6dGhpcy5wb2ludHNbaC5pbmRleF0pO31pZigwPT09bC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKG4pO3JldHVybiBsfSxnZXRMZWF2ZXM6ZnVuY3Rpb24oZSx0LHIpe3Q9dHx8MTAscj1yfHwwO3ZhciBuPVtdO3JldHVybiB0aGlzLl9hcHBlbmRMZWF2ZXMobixlLHQsciwwKSxufSxnZXRUaWxlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbShlKV0sbz1NYXRoLnBvdygyLGUpLGk9dGhpcy5vcHRpb25zLmV4dGVudCxhPXRoaXMub3B0aW9ucy5yYWRpdXMvaSxzPShyLWEpL28sbD0ocisxK2EpL28sdT17ZmVhdHVyZXM6W119O3JldHVybiB0aGlzLl9hZGRUaWxlRmVhdHVyZXMobi5yYW5nZSgodC1hKS9vLHMsKHQrMSthKS9vLGwpLG4ucG9pbnRzLHQscixvLHUpLDA9PT10JiZ0aGlzLl9hZGRUaWxlRmVhdHVyZXMobi5yYW5nZSgxLWEvbyxzLDEsbCksbi5wb2ludHMsbyxyLG8sdSksdD09PW8tMSYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG4ucmFuZ2UoMCxzLGEvbyxsKSxuLnBvaW50cywtMSxyLG8sdSksdS5mZWF0dXJlcy5sZW5ndGg/dTpudWxsfSxnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZSUzMi0xO3Q8dGhpcy5vcHRpb25zLm1heFpvb207KXt2YXIgcj10aGlzLmdldENoaWxkcmVuKGUpO2lmKHQrKywxIT09ci5sZW5ndGgpYnJlYWs7ZT1yWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDt9cmV0dXJuIHR9LF9hcHBlbmRMZWF2ZXM6ZnVuY3Rpb24oZSx0LHIsbixvKXtmb3IodmFyIGk9dGhpcy5nZXRDaGlsZHJlbih0KSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBzPWlbYV0ucHJvcGVydGllcztpZihzJiZzLmNsdXN0ZXI/bytzLnBvaW50X2NvdW50PD1uP28rPXMucG9pbnRfY291bnQ6bz10aGlzLl9hcHBlbmRMZWF2ZXMoZSxzLmNsdXN0ZXJfaWQscixuLG8pOm88bj9vKys6ZS5wdXNoKGlbYV0pLGUubGVuZ3RoPT09cilicmVha31yZXR1cm4gb30sX2FkZFRpbGVGZWF0dXJlczpmdW5jdGlvbihlLHQscixuLG8saSl7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBzPXRbZVthXV0sbD17dHlwZToxLGdlb21ldHJ5OltbTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50KihzLngqby1yKSksTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50KihzLnkqby1uKSldXSx0YWdzOnMubnVtUG9pbnRzP1NlKHMpOnRoaXMucG9pbnRzW3MuaW5kZXhdLnByb3BlcnRpZXN9LHU9cy5udW1Qb2ludHM/cy5pZDp0aGlzLnBvaW50c1tzLmluZGV4XS5pZDt2b2lkIDAhPT11JiYobC5pZD11KSxpLmZlYXR1cmVzLnB1c2gobCk7fX0sX2xpbWl0Wm9vbTpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5vcHRpb25zLm1pblpvb20sTWF0aC5taW4oZSx0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKSl9LF9jbHVzdGVyOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLG49dGhpcy5vcHRpb25zLnJhZGl1cy8odGhpcy5vcHRpb25zLmV4dGVudCpNYXRoLnBvdygyLHQpKSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aWYoIShpLnpvb208PXQpKXtpLnpvb209dDt2YXIgYT10aGlzLnRyZWVzW3QrMV0scz1hLndpdGhpbihpLngsaS55LG4pLGw9aS5udW1Qb2ludHN8fDEsdT1pLngqbCxoPWkueSpsLGM9bnVsbDt0aGlzLm9wdGlvbnMucmVkdWNlJiYoYz10aGlzLm9wdGlvbnMuaW5pdGlhbCgpLHRoaXMuX2FjY3VtdWxhdGUoYyxpKSk7Zm9yKHZhciBmPShvPDw1KSsodCsxKSxwPTA7cDxzLmxlbmd0aDtwKyspe3ZhciBkPWEucG9pbnRzW3NbcF1dO2lmKCEoZC56b29tPD10KSl7ZC56b29tPXQ7dmFyIGc9ZC5udW1Qb2ludHN8fDE7dSs9ZC54KmcsaCs9ZC55KmcsbCs9ZyxkLnBhcmVudElkPWYsdGhpcy5vcHRpb25zLnJlZHVjZSYmdGhpcy5fYWNjdW11bGF0ZShjLGQpO319MT09PWw/ci5wdXNoKGkpOihpLnBhcmVudElkPWYsci5wdXNoKHdlKHUvbCxoL2wsZixsLGMpKSk7fX1yZXR1cm4gcn0sX2FjY3VtdWxhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm51bVBvaW50cz90LnByb3BlcnRpZXM6dGhpcy5vcHRpb25zLm1hcCh0aGlzLnBvaW50c1t0LmluZGV4XS5wcm9wZXJ0aWVzKTt0aGlzLm9wdGlvbnMucmVkdWNlKGUscik7fX0sUWUucHJvdG90eXBlLm9wdGlvbnM9e21heFpvb206MTQsaW5kZXhNYXhab29tOjUsaW5kZXhNYXhQb2ludHM6MWU1LHRvbGVyYW5jZTozLGV4dGVudDo0MDk2LGJ1ZmZlcjo2NCxsaW5lTWV0cmljczohMSxwcm9tb3RlSWQ6bnVsbCxnZW5lcmF0ZUlkOiExLGRlYnVnOjB9LFFlLnByb3RvdHlwZS5zcGxpdFRpbGU9ZnVuY3Rpb24oZSx0LHIsbixvLGksYSl7Zm9yKHZhciBzPVtlLHQscixuXSxsPXRoaXMub3B0aW9ucyx1PWwuZGVidWc7cy5sZW5ndGg7KXtuPXMucG9wKCkscj1zLnBvcCgpLHQ9cy5wb3AoKSxlPXMucG9wKCk7dmFyIGg9MTw8dCxjPSRlKHQscixuKSxmPXRoaXMudGlsZXNbY107aWYoIWYmJih1PjEmJmNvbnNvbGUudGltZShcImNyZWF0aW9uXCIpLGY9dGhpcy50aWxlc1tjXT1LZShlLHQscixuLGwpLHRoaXMudGlsZUNvb3Jkcy5wdXNoKHt6OnQseDpyLHk6bn0pLHUpKXt1PjEmJihjb25zb2xlLmxvZyhcInRpbGUgeiVkLSVkLSVkIChmZWF0dXJlczogJWQsIHBvaW50czogJWQsIHNpbXBsaWZpZWQ6ICVkKVwiLHQscixuLGYubnVtRmVhdHVyZXMsZi5udW1Qb2ludHMsZi5udW1TaW1wbGlmaWVkKSxjb25zb2xlLnRpbWVFbmQoXCJjcmVhdGlvblwiKSk7dmFyIHA9XCJ6XCIrdDt0aGlzLnN0YXRzW3BdPSh0aGlzLnN0YXRzW3BdfHwwKSsxLHRoaXMudG90YWwrKzt9aWYoZi5zb3VyY2U9ZSxvKXtpZih0PT09bC5tYXhab29tfHx0PT09byljb250aW51ZTt2YXIgZD0xPDxvLXQ7aWYociE9PU1hdGguZmxvb3IoaS9kKXx8biE9PU1hdGguZmxvb3IoYS9kKSljb250aW51ZX1lbHNlIGlmKHQ9PT1sLmluZGV4TWF4Wm9vbXx8Zi5udW1Qb2ludHM8PWwuaW5kZXhNYXhQb2ludHMpY29udGludWU7aWYoZi5zb3VyY2U9bnVsbCwwIT09ZS5sZW5ndGgpe3U+MSYmY29uc29sZS50aW1lKFwiY2xpcHBpbmdcIik7dmFyIGcsbSx2LHkseCx3LE09LjUqbC5idWZmZXIvbC5leHRlbnQsUz0uNS1NLF89LjUrTSxQPTErTTtnPW09dj15PW51bGwseD1SZShlLGgsci1NLHIrXywwLGYubWluWCxmLm1heFgsbCksdz1SZShlLGgscitTLHIrUCwwLGYubWluWCxmLm1heFgsbCksZT1udWxsLHgmJihnPVJlKHgsaCxuLU0sbitfLDEsZi5taW5ZLGYubWF4WSxsKSxtPVJlKHgsaCxuK1MsbitQLDEsZi5taW5ZLGYubWF4WSxsKSx4PW51bGwpLHcmJih2PVJlKHcsaCxuLU0sbitfLDEsZi5taW5ZLGYubWF4WSxsKSx5PVJlKHcsaCxuK1MsbitQLDEsZi5taW5ZLGYubWF4WSxsKSx3PW51bGwpLHU+MSYmY29uc29sZS50aW1lRW5kKFwiY2xpcHBpbmdcIikscy5wdXNoKGd8fFtdLHQrMSwyKnIsMipuKSxzLnB1c2gobXx8W10sdCsxLDIqciwyKm4rMSkscy5wdXNoKHZ8fFtdLHQrMSwyKnIrMSwyKm4pLHMucHVzaCh5fHxbXSx0KzEsMipyKzEsMipuKzEpO319fSxRZS5wcm90b3R5cGUuZ2V0VGlsZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5vcHRpb25zLG89bi5leHRlbnQsaT1uLmRlYnVnO2lmKGU8MHx8ZT4yNClyZXR1cm4gbnVsbDt2YXIgYT0xPDxlLHM9JGUoZSx0PSh0JWErYSklYSxyKTtpZih0aGlzLnRpbGVzW3NdKXJldHVybiBZZSh0aGlzLnRpbGVzW3NdLG8pO2k+MSYmY29uc29sZS5sb2coXCJkcmlsbGluZyBkb3duIHRvIHolZC0lZC0lZFwiLGUsdCxyKTtmb3IodmFyIGwsdT1lLGg9dCxjPXI7IWwmJnU+MDspdS0tLGg9TWF0aC5mbG9vcihoLzIpLGM9TWF0aC5mbG9vcihjLzIpLGw9dGhpcy50aWxlc1skZSh1LGgsYyldO3JldHVybiBsJiZsLnNvdXJjZT8oaT4xJiZjb25zb2xlLmxvZyhcImZvdW5kIHBhcmVudCB0aWxlIHolZC0lZC0lZFwiLHUsaCxjKSxpPjEmJmNvbnNvbGUudGltZShcImRyaWxsaW5nIGRvd25cIiksdGhpcy5zcGxpdFRpbGUobC5zb3VyY2UsdSxoLGMsZSx0LHIpLGk+MSYmY29uc29sZS50aW1lRW5kKFwiZHJpbGxpbmcgZG93blwiKSx0aGlzLnRpbGVzW3NdP1llKHRoaXMudGlsZXNbc10sbyk6bnVsbCk6bnVsbH07dmFyIHR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxyLG4pe3QuY2FsbCh0aGlzLGUscixldCksbiYmKHRoaXMubG9hZEdlb0pTT049bik7fXJldHVybiB0JiYoci5fX3Byb3RvX189dCksci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksci5wcm90b3R5cGUuY29uc3RydWN0b3I9cixyLnByb3RvdHlwZS5sb2FkRGF0YT1mdW5jdGlvbihlLHQpe3RoaXMuX3BlbmRpbmdDYWxsYmFjayYmdGhpcy5fcGVuZGluZ0NhbGxiYWNrKG51bGwse2FiYW5kb25lZDohMH0pLHRoaXMuX3BlbmRpbmdDYWxsYmFjaz10LHRoaXMuX3BlbmRpbmdMb2FkRGF0YVBhcmFtcz1lLHRoaXMuX3N0YXRlJiZcIklkbGVcIiE9PXRoaXMuX3N0YXRlP3RoaXMuX3N0YXRlPVwiTmVlZHNMb2FkRGF0YVwiOih0aGlzLl9zdGF0ZT1cIkNvYWxlc2NpbmdcIix0aGlzLl9sb2FkRGF0YSgpKTt9LHIucHJvdG90eXBlLl9sb2FkRGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5fcGVuZGluZ0NhbGxiYWNrJiZ0aGlzLl9wZW5kaW5nTG9hZERhdGFQYXJhbXMpe3ZhciB0PXRoaXMuX3BlbmRpbmdDYWxsYmFjayxyPXRoaXMuX3BlbmRpbmdMb2FkRGF0YVBhcmFtcztkZWxldGUgdGhpcy5fcGVuZGluZ0NhbGxiYWNrLGRlbGV0ZSB0aGlzLl9wZW5kaW5nTG9hZERhdGFQYXJhbXM7dmFyIG49ISEociYmci5yZXF1ZXN0JiZyLnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nKSYmbmV3IEwuUGVyZm9ybWFuY2Uoci5yZXF1ZXN0KTt0aGlzLmxvYWRHZW9KU09OKHIsZnVuY3Rpb24obyxpKXtpZihvfHwhaSlyZXR1cm4gdChvKTtpZihcIm9iamVjdFwiIT10eXBlb2YgaSlyZXR1cm4gdChuZXcgRXJyb3IoXCJJbnB1dCBkYXRhIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LlwiKSk7RyhpLCEwKTt0cnl7ZS5fZ2VvSlNPTkluZGV4PXIuY2x1c3Rlcj8oYT1yLnN1cGVyY2x1c3Rlck9wdGlvbnMsbmV3IHhlKGEpKS5sb2FkKGkuZmVhdHVyZXMpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBRZShlLHQpfShpLHIuZ2VvanNvblZ0T3B0aW9ucyk7fWNhdGNoKG8pe3JldHVybiB0KG8pfWUubG9hZGVkPXt9O3ZhciBhLHM9e307aWYobil7dmFyIGw9bi5maW5pc2goKTtsJiYocy5yZXNvdXJjZVRpbWluZz17fSxzLnJlc291cmNlVGltaW5nW3Iuc291cmNlXT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGwpKSk7fXQobnVsbCxzKTt9KTt9fSxyLnByb3RvdHlwZS5jb2FsZXNjZT1mdW5jdGlvbigpe1wiQ29hbGVzY2luZ1wiPT09dGhpcy5fc3RhdGU/dGhpcy5fc3RhdGU9XCJJZGxlXCI6XCJOZWVkc0xvYWREYXRhXCI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPVwiQ29hbGVzY2luZ1wiLHRoaXMuX2xvYWREYXRhKCkpO30sci5wcm90b3R5cGUucmVsb2FkVGlsZT1mdW5jdGlvbihlLHIpe3ZhciBuPXRoaXMubG9hZGVkLG89ZS51aWQ7cmV0dXJuIG4mJm5bb10/dC5wcm90b3R5cGUucmVsb2FkVGlsZS5jYWxsKHRoaXMsZSxyKTp0aGlzLmxvYWRUaWxlKGUscil9LHIucHJvdG90eXBlLmxvYWRHZW9KU09OPWZ1bmN0aW9uKHQscil7aWYodC5yZXF1ZXN0KWUuZ2V0SlNPTih0LnJlcXVlc3Qscik7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgdC5kYXRhKXJldHVybiByKG5ldyBFcnJvcihcIklucHV0IGRhdGEgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuXCIpKTt0cnl7cmV0dXJuIHIobnVsbCxKU09OLnBhcnNlKHQuZGF0YSkpfWNhdGNoKGUpe3JldHVybiByKG5ldyBFcnJvcihcIklucHV0IGRhdGEgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuXCIpKX19fSxyLnByb3RvdHlwZS5yZW1vdmVTb3VyY2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl9wZW5kaW5nQ2FsbGJhY2smJnRoaXMuX3BlbmRpbmdDYWxsYmFjayhudWxsLHthYmFuZG9uZWQ6ITB9KSx0KCk7fSxyLnByb3RvdHlwZS5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbT1mdW5jdGlvbihlLHQpe3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZS5jbHVzdGVySWQpKTt9LHIucHJvdG90eXBlLmdldENsdXN0ZXJDaGlsZHJlbj1mdW5jdGlvbihlLHQpe3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2hpbGRyZW4oZS5jbHVzdGVySWQpKTt9LHIucHJvdG90eXBlLmdldENsdXN0ZXJMZWF2ZXM9ZnVuY3Rpb24oZSx0KXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldExlYXZlcyhlLmNsdXN0ZXJJZCxlLmxpbWl0LGUub2Zmc2V0KSk7fSxyfShPKSxydD1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3RoaXMuc2VsZj10LHRoaXMuYWN0b3I9bmV3IGUuQWN0b3IodCx0aGlzKSx0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLndvcmtlclNvdXJjZVR5cGVzPXt2ZWN0b3I6TyxnZW9qc29uOnR0fSx0aGlzLndvcmtlclNvdXJjZXM9e30sdGhpcy5kZW1Xb3JrZXJTb3VyY2VzPXt9LHRoaXMuc2VsZi5yZWdpc3RlcldvcmtlclNvdXJjZT1mdW5jdGlvbihlLHQpe2lmKHIud29ya2VyU291cmNlVHlwZXNbZV0pdGhyb3cgbmV3IEVycm9yKCdXb3JrZXIgc291cmNlIHdpdGggbmFtZSBcIicrZSsnXCIgYWxyZWFkeSByZWdpc3RlcmVkLicpO3Iud29ya2VyU291cmNlVHlwZXNbZV09dDt9LHRoaXMuc2VsZi5yZWdpc3RlclJUTFRleHRQbHVnaW49ZnVuY3Rpb24odCl7aWYoZS5wbHVnaW4uaXNMb2FkZWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJSVEwgdGV4dCBwbHVnaW4gYWxyZWFkeSByZWdpc3RlcmVkLlwiKTtlLnBsdWdpbi5hcHBseUFyYWJpY1NoYXBpbmc9dC5hcHBseUFyYWJpY1NoYXBpbmcsZS5wbHVnaW4ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LGUucGx1Z2luLnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDt9O307cmV0dXJuIHJ0LnByb3RvdHlwZS5zZXRMYXllcnM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS5yZXBsYWNlKHQpLHIoKTt9LHJ0LnByb3RvdHlwZS51cGRhdGVMYXllcnM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS51cGRhdGUodC5sYXllcnMsdC5yZW1vdmVkSWRzKSxyKCk7fSxydC5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5sb2FkVGlsZSh0LHIpO30scnQucHJvdG90eXBlLmxvYWRERU1UaWxlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldERFTVdvcmtlclNvdXJjZShlLHQuc291cmNlKS5sb2FkVGlsZSh0LHIpO30scnQucHJvdG90eXBlLnJlbG9hZFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5yZWxvYWRUaWxlKHQscik7fSxydC5wcm90b3R5cGUuYWJvcnRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkuYWJvcnRUaWxlKHQscik7fSxydC5wcm90b3R5cGUucmVtb3ZlVGlsZT1mdW5jdGlvbihlLHQscil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UpLnJlbW92ZVRpbGUodCxyKTt9LHJ0LnByb3RvdHlwZS5yZW1vdmVERU1UaWxlPWZ1bmN0aW9uKGUsdCl7dGhpcy5nZXRERU1Xb3JrZXJTb3VyY2UoZSx0LnNvdXJjZSkucmVtb3ZlVGlsZSh0KTt9LHJ0LnByb3RvdHlwZS5yZW1vdmVTb3VyY2U9ZnVuY3Rpb24oZSx0LHIpe2lmKHRoaXMud29ya2VyU291cmNlc1tlXSYmdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV0mJnRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXSl7dmFyIG49dGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdO2RlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV0sdm9pZCAwIT09bi5yZW1vdmVTb3VyY2U/bi5yZW1vdmVTb3VyY2UodCxyKTpyKCk7fX0scnQucHJvdG90eXBlLmxvYWRXb3JrZXJTb3VyY2U9ZnVuY3Rpb24oZSx0LHIpe3RyeXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0LnVybCkscigpO31jYXRjaChlKXtyKGUudG9TdHJpbmcoKSk7fX0scnQucHJvdG90eXBlLmxvYWRSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKHQscixuKXt0cnl7ZS5wbHVnaW4uaXNMb2FkZWQoKXx8KHRoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHIpLG4oZS5wbHVnaW4uaXNMb2FkZWQoKT9udWxsOm5ldyBFcnJvcihcIlJUTCBUZXh0IFBsdWdpbiBmYWlsZWQgdG8gaW1wb3J0IHNjcmlwdHMgZnJvbSBcIityKSkpO31jYXRjaChlKXtuKGUudG9TdHJpbmcoKSk7fX0scnQucHJvdG90eXBlLmdldExheWVySW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sYXllckluZGV4ZXNbZV07cmV0dXJuIHR8fCh0PXRoaXMubGF5ZXJJbmRleGVzW2VdPW5ldyBuKSx0fSxydC5wcm90b3R5cGUuZ2V0V29ya2VyU291cmNlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO2lmKHRoaXMud29ya2VyU291cmNlc1tlXXx8KHRoaXMud29ya2VyU291cmNlc1tlXT17fSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdPXt9KSwhdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdKXt2YXIgbz17c2VuZDpmdW5jdGlvbih0LHIsbyl7bi5hY3Rvci5zZW5kKHQscixvLGUpO319O3RoaXMud29ya2VyU291cmNlc1tlXVt0XVtyXT1uZXcgdGhpcy53b3JrZXJTb3VyY2VUeXBlc1t0XShvLHRoaXMuZ2V0TGF5ZXJJbmRleChlKSk7fXJldHVybiB0aGlzLndvcmtlclNvdXJjZXNbZV1bdF1bcl19LHJ0LnByb3RvdHlwZS5nZXRERU1Xb3JrZXJTb3VyY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdPXt9KSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF09bmV3IE4pLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZuZXcgcnQoc2VsZikscnR9KTtcblxuZGVmaW5lKFtcIi4vc2hhcmVkLmpzXCJdLGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPXQuY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gISEoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZBcnJheS5wcm90b3R5cGUmJkFycmF5LnByb3RvdHlwZS5ldmVyeSYmQXJyYXkucHJvdG90eXBlLmZpbHRlciYmQXJyYXkucHJvdG90eXBlLmZvckVhY2gmJkFycmF5LnByb3RvdHlwZS5pbmRleE9mJiZBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5tYXAmJkFycmF5LnByb3RvdHlwZS5zb21lJiZBcnJheS5wcm90b3R5cGUucmVkdWNlJiZBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQmJkFycmF5LmlzQXJyYXkmJkZ1bmN0aW9uLnByb3RvdHlwZSYmRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJk9iamVjdC5rZXlzJiZPYmplY3QuY3JlYXRlJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzJiZPYmplY3QuaXNTZWFsZWQmJk9iamVjdC5pc0Zyb3plbiYmT2JqZWN0LmlzRXh0ZW5zaWJsZSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciYmT2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyYmT2JqZWN0LnNlYWwmJk9iamVjdC5mcmVlemUmJk9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyYmXCJKU09OXCJpbiB3aW5kb3cmJlwicGFyc2VcImluIEpTT04mJlwic3RyaW5naWZ5XCJpbiBKU09OJiZmdW5jdGlvbigpe2lmKCEoXCJXb3JrZXJcImluIHdpbmRvdyYmXCJCbG9iXCJpbiB3aW5kb3cmJlwiVVJMXCJpbiB3aW5kb3cpKXJldHVybiAhMTt2YXIgdCxlLGk9bmV3IEJsb2IoW1wiXCJdLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KSxuPVVSTC5jcmVhdGVPYmplY3RVUkwoaSk7dHJ5e2U9bmV3IFdvcmtlcihuKSx0PSEwO31jYXRjaChlKXt0PSExO31lJiZlLnRlcm1pbmF0ZSgpO3JldHVybiBVUkwucmV2b2tlT2JqZWN0VVJMKG4pLHR9KCkmJlwiVWludDhDbGFtcGVkQXJyYXlcImluIHdpbmRvdyYmQXJyYXlCdWZmZXIuaXNWaWV3JiZmdW5jdGlvbih0KXt2b2lkIDA9PT1pW3RdJiYoaVt0XT1mdW5jdGlvbih0KXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLG49T2JqZWN0LmNyZWF0ZShlLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO3JldHVybiBuLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9dCxpLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0P2kucHJvYmFibHlTdXBwb3J0c0NvbnRleHQoXCJ3ZWJnbFwiLG4pfHxpLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsbik6aS5zdXBwb3J0c0NvbnRleHQ/aS5zdXBwb3J0c0NvbnRleHQoXCJ3ZWJnbFwiLG4pfHxpLnN1cHBvcnRzQ29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLG4pOmkuZ2V0Q29udGV4dChcIndlYmdsXCIsbil8fGkuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLG4pfSh0KSk7cmV0dXJuIGlbdF19KHQmJnQuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkpfXQuZXhwb3J0cz90LmV4cG9ydHM9ZTp3aW5kb3cmJih3aW5kb3cubWFwYm94Z2w9d2luZG93Lm1hcGJveGdsfHx7fSx3aW5kb3cubWFwYm94Z2wuc3VwcG9ydGVkPWUpO3ZhciBpPXt9O2Uud2ViR0xDb250ZXh0QXR0cmlidXRlcz17YW50aWFsaWFzOiExLGFscGhhOiEwLHN0ZW5jaWw6ITAsZGVwdGg6ITB9O30pLGk9e2NyZWF0ZTpmdW5jdGlvbihlLGksbil7dmFyIG89dC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gaSYmKG8uY2xhc3NOYW1lPWkpLG4mJm4uYXBwZW5kQ2hpbGQobyksb30sY3JlYXRlTlM6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGUsaSl9fSxuPXQud2luZG93LmRvY3VtZW50P3Qud2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTpudWxsO2Z1bmN0aW9uIG8odCl7aWYoIW4pcmV0dXJuIG51bGw7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXWluIG4pcmV0dXJuIHRbZV07cmV0dXJuIHRbMF19dmFyIHIsYT1vKFtcInVzZXJTZWxlY3RcIixcIk1velVzZXJTZWxlY3RcIixcIldlYmtpdFVzZXJTZWxlY3RcIixcIm1zVXNlclNlbGVjdFwiXSk7aS5kaXNhYmxlRHJhZz1mdW5jdGlvbigpe24mJmEmJihyPW5bYV0sblthXT1cIm5vbmVcIik7fSxpLmVuYWJsZURyYWc9ZnVuY3Rpb24oKXtuJiZhJiYoblthXT1yKTt9O3ZhciBzPW8oW1widHJhbnNmb3JtXCIsXCJXZWJraXRUcmFuc2Zvcm1cIl0pO2kuc2V0VHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7dC5zdHlsZVtzXT1lO307dmFyIGw9ITE7dHJ5e3ZhciBjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInBhc3NpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7bD0hMDt9fSk7dC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIixjLGMpLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsYyxjKTt9Y2F0Y2godCl7bD0hMTt9aS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxpLG4pe3ZvaWQgMD09PW4mJihuPXt9KSxcInBhc3NpdmVcImluIG4mJmw/dC5hZGRFdmVudExpc3RlbmVyKGUsaSxuKTp0LmFkZEV2ZW50TGlzdGVuZXIoZSxpLG4uY2FwdHVyZSk7fSxpLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLGksbil7dm9pZCAwPT09biYmKG49e30pLFwicGFzc2l2ZVwiaW4gbiYmbD90LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpLG4pOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGksbi5jYXB0dXJlKTt9O3ZhciBoPWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGgsITApO307aS5zdXBwcmVzc0NsaWNrPWZ1bmN0aW9uKCl7dC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaCwhMCksdC53aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3Qud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGgsITApO30sMCk7fSxpLm1vdXNlUG9zPWZ1bmN0aW9uKGUsaSl7dmFyIG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gaT1pLnRvdWNoZXM/aS50b3VjaGVzWzBdOmksbmV3IHQuUG9pbnQoaS5jbGllbnRYLW4ubGVmdC1lLmNsaWVudExlZnQsaS5jbGllbnRZLW4udG9wLWUuY2xpZW50VG9wKX0saS50b3VjaFBvcz1mdW5jdGlvbihlLGkpe2Zvcih2YXIgbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89W10scj1cInRvdWNoZW5kXCI9PT1pLnR5cGU/aS5jaGFuZ2VkVG91Y2hlczppLnRvdWNoZXMsYT0wO2E8ci5sZW5ndGg7YSsrKW8ucHVzaChuZXcgdC5Qb2ludChyW2FdLmNsaWVudFgtbi5sZWZ0LWUuY2xpZW50TGVmdCxyW2FdLmNsaWVudFktbi50b3AtZS5jbGllbnRUb3ApKTtyZXR1cm4gb30saS5tb3VzZUJ1dHRvbj1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC53aW5kb3cuSW5zdGFsbFRyaWdnZXImJjI9PT1lLmJ1dHRvbiYmZS5jdHJsS2V5JiZ0LndpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKFwiTUFDXCIpPj0wPzA6ZS5idXR0b259LGkucmVtb3ZlPWZ1bmN0aW9uKHQpe3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO307dmFyIHU9e0FQSV9VUkw6XCJodHRwczovL2FwaS5tYXBib3guY29tXCIsZ2V0IEVWRU5UU19VUkwoKXtyZXR1cm4gMD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKFwiaHR0cHM6Ly9hcGkubWFwYm94LmNuXCIpP1wiaHR0cHM6Ly9ldmVudHMubWFwYm94LmNuL2V2ZW50cy92MlwiOlwiaHR0cHM6Ly9ldmVudHMubWFwYm94LmNvbS9ldmVudHMvdjJcIn0sUkVRVUlSRV9BQ0NFU1NfVE9LRU46ITAsQUNDRVNTX1RPS0VOOm51bGx9LHA9XCJTZWUgaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hcGktZG9jdW1lbnRhdGlvbi8jYWNjZXNzLXRva2Vuc1wiO2Z1bmN0aW9uIGQodCxlKXt2YXIgaT1iKHUuQVBJX1VSTCk7aWYodC5wcm90b2NvbD1pLnByb3RvY29sLHQuYXV0aG9yaXR5PWkuYXV0aG9yaXR5LFwiL1wiIT09aS5wYXRoJiYodC5wYXRoPVwiXCIraS5wYXRoK3QucGF0aCksIXUuUkVRVUlSRV9BQ0NFU1NfVE9LRU4pcmV0dXJuIHcodCk7aWYoIShlPWV8fHUuQUNDRVNTX1RPS0VOKSl0aHJvdyBuZXcgRXJyb3IoXCJBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wuIFwiK3ApO2lmKFwic1wiPT09ZVswXSl0aHJvdyBuZXcgRXJyb3IoXCJVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuIFwiK3ApO3JldHVybiB0LnBhcmFtcy5wdXNoKFwiYWNjZXNzX3Rva2VuPVwiK2UpLHcodCl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gMD09PXQuaW5kZXhPZihcIm1hcGJveDpcIil9dmFyIGY9ZnVuY3Rpb24odCxlKXtpZighXyh0KSlyZXR1cm4gdDt2YXIgaT1iKHQpO3JldHVybiBpLnBhdGg9XCIvZm9udHMvdjFcIitpLnBhdGgsZChpLGUpfSxtPWZ1bmN0aW9uKHQsZSl7aWYoIV8odCkpcmV0dXJuIHQ7dmFyIGk9Yih0KTtyZXR1cm4gaS5wYXRoPVwiL3Y0L1wiK2kuYXV0aG9yaXR5K1wiLmpzb25cIixpLnBhcmFtcy5wdXNoKFwic2VjdXJlXCIpLGQoaSxlKX0sZz1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1iKHQpO3JldHVybiBfKHQpPyhvLnBhdGg9XCIvc3R5bGVzL3YxXCIrby5wYXRoK1wiL3Nwcml0ZVwiK2UraSxkKG8sbikpOihvLnBhdGgrPVwiXCIrZStpLHcobykpfSx2PS8oXFwuKHBuZ3xqcGcpXFxkKikoPz0kKS8seT1mdW5jdGlvbihlLGksbil7aWYoIWl8fCFfKGkpKXJldHVybiBlO3ZhciBvPWIoZSkscj10LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbz49Mnx8NTEyPT09bj9cIkAyeFwiOlwiXCIsYT10LmJyb3dzZXIuc3VwcG9ydHNXZWJwP1wiLndlYnBcIjpcIiQxXCI7cmV0dXJuIG8ucGF0aD1vLnBhdGgucmVwbGFjZSh2LFwiXCIrcithKSxmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKykwPT09dFtlXS5pbmRleE9mKFwiYWNjZXNzX3Rva2VuPXRrLlwiKSYmKHRbZV09XCJhY2Nlc3NfdG9rZW49XCIrKHUuQUNDRVNTX1RPS0VOfHxcIlwiKSk7fShvLnBhcmFtcyksdyhvKX07dmFyIHg9L14oXFx3Kyk6XFwvXFwvKFteLz9dKikoXFwvW14/XSspP1xcPz8oLispPy87ZnVuY3Rpb24gYih0KXt2YXIgZT10Lm1hdGNoKHgpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0XCIpO3JldHVybiB7cHJvdG9jb2w6ZVsxXSxhdXRob3JpdHk6ZVsyXSxwYXRoOmVbM118fFwiL1wiLHBhcmFtczplWzRdP2VbNF0uc3BsaXQoXCImXCIpOltdfX1mdW5jdGlvbiB3KHQpe3ZhciBlPXQucGFyYW1zLmxlbmd0aD9cIj9cIit0LnBhcmFtcy5qb2luKFwiJlwiKTpcIlwiO3JldHVybiB0LnByb3RvY29sK1wiOi8vXCIrdC5hdXRob3JpdHkrdC5wYXRoK2V9dmFyIEU9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50RGF0YT17YW5vbklkOm51bGwsbGFzdFN1Y2Nlc3M6bnVsbCxhY2Nlc3NUb2tlbjp1LkFDQ0VTU19UT0tFTn0sdGhpcy5xdWV1ZT1bXSx0aGlzLnBlbmRpbmc9ITEsdGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsO307RS5wcm90b3R5cGUucG9zdFR1cm5zdGlsZUV2ZW50PWZ1bmN0aW9uKGUpe3UuQUNDRVNTX1RPS0VOJiZBcnJheS5pc0FycmF5KGUpJiZlLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIC8obWFwYm94XFwuYykobnxvbSkvaS50ZXN0KHQpfSkmJnRoaXMucXVldWVSZXF1ZXN0KHQuYnJvd3Nlci5ub3coKSk7fSxFLnByb3RvdHlwZS5xdWV1ZVJlcXVlc3Q9ZnVuY3Rpb24odCl7dGhpcy5xdWV1ZS5wdXNoKHQpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKCk7fSxFLnByb3RvdHlwZS5wcm9jZXNzUmVxdWVzdHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLnBlbmRpbmdSZXF1ZXN0JiYwIT09dGhpcy5xdWV1ZS5sZW5ndGgpe3ZhciBpPVwibWFwYm94LnR1cm5zdGlsZUV2ZW50RGF0YTpcIisodS5BQ0NFU1NfVE9LRU58fFwiXCIpLG49dC5zdG9yYWdlQXZhaWxhYmxlKFwibG9jYWxTdG9yYWdlXCIpLG89ISF0aGlzLmV2ZW50RGF0YS5hY2Nlc3NUb2tlbiYmdGhpcy5ldmVudERhdGEuYWNjZXNzVG9rZW4hPT11LkFDQ0VTU19UT0tFTjtpZihvJiYodGhpcy5ldmVudERhdGEuYW5vbklkPXRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzPW51bGwpLCghdGhpcy5ldmVudERhdGEuYW5vbklkfHwhdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpJiZuKXRyeXt2YXIgcj10LndpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpKTtyJiYodGhpcy5ldmVudERhdGE9SlNPTi5wYXJzZShyKSk7fWNhdGNoKGUpe3Qud2Fybk9uY2UoXCJVbmFibGUgdG8gcmVhZCBmcm9tIExvY2FsU3RvcmFnZVwiKTt9dC52YWxpZGF0ZVV1aWQodGhpcy5ldmVudERhdGEuYW5vbklkKXx8KHRoaXMuZXZlbnREYXRhLmFub25JZD10LnV1aWQoKSxvPSEwKTt2YXIgYT10aGlzLnF1ZXVlLnNoaWZ0KCk7aWYodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3Mpe3ZhciBzPW5ldyBEYXRlKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKSxsPW5ldyBEYXRlKGEpLGM9KGEtdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLzg2NGU1O289b3x8Yz49MXx8YzwtMXx8cy5nZXREYXRlKCkhPT1sLmdldERhdGUoKTt9aWYoIW8pcmV0dXJuIHRoaXMucHJvY2Vzc1JlcXVlc3RzKCk7dmFyIGg9Yih1LkVWRU5UU19VUkwpO2gucGFyYW1zLnB1c2goXCJhY2Nlc3NfdG9rZW49XCIrKHUuQUNDRVNTX1RPS0VOfHxcIlwiKSk7dmFyIHA9e3VybDp3KGgpLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJ0ZXh0L3BsYWluXCJ9fSxkPUpTT04uc3RyaW5naWZ5KFt7ZXZlbnQ6XCJhcHBVc2VyVHVybnN0aWxlXCIsY3JlYXRlZDpuZXcgRGF0ZShhKS50b0lTT1N0cmluZygpLHNka0lkZW50aWZpZXI6XCJtYXBib3gtZ2wtanNcIixzZGtWZXJzaW9uOlwiMC40OS4wXCIsXCJlbmFibGVkLnRlbGVtZXRyeVwiOiExLHVzZXJJZDp0aGlzLmV2ZW50RGF0YS5hbm9uSWR9XSk7dGhpcy5wZW5kaW5nUmVxdWVzdD10LnBvc3REYXRhKHAsZCxmdW5jdGlvbihvKXtpZihlLnBlbmRpbmdSZXF1ZXN0PW51bGwsIW8pe2lmKGUuZXZlbnREYXRhLmxhc3RTdWNjZXNzPWEsZS5ldmVudERhdGEuYWNjZXNzVG9rZW49dS5BQ0NFU1NfVE9LRU4sbil0cnl7dC53aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oaSxKU09OLnN0cmluZ2lmeShlLmV2ZW50RGF0YSkpO31jYXRjaChlKXt0Lndhcm5PbmNlKFwiVW5hYmxlIHRvIHdyaXRlIHRvIExvY2FsU3RvcmFnZVwiKTt9ZS5wcm9jZXNzUmVxdWVzdHMoKTt9fSk7fX07dmFyIFQ9bmV3IEUsUz1ULnBvc3RUdXJuc3RpbGVFdmVudC5iaW5kKFQpO3ZhciBJPWZ1bmN0aW9uKCl7dGhpcy5pbWFnZXM9e30sdGhpcy5sb2FkZWQ9ITEsdGhpcy5yZXF1ZXN0b3JzPVtdLHRoaXMucGF0dGVybnM9e30sdGhpcy5hdGxhc0ltYWdlPW5ldyB0LlJHQkFJbWFnZSh7d2lkdGg6MSxoZWlnaHQ6MX0pLHRoaXMuZGlydHk9ITA7fTtJLnByb3RvdHlwZS5pc0xvYWRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvYWRlZH0sSS5wcm90b3R5cGUuc2V0TG9hZGVkPWZ1bmN0aW9uKHQpe2lmKHRoaXMubG9hZGVkIT09dCYmKHRoaXMubG9hZGVkPXQsdCkpe2Zvcih2YXIgZT0wLGk9dGhpcy5yZXF1ZXN0b3JzO2U8aS5sZW5ndGg7ZSs9MSl7dmFyIG49aVtlXSxvPW4uaWRzLHI9bi5jYWxsYmFjazt0aGlzLl9ub3RpZnkobyxyKTt9dGhpcy5yZXF1ZXN0b3JzPVtdO319LEkucHJvdG90eXBlLmdldEltYWdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmltYWdlc1t0XX0sSS5wcm90b3R5cGUuYWRkSW1hZ2U9ZnVuY3Rpb24odCxlKXt0aGlzLmltYWdlc1t0XT1lO30sSS5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuaW1hZ2VzW3RdLGRlbGV0ZSB0aGlzLnBhdHRlcm5zW3RdO30sSS5wcm90b3R5cGUubGlzdEltYWdlcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmltYWdlcyl9LEkucHJvdG90eXBlLmdldEltYWdlcz1mdW5jdGlvbih0LGUpe3ZhciBpPSEwO2lmKCF0aGlzLmlzTG9hZGVkKCkpZm9yKHZhciBuPTAsbz10O248by5sZW5ndGg7bis9MSl7dmFyIHI9b1tuXTt0aGlzLmltYWdlc1tyXXx8KGk9ITEpO310aGlzLmlzTG9hZGVkKCl8fGk/dGhpcy5fbm90aWZ5KHQsZSk6dGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkczp0LGNhbGxiYWNrOmV9KTt9LEkucHJvdG90eXBlLl9ub3RpZnk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9e30sbj0wLG89dDtuPG8ubGVuZ3RoO24rPTEpe3ZhciByPW9bbl0sYT10aGlzLmltYWdlc1tyXTthJiYoaVtyXT17ZGF0YTphLmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOmEucGl4ZWxSYXRpbyxzZGY6YS5zZGZ9KTt9ZShudWxsLGkpO30sSS5wcm90b3R5cGUuZ2V0UGl4ZWxTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hdGxhc0ltYWdlO3JldHVybiB7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9fSxJLnByb3RvdHlwZS5nZXRQYXR0ZXJuPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucGF0dGVybnNbZV07aWYoaSlyZXR1cm4gaS5wb3NpdGlvbjt2YXIgbj10aGlzLmdldEltYWdlKGUpO2lmKCFuKXJldHVybiBudWxsO3ZhciBvPXt3Om4uZGF0YS53aWR0aCsyLGg6bi5kYXRhLmhlaWdodCsyLHg6MCx5OjB9LHI9bmV3IHQuSW1hZ2VQb3NpdGlvbihvLG4pO3JldHVybiB0aGlzLnBhdHRlcm5zW2VdPXtiaW46byxwb3NpdGlvbjpyfSx0aGlzLl91cGRhdGVQYXR0ZXJuQXRsYXMoKSxyfSxJLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3ZhciBpPWUuZ2w7dGhpcy5hdGxhc1RleHR1cmU/dGhpcy5kaXJ0eSYmKHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpLHRoaXMuZGlydHk9ITEpOnRoaXMuYXRsYXNUZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx0aGlzLmF0bGFzSW1hZ2UsaS5SR0JBKSx0aGlzLmF0bGFzVGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSk7fSxJLnByb3RvdHlwZS5fdXBkYXRlUGF0dGVybkF0bGFzPWZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciBpIGluIHRoaXMucGF0dGVybnMpZS5wdXNoKHRoaXMucGF0dGVybnNbaV0uYmluKTt2YXIgbj10LnBvdHBhY2soZSksbz1uLncscj1uLmgsYT10aGlzLmF0bGFzSW1hZ2U7Zm9yKHZhciBzIGluIGEucmVzaXplKHt3aWR0aDpvfHwxLGhlaWdodDpyfHwxfSksdGhpcy5wYXR0ZXJucyl7dmFyIGw9dGhpcy5wYXR0ZXJuc1tzXS5iaW4sYz1sLngrMSxoPWwueSsxLHU9dGhpcy5pbWFnZXNbc10uZGF0YSxwPXUud2lkdGgsZD11LmhlaWdodDt0LlJHQkFJbWFnZS5jb3B5KHUsYSx7eDowLHk6MH0se3g6Yyx5Omh9LHt3aWR0aDpwLGhlaWdodDpkfSksdC5SR0JBSW1hZ2UuY29weSh1LGEse3g6MCx5OmQtMX0se3g6Yyx5OmgtMX0se3dpZHRoOnAsaGVpZ2h0OjF9KSx0LlJHQkFJbWFnZS5jb3B5KHUsYSx7eDowLHk6MH0se3g6Yyx5OmgrZH0se3dpZHRoOnAsaGVpZ2h0OjF9KSx0LlJHQkFJbWFnZS5jb3B5KHUsYSx7eDpwLTEseTowfSx7eDpjLTEseTpofSx7d2lkdGg6MSxoZWlnaHQ6ZH0pLHQuUkdCQUltYWdlLmNvcHkodSxhLHt4OjAseTowfSx7eDpjK3AseTpofSx7d2lkdGg6MSxoZWlnaHQ6ZH0pO310aGlzLmRpcnR5PSEwO307dmFyIEM9UCx6PTFlMjA7ZnVuY3Rpb24gUCh0LGUsaSxuLG8scil7dGhpcy5mb250U2l6ZT10fHwyNCx0aGlzLmJ1ZmZlcj12b2lkIDA9PT1lPzM6ZSx0aGlzLmN1dG9mZj1ufHwuMjUsdGhpcy5mb250RmFtaWx5PW98fFwic2Fucy1zZXJpZlwiLHRoaXMuZm9udFdlaWdodD1yfHxcIm5vcm1hbFwiLHRoaXMucmFkaXVzPWl8fDg7dmFyIGE9dGhpcy5zaXplPXRoaXMuZm9udFNpemUrMip0aGlzLmJ1ZmZlcjt0aGlzLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuY2FudmFzLndpZHRoPXRoaXMuY2FudmFzLmhlaWdodD1hLHRoaXMuY3R4PXRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLmN0eC5mb250PXRoaXMuZm9udFdlaWdodCtcIiBcIit0aGlzLmZvbnRTaXplK1wicHggXCIrdGhpcy5mb250RmFtaWx5LHRoaXMuY3R4LnRleHRCYXNlbGluZT1cIm1pZGRsZVwiLHRoaXMuY3R4LmZpbGxTdHlsZT1cImJsYWNrXCIsdGhpcy5ncmlkT3V0ZXI9bmV3IEZsb2F0NjRBcnJheShhKmEpLHRoaXMuZ3JpZElubmVyPW5ldyBGbG9hdDY0QXJyYXkoYSphKSx0aGlzLmY9bmV3IEZsb2F0NjRBcnJheShhKSx0aGlzLmQ9bmV3IEZsb2F0NjRBcnJheShhKSx0aGlzLno9bmV3IEZsb2F0NjRBcnJheShhKzEpLHRoaXMudj1uZXcgSW50MTZBcnJheShhKSx0aGlzLm1pZGRsZT1NYXRoLnJvdW5kKGEvMioobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiR2Vja28vXCIpPj0wPzEuMjoxKSk7fWZ1bmN0aW9uIFIodCxlLGksbixvLHIsYSl7Zm9yKHZhciBzPTA7czxlO3MrKyl7Zm9yKHZhciBsPTA7bDxpO2wrKyluW2xdPXRbbCplK3NdO2ZvcihBKG4sbyxyLGEsaSksbD0wO2w8aTtsKyspdFtsKmUrc109b1tsXTt9Zm9yKGw9MDtsPGk7bCsrKXtmb3Iocz0wO3M8ZTtzKyspbltzXT10W2wqZStzXTtmb3IoQShuLG8scixhLGUpLHM9MDtzPGU7cysrKXRbbCplK3NdPU1hdGguc3FydChvW3NdKTt9fWZ1bmN0aW9uIEEodCxlLGksbixvKXtpWzBdPTAsblswXT0teixuWzFdPSt6O2Zvcih2YXIgcj0xLGE9MDtyPG87cisrKXtmb3IodmFyIHM9KHRbcl0rcipyLSh0W2lbYV1dK2lbYV0qaVthXSkpLygyKnItMippW2FdKTtzPD1uW2FdOylhLS0scz0odFtyXStyKnItKHRbaVthXV0raVthXSppW2FdKSkvKDIqci0yKmlbYV0pO2lbKythXT1yLG5bYV09cyxuW2ErMV09K3o7fWZvcihyPTAsYT0wO3I8bztyKyspe2Zvcig7blthKzFdPHI7KWErKztlW3JdPShyLWlbYV0pKihyLWlbYV0pK3RbaVthXV07fX1QLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQpe3RoaXMuY3R4LmNsZWFyUmVjdCgwLDAsdGhpcy5zaXplLHRoaXMuc2l6ZSksdGhpcy5jdHguZmlsbFRleHQodCx0aGlzLmJ1ZmZlcix0aGlzLm1pZGRsZSk7Zm9yKHZhciBlPXRoaXMuY3R4LmdldEltYWdlRGF0YSgwLDAsdGhpcy5zaXplLHRoaXMuc2l6ZSksaT1uZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy5zaXplKnRoaXMuc2l6ZSksbj0wO248dGhpcy5zaXplKnRoaXMuc2l6ZTtuKyspe3ZhciBvPWUuZGF0YVs0Km4rM10vMjU1O3RoaXMuZ3JpZE91dGVyW25dPTE9PT1vPzA6MD09PW8/ejpNYXRoLnBvdyhNYXRoLm1heCgwLC41LW8pLDIpLHRoaXMuZ3JpZElubmVyW25dPTE9PT1vP3o6MD09PW8/MDpNYXRoLnBvdyhNYXRoLm1heCgwLG8tLjUpLDIpO31mb3IoUih0aGlzLmdyaWRPdXRlcix0aGlzLnNpemUsdGhpcy5zaXplLHRoaXMuZix0aGlzLmQsdGhpcy52LHRoaXMueiksUih0aGlzLmdyaWRJbm5lcix0aGlzLnNpemUsdGhpcy5zaXplLHRoaXMuZix0aGlzLmQsdGhpcy52LHRoaXMueiksbj0wO248dGhpcy5zaXplKnRoaXMuc2l6ZTtuKyspe3ZhciByPXRoaXMuZ3JpZE91dGVyW25dLXRoaXMuZ3JpZElubmVyW25dO2lbbl09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsTWF0aC5yb3VuZCgyNTUtMjU1KihyL3RoaXMucmFkaXVzK3RoaXMuY3V0b2ZmKSkpKTt9cmV0dXJuIGl9O3ZhciBMPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXF1ZXN0VHJhbnNmb3JtPXQsdGhpcy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9ZSx0aGlzLmVudHJpZXM9e307fTtMLnByb3RvdHlwZS5zZXRVUkw9ZnVuY3Rpb24odCl7dGhpcy51cmw9dDt9LEwucHJvdG90eXBlLmdldEdseXBocz1mdW5jdGlvbihlLGkpe3ZhciBuPXRoaXMsbz1bXTtmb3IodmFyIHIgaW4gZSlmb3IodmFyIGE9MCxzPWVbcl07YTxzLmxlbmd0aDthKz0xKXt2YXIgbD1zW2FdO28ucHVzaCh7c3RhY2s6cixpZDpsfSk7fXQuYXN5bmNBbGwobyxmdW5jdGlvbih0LGUpe3ZhciBpPXQuc3RhY2ssbz10LmlkLHI9bi5lbnRyaWVzW2ldO3J8fChyPW4uZW50cmllc1tpXT17Z2x5cGhzOnt9LHJlcXVlc3RzOnt9fSk7dmFyIGE9ci5nbHlwaHNbb107aWYodm9pZCAwPT09YSlpZihhPW4uX3RpbnlTREYocixpLG8pKWUobnVsbCx7c3RhY2s6aSxpZDpvLGdseXBoOmF9KTtlbHNle3ZhciBzPU1hdGguZmxvb3Ioby8yNTYpO2lmKDI1NipzPjY1NTM1KWUobmV3IEVycm9yKFwiZ2x5cGhzID4gNjU1MzUgbm90IHN1cHBvcnRlZFwiKSk7ZWxzZXt2YXIgbD1yLnJlcXVlc3RzW3NdO2x8fChsPXIucmVxdWVzdHNbc109W10sTC5sb2FkR2x5cGhSYW5nZShpLHMsbi51cmwsbi5yZXF1ZXN0VHJhbnNmb3JtLGZ1bmN0aW9uKHQsZSl7aWYoZSlmb3IodmFyIGkgaW4gZSlyLmdseXBoc1sraV09ZVsraV07Zm9yKHZhciBuPTAsbz1sO248by5sZW5ndGg7bis9MSl7KDAsb1tuXSkodCxlKTt9ZGVsZXRlIHIucmVxdWVzdHNbc107fSkpLGwucHVzaChmdW5jdGlvbih0LG4pe3Q/ZSh0KTpuJiZlKG51bGwse3N0YWNrOmksaWQ6byxnbHlwaDpuW29dfHxudWxsfSk7fSk7fX1lbHNlIGUobnVsbCx7c3RhY2s6aSxpZDpvLGdseXBoOmF9KTt9LGZ1bmN0aW9uKHQsZSl7aWYodClpKHQpO2Vsc2UgaWYoZSl7Zm9yKHZhciBuPXt9LG89MCxyPWU7bzxyLmxlbmd0aDtvKz0xKXt2YXIgYT1yW29dLHM9YS5zdGFjayxsPWEuaWQsYz1hLmdseXBoOyhuW3NdfHwobltzXT17fSkpW2xdPWMmJntpZDpjLmlkLGJpdG1hcDpjLmJpdG1hcC5jbG9uZSgpLG1ldHJpY3M6Yy5tZXRyaWNzfTt9aShudWxsLG4pO319KTt9LEwucHJvdG90eXBlLl90aW55U0RGPWZ1bmN0aW9uKGUsaSxuKXt2YXIgbz10aGlzLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTtpZihvJiYodC5pc0NoYXJbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCJdKG4pfHx0LmlzQ2hhcltcIkhhbmd1bCBTeWxsYWJsZXNcIl0obikpKXt2YXIgcj1lLnRpbnlTREY7aWYoIXIpe3ZhciBhPVwiNDAwXCI7L2JvbGQvaS50ZXN0KGkpP2E9XCI5MDBcIjovbWVkaXVtL2kudGVzdChpKT9hPVwiNTAwXCI6L2xpZ2h0L2kudGVzdChpKSYmKGE9XCIyMDBcIikscj1lLnRpbnlTREY9bmV3IEwuVGlueVNERigyNCwzLDgsLjI1LG8sYSk7fXJldHVybiB7aWQ6bixiaXRtYXA6bmV3IHQuQWxwaGFJbWFnZSh7d2lkdGg6MzAsaGVpZ2h0OjMwfSxyLmRyYXcoU3RyaW5nLmZyb21DaGFyQ29kZShuKSkpLG1ldHJpY3M6e3dpZHRoOjI0LGhlaWdodDoyNCxsZWZ0OjAsdG9wOi04LGFkdmFuY2U6MjR9fX19LEwubG9hZEdseXBoUmFuZ2U9ZnVuY3Rpb24oZSxpLG4sbyxyKXt2YXIgYT0yNTYqaSxzPWErMjU1LGw9byhmKG4pLnJlcGxhY2UoXCJ7Zm9udHN0YWNrfVwiLGUpLnJlcGxhY2UoXCJ7cmFuZ2V9XCIsYStcIi1cIitzKSx0LlJlc291cmNlVHlwZS5HbHlwaHMpO3QuZ2V0QXJyYXlCdWZmZXIobCxmdW5jdGlvbihlLGkpe2lmKGUpcihlKTtlbHNlIGlmKGkpe2Zvcih2YXIgbj17fSxvPTAsYT10LnBhcnNlR2x5cGhQQkYoaS5kYXRhKTtvPGEubGVuZ3RoO28rPTEpe3ZhciBzPWFbb107bltzLmlkXT1zO31yKG51bGwsbik7fX0pO30sTC5UaW55U0RGPUM7dmFyIEQ9ZnVuY3Rpb24oKXt0aGlzLnNwZWNpZmljYXRpb249dC5zdHlsZVNwZWMubGlnaHQucG9zaXRpb247fTtELnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4oZS5leHByZXNzaW9uLmV2YWx1YXRlKGkpKX0sRC5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24oZSxpLG4pe3JldHVybiB7eDp0Lm51bWJlcihlLngsaS54LG4pLHk6dC5udW1iZXIoZS55LGkueSxuKSx6OnQubnVtYmVyKGUueixpLnosbil9fTt2YXIgTT1uZXcgdC5Qcm9wZXJ0aWVzKHthbmNob3I6bmV3IHQuRGF0YUNvbnN0YW50UHJvcGVydHkodC5zdHlsZVNwZWMubGlnaHQuYW5jaG9yKSxwb3NpdGlvbjpuZXcgRCxjb2xvcjpuZXcgdC5EYXRhQ29uc3RhbnRQcm9wZXJ0eSh0LnN0eWxlU3BlYy5saWdodC5jb2xvciksaW50ZW5zaXR5Om5ldyB0LkRhdGFDb25zdGFudFByb3BlcnR5KHQuc3R5bGVTcGVjLmxpZ2h0LmludGVuc2l0eSl9KSxrPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoaSl7ZS5jYWxsKHRoaXMpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyB0LlRyYW5zaXRpb25hYmxlKE0pLHRoaXMuc2V0TGlnaHQoaSksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0TGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9LGkucHJvdG90eXBlLnNldExpZ2h0PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlTGlnaHQsZSkpZm9yKHZhciBpIGluIGUpe3ZhciBuPWVbaV07dC5lbmRzV2l0aChpLFwiLXRyYW5zaXRpb25cIik/dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihpLnNsaWNlKDAsLVwiLXRyYW5zaXRpb25cIi5sZW5ndGgpLG4pOnRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKGksbik7fX0saS5wcm90b3R5cGUudXBkYXRlVHJhbnNpdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQodCx0aGlzLl90cmFuc2l0aW9uaW5nKTt9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9LGkucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKHQpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUodCk7fSxpLnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5lbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLGUuY2FsbCh0LnZhbGlkYXRlU3R5bGUsdC5leHRlbmQoe3ZhbHVlOmksc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9LHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKSl9LGl9KHQuRXZlbnRlZCksQj1mdW5jdGlvbih0LGUpe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMubmV4dFJvdz0wLHRoaXMuYnl0ZXM9NCx0aGlzLmRhdGE9bmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCp0aGlzLmJ5dGVzKSx0aGlzLnBvc2l0aW9ucz17fTt9O0IucHJvdG90eXBlLmdldERhc2g9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmpvaW4oXCIsXCIpK1N0cmluZyhlKTtyZXR1cm4gdGhpcy5wb3NpdGlvbnNbaV18fCh0aGlzLnBvc2l0aW9uc1tpXT10aGlzLmFkZERhc2godCxlKSksdGhpcy5wb3NpdGlvbnNbaV19LEIucHJvdG90eXBlLmFkZERhc2g9ZnVuY3Rpb24oZSxpKXt2YXIgbj1pPzc6MCxvPTIqbisxO2lmKHRoaXMubmV4dFJvdytvPnRoaXMuaGVpZ2h0KXJldHVybiB0Lndhcm5PbmNlKFwiTGluZUF0bGFzIG91dCBvZiBzcGFjZVwiKSxudWxsO2Zvcih2YXIgcj0wLGE9MDthPGUubGVuZ3RoO2ErKylyKz1lW2FdO2Zvcih2YXIgcz10aGlzLndpZHRoL3IsbD1zLzIsYz1lLmxlbmd0aCUyPT0xLGg9LW47aDw9bjtoKyspZm9yKHZhciB1PXRoaXMubmV4dFJvdytuK2gscD10aGlzLndpZHRoKnUsZD1jPy1lW2UubGVuZ3RoLTFdOjAsXz1lWzBdLGY9MSxtPTA7bTx0aGlzLndpZHRoO20rKyl7Zm9yKDtfPG0vczspZD1fLF8rPWVbZl0sYyYmZj09PWUubGVuZ3RoLTEmJihfKz1lWzBdKSxmKys7dmFyIGc9TWF0aC5hYnMobS1kKnMpLHY9TWF0aC5hYnMobS1fKnMpLHk9TWF0aC5taW4oZyx2KSx4PWYlMj09MSxiPXZvaWQgMDtpZihpKXt2YXIgdz1uP2gvbioobCsxKTowO2lmKHgpe3ZhciBFPWwtTWF0aC5hYnModyk7Yj1NYXRoLnNxcnQoeSp5K0UqRSk7fWVsc2UgYj1sLU1hdGguc3FydCh5Knkrdyp3KTt9ZWxzZSBiPSh4PzE6LTEpKnk7dGhpcy5kYXRhWzMrNCoocCttKV09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsYisxMjgpKTt9dmFyIFQ9e3k6KHRoaXMubmV4dFJvdytuKy41KS90aGlzLmhlaWdodCxoZWlnaHQ6MipuL3RoaXMuaGVpZ2h0LHdpZHRoOnJ9O3JldHVybiB0aGlzLm5leHRSb3crPW8sdGhpcy5kaXJ0eT0hMCxUfSxCLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2w7dGhpcy50ZXh0dXJlPyhlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHRoaXMuZGlydHkmJih0aGlzLmRpcnR5PSExLGUudGV4U3ViSW1hZ2UyRChlLlRFWFRVUkVfMkQsMCwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxlLlJHQkEsZS5VTlNJR05FRF9CWVRFLHRoaXMuZGF0YSkpKToodGhpcy50ZXh0dXJlPWUuY3JlYXRlVGV4dHVyZSgpLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfV1JBUF9TLGUuUkVQRUFUKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9XUkFQX1QsZS5SRVBFQVQpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01JTl9GSUxURVIsZS5MSU5FQVIpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01BR19GSUxURVIsZS5MSU5FQVIpLGUudGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQkEsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwwLGUuUkdCQSxlLlVOU0lHTkVEX0JZVEUsdGhpcy5kYXRhKSk7fTt2YXIgTz1mdW5jdGlvbiBlKGksbil7dGhpcy53b3JrZXJQb29sPWksdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPXQudW5pcXVlSWQoKTtmb3IodmFyIG89dGhpcy53b3JrZXJQb29sLmFjcXVpcmUodGhpcy5pZCkscj0wO3I8by5sZW5ndGg7cisrKXt2YXIgYT1vW3JdLHM9bmV3IGUuQWN0b3IoYSxuLHRoaXMuaWQpO3MubmFtZT1cIldvcmtlciBcIityLHRoaXMuYWN0b3JzLnB1c2gocyk7fX07ZnVuY3Rpb24gRihlLGksbil7dmFyIG89ZnVuY3Rpb24oZSxpKXtpZihlKXJldHVybiBuKGUpO2lmKGkpe3ZhciBvPXQucGljayhpLFtcInRpbGVzXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJhdHRyaWJ1dGlvblwiLFwibWFwYm94X2xvZ29cIixcImJvdW5kc1wiXSk7aS52ZWN0b3JfbGF5ZXJzJiYoby52ZWN0b3JMYXllcnM9aS52ZWN0b3JfbGF5ZXJzLG8udmVjdG9yTGF5ZXJJZHM9by52ZWN0b3JMYXllcnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLG4obnVsbCxvKTt9fTtyZXR1cm4gZS51cmw/dC5nZXRKU09OKGkobShlLnVybCksdC5SZXNvdXJjZVR5cGUuU291cmNlKSxvKTp0LmJyb3dzZXIuZnJhbWUoZnVuY3Rpb24oKXtyZXR1cm4gbyhudWxsLGUpfSl9Ty5wcm90b3R5cGUuYnJvYWRjYXN0PWZ1bmN0aW9uKGUsaSxuKXtuPW58fGZ1bmN0aW9uKCl7fSx0LmFzeW5jQWxsKHRoaXMuYWN0b3JzLGZ1bmN0aW9uKHQsbil7dC5zZW5kKGUsaSxuKTt9LG4pO30sTy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gKFwibnVtYmVyXCIhPXR5cGVvZiBufHxpc05hTihuKSkmJihuPXRoaXMuY3VycmVudEFjdG9yPSh0aGlzLmN1cnJlbnRBY3RvcisxKSV0aGlzLmFjdG9ycy5sZW5ndGgpLHRoaXMuYWN0b3JzW25dLnNlbmQodCxlLGkpLG59LE8ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuYWN0b3JzLmZvckVhY2goZnVuY3Rpb24odCl7dC5yZW1vdmUoKTt9KSx0aGlzLmFjdG9ycz1bXSx0aGlzLndvcmtlclBvb2wucmVsZWFzZSh0aGlzLmlkKTt9LE8uQWN0b3I9dC5BY3Rvcjt2YXIgVT1mdW5jdGlvbih0LGUpe2lmKGlzTmFOKHQpfHxpc05hTihlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIExuZ0xhdCBvYmplY3Q6IChcIit0K1wiLCBcIitlK1wiKVwiKTtpZih0aGlzLmxuZz0rdCx0aGlzLmxhdD0rZSx0aGlzLmxhdD45MHx8dGhpcy5sYXQ8LTkwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MFwiKX07VS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbigpe3JldHVybiBuZXcgVSh0LndyYXAodGhpcy5sbmcsLTE4MCwxODApLHRoaXMubGF0KX0sVS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiBbdGhpcy5sbmcsdGhpcy5sYXRdfSxVLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBcIkxuZ0xhdChcIit0aGlzLmxuZytcIiwgXCIrdGhpcy5sYXQrXCIpXCJ9LFUucHJvdG90eXBlLnRvQm91bmRzPWZ1bmN0aW9uKHQpe3ZhciBlPTM2MCp0LzQwMDc1MDE3LGk9ZS9NYXRoLmNvcyhNYXRoLlBJLzE4MCp0aGlzLmxhdCk7cmV0dXJuIG5ldyBOKG5ldyBVKHRoaXMubG5nLWksdGhpcy5sYXQtZSksbmV3IFUodGhpcy5sbmcraSx0aGlzLmxhdCtlKSl9LFUuY29udmVydD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgVSlyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpJiYoMj09PXQubGVuZ3RofHwzPT09dC5sZW5ndGgpKXJldHVybiBuZXcgVShOdW1iZXIodFswXSksTnVtYmVyKHRbMV0pKTtpZighQXJyYXkuaXNBcnJheSh0KSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10KXJldHVybiBuZXcgVShOdW1iZXIodC5sbmcpLE51bWJlcih0LmxhdCkpO3Rocm93IG5ldyBFcnJvcihcImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl1cIil9O3ZhciBOPWZ1bmN0aW9uKHQsZSl7dCYmKGU/dGhpcy5zZXRTb3V0aFdlc3QodCkuc2V0Tm9ydGhFYXN0KGUpOjQ9PT10Lmxlbmd0aD90aGlzLnNldFNvdXRoV2VzdChbdFswXSx0WzFdXSkuc2V0Tm9ydGhFYXN0KFt0WzJdLHRbM11dKTp0aGlzLnNldFNvdXRoV2VzdCh0WzBdKS5zZXROb3J0aEVhc3QodFsxXSkpO307Ti5wcm90b3R5cGUuc2V0Tm9ydGhFYXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9uZT10IGluc3RhbmNlb2YgVT9uZXcgVSh0LmxuZyx0LmxhdCk6VS5jb252ZXJ0KHQpLHRoaXN9LE4ucHJvdG90eXBlLnNldFNvdXRoV2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3c9dCBpbnN0YW5jZW9mIFU/bmV3IFUodC5sbmcsdC5sYXQpOlUuY29udmVydCh0KSx0aGlzfSxOLnByb3RvdHlwZS5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXRoaXMuX3N3LG89dGhpcy5fbmU7aWYodCBpbnN0YW5jZW9mIFUpZT10LGk9dDtlbHNle2lmKCEodCBpbnN0YW5jZW9mIE4pKXJldHVybiBBcnJheS5pc0FycmF5KHQpP3QuZXZlcnkoQXJyYXkuaXNBcnJheSk/dGhpcy5leHRlbmQoTi5jb252ZXJ0KHQpKTp0aGlzLmV4dGVuZChVLmNvbnZlcnQodCkpOnRoaXM7aWYoZT10Ll9zdyxpPXQuX25lLCFlfHwhaSlyZXR1cm4gdGhpc31yZXR1cm4gbnx8bz8obi5sbmc9TWF0aC5taW4oZS5sbmcsbi5sbmcpLG4ubGF0PU1hdGgubWluKGUubGF0LG4ubGF0KSxvLmxuZz1NYXRoLm1heChpLmxuZyxvLmxuZyksby5sYXQ9TWF0aC5tYXgoaS5sYXQsby5sYXQpKToodGhpcy5fc3c9bmV3IFUoZS5sbmcsZS5sYXQpLHRoaXMuX25lPW5ldyBVKGkubG5nLGkubGF0KSksdGhpc30sTi5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBVKCh0aGlzLl9zdy5sbmcrdGhpcy5fbmUubG5nKS8yLCh0aGlzLl9zdy5sYXQrdGhpcy5fbmUubGF0KS8yKX0sTi5wcm90b3R5cGUuZ2V0U291dGhXZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N3fSxOLnByb3RvdHlwZS5nZXROb3J0aEVhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV9LE4ucHJvdG90eXBlLmdldE5vcnRoV2VzdD1mdW5jdGlvbigpe3JldHVybiBuZXcgVSh0aGlzLmdldFdlc3QoKSx0aGlzLmdldE5vcnRoKCkpfSxOLnByb3RvdHlwZS5nZXRTb3V0aEVhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFUodGhpcy5nZXRFYXN0KCksdGhpcy5nZXRTb3V0aCgpKX0sTi5wcm90b3R5cGUuZ2V0V2VzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdy5sbmd9LE4ucHJvdG90eXBlLmdldFNvdXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N3LmxhdH0sTi5wcm90b3R5cGUuZ2V0RWFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZS5sbmd9LE4ucHJvdG90eXBlLmdldE5vcnRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lLmxhdH0sTi5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiBbdGhpcy5fc3cudG9BcnJheSgpLHRoaXMuX25lLnRvQXJyYXkoKV19LE4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFwiTG5nTGF0Qm91bmRzKFwiK3RoaXMuX3N3LnRvU3RyaW5nKCkrXCIsIFwiK3RoaXMuX25lLnRvU3RyaW5nKCkrXCIpXCJ9LE4ucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gISh0aGlzLl9zdyYmdGhpcy5fbmUpfSxOLmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuICF0fHx0IGluc3RhbmNlb2YgTj90Om5ldyBOKHQpfTt2YXIgWj1mdW5jdGlvbih0LGUsaSl7dGhpcy5ib3VuZHM9Ti5jb252ZXJ0KHRoaXMudmFsaWRhdGVCb3VuZHModCkpLHRoaXMubWluem9vbT1lfHwwLHRoaXMubWF4em9vbT1pfHwyNDt9O1oucHJvdG90eXBlLnZhbGlkYXRlQm91bmRzPWZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiY0PT09dC5sZW5ndGg/W01hdGgubWF4KC0xODAsdFswXSksTWF0aC5tYXgoLTkwLHRbMV0pLE1hdGgubWluKDE4MCx0WzJdKSxNYXRoLm1pbig5MCx0WzNdKV06Wy0xODAsLTkwLDE4MCw5MF19LFoucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguZmxvb3IodGhpcy5sbmdYKHRoaXMuYm91bmRzLmdldFdlc3QoKSx0LnopKSxpPU1hdGguZmxvb3IodGhpcy5sYXRZKHRoaXMuYm91bmRzLmdldE5vcnRoKCksdC56KSksbj1NYXRoLmNlaWwodGhpcy5sbmdYKHRoaXMuYm91bmRzLmdldEVhc3QoKSx0LnopKSxvPU1hdGguY2VpbCh0aGlzLmxhdFkodGhpcy5ib3VuZHMuZ2V0U291dGgoKSx0LnopKTtyZXR1cm4gdC54Pj1lJiZ0Lng8biYmdC55Pj1pJiZ0Lnk8b30sWi5wcm90b3R5cGUubG5nWD1mdW5jdGlvbih0LGUpe3JldHVybiAodCsxODApKihNYXRoLnBvdygyLGUpLzM2MCl9LFoucHJvdG90eXBlLmxhdFk9ZnVuY3Rpb24oZSxpKXt2YXIgbj10LmNsYW1wKE1hdGguc2luKE1hdGguUEkvMTgwKmUpLC0uOTk5OSwuOTk5OSksbz1NYXRoLnBvdygyLGkpLygyKk1hdGguUEkpO3JldHVybiBNYXRoLnBvdygyLGktMSkrLjUqTWF0aC5sb2coKDErbikvKDEtbikpKi1vfTt2YXIgcT1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbixvLHIpe2lmKGUuY2FsbCh0aGlzKSx0aGlzLmlkPWksdGhpcy5kaXNwYXRjaGVyPW8sdGhpcy50eXBlPVwidmVjdG9yXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdC5leHRlbmQodGhpcyx0LnBpY2sobixbXCJ1cmxcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIl0pKSx0aGlzLl9vcHRpb25zPXQuZXh0ZW5kKHt0eXBlOlwidmVjdG9yXCJ9LG4pLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz1uLmNvbGxlY3RSZXNvdXJjZVRpbWluZyw1MTIhPT10aGlzLnRpbGVTaXplKXRocm93IG5ldyBFcnJvcihcInZlY3RvciB0aWxlIHNvdXJjZXMgbXVzdCBoYXZlIGEgdGlsZVNpemUgb2YgNTEyXCIpO3RoaXMuc2V0RXZlbnRlZFBhcmVudChyKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZmlyZShuZXcgdC5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PUYodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCxmdW5jdGlvbihpLG4pe2UuX3RpbGVKU09OUmVxdWVzdD1udWxsLGk/ZS5maXJlKG5ldyB0LkVycm9yRXZlbnQoaSkpOm4mJih0LmV4dGVuZChlLG4pLG4uYm91bmRzJiYoZS50aWxlQm91bmRzPW5ldyBaKG4uYm91bmRzLGUubWluem9vbSxlLm1heHpvb20pKSxTKG4udGlsZXMpLGUuZmlyZShuZXcgdC5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSksZS5maXJlKG5ldyB0LkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKTt9KTt9LGkucHJvdG90eXBlLmhhc1RpbGU9ZnVuY3Rpb24odCl7cmV0dXJuICF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0LmNhbm9uaWNhbCl9LGkucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMubWFwPXQsdGhpcy5sb2FkKCk7fSxpLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG49eShlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLHRoaXMudXJsKSxvPXtyZXF1ZXN0OnRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KG4sdC5SZXNvdXJjZVR5cGUuVGlsZSksdWlkOmUudWlkLHRpbGVJRDplLnRpbGVJRCx6b29tOmUudGlsZUlELm92ZXJzY2FsZWRaLHRpbGVTaXplOnRoaXMudGlsZVNpemUqZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQscGl4ZWxSYXRpbzp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzfTtmdW5jdGlvbiByKHQsbil7cmV0dXJuIGUuYWJvcnRlZD9pKG51bGwpOnQmJjQwNCE9PXQuc3RhdHVzP2kodCk6KG4mJm4ucmVzb3VyY2VUaW1pbmcmJihlLnJlc291cmNlVGltaW5nPW4ucmVzb3VyY2VUaW1pbmcpLHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZuJiZlLnNldEV4cGlyeURhdGEobiksZS5sb2FkVmVjdG9yRGF0YShuLHRoaXMubWFwLnBhaW50ZXIpLGkobnVsbCksdm9pZChlLnJlbG9hZENhbGxiYWNrJiYodGhpcy5sb2FkVGlsZShlLGUucmVsb2FkQ2FsbGJhY2spLGUucmVsb2FkQ2FsbGJhY2s9bnVsbCkpKX1vLnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nPXRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyx2b2lkIDA9PT1lLndvcmtlcklEfHxcImV4cGlyZWRcIj09PWUuc3RhdGU/ZS53b3JrZXJJRD10aGlzLmRpc3BhdGNoZXIuc2VuZChcImxvYWRUaWxlXCIsbyxyLmJpbmQodGhpcykpOlwibG9hZGluZ1wiPT09ZS5zdGF0ZT9lLnJlbG9hZENhbGxiYWNrPWk6dGhpcy5kaXNwYXRjaGVyLnNlbmQoXCJyZWxvYWRUaWxlXCIsbyxyLmJpbmQodGhpcyksZS53b3JrZXJJRCk7fSxpLnByb3RvdHlwZS5hYm9ydFRpbGU9ZnVuY3Rpb24odCl7dGhpcy5kaXNwYXRjaGVyLnNlbmQoXCJhYm9ydFRpbGVcIix7dWlkOnQudWlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkfSx2b2lkIDAsdC53b3JrZXJJRCk7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQpe3QudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuZGlzcGF0Y2hlci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6dC51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9LHZvaWQgMCx0LndvcmtlcklEKTt9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksVj1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbixvLHIpe2UuY2FsbCh0aGlzKSx0aGlzLmlkPWksdGhpcy5kaXNwYXRjaGVyPW8sdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMudHlwZT1cInJhc3RlclwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLnNjaGVtZT1cInh5elwiLHRoaXMudGlsZVNpemU9NTEyLHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9vcHRpb25zPXQuZXh0ZW5kKHt9LG4pLHQuZXh0ZW5kKHRoaXMsdC5waWNrKG4sW1widXJsXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCJdKSk7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1GKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QsZnVuY3Rpb24oaSxuKXtlLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCxpP2UuZmlyZShuZXcgdC5FcnJvckV2ZW50KGkpKTpuJiYodC5leHRlbmQoZSxuKSxuLmJvdW5kcyYmKGUudGlsZUJvdW5kcz1uZXcgWihuLmJvdW5kcyxlLm1pbnpvb20sZS5tYXh6b29tKSksUyhuLnRpbGVzKSxlLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLGUuZmlyZShuZXcgdC5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSk7fSk7fSxpLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcD10LHRoaXMubG9hZCgpO30saS5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl90aWxlSlNPTlJlcXVlc3QmJih0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwpO30saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZXh0ZW5kKHt9LHRoaXMuX29wdGlvbnMpfSxpLnByb3RvdHlwZS5oYXNUaWxlPWZ1bmN0aW9uKHQpe3JldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnModC5jYW5vbmljYWwpfSxpLnByb3RvdHlwZS5sb2FkVGlsZT1mdW5jdGlvbihlLGkpe3ZhciBuPXRoaXMsbz15KGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksdGhpcy51cmwsdGhpcy50aWxlU2l6ZSk7ZS5yZXF1ZXN0PXQuZ2V0SW1hZ2UodGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3Qobyx0LlJlc291cmNlVHlwZS5UaWxlKSxmdW5jdGlvbihvLHIpe2lmKGRlbGV0ZSBlLnJlcXVlc3QsZS5hYm9ydGVkKWUuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCk7ZWxzZSBpZihvKWUuc3RhdGU9XCJlcnJvcmVkXCIsaShvKTtlbHNlIGlmKHIpe24ubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZlLnNldEV4cGlyeURhdGEociksZGVsZXRlIHIuY2FjaGVDb250cm9sLGRlbGV0ZSByLmV4cGlyZXM7dmFyIGE9bi5tYXAucGFpbnRlci5jb250ZXh0LHM9YS5nbDtlLnRleHR1cmU9bi5tYXAucGFpbnRlci5nZXRUaWxlVGV4dHVyZShyLndpZHRoKSxlLnRleHR1cmU/ZS50ZXh0dXJlLnVwZGF0ZShyLHt1c2VNaXBtYXA6ITB9KTooZS50ZXh0dXJlPW5ldyB0LlRleHR1cmUoYSxyLHMuUkdCQSx7dXNlTWlwbWFwOiEwfSksZS50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFLHMuTElORUFSX01JUE1BUF9ORUFSRVNUKSxhLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmcy50ZXhQYXJhbWV0ZXJmKHMuVEVYVFVSRV8yRCxhLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxhLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkpLGUuc3RhdGU9XCJsb2FkZWRcIixpKG51bGwpO319KTt9LGkucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbih0LGUpe3QucmVxdWVzdCYmKHQucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgdC5yZXF1ZXN0KSxlKCk7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7dC50ZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZSh0LnRleHR1cmUpLGUoKTt9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksaj1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbixvLHIpe2UuY2FsbCh0aGlzLGksbixvLHIpLHRoaXMudHlwZT1cInJhc3Rlci1kZW1cIix0aGlzLm1heHpvb209MjIsdGhpcy5fb3B0aW9ucz10LmV4dGVuZCh7fSxuKSx0aGlzLmVuY29kaW5nPW4uZW5jb2Rpbmd8fFwibWFwYm94XCI7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6XCJyYXN0ZXItZGVtXCIsdXJsOnRoaXMudXJsLHRpbGVTaXplOnRoaXMudGlsZVNpemUsdGlsZXM6dGhpcy50aWxlcyxib3VuZHM6dGhpcy5ib3VuZHMsZW5jb2Rpbmc6dGhpcy5lbmNvZGluZ319LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG49eShlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLHRoaXMudXJsLHRoaXMudGlsZVNpemUpO2UucmVxdWVzdD10LmdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KG4sdC5SZXNvdXJjZVR5cGUuVGlsZSksZnVuY3Rpb24obixvKXtpZihkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZCllLnN0YXRlPVwidW5sb2FkZWRcIixpKG51bGwpO2Vsc2UgaWYobillLnN0YXRlPVwiZXJyb3JlZFwiLGkobik7ZWxzZSBpZihvKXt0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmZS5zZXRFeHBpcnlEYXRhKG8pLGRlbGV0ZSBvLmNhY2hlQ29udHJvbCxkZWxldGUgby5leHBpcmVzO3ZhciByPXQuYnJvd3Nlci5nZXRJbWFnZURhdGEobyksYT17dWlkOmUudWlkLGNvb3JkOmUudGlsZUlELHNvdXJjZTp0aGlzLmlkLHJhd0ltYWdlRGF0YTpyLGVuY29kaW5nOnRoaXMuZW5jb2Rpbmd9O2Uud29ya2VySUQmJlwiZXhwaXJlZFwiIT09ZS5zdGF0ZXx8KGUud29ya2VySUQ9dGhpcy5kaXNwYXRjaGVyLnNlbmQoXCJsb2FkREVNVGlsZVwiLGEsZnVuY3Rpb24odCxuKXt0JiYoZS5zdGF0ZT1cImVycm9yZWRcIixpKHQpKTtuJiYoZS5kZW09bixlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMCxlLnN0YXRlPVwibG9hZGVkXCIsaShudWxsKSk7fS5iaW5kKHRoaXMpKSk7fX0uYmluZCh0aGlzKSksZS5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXMoZS50aWxlSUQpO30saS5wcm90b3R5cGUuX2dldE5laWdoYm9yaW5nVGlsZXM9ZnVuY3Rpb24oZSl7dmFyIGk9ZS5jYW5vbmljYWwsbj1NYXRoLnBvdygyLGkueiksbz0oaS54LTErbiklbixyPTA9PT1pLng/ZS53cmFwLTE6ZS53cmFwLGE9KGkueCsxK24pJW4scz1pLngrMT09PW4/ZS53cmFwKzE6ZS53cmFwLGw9e307cmV0dXJuIGxbbmV3IHQuT3ZlcnNjYWxlZFRpbGVJRChlLm92ZXJzY2FsZWRaLHIsaS56LG8saS55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixzLGkueixhLGkueSkua2V5XT17YmFja2ZpbGxlZDohMX0saS55PjAmJihsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixyLGkueixvLGkueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixlLndyYXAsaS56LGkueCxpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUub3ZlcnNjYWxlZFoscyxpLnosYSxpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0pLGkueSsxPG4mJihsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixyLGkueixvLGkueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixlLndyYXAsaS56LGkueCxpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUub3ZlcnNjYWxlZFoscyxpLnosYSxpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0pLGx9LGkucHJvdG90eXBlLnVubG9hZFRpbGU9ZnVuY3Rpb24odCl7dC5kZW1UZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZSh0LmRlbVRleHR1cmUpLHQuZmJvJiYodC5mYm8uZGVzdHJveSgpLGRlbGV0ZSB0LmZibyksdC5kZW0mJmRlbGV0ZSB0LmRlbSxkZWxldGUgdC5uZWlnaGJvcmluZ1RpbGVzLHQuc3RhdGU9XCJ1bmxvYWRlZFwiLHRoaXMuZGlzcGF0Y2hlci5zZW5kKFwicmVtb3ZlREVNVGlsZVwiLHt1aWQ6dC51aWQsc291cmNlOnRoaXMuaWR9LHZvaWQgMCx0LndvcmtlcklEKTt9LGl9KFYpLEc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG4sbyxyKXtlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMudHlwZT1cImdlb2pzb25cIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MTgsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5pc1RpbGVDbGlwcGVkPSEwLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITAsdGhpcy5fcmVtb3ZlZD0hMSx0aGlzLmRpc3BhdGNoZXI9byx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5fZGF0YT1uLmRhdGEsdGhpcy5fb3B0aW9ucz10LmV4dGVuZCh7fSxuKSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9bi5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5fcmVzb3VyY2VUaW1pbmc9W10sdm9pZCAwIT09bi5tYXh6b29tJiYodGhpcy5tYXh6b29tPW4ubWF4em9vbSksbi50eXBlJiYodGhpcy50eXBlPW4udHlwZSksbi5hdHRyaWJ1dGlvbiYmKHRoaXMuYXR0cmlidXRpb249bi5hdHRyaWJ1dGlvbik7dmFyIGE9dC5FWFRFTlQvdGhpcy50aWxlU2l6ZTt0aGlzLndvcmtlck9wdGlvbnM9dC5leHRlbmQoe3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXI6bi5jbHVzdGVyfHwhMSxnZW9qc29uVnRPcHRpb25zOntidWZmZXI6KHZvaWQgMCE9PW4uYnVmZmVyP24uYnVmZmVyOjEyOCkqYSx0b2xlcmFuY2U6KHZvaWQgMCE9PW4udG9sZXJhbmNlP24udG9sZXJhbmNlOi4zNzUpKmEsZXh0ZW50OnQuRVhURU5ULG1heFpvb206dGhpcy5tYXh6b29tLGxpbmVNZXRyaWNzOm4ubGluZU1ldHJpY3N8fCExLGdlbmVyYXRlSWQ6bi5nZW5lcmF0ZUlkfHwhMX0sc3VwZXJjbHVzdGVyT3B0aW9uczp7bWF4Wm9vbTp2b2lkIDAhPT1uLmNsdXN0ZXJNYXhab29tP01hdGgubWluKG4uY2x1c3Rlck1heFpvb20sdGhpcy5tYXh6b29tLTEpOnRoaXMubWF4em9vbS0xLGV4dGVudDp0LkVYVEVOVCxyYWRpdXM6KG4uY2x1c3RlclJhZGl1c3x8NTApKmEsbG9nOiExfX0sbi53b3JrZXJPcHRpb25zKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZmlyZShuZXcgdC5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fdXBkYXRlV29ya2VyRGF0YShmdW5jdGlvbihpKXtpZihpKWUuZmlyZShuZXcgdC5FcnJvckV2ZW50KGkpKTtlbHNle3ZhciBuPXtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn07ZS5fY29sbGVjdFJlc291cmNlVGltaW5nJiZlLl9yZXNvdXJjZVRpbWluZyYmZS5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoPjAmJihuLnJlc291cmNlVGltaW5nPWUuX3Jlc291cmNlVGltaW5nLGUuX3Jlc291cmNlVGltaW5nPVtdKSxlLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhXCIsbikpO319KTt9LGkucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMubWFwPXQsdGhpcy5sb2FkKCk7fSxpLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuX2RhdGE9ZSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoZnVuY3Rpb24oZSl7aWYoZSlpLmZpcmUobmV3IHQuRXJyb3JFdmVudChlKSk7ZWxzZXt2YXIgbj17ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn07aS5fY29sbGVjdFJlc291cmNlVGltaW5nJiZpLl9yZXNvdXJjZVRpbWluZyYmaS5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoPjAmJihuLnJlc291cmNlVGltaW5nPWkuX3Jlc291cmNlVGltaW5nLGkuX3Jlc291cmNlVGltaW5nPVtdKSxpLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhXCIsbikpO319KSx0aGlzfSxpLnByb3RvdHlwZS5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmRpc3BhdGNoZXIuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckV4cGFuc2lvblpvb21cIix7Y2x1c3RlcklkOnQsc291cmNlOnRoaXMuaWR9LGUsdGhpcy53b3JrZXJJRCksdGhpc30saS5wcm90b3R5cGUuZ2V0Q2x1c3RlckNoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGlzcGF0Y2hlci5zZW5kKFwiZ2VvanNvbi5nZXRDbHVzdGVyQ2hpbGRyZW5cIix7Y2x1c3RlcklkOnQsc291cmNlOnRoaXMuaWR9LGUsdGhpcy53b3JrZXJJRCksdGhpc30saS5wcm90b3R5cGUuZ2V0Q2x1c3RlckxlYXZlcz1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdGhpcy5kaXNwYXRjaGVyLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJMZWF2ZXNcIix7c291cmNlOnRoaXMuaWQsY2x1c3RlcklkOnQsbGltaXQ6ZSxvZmZzZXQ6aX0sbix0aGlzLndvcmtlcklEKSx0aGlzfSxpLnByb3RvdHlwZS5fdXBkYXRlV29ya2VyRGF0YT1mdW5jdGlvbihlKXt2YXIgaT10aGlzLG49dC5leHRlbmQoe30sdGhpcy53b3JrZXJPcHRpb25zKSxvPXRoaXMuX2RhdGE7XCJzdHJpbmdcIj09dHlwZW9mIG8/KG4ucmVxdWVzdD10aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCh0LmJyb3dzZXIucmVzb2x2ZVVSTChvKSx0LlJlc291cmNlVHlwZS5Tb3VyY2UpLG4ucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9dGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nKTpuLmRhdGE9SlNPTi5zdHJpbmdpZnkobyksdGhpcy53b3JrZXJJRD10aGlzLmRpc3BhdGNoZXIuc2VuZCh0aGlzLnR5cGUrXCIubG9hZERhdGFcIixuLGZ1bmN0aW9uKHQsbyl7aS5fcmVtb3ZlZHx8byYmby5hYmFuZG9uZWR8fChpLl9sb2FkZWQ9ITAsbyYmby5yZXNvdXJjZVRpbWluZyYmby5yZXNvdXJjZVRpbWluZ1tpLmlkXSYmKGkuX3Jlc291cmNlVGltaW5nPW8ucmVzb3VyY2VUaW1pbmdbaS5pZF0uc2xpY2UoMCkpLGkuZGlzcGF0Y2hlci5zZW5kKGkudHlwZStcIi5jb2FsZXNjZVwiLHtzb3VyY2U6bi5zb3VyY2V9LG51bGwsaS53b3JrZXJJRCksZSh0KSk7fSx0aGlzLndvcmtlcklEKTt9LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG49dGhpcyxvPXZvaWQgMD09PWUud29ya2VySUQ/XCJsb2FkVGlsZVwiOlwicmVsb2FkVGlsZVwiLHI9e3R5cGU6dGhpcy50eXBlLHVpZDplLnVpZCx0aWxlSUQ6ZS50aWxlSUQsem9vbTplLnRpbGVJRC5vdmVyc2NhbGVkWixtYXhab29tOnRoaXMubWF4em9vbSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHNvdXJjZTp0aGlzLmlkLHBpeGVsUmF0aW86dC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlc307ZS53b3JrZXJJRD10aGlzLmRpc3BhdGNoZXIuc2VuZChvLHIsZnVuY3Rpb24odCxyKXtyZXR1cm4gZS51bmxvYWRWZWN0b3JEYXRhKCksZS5hYm9ydGVkP2kobnVsbCk6dD9pKHQpOihlLmxvYWRWZWN0b3JEYXRhKHIsbi5tYXAucGFpbnRlcixcInJlbG9hZFRpbGVcIj09PW8pLGkobnVsbCkpfSx0aGlzLndvcmtlcklEKTt9LGkucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbih0KXt0LmFib3J0ZWQ9ITA7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQpe3QudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuZGlzcGF0Y2hlci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6dC51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9LG51bGwsdC53b3JrZXJJRCk7fSxpLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX3JlbW92ZWQ9ITAsdGhpcy5kaXNwYXRjaGVyLnNlbmQoXCJyZW1vdmVTb3VyY2VcIix7dHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9LG51bGwsdGhpcy53b3JrZXJJRCk7fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyx7dHlwZTp0aGlzLnR5cGUsZGF0YTp0aGlzLl9kYXRhfSl9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksVz1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKHQsaSxuLG8pe2UuY2FsbCh0aGlzKSx0aGlzLmlkPXQsdGhpcy5kaXNwYXRjaGVyPW4sdGhpcy5jb29yZGluYXRlcz1pLmNvb3JkaW5hdGVzLHRoaXMudHlwZT1cImltYWdlXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMudGlsZVNpemU9NTEyLHRoaXMudGlsZXM9e30sdGhpcy5zZXRFdmVudGVkUGFyZW50KG8pLHRoaXMub3B0aW9ucz1pO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5maXJlKG5ldyB0LkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLnVybD10aGlzLm9wdGlvbnMudXJsLHQuZ2V0SW1hZ2UodGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodGhpcy51cmwsdC5SZXNvdXJjZVR5cGUuSW1hZ2UpLGZ1bmN0aW9uKGksbil7aT9lLmZpcmUobmV3IHQuRXJyb3JFdmVudChpKSk6biYmKGUuaW1hZ2U9dC5icm93c2VyLmdldEltYWdlRGF0YShuKSxlLl9maW5pc2hMb2FkaW5nKCkpO30pO30saS5wcm90b3R5cGUuX2ZpbmlzaExvYWRpbmc9ZnVuY3Rpb24oKXt0aGlzLm1hcCYmKHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5jb29yZGluYXRlcyksdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSk7fSxpLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcD10LHRoaXMubG9hZCgpO30saS5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSl7dGhpcy5jb29yZGluYXRlcz1lO3ZhciBpPXRoaXMubWFwLG49ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGkudHJhbnNmb3JtLmxvY2F0aW9uQ29vcmRpbmF0ZShVLmNvbnZlcnQodCkpLnpvb21UbygwKX0pLG89dGhpcy5jZW50ZXJDb29yZD10LmdldENvb3JkaW5hdGVzQ2VudGVyKG4pO28uY29sdW1uPU1hdGguZmxvb3Ioby5jb2x1bW4pLG8ucm93PU1hdGguZmxvb3Ioby5yb3cpLHRoaXMudGlsZUlEPW5ldyB0LkNhbm9uaWNhbFRpbGVJRChvLnpvb20sby5jb2x1bW4sby5yb3cpLHRoaXMubWluem9vbT10aGlzLm1heHpvb209by56b29tO3ZhciByPW4ubWFwKGZ1bmN0aW9uKGUpe3ZhciBpPWUuem9vbVRvKG8uem9vbSk7cmV0dXJuIG5ldyB0LlBvaW50KE1hdGgucm91bmQoKGkuY29sdW1uLW8uY29sdW1uKSp0LkVYVEVOVCksTWF0aC5yb3VuZCgoaS5yb3ctby5yb3cpKnQuRVhURU5UKSl9KTtyZXR1cm4gdGhpcy5fYm91bmRzQXJyYXk9bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQ0aTgsdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2soclswXS54LHJbMF0ueSwwLDApLHRoaXMuX2JvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHJbMV0ueCxyWzFdLnksdC5FWFRFTlQsMCksdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2soclszXS54LHJbM10ueSwwLHQuRVhURU5UKSx0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayhyWzJdLngsclsyXS55LHQuRVhURU5ULHQuRVhURU5UKSx0aGlzLmJvdW5kc0J1ZmZlciYmKHRoaXMuYm91bmRzQnVmZmVyLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5ib3VuZHNCdWZmZXIpLHRoaXMuZmlyZShuZXcgdC5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSx0aGlzfSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7aWYoMCE9PU9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aCYmdGhpcy5pbWFnZSl7dmFyIGU9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0LGk9ZS5nbDtmb3IodmFyIG4gaW4gdGhpcy5ib3VuZHNCdWZmZXJ8fCh0aGlzLmJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLl9ib3VuZHNBcnJheSx0LnJhc3RlckJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycykpLHRoaXMuYm91bmRzU2VnbWVudHN8fCh0aGlzLmJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpKSx0aGlzLnRleHR1cmV8fCh0aGlzLnRleHR1cmU9bmV3IHQuVGV4dHVyZShlLHRoaXMuaW1hZ2UsaS5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpKSx0aGlzLnRpbGVzKXt2YXIgbz10aGlzLnRpbGVzW25dO1wibG9hZGVkXCIhPT1vLnN0YXRlJiYoby5zdGF0ZT1cImxvYWRlZFwiLG8udGV4dHVyZT10aGlzLnRleHR1cmUpO319fSxpLnByb3RvdHlwZS5sb2FkVGlsZT1mdW5jdGlvbih0LGUpe3RoaXMudGlsZUlEJiZ0aGlzLnRpbGVJRC5lcXVhbHModC50aWxlSUQuY2Fub25pY2FsKT8odGhpcy50aWxlc1tTdHJpbmcodC50aWxlSUQud3JhcCldPXQsdC5idWNrZXRzPXt9LGUobnVsbCkpOih0LnN0YXRlPVwiZXJyb3JlZFwiLGUobnVsbCkpO30saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHt0eXBlOlwiaW1hZ2VcIix1cmw6dGhpcy5vcHRpb25zLnVybCxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiAhMX0saX0odC5FdmVudGVkKSxYPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkodCxpLG4sbyl7ZS5jYWxsKHRoaXMsdCxpLG4sbyksdGhpcy5yb3VuZFpvb209ITAsdGhpcy50eXBlPVwidmlkZW9cIix0aGlzLm9wdGlvbnM9aTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGk9dGhpcy5vcHRpb25zO3RoaXMudXJscz1bXTtmb3IodmFyIG49MCxvPWkudXJscztuPG8ubGVuZ3RoO24rPTEpe3ZhciByPW9bbl07ZS51cmxzLnB1c2goZS5tYXAuX3RyYW5zZm9ybVJlcXVlc3Qocix0LlJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7fXQuZ2V0VmlkZW8odGhpcy51cmxzLGZ1bmN0aW9uKGksbil7aT9lLmZpcmUobmV3IHQuRXJyb3JFdmVudChpKSk6biYmKGUudmlkZW89bixlLnZpZGVvLmxvb3A9ITAsZS52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLGZ1bmN0aW9uKCl7ZS5tYXAuX3JlcmVuZGVyKCk7fSksZS5tYXAmJmUudmlkZW8ucGxheSgpLGUuX2ZpbmlzaExvYWRpbmcoKSk7fSk7fSxpLnByb3RvdHlwZS5nZXRWaWRlbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvfSxpLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcHx8KHRoaXMubWFwPXQsdGhpcy5sb2FkKCksdGhpcy52aWRlbyYmKHRoaXMudmlkZW8ucGxheSgpLHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5jb29yZGluYXRlcykpKTt9LGkucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXtpZighKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGh8fHRoaXMudmlkZW8ucmVhZHlTdGF0ZTwyKSl7dmFyIGU9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0LGk9ZS5nbDtmb3IodmFyIG4gaW4gdGhpcy5ib3VuZHNCdWZmZXJ8fCh0aGlzLmJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLl9ib3VuZHNBcnJheSx0LnJhc3RlckJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycykpLHRoaXMuYm91bmRzU2VnbWVudHN8fCh0aGlzLmJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpKSx0aGlzLnRleHR1cmU/dGhpcy52aWRlby5wYXVzZWR8fCh0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpLGkudGV4U3ViSW1hZ2UyRChpLlRFWFRVUkVfMkQsMCwwLDAsaS5SR0JBLGkuVU5TSUdORURfQllURSx0aGlzLnZpZGVvKSk6KHRoaXMudGV4dHVyZT1uZXcgdC5UZXh0dXJlKGUsdGhpcy52aWRlbyxpLlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSkpLHRoaXMudGlsZXMpe3ZhciBvPXRoaXMudGlsZXNbbl07XCJsb2FkZWRcIiE9PW8uc3RhdGUmJihvLnN0YXRlPVwibG9hZGVkXCIsby50ZXh0dXJlPXRoaXMudGV4dHVyZSk7fX19LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB7dHlwZTpcInZpZGVvXCIsdXJsczp0aGlzLnVybHMsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWRlbyYmIXRoaXMudmlkZW8ucGF1c2VkfSxpfShXKSxIPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoaSxuLG8scil7ZS5jYWxsKHRoaXMsaSxuLG8sciksbi5jb29yZGluYXRlcz9BcnJheS5pc0FycmF5KG4uY29vcmRpbmF0ZXMpJiY0PT09bi5jb29yZGluYXRlcy5sZW5ndGgmJiFuLmNvb3JkaW5hdGVzLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuICFBcnJheS5pc0FycmF5KHQpfHwyIT09dC5sZW5ndGh8fHQuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gXCJudW1iZXJcIiE9dHlwZW9mIHR9KX0pfHx0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgdC5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK2ksbnVsbCwnXCJjb29yZGluYXRlc1wiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIraSxudWxsLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiY29vcmRpbmF0ZXNcIicpKSksbi5hbmltYXRlJiZcImJvb2xlYW5cIiE9dHlwZW9mIG4uYW5pbWF0ZSYmdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKFwic291cmNlcy5cIitpLG51bGwsJ29wdGlvbmFsIFwiYW5pbWF0ZVwiIHByb3BlcnR5IG11c3QgYmUgYSBib29sZWFuIHZhbHVlJykpKSxuLmNhbnZhcz9cInN0cmluZ1wiPT10eXBlb2Ygbi5jYW52YXN8fG4uY2FudmFzIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnR8fHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIraSxudWxsLCdcImNhbnZhc1wiIG11c3QgYmUgZWl0aGVyIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgSUQgb2YgdGhlIGNhbnZhcyBlbGVtZW50IGZyb20gd2hpY2ggdG8gcmVhZCwgb3IgYW4gSFRNTENhbnZhc0VsZW1lbnQgaW5zdGFuY2UnKSkpOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIraSxudWxsLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiY2FudmFzXCInKSkpLHRoaXMub3B0aW9ucz1uLHRoaXMuYW5pbWF0ZT12b2lkIDA9PT1uLmFuaW1hdGV8fG4uYW5pbWF0ZTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzPXRoaXMub3B0aW9ucy5jYW52YXMgaW5zdGFuY2VvZiB0LndpbmRvdy5IVE1MQ2FudmFzRWxlbWVudD90aGlzLm9wdGlvbnMuY2FudmFzOnQud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub3B0aW9ucy5jYW52YXMpKSx0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodCx0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpP3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkNhbnZhcyBkaW1lbnNpb25zIGNhbm5vdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVyby5cIikpKToodGhpcy5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZz0hMCx0aGlzLm1hcC5fcmVyZW5kZXIoKTt9LHRoaXMucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nPSExO30sdGhpcy5fZmluaXNoTG9hZGluZygpKTt9LGkucHJvdG90eXBlLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZSgpO30saS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbigpe3ZhciBlPSExO2lmKHRoaXMuY2FudmFzLndpZHRoIT09dGhpcy53aWR0aCYmKHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsZT0hMCksdGhpcy5jYW52YXMuaGVpZ2h0IT09dGhpcy5oZWlnaHQmJih0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsZT0hMCksIXRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkmJjAhPT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpe3ZhciBpPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxuPWkuZ2w7Zm9yKHZhciBvIGluIHRoaXMuYm91bmRzQnVmZmVyfHwodGhpcy5ib3VuZHNCdWZmZXI9aS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksdC5yYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpKSx0aGlzLmJvdW5kc1NlZ21lbnRzfHwodGhpcy5ib3VuZHNTZWdtZW50cz10LlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKSksdGhpcy50ZXh0dXJlP2U/dGhpcy50ZXh0dXJlLnVwZGF0ZSh0aGlzLmNhbnZhcyk6dGhpcy5fcGxheWluZyYmKHRoaXMudGV4dHVyZS5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSksbi50ZXhTdWJJbWFnZTJEKG4uVEVYVFVSRV8yRCwwLDAsMCxuLlJHQkEsbi5VTlNJR05FRF9CWVRFLHRoaXMuY2FudmFzKSk6KHRoaXMudGV4dHVyZT1uZXcgdC5UZXh0dXJlKGksdGhpcy5jYW52YXMsbi5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChuLkxJTkVBUixuLkNMQU1QX1RPX0VER0UpKSx0aGlzLnRpbGVzKXt2YXIgcj10aGlzLnRpbGVzW29dO1wibG9hZGVkXCIhPT1yLnN0YXRlJiYoci5zdGF0ZT1cImxvYWRlZFwiLHIudGV4dHVyZT10aGlzLnRleHR1cmUpO319fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6XCJjYW52YXNcIixjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbGF5aW5nfSxpLnByb3RvdHlwZS5faGFzSW52YWxpZERpbWVuc2lvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPVt0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHRdO3Q8ZS5sZW5ndGg7dCs9MSl7dmFyIGk9ZVt0XTtpZihpc05hTihpKXx8aTw9MClyZXR1cm4gITB9cmV0dXJuICExfSxpfShXKSxLPXt2ZWN0b3I6cSxyYXN0ZXI6VixcInJhc3Rlci1kZW1cIjpqLGdlb2pzb246Ryx2aWRlbzpYLGltYWdlOlcsY2FudmFzOkh9LFk9ZnVuY3Rpb24oZSxpLG4sbyl7dmFyIHI9bmV3IEtbaS50eXBlXShlLGksbixvKTtpZihyLmlkIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBTb3VyY2UgaWQgdG8gYmUgXCIrZStcIiBpbnN0ZWFkIG9mIFwiK3IuaWQpO3JldHVybiB0LmJpbmRBbGwoW1wibG9hZFwiLFwiYWJvcnRcIixcInVubG9hZFwiLFwic2VyaWFsaXplXCIsXCJwcmVwYXJlXCJdLHIpLHJ9O2Z1bmN0aW9uIEoodCxlLGksbixvKXt2YXIgcj1vLm1heFBpdGNoU2NhbGVGYWN0b3IoKSxhPXQudGlsZXNJbihpLHIpO2Euc29ydChRKTtmb3IodmFyIHM9W10sbD0wLGM9YTtsPGMubGVuZ3RoO2wrPTEpe3ZhciBoPWNbbF07cy5wdXNoKHt3cmFwcGVkVGlsZUlEOmgudGlsZUlELndyYXBwZWQoKS5rZXkscXVlcnlSZXN1bHRzOmgudGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZSx0Ll9zdGF0ZSxoLnF1ZXJ5R2VvbWV0cnksaC5zY2FsZSxuLG8scix0LnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoaC50aWxlSUQudG9VbndyYXBwZWQoKSkpfSk7fXZhciB1PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxpPXt9LG49MCxvPXQ7bjxvLmxlbmd0aDtuKz0xKXt2YXIgcj1vW25dLGE9ci5xdWVyeVJlc3VsdHMscz1yLndyYXBwZWRUaWxlSUQsbD1pW3NdPWlbc118fHt9O2Zvcih2YXIgYyBpbiBhKWZvcih2YXIgaD1hW2NdLHU9bFtjXT1sW2NdfHx7fSxwPWVbY109ZVtjXXx8W10sZD0wLF89aDtkPF8ubGVuZ3RoO2QrPTEpe3ZhciBmPV9bZF07dVtmLmZlYXR1cmVJbmRleF18fCh1W2YuZmVhdHVyZUluZGV4XT0hMCxwLnB1c2goZi5mZWF0dXJlKSk7fX1yZXR1cm4gZX0ocyk7Zm9yKHZhciBwIGluIHUpdVtwXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPXQuZ2V0RmVhdHVyZVN0YXRlKGUubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0sZS5pZCk7ZS5zb3VyY2U9ZS5sYXllci5zb3VyY2UsZS5sYXllcltcInNvdXJjZS1sYXllclwiXSYmKGUuc291cmNlTGF5ZXI9ZS5sYXllcltcInNvdXJjZS1sYXllclwiXSksZS5zdGF0ZT1pO30pO3JldHVybiB1fWZ1bmN0aW9uIFEodCxlKXt2YXIgaT10LnRpbGVJRCxuPWUudGlsZUlEO3JldHVybiBpLm92ZXJzY2FsZWRaLW4ub3ZlcnNjYWxlZFp8fGkuY2Fub25pY2FsLnktbi5jYW5vbmljYWwueXx8aS53cmFwLW4ud3JhcHx8aS5jYW5vbmljYWwueC1uLmNhbm9uaWNhbC54fXZhciAkPWZ1bmN0aW9uKHQsZSl7dGhpcy5tYXg9dCx0aGlzLm9uUmVtb3ZlPWUsdGhpcy5yZXNldCgpO307JC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5kYXRhKWZvcih2YXIgZT0wLGk9dGhpcy5kYXRhW3RdO2U8aS5sZW5ndGg7ZSs9MSl7dmFyIG49aVtlXTtuLnRpbWVvdXQmJmNsZWFyVGltZW91dChuLnRpbWVvdXQpLHRoaXMub25SZW1vdmUobi52YWx1ZSk7fXJldHVybiB0aGlzLmRhdGE9e30sdGhpcy5vcmRlcj1bXSx0aGlzfSwkLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMsbz10LndyYXBwZWQoKS5rZXk7dm9pZCAwPT09dGhpcy5kYXRhW29dJiYodGhpcy5kYXRhW29dPVtdKTt2YXIgcj17dmFsdWU6ZSx0aW1lb3V0OnZvaWQgMH07aWYodm9pZCAwIT09aSYmKHIudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5yZW1vdmUodCxyKTt9LGkpKSx0aGlzLmRhdGFbb10ucHVzaChyKSx0aGlzLm9yZGVyLnB1c2gobyksdGhpcy5vcmRlci5sZW5ndGg+dGhpcy5tYXgpe3ZhciBhPXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO2EmJnRoaXMub25SZW1vdmUoYSk7fXJldHVybiB0aGlzfSwkLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQud3JhcHBlZCgpLmtleSBpbiB0aGlzLmRhdGF9LCQucHJvdG90eXBlLmdldEFuZFJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCk/dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkodC53cmFwcGVkKCkua2V5KTpudWxsfSwkLnByb3RvdHlwZS5fZ2V0QW5kUmVtb3ZlQnlLZXk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhW3RdLnNoaWZ0KCk7cmV0dXJuIGUudGltZW91dCYmY2xlYXJUaW1lb3V0KGUudGltZW91dCksMD09PXRoaXMuZGF0YVt0XS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmRhdGFbdF0sdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKHQpLDEpLGUudmFsdWV9LCQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCk/dGhpcy5kYXRhW3Qud3JhcHBlZCgpLmtleV1bMF0udmFsdWU6bnVsbH0sJC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuaGFzKHQpKXJldHVybiB0aGlzO3ZhciBpPXQud3JhcHBlZCgpLmtleSxuPXZvaWQgMD09PWU/MDp0aGlzLmRhdGFbaV0uaW5kZXhPZihlKSxvPXRoaXMuZGF0YVtpXVtuXTtyZXR1cm4gdGhpcy5kYXRhW2ldLnNwbGljZShuLDEpLG8udGltZW91dCYmY2xlYXJUaW1lb3V0KG8udGltZW91dCksMD09PXRoaXMuZGF0YVtpXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmRhdGFbaV0sdGhpcy5vblJlbW92ZShvLnZhbHVlKSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YoaSksMSksdGhpc30sJC5wcm90b3R5cGUuc2V0TWF4U2l6ZT1mdW5jdGlvbih0KXtmb3IodGhpcy5tYXg9dDt0aGlzLm9yZGVyLmxlbmd0aD50aGlzLm1heDspe3ZhciBlPXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO2UmJnRoaXMub25SZW1vdmUoZSk7fXJldHVybiB0aGlzfTt2YXIgdHQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMuY29udGV4dD10O3ZhciBuPXQuZ2w7dGhpcy5idWZmZXI9bi5jcmVhdGVCdWZmZXIoKSx0aGlzLmR5bmFtaWNEcmF3PUJvb2xlYW4oaSksdGhpcy51bmJpbmRWQU8oKSx0LmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciksbi5idWZmZXJEYXRhKG4uRUxFTUVOVF9BUlJBWV9CVUZGRVIsZS5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P24uRFlOQU1JQ19EUkFXOm4uU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fGRlbGV0ZSBlLmFycmF5QnVmZmVyO307dHQucHJvdG90eXBlLnVuYmluZFZBTz1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCYmdGhpcy5jb250ZXh0LmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQobnVsbCk7fSx0dC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO30sdHQucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3RoaXMudW5iaW5kVkFPKCksdGhpcy5iaW5kKCksZS5idWZmZXJTdWJEYXRhKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsMCx0LmFycmF5QnVmZmVyKTt9LHR0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuYnVmZmVyJiYodC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcik7fTt2YXIgZXQ9e0ludDg6XCJCWVRFXCIsVWludDg6XCJVTlNJR05FRF9CWVRFXCIsSW50MTY6XCJTSE9SVFwiLFVpbnQxNjpcIlVOU0lHTkVEX1NIT1JUXCIsSW50MzI6XCJJTlRcIixVaW50MzI6XCJVTlNJR05FRF9JTlRcIixGbG9hdDMyOlwiRkxPQVRcIn0saXQ9ZnVuY3Rpb24odCxlLGksbil7dGhpcy5sZW5ndGg9ZS5sZW5ndGgsdGhpcy5hdHRyaWJ1dGVzPWksdGhpcy5pdGVtU2l6ZT1lLmJ5dGVzUGVyRWxlbWVudCx0aGlzLmR5bmFtaWNEcmF3PW4sdGhpcy5jb250ZXh0PXQ7dmFyIG89dC5nbDt0aGlzLmJ1ZmZlcj1vLmNyZWF0ZUJ1ZmZlcigpLHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLG8uYnVmZmVyRGF0YShvLkFSUkFZX0JVRkZFUixlLmFycmF5QnVmZmVyLHRoaXMuZHluYW1pY0RyYXc/by5EWU5BTUlDX0RSQVc6by5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljRHJhd3x8ZGVsZXRlIGUuYXJyYXlCdWZmZXI7fTtpdC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7fSxpdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5iaW5kKCksZS5idWZmZXJTdWJEYXRhKGUuQVJSQVlfQlVGRkVSLDAsdC5hcnJheUJ1ZmZlcik7fSxpdC5wcm90b3R5cGUuZW5hYmxlQXR0cmlidXRlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuYXR0cmlidXRlc1tpXSxvPWUuYXR0cmlidXRlc1tuLm5hbWVdO3ZvaWQgMCE9PW8mJnQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobyk7fX0saXQucHJvdG90eXBlLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49MDtuPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7bisrKXt2YXIgbz10aGlzLmF0dHJpYnV0ZXNbbl0scj1lLmF0dHJpYnV0ZXNbby5uYW1lXTt2b2lkIDAhPT1yJiZ0LnZlcnRleEF0dHJpYlBvaW50ZXIocixvLmNvbXBvbmVudHMsdFtldFtvLnR5cGVdXSwhMSx0aGlzLml0ZW1TaXplLG8ub2Zmc2V0K3RoaXMuaXRlbVNpemUqKGl8fDApKTt9fSxpdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGV4dC5nbDt0aGlzLmJ1ZmZlciYmKHQuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKSxkZWxldGUgdGhpcy5idWZmZXIpO307dmFyIG50PWZ1bmN0aW9uKGUpe3RoaXMuY29udGV4dD1lLHRoaXMuY3VycmVudD10LkNvbG9yLnRyYW5zcGFyZW50O307bnQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LG50LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50O3Qucj09PWUuciYmdC5nPT09ZS5nJiZ0LmI9PT1lLmImJnQuYT09PWUuYXx8KHRoaXMuY29udGV4dC5nbC5jbGVhckNvbG9yKHQucix0LmcsdC5iLHQuYSksdGhpcy5jdXJyZW50PXQpO307dmFyIG90PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dD10LHRoaXMuY3VycmVudD0xO307b3QucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LG90LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50IT09dCYmKHRoaXMuY29udGV4dC5nbC5jbGVhckRlcHRoKHQpLHRoaXMuY3VycmVudD10KTt9O3ZhciBydD1mdW5jdGlvbih0KXt0aGlzLmNvbnRleHQ9dCx0aGlzLmN1cnJlbnQ9MDt9O3J0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxydC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudCE9PXQmJih0aGlzLmNvbnRleHQuZ2wuY2xlYXJTdGVuY2lsKHQpLHRoaXMuY3VycmVudD10KTt9O3ZhciBhdD1mdW5jdGlvbih0KXt0aGlzLmNvbnRleHQ9dCx0aGlzLmN1cnJlbnQ9WyEwLCEwLCEwLCEwXTt9O2F0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxhdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudDt0WzBdPT09ZVswXSYmdFsxXT09PWVbMV0mJnRbMl09PT1lWzJdJiZ0WzNdPT09ZVszXXx8KHRoaXMuY29udGV4dC5nbC5jb2xvck1hc2sodFswXSx0WzFdLHRbMl0sdFszXSksdGhpcy5jdXJyZW50PXQpO307dmFyIHN0PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dD10LHRoaXMuY3VycmVudD0hMDt9O3N0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxzdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudCE9PXQmJih0aGlzLmNvbnRleHQuZ2wuZGVwdGhNYXNrKHQpLHRoaXMuY3VycmVudD10KTt9O3ZhciBsdD1mdW5jdGlvbih0KXt0aGlzLmNvbnRleHQ9dCx0aGlzLmN1cnJlbnQ9MjU1O307bHQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LGx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50IT09dCYmKHRoaXMuY29udGV4dC5nbC5zdGVuY2lsTWFzayh0KSx0aGlzLmN1cnJlbnQ9dCk7fTt2YXIgY3Q9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQsdGhpcy5jdXJyZW50PXtmdW5jOnQuZ2wuQUxXQVlTLHJlZjowLG1hc2s6MjU1fTt9O2N0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxjdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudDt0LmZ1bmM9PT1lLmZ1bmMmJnQucmVmPT09ZS5yZWYmJnQubWFzaz09PWUubWFza3x8KHRoaXMuY29udGV4dC5nbC5zdGVuY2lsRnVuYyh0LmZ1bmMsdC5yZWYsdC5tYXNrKSx0aGlzLmN1cnJlbnQ9dCk7fTt2YXIgaHQ9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQ7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3RoaXMuY3VycmVudD1bZS5LRUVQLGUuS0VFUCxlLktFRVBdO307aHQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LGh0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50O3RbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXSYmdFsyXT09PWVbMl18fCh0aGlzLmNvbnRleHQuZ2wuc3RlbmNpbE9wKHRbMF0sdFsxXSx0WzJdKSx0aGlzLmN1cnJlbnQ9dCk7fTt2YXIgdXQ9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQsdGhpcy5jdXJyZW50PSExO307dXQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LHV0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5jdXJyZW50IT09dCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3Q/ZS5lbmFibGUoZS5TVEVOQ0lMX1RFU1QpOmUuZGlzYWJsZShlLlNURU5DSUxfVEVTVCksdGhpcy5jdXJyZW50PXQ7fX07dmFyIHB0PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dD10LHRoaXMuY3VycmVudD1bMCwxXTt9O3B0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxwdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudDt0WzBdPT09ZVswXSYmdFsxXT09PWVbMV18fCh0aGlzLmNvbnRleHQuZ2wuZGVwdGhSYW5nZSh0WzBdLHRbMV0pLHRoaXMuY3VycmVudD10KTt9O3ZhciBkdD1mdW5jdGlvbih0KXt0aGlzLmNvbnRleHQ9dCx0aGlzLmN1cnJlbnQ9ITE7fTtkdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudH0sZHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0aGlzLmN1cnJlbnQhPT10KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dD9lLmVuYWJsZShlLkRFUFRIX1RFU1QpOmUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLHRoaXMuY3VycmVudD10O319O3ZhciBfdD1mdW5jdGlvbih0KXt0aGlzLmNvbnRleHQ9dCx0aGlzLmN1cnJlbnQ9dC5nbC5MRVNTO307X3QucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LF90LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50IT09dCYmKHRoaXMuY29udGV4dC5nbC5kZXB0aEZ1bmModCksdGhpcy5jdXJyZW50PXQpO307dmFyIGZ0PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dD10LHRoaXMuY3VycmVudD0hMTt9O2Z0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxmdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuY3VycmVudCE9PXQpe3ZhciBlPXRoaXMuY29udGV4dC5nbDt0P2UuZW5hYmxlKGUuQkxFTkQpOmUuZGlzYWJsZShlLkJMRU5EKSx0aGlzLmN1cnJlbnQ9dDt9fTt2YXIgbXQ9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQ7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3RoaXMuY3VycmVudD1bZS5PTkUsZS5aRVJPXTt9O210LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxtdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudDt0WzBdPT09ZVswXSYmdFsxXT09PWVbMV18fCh0aGlzLmNvbnRleHQuZ2wuYmxlbmRGdW5jKHRbMF0sdFsxXSksdGhpcy5jdXJyZW50PXQpO307dmFyIGd0PWZ1bmN0aW9uKGUpe3RoaXMuY29udGV4dD1lLHRoaXMuY3VycmVudD10LkNvbG9yLnRyYW5zcGFyZW50O307Z3QucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LGd0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50O3Qucj09PWUuciYmdC5nPT09ZS5nJiZ0LmI9PT1lLmImJnQuYT09PWUuYXx8KHRoaXMuY29udGV4dC5nbC5ibGVuZENvbG9yKHQucix0LmcsdC5iLHQuYSksdGhpcy5jdXJyZW50PXQpO307dmFyIHZ0PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dD10LHRoaXMuY3VycmVudD1udWxsO307dnQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LHZ0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50IT09dCYmKHRoaXMuY29udGV4dC5nbC51c2VQcm9ncmFtKHQpLHRoaXMuY3VycmVudD10KTt9O3ZhciB5dD1mdW5jdGlvbih0KXt0aGlzLmNvbnRleHQ9dCx0aGlzLmN1cnJlbnQ9dC5nbC5URVhUVVJFMDt9O3l0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSx5dC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudCE9PXQmJih0aGlzLmNvbnRleHQuZ2wuYWN0aXZlVGV4dHVyZSh0KSx0aGlzLmN1cnJlbnQ9dCk7fTt2YXIgeHQ9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQ7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3RoaXMuY3VycmVudD1bMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodF07fTt4dC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudH0seHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnQ7dFswXT09PWVbMF0mJnRbMV09PT1lWzFdJiZ0WzJdPT09ZVsyXSYmdFszXT09PWVbM118fCh0aGlzLmNvbnRleHQuZ2wudmlld3BvcnQodFswXSx0WzFdLHRbMl0sdFszXSksdGhpcy5jdXJyZW50PXQpO307dmFyIGJ0PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dD10LHRoaXMuY3VycmVudD1udWxsO307YnQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LGJ0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5jdXJyZW50IT09dCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO2UuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsdCksdGhpcy5jdXJyZW50PXQ7fX07dmFyIHd0PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dD10LHRoaXMuY3VycmVudD1udWxsO307d3QucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LHd0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5jdXJyZW50IT09dCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO2UuYmluZFJlbmRlcmJ1ZmZlcihlLlJFTkRFUkJVRkZFUix0KSx0aGlzLmN1cnJlbnQ9dDt9fTt2YXIgRXQ9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQsdGhpcy5jdXJyZW50PW51bGw7fTtFdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudH0sRXQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0aGlzLmN1cnJlbnQhPT10KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7ZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdCksdGhpcy5jdXJyZW50PXQ7fX07dmFyIFR0PWZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dD10LHRoaXMuY3VycmVudD1udWxsO307VHQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LFR0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5jdXJyZW50IT09dCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO2UuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0KSx0aGlzLmN1cnJlbnQ9dDt9fTt2YXIgU3Q9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQsdGhpcy5jdXJyZW50PW51bGw7fTtTdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudH0sU3QucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7ZS5iaW5kQnVmZmVyKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdCksdGhpcy5jdXJyZW50PXQ7fTt2YXIgSXQ9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQsdGhpcy5jdXJyZW50PW51bGw7fTtJdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudH0sSXQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnQhPT10JiZ0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QmJih0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuYmluZFZlcnRleEFycmF5T0VTKHQpLHRoaXMuY3VycmVudD10KTt9O3ZhciBDdD1mdW5jdGlvbih0KXt0aGlzLmNvbnRleHQ9dCx0aGlzLmN1cnJlbnQ9NDt9O0N0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fSxDdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuY3VycmVudCE9PXQpe3ZhciBlPXRoaXMuY29udGV4dC5nbDtlLnBpeGVsU3RvcmVpKGUuVU5QQUNLX0FMSUdOTUVOVCx0KSx0aGlzLmN1cnJlbnQ9dDt9fTt2YXIgenQ9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQsdGhpcy5jdXJyZW50PSExO307enQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LHp0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5jdXJyZW50IT09dCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO2UucGl4ZWxTdG9yZWkoZS5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsdCksdGhpcy5jdXJyZW50PXQ7fX07dmFyIFB0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jb250ZXh0PXQsdGhpcy5jdXJyZW50PW51bGwsdGhpcy5wYXJlbnQ9ZTt9O1B0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50fTt2YXIgUnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3QuY2FsbCh0aGlzLGUsaSksdGhpcy5kaXJ0eT0hMTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0aGlzLmRpcnR5fHx0aGlzLmN1cnJlbnQhPT10KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpLGUuZnJhbWVidWZmZXJUZXh0dXJlMkQoZS5GUkFNRUJVRkZFUixlLkNPTE9SX0FUVEFDSE1FTlQwLGUuVEVYVFVSRV8yRCx0LDApLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZS5wcm90b3R5cGUuc2V0RGlydHk9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5PSEwO30sZX0oUHQpLEF0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0aGlzLmN1cnJlbnQhPT10KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpLGUuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZS5GUkFNRUJVRkZFUixlLkRFUFRIX0FUVEFDSE1FTlQsZS5SRU5ERVJCVUZGRVIsdCksdGhpcy5jdXJyZW50PXQ7fX0sZX0oUHQpLEx0PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNvbnRleHQ9dCx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9aTt2YXIgbj10LmdsLG89dGhpcy5mcmFtZWJ1ZmZlcj1uLmNyZWF0ZUZyYW1lYnVmZmVyKCk7dGhpcy5jb2xvckF0dGFjaG1lbnQ9bmV3IFJ0KHQsbyksdGhpcy5kZXB0aEF0dGFjaG1lbnQ9bmV3IEF0KHQsbyk7fTtMdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGV4dC5nbCxlPXRoaXMuY29sb3JBdHRhY2htZW50LmdldCgpO2UmJnQuZGVsZXRlVGV4dHVyZShlKTt2YXIgaT10aGlzLmRlcHRoQXR0YWNobWVudC5nZXQoKTtpJiZ0LmRlbGV0ZVJlbmRlcmJ1ZmZlcihpKSx0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO307dmFyIER0PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmZ1bmM9dCx0aGlzLm1hc2s9ZSx0aGlzLnJhbmdlPWk7fTtEdC5SZWFkT25seT0hMSxEdC5SZWFkV3JpdGU9ITAsRHQuZGlzYWJsZWQ9bmV3IER0KDUxOSxEdC5SZWFkT25seSxbMCwxXSk7dmFyIE10PWZ1bmN0aW9uKHQsZSxpLG4sbyxyKXt0aGlzLnRlc3Q9dCx0aGlzLnJlZj1lLHRoaXMubWFzaz1pLHRoaXMuZmFpbD1uLHRoaXMuZGVwdGhGYWlsPW8sdGhpcy5wYXNzPXI7fTtNdC5kaXNhYmxlZD1uZXcgTXQoe2Z1bmM6NTE5LG1hc2s6MH0sMCwwLDc2ODAsNzY4MCw3NjgwKTt2YXIga3Q9ZnVuY3Rpb24odCxlLGkpe3RoaXMuYmxlbmRGdW5jdGlvbj10LHRoaXMuYmxlbmRDb2xvcj1lLHRoaXMubWFzaz1pO307a3QuUmVwbGFjZT1bMSwwXSxrdC5kaXNhYmxlZD1uZXcga3Qoa3QuUmVwbGFjZSx0LkNvbG9yLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMV0pLGt0LnVuYmxlbmRlZD1uZXcga3Qoa3QuUmVwbGFjZSx0LkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pLGt0LmFscGhhQmxlbmRlZD1uZXcga3QoWzEsNzcxXSx0LkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pO3ZhciBCdD1mdW5jdGlvbih0KXt0aGlzLmdsPXQsdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdD10aGlzLmdsLmdldEV4dGVuc2lvbihcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpLHRoaXMuY2xlYXJDb2xvcj1uZXcgbnQodGhpcyksdGhpcy5jbGVhckRlcHRoPW5ldyBvdCh0aGlzKSx0aGlzLmNsZWFyU3RlbmNpbD1uZXcgcnQodGhpcyksdGhpcy5jb2xvck1hc2s9bmV3IGF0KHRoaXMpLHRoaXMuZGVwdGhNYXNrPW5ldyBzdCh0aGlzKSx0aGlzLnN0ZW5jaWxNYXNrPW5ldyBsdCh0aGlzKSx0aGlzLnN0ZW5jaWxGdW5jPW5ldyBjdCh0aGlzKSx0aGlzLnN0ZW5jaWxPcD1uZXcgaHQodGhpcyksdGhpcy5zdGVuY2lsVGVzdD1uZXcgdXQodGhpcyksdGhpcy5kZXB0aFJhbmdlPW5ldyBwdCh0aGlzKSx0aGlzLmRlcHRoVGVzdD1uZXcgZHQodGhpcyksdGhpcy5kZXB0aEZ1bmM9bmV3IF90KHRoaXMpLHRoaXMuYmxlbmQ9bmV3IGZ0KHRoaXMpLHRoaXMuYmxlbmRGdW5jPW5ldyBtdCh0aGlzKSx0aGlzLmJsZW5kQ29sb3I9bmV3IGd0KHRoaXMpLHRoaXMucHJvZ3JhbT1uZXcgdnQodGhpcyksdGhpcy5hY3RpdmVUZXh0dXJlPW5ldyB5dCh0aGlzKSx0aGlzLnZpZXdwb3J0PW5ldyB4dCh0aGlzKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlcj1uZXcgYnQodGhpcyksdGhpcy5iaW5kUmVuZGVyYnVmZmVyPW5ldyB3dCh0aGlzKSx0aGlzLmJpbmRUZXh0dXJlPW5ldyBFdCh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhCdWZmZXI9bmV3IFR0KHRoaXMpLHRoaXMuYmluZEVsZW1lbnRCdWZmZXI9bmV3IFN0KHRoaXMpLHRoaXMuYmluZFZlcnRleEFycmF5T0VTPXRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJm5ldyBJdCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2s9bmV3IEN0KHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE9bmV3IHp0KHRoaXMpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljPXQuZ2V0RXh0ZW5zaW9uKFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHx0LmdldEV4dGVuc2lvbihcIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIil8fHQuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4PXQuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpLHRoaXMuZXh0VGV4dHVyZUhhbGZGbG9hdD10LmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIiksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0JiZ0LmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyXCIpO307QnQucHJvdG90eXBlLmNyZWF0ZUluZGV4QnVmZmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0dCh0aGlzLHQsZSl9LEJ0LnByb3RvdHlwZS5jcmVhdGVWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgaXQodGhpcyx0LGUsaSl9LEJ0LnByb3RvdHlwZS5jcmVhdGVSZW5kZXJidWZmZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuZ2wsbz1uLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG8pLG4ucmVuZGVyYnVmZmVyU3RvcmFnZShuLlJFTkRFUkJVRkZFUix0LGUsaSksdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChudWxsKSxvfSxCdC5wcm90b3R5cGUuY3JlYXRlRnJhbWVidWZmZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEx0KHRoaXMsdCxlKX0sQnQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29sb3IsaT10LmRlcHRoLG49dGhpcy5nbCxvPTA7ZSYmKG98PW4uQ09MT1JfQlVGRkVSX0JJVCx0aGlzLmNsZWFyQ29sb3Iuc2V0KGUpLHRoaXMuY29sb3JNYXNrLnNldChbITAsITAsITAsITBdKSksdm9pZCAwIT09aSYmKG98PW4uREVQVEhfQlVGRkVSX0JJVCx0aGlzLmNsZWFyRGVwdGguc2V0KGkpLHRoaXMuZGVwdGhNYXNrLnNldCghMCkpLG4uY2xlYXIobyk7fSxCdC5wcm90b3R5cGUuc2V0RGVwdGhNb2RlPWZ1bmN0aW9uKHQpe3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHx0Lm1hc2s/KHRoaXMuZGVwdGhUZXN0LnNldCghMCksdGhpcy5kZXB0aEZ1bmMuc2V0KHQuZnVuYyksdGhpcy5kZXB0aE1hc2suc2V0KHQubWFzayksdGhpcy5kZXB0aFJhbmdlLnNldCh0LnJhbmdlKSk6dGhpcy5kZXB0aFRlc3Quc2V0KCExKTt9LEJ0LnByb3RvdHlwZS5zZXRTdGVuY2lsTW9kZT1mdW5jdGlvbih0KXt0LnRlc3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHx0Lm1hc2s/KHRoaXMuc3RlbmNpbFRlc3Quc2V0KCEwKSx0aGlzLnN0ZW5jaWxNYXNrLnNldCh0Lm1hc2spLHRoaXMuc3RlbmNpbE9wLnNldChbdC5mYWlsLHQuZGVwdGhGYWlsLHQucGFzc10pLHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtmdW5jOnQudGVzdC5mdW5jLHJlZjp0LnJlZixtYXNrOnQudGVzdC5tYXNrfSkpOnRoaXMuc3RlbmNpbFRlc3Quc2V0KCExKTt9LEJ0LnByb3RvdHlwZS5zZXRDb2xvck1vZGU9ZnVuY3Rpb24oZSl7dC5kZWVwRXF1YWwoZS5ibGVuZEZ1bmN0aW9uLGt0LlJlcGxhY2UpP3RoaXMuYmxlbmQuc2V0KCExKToodGhpcy5ibGVuZC5zZXQoITApLHRoaXMuYmxlbmRGdW5jLnNldChlLmJsZW5kRnVuY3Rpb24pLHRoaXMuYmxlbmRDb2xvci5zZXQoZS5ibGVuZENvbG9yKSksdGhpcy5jb2xvck1hc2suc2V0KGUubWFzayk7fTt2YXIgT3Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG4sbyl7dmFyIHI9dGhpcztlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMuZGlzcGF0Y2hlcj1vLHRoaXMub24oXCJkYXRhXCIsZnVuY3Rpb24odCl7XCJzb3VyY2VcIj09PXQuZGF0YVR5cGUmJlwibWV0YWRhdGFcIj09PXQuc291cmNlRGF0YVR5cGUmJihyLl9zb3VyY2VMb2FkZWQ9ITApLHIuX3NvdXJjZUxvYWRlZCYmIXIuX3BhdXNlZCYmXCJzb3VyY2VcIj09PXQuZGF0YVR5cGUmJlwiY29udGVudFwiPT09dC5zb3VyY2VEYXRhVHlwZSYmKHIucmVsb2FkKCksci50cmFuc2Zvcm0mJnIudXBkYXRlKHIudHJhbnNmb3JtKSk7fSksdGhpcy5vbihcImVycm9yXCIsZnVuY3Rpb24oKXtyLl9zb3VyY2VFcnJvcmVkPSEwO30pLHRoaXMuX3NvdXJjZT1ZKGksbixvLHRoaXMpLHRoaXMuX3RpbGVzPXt9LHRoaXMuX2NhY2hlPW5ldyAkKDAsdGhpcy5fdW5sb2FkVGlsZS5iaW5kKHRoaXMpKSx0aGlzLl90aW1lcnM9e30sdGhpcy5fY2FjaGVUaW1lcnM9e30sdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZT1udWxsLHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLl9zdGF0ZT1uZXcgdC5Tb3VyY2VGZWF0dXJlU3RhdGU7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcD10LHRoaXMuX21heFRpbGVDYWNoZVNpemU9dD90Ll9tYXhUaWxlQ2FjaGVTaXplOm51bGwsdGhpcy5fc291cmNlJiZ0aGlzLl9zb3VyY2Uub25BZGQmJnRoaXMuX3NvdXJjZS5vbkFkZCh0KTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuX3NvdXJjZSYmdGhpcy5fc291cmNlLm9uUmVtb3ZlJiZ0aGlzLl9zb3VyY2Uub25SZW1vdmUodCk7fSxpLnByb3RvdHlwZS5sb2FkZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2VFcnJvcmVkKXJldHVybiAhMDtpZighdGhpcy5fc291cmNlTG9hZGVkKXJldHVybiAhMTtmb3IodmFyIHQgaW4gdGhpcy5fdGlsZXMpe3ZhciBlPXRoaXMuX3RpbGVzW3RdO2lmKFwibG9hZGVkXCIhPT1lLnN0YXRlJiZcImVycm9yZWRcIiE9PWUuc3RhdGUpcmV0dXJuICExfXJldHVybiAhMH0saS5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX0saS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWQ9ITA7fSxpLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtpZih0aGlzLl9wYXVzZWQpe3ZhciB0PXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO3RoaXMuX3BhdXNlZD0hMSx0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0JiZ0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7fX0saS5wcm90b3R5cGUuX2xvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3NvdXJjZS5sb2FkVGlsZSh0LGUpfSxpLnByb3RvdHlwZS5fdW5sb2FkVGlsZT1mdW5jdGlvbih0KXtpZih0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUodCxmdW5jdGlvbigpe30pfSxpLnByb3RvdHlwZS5fYWJvcnRUaWxlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUpcmV0dXJuIHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUodCxmdW5jdGlvbigpe30pfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlLnNlcmlhbGl6ZSgpfSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLl9zb3VyY2UucHJlcGFyZSYmdGhpcy5fc291cmNlLnByZXBhcmUoKSx0aGlzLl9zdGF0ZS5jb2FsZXNjZUNoYW5nZXModGhpcy5fdGlsZXMsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl90aWxlcyl0aGlzLl90aWxlc1tlXS51cGxvYWQodCk7fSxpLnByb3RvdHlwZS5nZXRJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5fdGlsZXMpLm1hcChOdW1iZXIpLnNvcnQoVXQpfSxpLnByb3RvdHlwZS5nZXRSZW5kZXJhYmxlSWRzPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMsbj1bXTtmb3IodmFyIG8gaW4gaS5fdGlsZXMpaS5faXNJZFJlbmRlcmFibGUoK28sZSkmJm4ucHVzaCgrbyk7cmV0dXJuIGU/bi5zb3J0KGZ1bmN0aW9uKGUsbil7dmFyIG89aS5fdGlsZXNbZV0udGlsZUlELHI9aS5fdGlsZXNbbl0udGlsZUlELGE9bmV3IHQuUG9pbnQoby5jYW5vbmljYWwueCxvLmNhbm9uaWNhbC55KS5fcm90YXRlKGkudHJhbnNmb3JtLmFuZ2xlKSxzPW5ldyB0LlBvaW50KHIuY2Fub25pY2FsLngsci5jYW5vbmljYWwueSkuX3JvdGF0ZShpLnRyYW5zZm9ybS5hbmdsZSk7cmV0dXJuIG8ub3ZlcnNjYWxlZFotci5vdmVyc2NhbGVkWnx8cy55LWEueXx8cy54LWEueH0pOm4uc29ydChVdCl9LGkucHJvdG90eXBlLmhhc1JlbmRlcmFibGVQYXJlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5maW5kTG9hZGVkUGFyZW50KHQsMCk7cmV0dXJuICEhZSYmdGhpcy5faXNJZFJlbmRlcmFibGUoZS50aWxlSUQua2V5KX0saS5wcm90b3R5cGUuX2lzSWRSZW5kZXJhYmxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3RpbGVzW3RdJiZ0aGlzLl90aWxlc1t0XS5oYXNEYXRhKCkmJiF0aGlzLl9jb3ZlcmVkVGlsZXNbdF0mJihlfHwhdGhpcy5fdGlsZXNbdF0uaG9sZGluZ0ZvckZhZGUoKSl9LGkucHJvdG90eXBlLnJlbG9hZD1mdW5jdGlvbigpe2lmKHRoaXMuX3BhdXNlZCl0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMDtlbHNlIGZvcih2YXIgdCBpbiB0aGlzLl9jYWNoZS5yZXNldCgpLHRoaXMuX3RpbGVzKVwiZXJyb3JlZFwiIT09dGhpcy5fdGlsZXNbdF0uc3RhdGUmJnRoaXMuX3JlbG9hZFRpbGUodCxcInJlbG9hZGluZ1wiKTt9LGkucHJvdG90eXBlLl9yZWxvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdGlsZXNbdF07aSYmKFwibG9hZGluZ1wiIT09aS5zdGF0ZSYmKGkuc3RhdGU9ZSksdGhpcy5fbG9hZFRpbGUoaSx0aGlzLl90aWxlTG9hZGVkLmJpbmQodGhpcyxpLHQsZSkpKTt9LGkucHJvdG90eXBlLl90aWxlTG9hZGVkPWZ1bmN0aW9uKGUsaSxuLG8pe2lmKG8pcmV0dXJuIGUuc3RhdGU9XCJlcnJvcmVkXCIsdm9pZCg0MDQhPT1vLnN0YXR1cz90aGlzLl9zb3VyY2UuZmlyZShuZXcgdC5FcnJvckV2ZW50KG8se3RpbGU6ZX0pKTp0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSkpO2UudGltZUFkZGVkPXQuYnJvd3Nlci5ub3coKSxcImV4cGlyZWRcIj09PW4mJihlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPSEwKSx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoaSxlKSxcInJhc3Rlci1kZW1cIj09PXRoaXMuZ2V0U291cmNlKCkudHlwZSYmZS5kZW0mJnRoaXMuX2JhY2tmaWxsREVNKGUpLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUoZSx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX3NvdXJjZS5maXJlKG5ldyB0LkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHRpbGU6ZSxjb29yZDplLnRpbGVJRH0pKTt9LGkucHJvdG90eXBlLl9iYWNrZmlsbERFTT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKCksaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lW2ldO2lmKHQubmVpZ2hib3JpbmdUaWxlcyYmdC5uZWlnaGJvcmluZ1RpbGVzW25dKXt2YXIgbz10aGlzLmdldFRpbGVCeUlEKG4pO3IodCxvKSxyKG8sdCk7fX1mdW5jdGlvbiByKHQsZSl7dC5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITA7dmFyIGk9ZS50aWxlSUQuY2Fub25pY2FsLngtdC50aWxlSUQuY2Fub25pY2FsLngsbj1lLnRpbGVJRC5jYW5vbmljYWwueS10LnRpbGVJRC5jYW5vbmljYWwueSxvPU1hdGgucG93KDIsdC50aWxlSUQuY2Fub25pY2FsLnopLHI9ZS50aWxlSUQua2V5OzA9PT1pJiYwPT09bnx8TWF0aC5hYnMobik+MXx8KE1hdGguYWJzKGkpPjEmJigxPT09TWF0aC5hYnMoaStvKT9pKz1vOjE9PT1NYXRoLmFicyhpLW8pJiYoaS09bykpLGUuZGVtJiZ0LmRlbSYmKHQuZGVtLmJhY2tmaWxsQm9yZGVyKGUuZGVtLGksbiksdC5uZWlnaGJvcmluZ1RpbGVzJiZ0Lm5laWdoYm9yaW5nVGlsZXNbcl0mJih0Lm5laWdoYm9yaW5nVGlsZXNbcl0uYmFja2ZpbGxlZD0hMCkpKTt9fSxpLnByb3RvdHlwZS5nZXRUaWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFRpbGVCeUlEKHQua2V5KX0saS5wcm90b3R5cGUuZ2V0VGlsZUJ5SUQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RpbGVzW3RdfSxpLnByb3RvdHlwZS5nZXRab29tPWZ1bmN0aW9uKHQpe3JldHVybiB0Lnpvb20rdC5zY2FsZVpvb20odC50aWxlU2l6ZS90aGlzLl9zb3VyY2UudGlsZVNpemUpfSxpLnByb3RvdHlwZS5fcmV0YWluTG9hZGVkQ2hpbGRyZW49ZnVuY3Rpb24odCxlLGksbil7Zm9yKHZhciBvIGluIHRoaXMuX3RpbGVzKXt2YXIgcj10aGlzLl90aWxlc1tvXTtpZighKG5bb118fCFyLmhhc0RhdGEoKXx8ci50aWxlSUQub3ZlcnNjYWxlZFo8PWV8fHIudGlsZUlELm92ZXJzY2FsZWRaPmkpKXtmb3IodmFyIGE9ci50aWxlSUQ7ciYmci50aWxlSUQub3ZlcnNjYWxlZFo+ZSsxOyl7dmFyIHM9ci50aWxlSUQuc2NhbGVkVG8oci50aWxlSUQub3ZlcnNjYWxlZFotMSk7KHI9dGhpcy5fdGlsZXNbcy5rZXldKSYmci5oYXNEYXRhKCkmJihhPXMpO31mb3IodmFyIGw9YTtsLm92ZXJzY2FsZWRaPmU7KWlmKHRbKGw9bC5zY2FsZWRUbyhsLm92ZXJzY2FsZWRaLTEpKS5rZXldKXtuW2Eua2V5XT1hO2JyZWFrfX19fSxpLnByb3RvdHlwZS5maW5kTG9hZGVkUGFyZW50PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQub3ZlcnNjYWxlZFotMTtpPj1lO2ktLSl7dmFyIG49dC5zY2FsZWRUbyhpKTtpZighbilyZXR1cm47dmFyIG89U3RyaW5nKG4ua2V5KSxyPXRoaXMuX3RpbGVzW29dO2lmKHImJnIuaGFzRGF0YSgpKXJldHVybiByO2lmKHRoaXMuX2NhY2hlLmhhcyhuKSlyZXR1cm4gdGhpcy5fY2FjaGUuZ2V0KG4pfX0saS5wcm90b3R5cGUudXBkYXRlQ2FjaGVTaXplPWZ1bmN0aW9uKHQpe3ZhciBlPShNYXRoLmNlaWwodC53aWR0aC90aGlzLl9zb3VyY2UudGlsZVNpemUpKzEpKihNYXRoLmNlaWwodC5oZWlnaHQvdGhpcy5fc291cmNlLnRpbGVTaXplKSsxKSxpPU1hdGguZmxvb3IoNSplKSxuPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplP01hdGgubWluKHRoaXMuX21heFRpbGVDYWNoZVNpemUsaSk6aTt0aGlzLl9jYWNoZS5zZXRNYXhTaXplKG4pO30saS5wcm90b3R5cGUuaGFuZGxlV3JhcEp1bXA9ZnVuY3Rpb24odCl7dmFyIGU9KHQtKHZvaWQgMD09PXRoaXMuX3ByZXZMbmc/dDp0aGlzLl9wcmV2TG5nKSkvMzYwLGk9TWF0aC5yb3VuZChlKTtpZih0aGlzLl9wcmV2TG5nPXQsaSl7dmFyIG49e307Zm9yKHZhciBvIGluIHRoaXMuX3RpbGVzKXt2YXIgcj10aGlzLl90aWxlc1tvXTtyLnRpbGVJRD1yLnRpbGVJRC51bndyYXBUbyhyLnRpbGVJRC53cmFwK2kpLG5bci50aWxlSUQua2V5XT1yO31mb3IodmFyIGEgaW4gdGhpcy5fdGlsZXM9bix0aGlzLl90aW1lcnMpY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1thXSksZGVsZXRlIHRoaXMuX3RpbWVyc1thXTtmb3IodmFyIHMgaW4gdGhpcy5fdGlsZXMpe3ZhciBsPXRoaXMuX3RpbGVzW3NdO3RoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihzLGwpO319fSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztpZih0aGlzLnRyYW5zZm9ybT1lLHRoaXMuX3NvdXJjZUxvYWRlZCYmIXRoaXMuX3BhdXNlZCl7dmFyIG87dGhpcy51cGRhdGVDYWNoZVNpemUoZSksdGhpcy5oYW5kbGVXcmFwSnVtcCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nKSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy51c2VkP3RoaXMuX3NvdXJjZS50aWxlSUQ/bz1lLmdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0aGlzLl9zb3VyY2UudGlsZUlEKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5jYW5vbmljYWwueixlLndyYXAsZS5jYW5vbmljYWwueixlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnkpfSk6KG89ZS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0aGlzLl9zb3VyY2UudGlsZVNpemUsbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tLHJlcGFyc2VPdmVyc2NhbGVkOnRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZH0pLHRoaXMuX3NvdXJjZS5oYXNUaWxlJiYobz1vLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gbi5fc291cmNlLmhhc1RpbGUodCl9KSkpOm89W107dmFyIHI9KHRoaXMuX3NvdXJjZS5yb3VuZFpvb20/TWF0aC5yb3VuZDpNYXRoLmZsb29yKSh0aGlzLmdldFpvb20oZSkpLGE9TWF0aC5tYXgoci1pLm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxzPU1hdGgubWF4KHIraS5tYXhVbmRlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLGw9dGhpcy5fdXBkYXRlUmV0YWluZWRUaWxlcyhvLHIpO2lmKE50KHRoaXMuX3NvdXJjZS50eXBlKSl7Zm9yKHZhciBjPXt9LGg9e30sdT0wLHA9T2JqZWN0LmtleXMobCk7dTxwLmxlbmd0aDt1Kz0xKXt2YXIgZD1wW3VdLF89bFtkXSxmPW4uX3RpbGVzW2RdO2lmKGYmJiEoZi5mYWRlRW5kVGltZSYmZi5mYWRlRW5kVGltZTw9dC5icm93c2VyLm5vdygpKSl7dmFyIG09bi5maW5kTG9hZGVkUGFyZW50KF8sYSk7bSYmKG4uX2FkZFRpbGUobS50aWxlSUQpLGNbbS50aWxlSUQua2V5XT1tLnRpbGVJRCksaFtkXT1fO319Zm9yKHZhciBnIGluIHRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKGgscixzLGwpLGMpbFtnXXx8KG4uX2NvdmVyZWRUaWxlc1tnXT0hMCxsW2ddPWNbZ10pO31mb3IodmFyIHYgaW4gbCluLl90aWxlc1t2XS5jbGVhckZhZGVIb2xkKCk7Zm9yKHZhciB5PTAseD10LmtleXNEaWZmZXJlbmNlKHRoaXMuX3RpbGVzLGwpO3k8eC5sZW5ndGg7eSs9MSl7dmFyIGI9eFt5XSx3PW4uX3RpbGVzW2JdO3cuaGFzU3ltYm9sQnVja2V0cyYmIXcuaG9sZGluZ0ZvckZhZGUoKT93LnNldEhvbGREdXJhdGlvbihuLm1hcC5fZmFkZUR1cmF0aW9uKTp3Lmhhc1N5bWJvbEJ1Y2tldHMmJiF3LnN5bWJvbEZhZGVGaW5pc2hlZCgpfHxuLl9yZW1vdmVUaWxlKGIpO319fSxpLnByb3RvdHlwZS5yZWxlYXNlU3ltYm9sRmFkZVRpbGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX3RpbGVzKXRoaXMuX3RpbGVzW3RdLmhvbGRpbmdGb3JGYWRlKCkmJnRoaXMuX3JlbW92ZVRpbGUodCk7fSxpLnByb3RvdHlwZS5fdXBkYXRlUmV0YWluZWRUaWxlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj17fSxvPXt9LHI9TWF0aC5tYXgoZS1pLm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxhPU1hdGgubWF4KGUraS5tYXhVbmRlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLHM9e30sbD0wLGM9dDtsPGMubGVuZ3RoO2wrPTEpe3ZhciBoPWNbbF0sdT10aGlzLl9hZGRUaWxlKGgpO25baC5rZXldPWgsdS5oYXNEYXRhKCl8fGU8dGhpcy5fc291cmNlLm1heHpvb20mJihzW2gua2V5XT1oKTt9dGhpcy5fcmV0YWluTG9hZGVkQ2hpbGRyZW4ocyxlLGEsbik7Zm9yKHZhciBwPTAsZD10O3A8ZC5sZW5ndGg7cCs9MSl7dmFyIF89ZFtwXSxmPXRoaXMuX3RpbGVzW18ua2V5XTtpZighZi5oYXNEYXRhKCkpe2lmKGUrMT50aGlzLl9zb3VyY2UubWF4em9vbSl7dmFyIG09Xy5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSlbMF0sZz10aGlzLmdldFRpbGUobSk7aWYoZyYmZy5oYXNEYXRhKCkpe25bbS5rZXldPW07Y29udGludWV9fWVsc2V7dmFyIHY9Xy5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSk7aWYoblt2WzBdLmtleV0mJm5bdlsxXS5rZXldJiZuW3ZbMl0ua2V5XSYmblt2WzNdLmtleV0pY29udGludWV9Zm9yKHZhciB5PWYud2FzUmVxdWVzdGVkKCkseD1fLm92ZXJzY2FsZWRaLTE7eD49cjstLXgpe3ZhciBiPV8uc2NhbGVkVG8oeCk7aWYob1tiLmtleV0pYnJlYWs7aWYob1tiLmtleV09ITAsIShmPXRoaXMuZ2V0VGlsZShiKSkmJnkmJihmPXRoaXMuX2FkZFRpbGUoYikpLGYmJihuW2Iua2V5XT1iLHk9Zi53YXNSZXF1ZXN0ZWQoKSxmLmhhc0RhdGEoKSkpYnJlYWt9fX1yZXR1cm4gbn0saS5wcm90b3R5cGUuX2FkZFRpbGU9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fdGlsZXNbZS5rZXldO2lmKGkpcmV0dXJuIGk7KGk9dGhpcy5fY2FjaGUuZ2V0QW5kUmVtb3ZlKGUpKSYmKHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihlLmtleSxpKSxpLnRpbGVJRD1lLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUoaSx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSYmKGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0pLGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0sdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUua2V5LGkpKSk7dmFyIG49Qm9vbGVhbihpKTtyZXR1cm4gbnx8KGk9bmV3IHQuVGlsZShlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpKSx0aGlzLl9sb2FkVGlsZShpLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLGksZS5rZXksaS5zdGF0ZSkpKSxpPyhpLnVzZXMrKyx0aGlzLl90aWxlc1tlLmtleV09aSxufHx0aGlzLl9zb3VyY2UuZmlyZShuZXcgdC5FdmVudChcImRhdGFsb2FkaW5nXCIse3RpbGU6aSxjb29yZDppLnRpbGVJRCxkYXRhVHlwZTpcInNvdXJjZVwifSkpLGkpOm51bGx9LGkucHJvdG90eXBlLl9zZXRUaWxlUmVsb2FkVGltZXI9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3QgaW4gdGhpcy5fdGltZXJzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1t0XSksZGVsZXRlIHRoaXMuX3RpbWVyc1t0XSk7dmFyIG49ZS5nZXRFeHBpcnlUaW1lb3V0KCk7biYmKHRoaXMuX3RpbWVyc1t0XT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5fcmVsb2FkVGlsZSh0LFwiZXhwaXJlZFwiKSxkZWxldGUgaS5fdGltZXJzW3RdO30sbikpO30saS5wcm90b3R5cGUuX3JlbW92ZVRpbGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGlsZXNbdF07ZSYmKGUudXNlcy0tLGRlbGV0ZSB0aGlzLl90aWxlc1t0XSx0aGlzLl90aW1lcnNbdF0mJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW3RdKSxkZWxldGUgdGhpcy5fdGltZXJzW3RdKSxlLnVzZXM+MHx8KGUuaGFzRGF0YSgpP3RoaXMuX2NhY2hlLmFkZChlLnRpbGVJRCxlLGUuZ2V0RXhwaXJ5VGltZW91dCgpKTooZS5hYm9ydGVkPSEwLHRoaXMuX2Fib3J0VGlsZShlKSx0aGlzLl91bmxvYWRUaWxlKGUpKSkpO30saS5wcm90b3R5cGUuY2xlYXJUaWxlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fdGlsZXMpdGhpcy5fcmVtb3ZlVGlsZSh0KTt0aGlzLl9jYWNoZS5yZXNldCgpO30saS5wcm90b3R5cGUudGlsZXNJbj1mdW5jdGlvbihlLGkpe2Zvcih2YXIgbj1bXSxvPXRoaXMuZ2V0SWRzKCkscj0xLzAsYT0xLzAscz0tMS8wLGw9LTEvMCxjPWVbMF0uem9vbSxoPTA7aDxlLmxlbmd0aDtoKyspe3ZhciB1PWVbaF07cj1NYXRoLm1pbihyLHUuY29sdW1uKSxhPU1hdGgubWluKGEsdS5yb3cpLHM9TWF0aC5tYXgocyx1LmNvbHVtbiksbD1NYXRoLm1heChsLHUucm93KTt9Zm9yKHZhciBwPTA7cDxvLmxlbmd0aDtwKyspe3ZhciBkPXRoaXMuX3RpbGVzW29bcF1dO2lmKCFkLmhvbGRpbmdGb3JGYWRlKCkpe3ZhciBfPWQudGlsZUlELGY9TWF0aC5wb3coMix0aGlzLnRyYW5zZm9ybS56b29tLWQudGlsZUlELm92ZXJzY2FsZWRaKSxtPWkqZC5xdWVyeVBhZGRpbmcqdC5FWFRFTlQvZC50aWxlU2l6ZS9mLGc9W0Z0KF8sbmV3IHQuQ29vcmRpbmF0ZShyLGEsYykpLEZ0KF8sbmV3IHQuQ29vcmRpbmF0ZShzLGwsYykpXTtpZihnWzBdLngtbTx0LkVYVEVOVCYmZ1swXS55LW08dC5FWFRFTlQmJmdbMV0ueCttPj0wJiZnWzFdLnkrbT49MCl7Zm9yKHZhciB2PVtdLHk9MDt5PGUubGVuZ3RoO3krKyl2LnB1c2goRnQoXyxlW3ldKSk7bi5wdXNoKHt0aWxlOmQsdGlsZUlEOl8scXVlcnlHZW9tZXRyeTpbdl0sc2NhbGU6Zn0pO319fXJldHVybiBufSxpLnByb3RvdHlwZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsaT10aGlzLmdldFJlbmRlcmFibGVJZHModCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLl90aWxlc1t0XS50aWxlSUR9KSxuPTAsbz1pO248by5sZW5ndGg7bis9MSl7dmFyIHI9b1tuXTtyLnBvc01hdHJpeD1lLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoci50b1Vud3JhcHBlZCgpKTt9cmV0dXJuIGl9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2UuaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtpZihOdCh0aGlzLl9zb3VyY2UudHlwZSkpZm9yKHZhciBlIGluIHRoaXMuX3RpbGVzKXt2YXIgaT10aGlzLl90aWxlc1tlXTtpZih2b2lkIDAhPT1pLmZhZGVFbmRUaW1lJiZpLmZhZGVFbmRUaW1lPj10LmJyb3dzZXIubm93KCkpcmV0dXJuICEwfXJldHVybiAhMX0saS5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSxpKXt0PXR8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIix0aGlzLl9zdGF0ZS51cGRhdGVTdGF0ZSh0LGUsaSk7fSxpLnByb3RvdHlwZS5nZXRGZWF0dXJlU3RhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10fHxcIl9nZW9qc29uVGlsZUxheWVyXCIsdGhpcy5fc3RhdGUuZ2V0U3RhdGUodCxlKX0saX0odC5FdmVudGVkKTtmdW5jdGlvbiBGdChlLGkpe3ZhciBuPWkuem9vbVRvKGUuY2Fub25pY2FsLnopO3JldHVybiBuZXcgdC5Qb2ludCgobi5jb2x1bW4tKGUuY2Fub25pY2FsLngrZS53cmFwKk1hdGgucG93KDIsZS5jYW5vbmljYWwueikpKSp0LkVYVEVOVCwobi5yb3ctZS5jYW5vbmljYWwueSkqdC5FWFRFTlQpfWZ1bmN0aW9uIFV0KHQsZSl7cmV0dXJuIHQlMzItZSUzMnx8ZS10fWZ1bmN0aW9uIE50KHQpe3JldHVybiBcInJhc3RlclwiPT09dHx8XCJpbWFnZVwiPT09dHx8XCJ2aWRlb1wiPT09dH1mdW5jdGlvbiBadCgpe3JldHVybiBuZXcgdC53aW5kb3cuV29ya2VyKGtuLndvcmtlclVybCl9T3QubWF4T3Zlcnpvb21pbmc9MTAsT3QubWF4VW5kZXJ6b29taW5nPTM7dmFyIHF0LFZ0PWZ1bmN0aW9uKCl7dGhpcy5hY3RpdmU9e307fTtmdW5jdGlvbiBqdChlLGkpe3ZhciBuPXt9O2Zvcih2YXIgbyBpbiBlKVwicmVmXCIhPT1vJiYobltvXT1lW29dKTtyZXR1cm4gdC5yZWZQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24odCl7dCBpbiBpJiYoblt0XT1pW3RdKTt9KSxufWZ1bmN0aW9uIEd0KHQpe3Q9dC5zbGljZSgpO2Zvcih2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpLGk9MDtpPHQubGVuZ3RoO2krKyllW3RbaV0uaWRdPXRbaV07Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspXCJyZWZcImluIHRbbl0mJih0W25dPWp0KHRbbl0sZVt0W25dLnJlZl0pKTtyZXR1cm4gdH1WdC5wcm90b3R5cGUuYWNxdWlyZT1mdW5jdGlvbih0KXtpZighdGhpcy53b3JrZXJzKWZvcih0aGlzLndvcmtlcnM9W107dGhpcy53b3JrZXJzLmxlbmd0aDxWdC53b3JrZXJDb3VudDspdGhpcy53b3JrZXJzLnB1c2gobmV3IFp0KTtyZXR1cm4gdGhpcy5hY3RpdmVbdF09ITAsdGhpcy53b3JrZXJzLnNsaWNlKCl9LFZ0LnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLmFjdGl2ZVt0XSwwPT09T2JqZWN0LmtleXModGhpcy5hY3RpdmUpLmxlbmd0aCYmKHRoaXMud29ya2Vycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QudGVybWluYXRlKCk7fSksdGhpcy53b3JrZXJzPW51bGwpO30sVnQud29ya2VyQ291bnQ9TWF0aC5tYXgoTWF0aC5mbG9vcih0LmJyb3dzZXIuaGFyZHdhcmVDb25jdXJyZW5jeS8yKSwxKTt2YXIgV3Q9e3NldFN0eWxlOlwic2V0U3R5bGVcIixhZGRMYXllcjpcImFkZExheWVyXCIscmVtb3ZlTGF5ZXI6XCJyZW1vdmVMYXllclwiLHNldFBhaW50UHJvcGVydHk6XCJzZXRQYWludFByb3BlcnR5XCIsc2V0TGF5b3V0UHJvcGVydHk6XCJzZXRMYXlvdXRQcm9wZXJ0eVwiLHNldEZpbHRlcjpcInNldEZpbHRlclwiLGFkZFNvdXJjZTpcImFkZFNvdXJjZVwiLHJlbW92ZVNvdXJjZTpcInJlbW92ZVNvdXJjZVwiLHNldEdlb0pTT05Tb3VyY2VEYXRhOlwic2V0R2VvSlNPTlNvdXJjZURhdGFcIixzZXRMYXllclpvb21SYW5nZTpcInNldExheWVyWm9vbVJhbmdlXCIsc2V0TGF5ZXJQcm9wZXJ0eTpcInNldExheWVyUHJvcGVydHlcIixzZXRDZW50ZXI6XCJzZXRDZW50ZXJcIixzZXRab29tOlwic2V0Wm9vbVwiLHNldEJlYXJpbmc6XCJzZXRCZWFyaW5nXCIsc2V0UGl0Y2g6XCJzZXRQaXRjaFwiLHNldFNwcml0ZTpcInNldFNwcml0ZVwiLHNldEdseXBoczpcInNldEdseXBoc1wiLHNldFRyYW5zaXRpb246XCJzZXRUcmFuc2l0aW9uXCIsc2V0TGlnaHQ6XCJzZXRMaWdodFwifTtmdW5jdGlvbiBYdCh0LGUsaSl7aS5wdXNoKHtjb21tYW5kOld0LmFkZFNvdXJjZSxhcmdzOlt0LGVbdF1dfSk7fWZ1bmN0aW9uIEh0KHQsZSxpKXtlLnB1c2goe2NvbW1hbmQ6V3QucmVtb3ZlU291cmNlLGFyZ3M6W3RdfSksaVt0XT0hMDt9ZnVuY3Rpb24gS3QodCxlLGksbil7SHQodCxpLG4pLFh0KHQsZSxpKTt9ZnVuY3Rpb24gWXQoZSxpLG4pe3ZhciBvO2ZvcihvIGluIGVbbl0paWYoZVtuXS5oYXNPd25Qcm9wZXJ0eShvKSYmXCJkYXRhXCIhPT1vJiYhdC5kZWVwRXF1YWwoZVtuXVtvXSxpW25dW29dKSlyZXR1cm4gITE7Zm9yKG8gaW4gaVtuXSlpZihpW25dLmhhc093blByb3BlcnR5KG8pJiZcImRhdGFcIiE9PW8mJiF0LmRlZXBFcXVhbChlW25dW29dLGlbbl1bb10pKXJldHVybiAhMTtyZXR1cm4gITB9ZnVuY3Rpb24gSnQoZSxpLG4sbyxyLGEpe3ZhciBzO2ZvcihzIGluIGk9aXx8e30sZT1lfHx7fSllLmhhc093blByb3BlcnR5KHMpJiYodC5kZWVwRXF1YWwoZVtzXSxpW3NdKXx8bi5wdXNoKHtjb21tYW5kOmEsYXJnczpbbyxzLGlbc10scl19KSk7Zm9yKHMgaW4gaSlpLmhhc093blByb3BlcnR5KHMpJiYhZS5oYXNPd25Qcm9wZXJ0eShzKSYmKHQuZGVlcEVxdWFsKGVbc10saVtzXSl8fG4ucHVzaCh7Y29tbWFuZDphLGFyZ3M6W28scyxpW3NdLHJdfSkpO31mdW5jdGlvbiBRdCh0KXtyZXR1cm4gdC5pZH1mdW5jdGlvbiAkdCh0LGUpe3JldHVybiB0W2UuaWRdPWUsdH1mdW5jdGlvbiB0ZShlLGkpe2lmKCFlKXJldHVybiBbe2NvbW1hbmQ6V3Quc2V0U3R5bGUsYXJnczpbaV19XTt2YXIgbj1bXTt0cnl7aWYoIXQuZGVlcEVxdWFsKGUudmVyc2lvbixpLnZlcnNpb24pKXJldHVybiBbe2NvbW1hbmQ6V3Quc2V0U3R5bGUsYXJnczpbaV19XTt0LmRlZXBFcXVhbChlLmNlbnRlcixpLmNlbnRlcil8fG4ucHVzaCh7Y29tbWFuZDpXdC5zZXRDZW50ZXIsYXJnczpbaS5jZW50ZXJdfSksdC5kZWVwRXF1YWwoZS56b29tLGkuem9vbSl8fG4ucHVzaCh7Y29tbWFuZDpXdC5zZXRab29tLGFyZ3M6W2kuem9vbV19KSx0LmRlZXBFcXVhbChlLmJlYXJpbmcsaS5iZWFyaW5nKXx8bi5wdXNoKHtjb21tYW5kOld0LnNldEJlYXJpbmcsYXJnczpbaS5iZWFyaW5nXX0pLHQuZGVlcEVxdWFsKGUucGl0Y2gsaS5waXRjaCl8fG4ucHVzaCh7Y29tbWFuZDpXdC5zZXRQaXRjaCxhcmdzOltpLnBpdGNoXX0pLHQuZGVlcEVxdWFsKGUuc3ByaXRlLGkuc3ByaXRlKXx8bi5wdXNoKHtjb21tYW5kOld0LnNldFNwcml0ZSxhcmdzOltpLnNwcml0ZV19KSx0LmRlZXBFcXVhbChlLmdseXBocyxpLmdseXBocyl8fG4ucHVzaCh7Y29tbWFuZDpXdC5zZXRHbHlwaHMsYXJnczpbaS5nbHlwaHNdfSksdC5kZWVwRXF1YWwoZS50cmFuc2l0aW9uLGkudHJhbnNpdGlvbil8fG4ucHVzaCh7Y29tbWFuZDpXdC5zZXRUcmFuc2l0aW9uLGFyZ3M6W2kudHJhbnNpdGlvbl19KSx0LmRlZXBFcXVhbChlLmxpZ2h0LGkubGlnaHQpfHxuLnB1c2goe2NvbW1hbmQ6V3Quc2V0TGlnaHQsYXJnczpbaS5saWdodF19KTt2YXIgbz17fSxyPVtdOyFmdW5jdGlvbihlLGksbixvKXt2YXIgcjtmb3IociBpbiBpPWl8fHt9LGU9ZXx8e30pZS5oYXNPd25Qcm9wZXJ0eShyKSYmKGkuaGFzT3duUHJvcGVydHkocil8fEh0KHIsbixvKSk7Zm9yKHIgaW4gaSlpLmhhc093blByb3BlcnR5KHIpJiYoZS5oYXNPd25Qcm9wZXJ0eShyKT90LmRlZXBFcXVhbChlW3JdLGlbcl0pfHwoXCJnZW9qc29uXCI9PT1lW3JdLnR5cGUmJlwiZ2VvanNvblwiPT09aVtyXS50eXBlJiZZdChlLGkscik/bi5wdXNoKHtjb21tYW5kOld0LnNldEdlb0pTT05Tb3VyY2VEYXRhLGFyZ3M6W3IsaVtyXS5kYXRhXX0pOkt0KHIsaSxuLG8pKTpYdChyLGksbikpO30oZS5zb3VyY2VzLGkuc291cmNlcyxyLG8pO3ZhciBhPVtdO2UubGF5ZXJzJiZlLmxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe29bdC5zb3VyY2VdP24ucHVzaCh7Y29tbWFuZDpXdC5yZW1vdmVMYXllcixhcmdzOlt0LmlkXX0pOmEucHVzaCh0KTt9KSxuPW4uY29uY2F0KHIpLGZ1bmN0aW9uKGUsaSxuKXtpPWl8fFtdO3ZhciBvLHIsYSxzLGwsYyxoLHU9KGU9ZXx8W10pLm1hcChRdCkscD1pLm1hcChRdCksZD1lLnJlZHVjZSgkdCx7fSksXz1pLnJlZHVjZSgkdCx7fSksZj11LnNsaWNlKCksbT1PYmplY3QuY3JlYXRlKG51bGwpO2ZvcihvPTAscj0wO288dS5sZW5ndGg7bysrKWE9dVtvXSxfLmhhc093blByb3BlcnR5KGEpP3IrKzoobi5wdXNoKHtjb21tYW5kOld0LnJlbW92ZUxheWVyLGFyZ3M6W2FdfSksZi5zcGxpY2UoZi5pbmRleE9mKGEsciksMSkpO2ZvcihvPTAscj0wO288cC5sZW5ndGg7bysrKWE9cFtwLmxlbmd0aC0xLW9dLGZbZi5sZW5ndGgtMS1vXSE9PWEmJihkLmhhc093blByb3BlcnR5KGEpPyhuLnB1c2goe2NvbW1hbmQ6V3QucmVtb3ZlTGF5ZXIsYXJnczpbYV19KSxmLnNwbGljZShmLmxhc3RJbmRleE9mKGEsZi5sZW5ndGgtciksMSkpOnIrKyxjPWZbZi5sZW5ndGgtb10sbi5wdXNoKHtjb21tYW5kOld0LmFkZExheWVyLGFyZ3M6W19bYV0sY119KSxmLnNwbGljZShmLmxlbmd0aC1vLDAsYSksbVthXT0hMCk7Zm9yKG89MDtvPHAubGVuZ3RoO28rKylpZihzPWRbYT1wW29dXSxsPV9bYV0sIW1bYV0mJiF0LmRlZXBFcXVhbChzLGwpKWlmKHQuZGVlcEVxdWFsKHMuc291cmNlLGwuc291cmNlKSYmdC5kZWVwRXF1YWwoc1tcInNvdXJjZS1sYXllclwiXSxsW1wic291cmNlLWxheWVyXCJdKSYmdC5kZWVwRXF1YWwocy50eXBlLGwudHlwZSkpe2ZvcihoIGluIEp0KHMubGF5b3V0LGwubGF5b3V0LG4sYSxudWxsLFd0LnNldExheW91dFByb3BlcnR5KSxKdChzLnBhaW50LGwucGFpbnQsbixhLG51bGwsV3Quc2V0UGFpbnRQcm9wZXJ0eSksdC5kZWVwRXF1YWwocy5maWx0ZXIsbC5maWx0ZXIpfHxuLnB1c2goe2NvbW1hbmQ6V3Quc2V0RmlsdGVyLGFyZ3M6W2EsbC5maWx0ZXJdfSksdC5kZWVwRXF1YWwocy5taW56b29tLGwubWluem9vbSkmJnQuZGVlcEVxdWFsKHMubWF4em9vbSxsLm1heHpvb20pfHxuLnB1c2goe2NvbW1hbmQ6V3Quc2V0TGF5ZXJab29tUmFuZ2UsYXJnczpbYSxsLm1pbnpvb20sbC5tYXh6b29tXX0pLHMpcy5oYXNPd25Qcm9wZXJ0eShoKSYmXCJsYXlvdXRcIiE9PWgmJlwicGFpbnRcIiE9PWgmJlwiZmlsdGVyXCIhPT1oJiZcIm1ldGFkYXRhXCIhPT1oJiZcIm1pbnpvb21cIiE9PWgmJlwibWF4em9vbVwiIT09aCYmKDA9PT1oLmluZGV4T2YoXCJwYWludC5cIik/SnQoc1toXSxsW2hdLG4sYSxoLnNsaWNlKDYpLFd0LnNldFBhaW50UHJvcGVydHkpOnQuZGVlcEVxdWFsKHNbaF0sbFtoXSl8fG4ucHVzaCh7Y29tbWFuZDpXdC5zZXRMYXllclByb3BlcnR5LGFyZ3M6W2EsaCxsW2hdXX0pKTtmb3IoaCBpbiBsKWwuaGFzT3duUHJvcGVydHkoaCkmJiFzLmhhc093blByb3BlcnR5KGgpJiZcImxheW91dFwiIT09aCYmXCJwYWludFwiIT09aCYmXCJmaWx0ZXJcIiE9PWgmJlwibWV0YWRhdGFcIiE9PWgmJlwibWluem9vbVwiIT09aCYmXCJtYXh6b29tXCIhPT1oJiYoMD09PWguaW5kZXhPZihcInBhaW50LlwiKT9KdChzW2hdLGxbaF0sbixhLGguc2xpY2UoNiksV3Quc2V0UGFpbnRQcm9wZXJ0eSk6dC5kZWVwRXF1YWwoc1toXSxsW2hdKXx8bi5wdXNoKHtjb21tYW5kOld0LnNldExheWVyUHJvcGVydHksYXJnczpbYSxoLGxbaF1dfSkpO31lbHNlIG4ucHVzaCh7Y29tbWFuZDpXdC5yZW1vdmVMYXllcixhcmdzOlthXX0pLGM9ZltmLmxhc3RJbmRleE9mKGEpKzFdLG4ucHVzaCh7Y29tbWFuZDpXdC5hZGRMYXllcixhcmdzOltsLGNdfSk7fShhLGkubGF5ZXJzLG4pO31jYXRjaCh0KXtjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOlwiLHQpLG49W3tjb21tYW5kOld0LnNldFN0eWxlLGFyZ3M6W2ldfV07fXJldHVybiBufXZhciBlZT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5ib3hDZWxscz1bXSxvPXRoaXMuY2lyY2xlQ2VsbHM9W107dGhpcy54Q2VsbENvdW50PU1hdGguY2VpbCh0L2kpLHRoaXMueUNlbGxDb3VudD1NYXRoLmNlaWwoZS9pKTtmb3IodmFyIHI9MDtyPHRoaXMueENlbGxDb3VudCp0aGlzLnlDZWxsQ291bnQ7cisrKW4ucHVzaChbXSksby5wdXNoKFtdKTt0aGlzLmNpcmNsZUtleXM9W10sdGhpcy5ib3hLZXlzPVtdLHRoaXMuYmJveGVzPVtdLHRoaXMuY2lyY2xlcz1bXSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnhTY2FsZT10aGlzLnhDZWxsQ291bnQvdCx0aGlzLnlTY2FsZT10aGlzLnlDZWxsQ291bnQvZSx0aGlzLmJveFVpZD0wLHRoaXMuY2lyY2xlVWlkPTA7fTtlZS5wcm90b3R5cGUua2V5c0xlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJveEtleXMubGVuZ3RoK3RoaXMuY2lyY2xlS2V5cy5sZW5ndGh9LGVlLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlLGksbixvKXt0aGlzLl9mb3JFYWNoQ2VsbChlLGksbixvLHRoaXMuX2luc2VydEJveENlbGwsdGhpcy5ib3hVaWQrKyksdGhpcy5ib3hLZXlzLnB1c2godCksdGhpcy5iYm94ZXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKGkpLHRoaXMuYmJveGVzLnB1c2gobiksdGhpcy5iYm94ZXMucHVzaChvKTt9LGVlLnByb3RvdHlwZS5pbnNlcnRDaXJjbGU9ZnVuY3Rpb24odCxlLGksbil7dGhpcy5fZm9yRWFjaENlbGwoZS1uLGktbixlK24saStuLHRoaXMuX2luc2VydENpcmNsZUNlbGwsdGhpcy5jaXJjbGVVaWQrKyksdGhpcy5jaXJjbGVLZXlzLnB1c2godCksdGhpcy5jaXJjbGVzLnB1c2goZSksdGhpcy5jaXJjbGVzLnB1c2goaSksdGhpcy5jaXJjbGVzLnB1c2gobik7fSxlZS5wcm90b3R5cGUuX2luc2VydEJveENlbGw9ZnVuY3Rpb24odCxlLGksbixvLHIpe3RoaXMuYm94Q2VsbHNbb10ucHVzaChyKTt9LGVlLnByb3RvdHlwZS5faW5zZXJ0Q2lyY2xlQ2VsbD1mdW5jdGlvbih0LGUsaSxuLG8scil7dGhpcy5jaXJjbGVDZWxsc1tvXS5wdXNoKHIpO30sZWUucHJvdG90eXBlLl9xdWVyeT1mdW5jdGlvbih0LGUsaSxuLG8scil7aWYoaTwwfHx0PnRoaXMud2lkdGh8fG48MHx8ZT50aGlzLmhlaWdodClyZXR1cm4gIW8mJltdO3ZhciBhPVtdO2lmKHQ8PTAmJmU8PTAmJnRoaXMud2lkdGg8PWkmJnRoaXMuaGVpZ2h0PD1uKXtpZihvKXJldHVybiAhMDtmb3IodmFyIHM9MDtzPHRoaXMuYm94S2V5cy5sZW5ndGg7cysrKWEucHVzaCh7a2V5OnRoaXMuYm94S2V5c1tzXSx4MTp0aGlzLmJib3hlc1s0KnNdLHkxOnRoaXMuYmJveGVzWzQqcysxXSx4Mjp0aGlzLmJib3hlc1s0KnMrMl0seTI6dGhpcy5iYm94ZXNbNCpzKzNdfSk7Zm9yKHZhciBsPTA7bDx0aGlzLmNpcmNsZUtleXMubGVuZ3RoO2wrKyl7dmFyIGM9dGhpcy5jaXJjbGVzWzMqbF0saD10aGlzLmNpcmNsZXNbMypsKzFdLHU9dGhpcy5jaXJjbGVzWzMqbCsyXTthLnB1c2goe2tleTp0aGlzLmNpcmNsZUtleXNbbF0seDE6Yy11LHkxOmgtdSx4MjpjK3UseTI6aCt1fSk7fXJldHVybiByP2EuZmlsdGVyKHIpOmF9dmFyIHA9e2hpdFRlc3Q6byxzZWVuVWlkczp7Ym94Ont9LGNpcmNsZTp7fX19O3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbCh0LGUsaSxuLHRoaXMuX3F1ZXJ5Q2VsbCxhLHAsciksbz9hLmxlbmd0aD4wOmF9LGVlLnByb3RvdHlwZS5fcXVlcnlDaXJjbGU9ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgcj10LWksYT10K2kscz1lLWksbD1lK2k7aWYoYTwwfHxyPnRoaXMud2lkdGh8fGw8MHx8cz50aGlzLmhlaWdodClyZXR1cm4gIW4mJltdO3ZhciBjPVtdLGg9e2hpdFRlc3Q6bixjaXJjbGU6e3g6dCx5OmUscmFkaXVzOml9LHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX07cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKHIscyxhLGwsdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLGMsaCxvKSxuP2MubGVuZ3RoPjA6Y30sZWUucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuIHRoaXMuX3F1ZXJ5KHQsZSxpLG4sITEsbyl9LGVlLnByb3RvdHlwZS5oaXRUZXN0PWZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuIHRoaXMuX3F1ZXJ5KHQsZSxpLG4sITAsbyl9LGVlLnByb3RvdHlwZS5oaXRUZXN0Q2lyY2xlPWZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB0aGlzLl9xdWVyeUNpcmNsZSh0LGUsaSwhMCxuKX0sZWUucHJvdG90eXBlLl9xdWVyeUNlbGw9ZnVuY3Rpb24odCxlLGksbixvLHIsYSxzKXt2YXIgbD1hLnNlZW5VaWRzLGM9dGhpcy5ib3hDZWxsc1tvXTtpZihudWxsIT09Yylmb3IodmFyIGg9dGhpcy5iYm94ZXMsdT0wLHA9Yzt1PHAubGVuZ3RoO3UrPTEpe3ZhciBkPXBbdV07aWYoIWwuYm94W2RdKXtsLmJveFtkXT0hMDt2YXIgXz00KmQ7aWYodDw9aFtfKzJdJiZlPD1oW18rM10mJmk+PWhbXyswXSYmbj49aFtfKzFdJiYoIXN8fHModGhpcy5ib3hLZXlzW2RdKSkpe2lmKGEuaGl0VGVzdClyZXR1cm4gci5wdXNoKCEwKSwhMDtyLnB1c2goe2tleTp0aGlzLmJveEtleXNbZF0seDE6aFtfXSx5MTpoW18rMV0seDI6aFtfKzJdLHkyOmhbXyszXX0pO319fXZhciBmPXRoaXMuY2lyY2xlQ2VsbHNbb107aWYobnVsbCE9PWYpZm9yKHZhciBtPXRoaXMuY2lyY2xlcyxnPTAsdj1mO2c8di5sZW5ndGg7Zys9MSl7dmFyIHk9dltnXTtpZighbC5jaXJjbGVbeV0pe2wuY2lyY2xlW3ldPSEwO3ZhciB4PTMqeTtpZih0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShtW3hdLG1beCsxXSxtW3grMl0sdCxlLGksbikmJighc3x8cyh0aGlzLmNpcmNsZUtleXNbeV0pKSl7aWYoYS5oaXRUZXN0KXJldHVybiByLnB1c2goITApLCEwO3ZhciBiPW1beF0sdz1tW3grMV0sRT1tW3grMl07ci5wdXNoKHtrZXk6dGhpcy5jaXJjbGVLZXlzW3ldLHgxOmItRSx5MTp3LUUseDI6YitFLHkyOncrRX0pO319fX0sZWUucHJvdG90eXBlLl9xdWVyeUNlbGxDaXJjbGU9ZnVuY3Rpb24odCxlLGksbixvLHIsYSxzKXt2YXIgbD1hLmNpcmNsZSxjPWEuc2VlblVpZHMsaD10aGlzLmJveENlbGxzW29dO2lmKG51bGwhPT1oKWZvcih2YXIgdT10aGlzLmJib3hlcyxwPTAsZD1oO3A8ZC5sZW5ndGg7cCs9MSl7dmFyIF89ZFtwXTtpZighYy5ib3hbX10pe2MuYm94W19dPSEwO3ZhciBmPTQqXztpZih0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShsLngsbC55LGwucmFkaXVzLHVbZiswXSx1W2YrMV0sdVtmKzJdLHVbZiszXSkmJighc3x8cyh0aGlzLmJveEtleXNbX10pKSlyZXR1cm4gci5wdXNoKCEwKSwhMH19dmFyIG09dGhpcy5jaXJjbGVDZWxsc1tvXTtpZihudWxsIT09bSlmb3IodmFyIGc9dGhpcy5jaXJjbGVzLHY9MCx5PW07djx5Lmxlbmd0aDt2Kz0xKXt2YXIgeD15W3ZdO2lmKCFjLmNpcmNsZVt4XSl7Yy5jaXJjbGVbeF09ITA7dmFyIGI9Myp4O2lmKHRoaXMuX2NpcmNsZXNDb2xsaWRlKGdbYl0sZ1tiKzFdLGdbYisyXSxsLngsbC55LGwucmFkaXVzKSYmKCFzfHxzKHRoaXMuY2lyY2xlS2V5c1t4XSkpKXJldHVybiByLnB1c2goITApLCEwfX19LGVlLnByb3RvdHlwZS5fZm9yRWFjaENlbGw9ZnVuY3Rpb24odCxlLGksbixvLHIsYSxzKXtmb3IodmFyIGw9dGhpcy5fY29udmVydFRvWENlbGxDb29yZCh0KSxjPXRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQoZSksaD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKGkpLHU9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZChuKSxwPWw7cDw9aDtwKyspZm9yKHZhciBkPWM7ZDw9dTtkKyspe3ZhciBfPXRoaXMueENlbGxDb3VudCpkK3A7aWYoby5jYWxsKHRoaXMsdCxlLGksbixfLHIsYSxzKSlyZXR1cm59fSxlZS5wcm90b3R5cGUuX2NvbnZlcnRUb1hDZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy54Q2VsbENvdW50LTEsTWF0aC5mbG9vcih0KnRoaXMueFNjYWxlKSkpfSxlZS5wcm90b3R5cGUuX2NvbnZlcnRUb1lDZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy55Q2VsbENvdW50LTEsTWF0aC5mbG9vcih0KnRoaXMueVNjYWxlKSkpfSxlZS5wcm90b3R5cGUuX2NpcmNsZXNDb2xsaWRlPWZ1bmN0aW9uKHQsZSxpLG4sbyxyKXt2YXIgYT1uLXQscz1vLWUsbD1pK3I7cmV0dXJuIGwqbD5hKmErcypzfSxlZS5wcm90b3R5cGUuX2NpcmNsZUFuZFJlY3RDb2xsaWRlPWZ1bmN0aW9uKHQsZSxpLG4sbyxyLGEpe3ZhciBzPShyLW4pLzIsbD1NYXRoLmFicyh0LShuK3MpKTtpZihsPnMraSlyZXR1cm4gITE7dmFyIGM9KGEtbykvMixoPU1hdGguYWJzKGUtKG8rYykpO2lmKGg+YytpKXJldHVybiAhMTtpZihsPD1zfHxoPD1jKXJldHVybiAhMDt2YXIgdT1sLXMscD1oLWM7cmV0dXJuIHUqdStwKnA8PWkqaX07dmFyIGllPXQucHJvcGVydGllcy5sYXlvdXQ7ZnVuY3Rpb24gbmUoZSxpLG4sbyxyKXt2YXIgYT10LmlkZW50aXR5KG5ldyBGbG9hdDMyQXJyYXkoMTYpKTtyZXR1cm4gaT8odC5pZGVudGl0eShhKSx0LnNjYWxlKGEsYSxbMS9yLDEvciwxXSksbnx8dC5yb3RhdGVaKGEsYSxvLmFuZ2xlKSk6KHQuc2NhbGUoYSxhLFtvLndpZHRoLzIsLW8uaGVpZ2h0LzIsMV0pLHQudHJhbnNsYXRlKGEsYSxbMSwtMSwwXSksdC5tdWx0aXBseShhLGEsZSkpLGF9ZnVuY3Rpb24gb2UoZSxpLG4sbyxyKXt2YXIgYT10LmlkZW50aXR5KG5ldyBGbG9hdDMyQXJyYXkoMTYpKTtyZXR1cm4gaT8odC5tdWx0aXBseShhLGEsZSksdC5zY2FsZShhLGEsW3IsciwxXSksbnx8dC5yb3RhdGVaKGEsYSwtby5hbmdsZSkpOih0LnNjYWxlKGEsYSxbMSwtMSwxXSksdC50cmFuc2xhdGUoYSxhLFstMSwtMSwwXSksdC5zY2FsZShhLGEsWzIvby53aWR0aCwyL28uaGVpZ2h0LDFdKSksYX1mdW5jdGlvbiByZShlLGkpe3ZhciBuPVtlLngsZS55LDAsMV07ZmUobixuLGkpO3ZhciBvPW5bM107cmV0dXJuIHtwb2ludDpuZXcgdC5Qb2ludChuWzBdL28sblsxXS9vKSxzaWduZWREaXN0YW5jZUZyb21DYW1lcmE6b319ZnVuY3Rpb24gYWUodCxlKXt2YXIgaT10WzBdL3RbM10sbj10WzFdL3RbM107cmV0dXJuIGk+PS1lWzBdJiZpPD1lWzBdJiZuPj0tZVsxXSYmbjw9ZVsxXX1mdW5jdGlvbiBzZShlLGksbixvLHIsYSxzLGwpe3ZhciBjPW8/ZS50ZXh0U2l6ZURhdGE6ZS5pY29uU2l6ZURhdGEsaD10LmV2YWx1YXRlU2l6ZUZvclpvb20oYyxuLnRyYW5zZm9ybS56b29tLGllLnByb3BlcnRpZXNbbz9cInRleHQtc2l6ZVwiOlwiaWNvbi1zaXplXCJdKSx1PVsyNTYvbi53aWR0aCoyKzEsMjU2L24uaGVpZ2h0KjIrMV0scD1vP2UudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk6ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTtwLmNsZWFyKCk7Zm9yKHZhciBkPWUubGluZVZlcnRleEFycmF5LF89bz9lLnRleHQucGxhY2VkU3ltYm9sQXJyYXk6ZS5pY29uLnBsYWNlZFN5bWJvbEFycmF5LGY9bi50cmFuc2Zvcm0ud2lkdGgvbi50cmFuc2Zvcm0uaGVpZ2h0LG09ITEsZz0wO2c8Xy5sZW5ndGg7ZysrKXt2YXIgdj1fLmdldChnKTtpZih2LmhpZGRlbnx8di53cml0aW5nTW9kZT09PXQuV3JpdGluZ01vZGUudmVydGljYWwmJiFtKV9lKHYubnVtR2x5cGhzLHApO2Vsc2V7bT0hMTt2YXIgeT1bdi5hbmNob3JYLHYuYW5jaG9yWSwwLDFdO2lmKHQudHJhbnNmb3JtTWF0NCh5LHksaSksYWUoeSx1KSl7dmFyIHg9LjUreVszXS9uLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKi41LGI9dC5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKGMsaCx2KSx3PXM/Yip4OmIveCxFPW5ldyB0LlBvaW50KHYuYW5jaG9yWCx2LmFuY2hvclkpLFQ9cmUoRSxyKS5wb2ludCxTPXt9LEk9aGUodix3LCExLGwsaSxyLGEsZS5nbHlwaE9mZnNldEFycmF5LGQscCxULEUsUyxmKTttPUkudXNlVmVydGljYWwsKEkubm90RW5vdWdoUm9vbXx8bXx8SS5uZWVkc0ZsaXBwaW5nJiZoZSh2LHcsITAsbCxpLHIsYSxlLmdseXBoT2Zmc2V0QXJyYXksZCxwLFQsRSxTLGYpLm5vdEVub3VnaFJvb20pJiZfZSh2Lm51bUdseXBocyxwKTt9ZWxzZSBfZSh2Lm51bUdseXBocyxwKTt9fW8/ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShwKTplLmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHApO31mdW5jdGlvbiBsZSh0LGUsaSxuLG8scixhLHMsbCxjLGgsdSl7dmFyIHA9cy5nbHlwaFN0YXJ0SW5kZXgrcy5udW1HbHlwaHMsZD1zLmxpbmVTdGFydEluZGV4LF89cy5saW5lU3RhcnRJbmRleCtzLmxpbmVMZW5ndGgsZj1lLmdldG9mZnNldFgocy5nbHlwaFN0YXJ0SW5kZXgpLG09ZS5nZXRvZmZzZXRYKHAtMSksZz1wZSh0KmYsaSxuLG8scixhLHMuc2VnbWVudCxkLF8sbCxjLGgsdSk7aWYoIWcpcmV0dXJuIG51bGw7dmFyIHY9cGUodCptLGksbixvLHIsYSxzLnNlZ21lbnQsZCxfLGwsYyxoLHUpO3JldHVybiB2P3tmaXJzdDpnLGxhc3Q6dn06bnVsbH1mdW5jdGlvbiBjZShlLGksbixvKXtpZihlPT09dC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsJiZNYXRoLmFicyhuLnktaS55KT5NYXRoLmFicyhuLngtaS54KSpvKXJldHVybiB7dXNlVmVydGljYWw6ITB9O3JldHVybiAoZT09PXQuV3JpdGluZ01vZGUudmVydGljYWw/aS55PG4ueTppLng+bi54KT97bmVlZHNGbGlwcGluZzohMH06bnVsbH1mdW5jdGlvbiBoZShlLGksbixvLHIsYSxzLGwsYyxoLHUscCxkLF8pe3ZhciBmLG09aS8yNCxnPWUubGluZU9mZnNldFgqaSx2PWUubGluZU9mZnNldFkqaTtpZihlLm51bUdseXBocz4xKXt2YXIgeT1lLmdseXBoU3RhcnRJbmRleCtlLm51bUdseXBocyx4PWUubGluZVN0YXJ0SW5kZXgsYj1lLmxpbmVTdGFydEluZGV4K2UubGluZUxlbmd0aCx3PWxlKG0sbCxnLHYsbix1LHAsZSxjLGEsZCwhMSk7aWYoIXcpcmV0dXJuIHtub3RFbm91Z2hSb29tOiEwfTt2YXIgRT1yZSh3LmZpcnN0LnBvaW50LHMpLnBvaW50LFQ9cmUody5sYXN0LnBvaW50LHMpLnBvaW50O2lmKG8mJiFuKXt2YXIgUz1jZShlLndyaXRpbmdNb2RlLEUsVCxfKTtpZihTKXJldHVybiBTfWY9W3cuZmlyc3RdO2Zvcih2YXIgST1lLmdseXBoU3RhcnRJbmRleCsxO0k8eS0xO0krKylmLnB1c2gocGUobSpsLmdldG9mZnNldFgoSSksZyx2LG4sdSxwLGUuc2VnbWVudCx4LGIsYyxhLGQsITEpKTtmLnB1c2gody5sYXN0KTt9ZWxzZXtpZihvJiYhbil7dmFyIEM9cmUocCxyKS5wb2ludCx6PWUubGluZVN0YXJ0SW5kZXgrZS5zZWdtZW50KzEsUD1uZXcgdC5Qb2ludChjLmdldHgoeiksYy5nZXR5KHopKSxSPXJlKFAsciksQT1SLnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wP1IucG9pbnQ6dWUocCxQLEMsMSxyKSxMPWNlKGUud3JpdGluZ01vZGUsQyxBLF8pO2lmKEwpcmV0dXJuIEx9dmFyIEQ9cGUobSpsLmdldG9mZnNldFgoZS5nbHlwaFN0YXJ0SW5kZXgpLGcsdixuLHUscCxlLnNlZ21lbnQsZS5saW5lU3RhcnRJbmRleCxlLmxpbmVTdGFydEluZGV4K2UubGluZUxlbmd0aCxjLGEsZCwhMSk7aWYoIUQpcmV0dXJuIHtub3RFbm91Z2hSb29tOiEwfTtmPVtEXTt9Zm9yKHZhciBNPTAsaz1mO008ay5sZW5ndGg7TSs9MSl7dmFyIEI9a1tNXTt0LmFkZER5bmFtaWNBdHRyaWJ1dGVzKGgsQi5wb2ludCxCLmFuZ2xlKTt9cmV0dXJuIHt9fWZ1bmN0aW9uIHVlKHQsZSxpLG4sbyl7dmFyIHI9cmUodC5hZGQodC5zdWIoZSkuX3VuaXQoKSksbykucG9pbnQsYT1pLnN1YihyKTtyZXR1cm4gaS5hZGQoYS5fbXVsdChuL2EubWFnKCkpKX1mdW5jdGlvbiBwZShlLGksbixvLHIsYSxzLGwsYyxoLHUscCxkKXt2YXIgXz1vP2UtaTplK2ksZj1fPjA/MTotMSxtPTA7byYmKGYqPS0xLG09TWF0aC5QSSksZjwwJiYobSs9TWF0aC5QSSk7Zm9yKHZhciBnPWY+MD9sK3M6bCtzKzEsdj1nLHk9cix4PXIsYj0wLHc9MCxFPU1hdGguYWJzKF8pO2Irdzw9RTspe2lmKChnKz1mKTxsfHxnPj1jKXJldHVybiBudWxsO2lmKHg9eSx2b2lkIDA9PT0oeT1wW2ddKSl7dmFyIFQ9bmV3IHQuUG9pbnQoaC5nZXR4KGcpLGguZ2V0eShnKSksUz1yZShULHUpO2lmKFMuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPjApeT1wW2ddPVMucG9pbnQ7ZWxzZXt2YXIgST1nLWY7eT11ZSgwPT09Yj9hOm5ldyB0LlBvaW50KGguZ2V0eChJKSxoLmdldHkoSSkpLFQseCxFLWIrMSx1KTt9fWIrPXcsdz14LmRpc3QoeSk7fXZhciBDPShFLWIpL3csej15LnN1Yih4KSxQPXoubXVsdChDKS5fYWRkKHgpO3JldHVybiBQLl9hZGQoei5fdW5pdCgpLl9wZXJwKCkuX211bHQobipmKSkse3BvaW50OlAsYW5nbGU6bStNYXRoLmF0YW4yKHkueS14LnkseS54LXgueCksdGlsZURpc3RhbmNlOmQ/e3ByZXZUaWxlRGlzdGFuY2U6Zy1mPT09dj8wOmguZ2V0dGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IoZy1mKSxsYXN0U2VnbWVudFZpZXdwb3J0RGlzdGFuY2U6RS1ifTpudWxsfX12YXIgZGU9bmV3IEZsb2F0MzJBcnJheShbLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDBdKTtmdW5jdGlvbiBfZSh0LGUpe2Zvcih2YXIgaT0wO2k8dDtpKyspe3ZhciBuPWUubGVuZ3RoO2UucmVzaXplKG4rNCksZS5mbG9hdDMyLnNldChkZSwzKm4pO319ZnVuY3Rpb24gZmUodCxlLGkpe3ZhciBuPWVbMF0sbz1lWzFdO3JldHVybiB0WzBdPWlbMF0qbitpWzRdKm8raVsxMl0sdFsxXT1pWzFdKm4raVs1XSpvK2lbMTNdLHRbM109aVszXSpuK2lbN10qbytpWzE1XSx0fXZhciBtZT1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9bmV3IGVlKHQud2lkdGgrMjAwLHQuaGVpZ2h0KzIwMCwyNSkpLHZvaWQgMD09PWkmJihpPW5ldyBlZSh0LndpZHRoKzIwMCx0LmhlaWdodCsyMDAsMjUpKSx0aGlzLnRyYW5zZm9ybT10LHRoaXMuZ3JpZD1lLHRoaXMuaWdub3JlZEdyaWQ9aSx0aGlzLnBpdGNoZmFjdG9yPU1hdGguY29zKHQuX3BpdGNoKSp0LmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5PXQud2lkdGgrMTAwLHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnk9dC5oZWlnaHQrMTAwLHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnk9dC53aWR0aCsyMDAsdGhpcy5ncmlkQm90dG9tQm91bmRhcnk9dC5oZWlnaHQrMjAwO307ZnVuY3Rpb24gZ2UodCxlLGkpe3RbZSs0XT1pPzE6MDt9ZnVuY3Rpb24gdmUoZSxpLG4pe3JldHVybiBpKih0LkVYVEVOVC8oZS50aWxlU2l6ZSpNYXRoLnBvdygyLG4tZS50aWxlSUQub3ZlcnNjYWxlZFopKSl9bWUucHJvdG90eXBlLnBsYWNlQ29sbGlzaW9uQm94PWZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIHI9dGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhuLHQuYW5jaG9yUG9pbnRYLHQuYW5jaG9yUG9pbnRZKSxhPWkqci5wZXJzcGVjdGl2ZVJhdGlvLHM9dC54MSphK3IucG9pbnQueCxsPXQueTEqYStyLnBvaW50LnksYz10LngyKmErci5wb2ludC54LGg9dC55MiphK3IucG9pbnQueTtyZXR1cm4gIXRoaXMuaXNJbnNpZGVHcmlkKHMsbCxjLGgpfHwhZSYmdGhpcy5ncmlkLmhpdFRlc3QocyxsLGMsaCxvKT97Ym94OltdLG9mZnNjcmVlbjohMX06e2JveDpbcyxsLGMsaF0sb2Zmc2NyZWVuOnRoaXMuaXNPZmZzY3JlZW4ocyxsLGMsaCl9fSxtZS5wcm90b3R5cGUuYXBwcm94aW1hdGVUaWxlRGlzdGFuY2U9ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgcj1vPzE6bi90aGlzLnBpdGNoZmFjdG9yLGE9dC5sYXN0U2VnbWVudFZpZXdwb3J0RGlzdGFuY2UqaTtyZXR1cm4gdC5wcmV2VGlsZURpc3RhbmNlK2ErKHItMSkqYSpNYXRoLmFicyhNYXRoLnNpbihlKSl9LG1lLnByb3RvdHlwZS5wbGFjZUNvbGxpc2lvbkNpcmNsZXM9ZnVuY3Rpb24oZSxpLG4sbyxyLGEscyxsLGMsaCx1LHAsZCl7dmFyIF89W10sZj10aGlzLnByb2plY3RBbmNob3IoYyxyLmFuY2hvclgsci5hbmNob3JZKSxtPWwvMjQsZz1yLmxpbmVPZmZzZXRYKmwsdj1yLmxpbmVPZmZzZXRZKmwseT1uZXcgdC5Qb2ludChyLmFuY2hvclgsci5hbmNob3JZKSx4PWxlKG0scyxnLHYsITEscmUoeSxoKS5wb2ludCx5LHIsYSxoLHt9LCEwKSxiPSExLHc9ITEsRT0hMCxUPWYucGVyc3BlY3RpdmVSYXRpbypvLFM9MS8obypuKSxJPTAsQz0wO3gmJihJPXRoaXMuYXBwcm94aW1hdGVUaWxlRGlzdGFuY2UoeC5maXJzdC50aWxlRGlzdGFuY2UseC5maXJzdC5hbmdsZSxTLGYuY2FtZXJhRGlzdGFuY2UscCksQz10aGlzLmFwcHJveGltYXRlVGlsZURpc3RhbmNlKHgubGFzdC50aWxlRGlzdGFuY2UseC5sYXN0LmFuZ2xlLFMsZi5jYW1lcmFEaXN0YW5jZSxwKSk7Zm9yKHZhciB6PTA7ejxlLmxlbmd0aDt6Kz01KXt2YXIgUD1lW3pdLFI9ZVt6KzFdLEE9ZVt6KzJdLEw9ZVt6KzNdO2lmKCF4fHxMPC1JfHxMPkMpZ2UoZSx6LCExKTtlbHNle3ZhciBEPXRoaXMucHJvamVjdFBvaW50KGMsUCxSKSxNPUEqVDtpZihfLmxlbmd0aD4wKXt2YXIgaz1ELngtX1tfLmxlbmd0aC00XSxCPUQueS1fW18ubGVuZ3RoLTNdO2lmKE0qTSoyPmsqaytCKkIpaWYoeis4PGUubGVuZ3RoKXt2YXIgTz1lW3orOF07aWYoTz4tSSYmTzxDKXtnZShlLHosITEpO2NvbnRpbnVlfX19dmFyIEY9ei81O18ucHVzaChELngsRC55LE0sRiksZ2UoZSx6LCEwKTt2YXIgVT1ELngtTSxOPUQueS1NLFo9RC54K00scT1ELnkrTTtpZihFPUUmJnRoaXMuaXNPZmZzY3JlZW4oVSxOLFoscSksdz13fHx0aGlzLmlzSW5zaWRlR3JpZChVLE4sWixxKSwhaSYmdGhpcy5ncmlkLmhpdFRlc3RDaXJjbGUoRC54LEQueSxNLGQpKXtpZighdSlyZXR1cm4ge2NpcmNsZXM6W10sb2Zmc2NyZWVuOiExfTtiPSEwO319fXJldHVybiB7Y2lyY2xlczpifHwhdz9bXTpfLG9mZnNjcmVlbjpFfX0sbWUucHJvdG90eXBlLnF1ZXJ5UmVuZGVyZWRTeW1ib2xzPWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkmJjA9PT10aGlzLmlnbm9yZWRHcmlkLmtleXNMZW5ndGgoKSlyZXR1cm4ge307Zm9yKHZhciBpPVtdLG49MS8wLG89MS8wLHI9LTEvMCxhPS0xLzAscz0wLGw9ZTtzPGwubGVuZ3RoO3MrPTEpe3ZhciBjPWxbc10saD1uZXcgdC5Qb2ludChjLngrMTAwLGMueSsxMDApO249TWF0aC5taW4obixoLngpLG89TWF0aC5taW4obyxoLnkpLHI9TWF0aC5tYXgocixoLngpLGE9TWF0aC5tYXgoYSxoLnkpLGkucHVzaChoKTt9Zm9yKHZhciB1PXt9LHA9e30sZD0wLF89dGhpcy5ncmlkLnF1ZXJ5KG4sbyxyLGEpLmNvbmNhdCh0aGlzLmlnbm9yZWRHcmlkLnF1ZXJ5KG4sbyxyLGEpKTtkPF8ubGVuZ3RoO2QrPTEpe3ZhciBmPV9bZF0sbT1mLmtleTtpZih2b2lkIDA9PT11W20uYnVja2V0SW5zdGFuY2VJZF0mJih1W20uYnVja2V0SW5zdGFuY2VJZF09e30pLCF1W20uYnVja2V0SW5zdGFuY2VJZF1bbS5mZWF0dXJlSW5kZXhdKXt2YXIgZz1bbmV3IHQuUG9pbnQoZi54MSxmLnkxKSxuZXcgdC5Qb2ludChmLngyLGYueTEpLG5ldyB0LlBvaW50KGYueDIsZi55MiksbmV3IHQuUG9pbnQoZi54MSxmLnkyKV07dC5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24oaSxnKSYmKHVbbS5idWNrZXRJbnN0YW5jZUlkXVttLmZlYXR1cmVJbmRleF09ITAsdm9pZCAwPT09cFttLmJ1Y2tldEluc3RhbmNlSWRdJiYocFttLmJ1Y2tldEluc3RhbmNlSWRdPVtdKSxwW20uYnVja2V0SW5zdGFuY2VJZF0ucHVzaChtLmZlYXR1cmVJbmRleCkpO319cmV0dXJuIHB9LG1lLnByb3RvdHlwZS5pbnNlcnRDb2xsaXNpb25Cb3g9ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgcj17YnVja2V0SW5zdGFuY2VJZDppLGZlYXR1cmVJbmRleDpuLGNvbGxpc2lvbkdyb3VwSUQ6b307KGU/dGhpcy5pZ25vcmVkR3JpZDp0aGlzLmdyaWQpLmluc2VydChyLHRbMF0sdFsxXSx0WzJdLHRbM10pO30sbWUucHJvdG90eXBlLmluc2VydENvbGxpc2lvbkNpcmNsZXM9ZnVuY3Rpb24odCxlLGksbixvKXtmb3IodmFyIHI9ZT90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCxhPXtidWNrZXRJbnN0YW5jZUlkOmksZmVhdHVyZUluZGV4Om4sY29sbGlzaW9uR3JvdXBJRDpvfSxzPTA7czx0Lmxlbmd0aDtzKz00KXIuaW5zZXJ0Q2lyY2xlKGEsdFtzXSx0W3MrMV0sdFtzKzJdKTt9LG1lLnByb3RvdHlwZS5wcm9qZWN0QW5jaG9yPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1bZSxpLDAsMV07cmV0dXJuIGZlKG4sbix0KSx7cGVyc3BlY3RpdmVSYXRpbzouNSt0aGlzLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL25bM10qLjUsY2FtZXJhRGlzdGFuY2U6blszXX19LG1lLnByb3RvdHlwZS5wcm9qZWN0UG9pbnQ9ZnVuY3Rpb24oZSxpLG4pe3ZhciBvPVtpLG4sMCwxXTtyZXR1cm4gZmUobyxvLGUpLG5ldyB0LlBvaW50KChvWzBdL29bM10rMSkvMip0aGlzLnRyYW5zZm9ybS53aWR0aCsxMDAsKC1vWzFdL29bM10rMSkvMip0aGlzLnRyYW5zZm9ybS5oZWlnaHQrMTAwKX0sbWUucHJvdG90eXBlLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvPWZ1bmN0aW9uKGUsaSxuKXt2YXIgbz1baSxuLDAsMV07cmV0dXJuIGZlKG8sbyxlKSx7cG9pbnQ6bmV3IHQuUG9pbnQoKG9bMF0vb1szXSsxKS8yKnRoaXMudHJhbnNmb3JtLndpZHRoKzEwMCwoLW9bMV0vb1szXSsxKS8yKnRoaXMudHJhbnNmb3JtLmhlaWdodCsxMDApLHBlcnNwZWN0aXZlUmF0aW86LjUrdGhpcy50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9vWzNdKi41fX0sbWUucHJvdG90eXBlLmlzT2Zmc2NyZWVuPWZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBpPDEwMHx8dD49dGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5fHxuPDEwMHx8ZT50aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5fSxtZS5wcm90b3R5cGUuaXNJbnNpZGVHcmlkPWZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBpPj0wJiZ0PHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkmJm4+PTAmJmU8dGhpcy5ncmlkQm90dG9tQm91bmRhcnl9O3ZhciB5ZT1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLm9wYWNpdHk9dD9NYXRoLm1heCgwLE1hdGgubWluKDEsdC5vcGFjaXR5Kyh0LnBsYWNlZD9lOi1lKSkpOm4mJmk/MTowLHRoaXMucGxhY2VkPWk7fTt5ZS5wcm90b3R5cGUuaXNIaWRkZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMub3BhY2l0eSYmIXRoaXMucGxhY2VkfTt2YXIgeGU9ZnVuY3Rpb24odCxlLGksbixvKXt0aGlzLnRleHQ9bmV3IHllKHQ/dC50ZXh0Om51bGwsZSxpLG8pLHRoaXMuaWNvbj1uZXcgeWUodD90Lmljb246bnVsbCxlLG4sbyk7fTt4ZS5wcm90b3R5cGUuaXNIaWRkZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0LmlzSGlkZGVuKCkmJnRoaXMuaWNvbi5pc0hpZGRlbigpfTt2YXIgYmU9ZnVuY3Rpb24odCxlLGkpe3RoaXMudGV4dD10LHRoaXMuaWNvbj1lLHRoaXMuc2tpcEZhZGU9aTt9LHdlPWZ1bmN0aW9uKHQpe3RoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zPXQsdGhpcy5tYXhHcm91cElEPTAsdGhpcy5jb2xsaXNpb25Hcm91cHM9e307fTt3ZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zKXJldHVybiB7SUQ6MCxwcmVkaWNhdGU6bnVsbH07aWYoIXRoaXMuY29sbGlzaW9uR3JvdXBzW3RdKXt2YXIgZT0rK3RoaXMubWF4R3JvdXBJRDt0aGlzLmNvbGxpc2lvbkdyb3Vwc1t0XT17SUQ6ZSxwcmVkaWNhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29sbGlzaW9uR3JvdXBJRD09PWV9fTt9cmV0dXJuIHRoaXMuY29sbGlzaW9uR3JvdXBzW3RdfTt2YXIgRWU9ZnVuY3Rpb24odCxlLGkpe3RoaXMudHJhbnNmb3JtPXQuY2xvbmUoKSx0aGlzLmNvbGxpc2lvbkluZGV4PW5ldyBtZSh0aGlzLnRyYW5zZm9ybSksdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5mYWRlRHVyYXRpb249ZSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyB3ZShpKTt9O2Z1bmN0aW9uIFRlKHQsZSxpKXt0LmVtcGxhY2VCYWNrKGU/MTowLGk/MTowKSx0LmVtcGxhY2VCYWNrKGU/MTowLGk/MTowKSx0LmVtcGxhY2VCYWNrKGU/MTowLGk/MTowKSx0LmVtcGxhY2VCYWNrKGU/MTowLGk/MTowKTt9RWUucHJvdG90eXBlLnBsYWNlTGF5ZXJUaWxlPWZ1bmN0aW9uKGUsaSxuLG8pe3ZhciByPWkuZ2V0QnVja2V0KGUpLGE9aS5sYXRlc3RGZWF0dXJlSW5kZXg7aWYociYmYSYmZS5pZD09PXIubGF5ZXJJZHNbMF0pe3ZhciBzPWkuY29sbGlzaW9uQm94QXJyYXksbD1yLmxheWVyc1swXS5sYXlvdXQsYz1NYXRoLnBvdygyLHRoaXMudHJhbnNmb3JtLnpvb20taS50aWxlSUQub3ZlcnNjYWxlZFopLGg9aS50aWxlU2l6ZS90LkVYVEVOVCx1PXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChpLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxwPW5lKHUsXCJtYXBcIj09PWwuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksXCJtYXBcIj09PWwuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIiksdGhpcy50cmFuc2Zvcm0sdmUoaSwxLHRoaXMudHJhbnNmb3JtLnpvb20pKSxkPW5lKHUsXCJtYXBcIj09PWwuZ2V0KFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIiksXCJtYXBcIj09PWwuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIiksdGhpcy50cmFuc2Zvcm0sdmUoaSwxLHRoaXMudHJhbnNmb3JtLnpvb20pKTt0aGlzLnJldGFpbmVkUXVlcnlEYXRhW3IuYnVja2V0SW5zdGFuY2VJZF09bmV3IGZ1bmN0aW9uKHQsZSxpLG4sbyl7dGhpcy5idWNrZXRJbnN0YW5jZUlkPXQsdGhpcy5mZWF0dXJlSW5kZXg9ZSx0aGlzLnNvdXJjZUxheWVySW5kZXg9aSx0aGlzLmJ1Y2tldEluZGV4PW4sdGhpcy50aWxlSUQ9bzt9KHIuYnVja2V0SW5zdGFuY2VJZCxhLHIuc291cmNlTGF5ZXJJbmRleCxyLmluZGV4LGkudGlsZUlEKSx0aGlzLnBsYWNlTGF5ZXJCdWNrZXQocix1LHAsZCxjLGgsbixpLmhvbGRpbmdGb3JGYWRlKCksbyxzKTt9fSxFZS5wcm90b3R5cGUucGxhY2VMYXllckJ1Y2tldD1mdW5jdGlvbihlLGksbixvLHIsYSxzLGwsYyxoKXt2YXIgdT1lLmxheWVyc1swXS5sYXlvdXQscD10LmV2YWx1YXRlU2l6ZUZvclpvb20oZS50ZXh0U2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSx0LnByb3BlcnRpZXMubGF5b3V0LnByb3BlcnRpZXNbXCJ0ZXh0LXNpemVcIl0pLGQ9dS5nZXQoXCJ0ZXh0LW9wdGlvbmFsXCIpLF89dS5nZXQoXCJpY29uLW9wdGlvbmFsXCIpLGY9dGhpcy5jb2xsaXNpb25Hcm91cHMuZ2V0KGUuc291cmNlSUQpOyFlLmNvbGxpc2lvbkFycmF5cyYmaCYmZS5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKGgpO2Zvcih2YXIgbT0wO208ZS5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO20rKyl7dmFyIGc9ZS5zeW1ib2xJbnN0YW5jZXMuZ2V0KG0pO2lmKCFjW2cuY3Jvc3NUaWxlSURdKXtpZihsKXt0aGlzLnBsYWNlbWVudHNbZy5jcm9zc1RpbGVJRF09bmV3IGJlKCExLCExLCExKTtjb250aW51ZX12YXIgdj0hMSx5PSExLHg9ITAsYj1udWxsLHc9bnVsbCxFPW51bGwsVD0wLFM9MCxJPWUuY29sbGlzaW9uQXJyYXlzW21dO0kudGV4dEZlYXR1cmVJbmRleCYmKFQ9SS50ZXh0RmVhdHVyZUluZGV4KSxJLnRleHRCb3gmJih2PShiPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goSS50ZXh0Qm94LHUuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpLGEsaSxmLnByZWRpY2F0ZSkpLmJveC5sZW5ndGg+MCx4PXgmJmIub2Zmc2NyZWVuKTt2YXIgQz1JLnRleHRDaXJjbGVzO2lmKEMpe3ZhciB6PWUudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoZy5ob3Jpem9udGFsUGxhY2VkVGV4dFN5bWJvbEluZGV4KSxQPXQuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShlLnRleHRTaXplRGF0YSxwLHopO3c9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkNpcmNsZXMoQyx1LmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKSxyLGEseixlLmxpbmVWZXJ0ZXhBcnJheSxlLmdseXBoT2Zmc2V0QXJyYXksUCxpLG4scyxcIm1hcFwiPT09dS5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxmLnByZWRpY2F0ZSksdj11LmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKXx8dy5jaXJjbGVzLmxlbmd0aD4wLHg9eCYmdy5vZmZzY3JlZW47fUkuaWNvbkZlYXR1cmVJbmRleCYmKFM9SS5pY29uRmVhdHVyZUluZGV4KSxJLmljb25Cb3gmJih5PShFPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goSS5pY29uQm94LHUuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpLGEsaSxmLnByZWRpY2F0ZSkpLmJveC5sZW5ndGg+MCx4PXgmJkUub2Zmc2NyZWVuKTt2YXIgUj1kfHwwPT09Zy5udW1HbHlwaFZlcnRpY2VzJiYwPT09Zy5udW1WZXJ0aWNhbEdseXBoVmVydGljZXMsQT1ffHwwPT09Zy5udW1JY29uVmVydGljZXM7Unx8QT9BP1J8fCh5PXkmJnYpOnY9eSYmdjp5PXY9eSYmdix2JiZiJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChiLmJveCx1LmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKSxlLmJ1Y2tldEluc3RhbmNlSWQsVCxmLklEKSx5JiZFJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChFLmJveCx1LmdldChcImljb24taWdub3JlLXBsYWNlbWVudFwiKSxlLmJ1Y2tldEluc3RhbmNlSWQsUyxmLklEKSx2JiZ3JiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkNpcmNsZXMody5jaXJjbGVzLHUuZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpLGUuYnVja2V0SW5zdGFuY2VJZCxULGYuSUQpLHRoaXMucGxhY2VtZW50c1tnLmNyb3NzVGlsZUlEXT1uZXcgYmUodix5LHh8fGUuanVzdFJlbG9hZGVkKSxjW2cuY3Jvc3NUaWxlSURdPSEwO319ZS5qdXN0UmVsb2FkZWQ9ITE7fSxFZS5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jb21taXRUaW1lPWU7dmFyIGk9ITEsbj10JiYwIT09dGhpcy5mYWRlRHVyYXRpb24/KHRoaXMuY29tbWl0VGltZS10LmNvbW1pdFRpbWUpL3RoaXMuZmFkZUR1cmF0aW9uOjEsbz10P3Qub3BhY2l0aWVzOnt9O2Zvcih2YXIgciBpbiB0aGlzLnBsYWNlbWVudHMpe3ZhciBhPXRoaXMucGxhY2VtZW50c1tyXSxzPW9bcl07cz8odGhpcy5vcGFjaXRpZXNbcl09bmV3IHhlKHMsbixhLnRleHQsYS5pY29uKSxpPWl8fGEudGV4dCE9PXMudGV4dC5wbGFjZWR8fGEuaWNvbiE9PXMuaWNvbi5wbGFjZWQpOih0aGlzLm9wYWNpdGllc1tyXT1uZXcgeGUobnVsbCxuLGEudGV4dCxhLmljb24sYS5za2lwRmFkZSksaT1pfHxhLnRleHR8fGEuaWNvbik7fWZvcih2YXIgbCBpbiBvKXt2YXIgYz1vW2xdO2lmKCF0aGlzLm9wYWNpdGllc1tsXSl7dmFyIGg9bmV3IHhlKGMsbiwhMSwhMSk7aC5pc0hpZGRlbigpfHwodGhpcy5vcGFjaXRpZXNbbF09aCxpPWl8fGMudGV4dC5wbGFjZWR8fGMuaWNvbi5wbGFjZWQpO319aT90aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPWU6XCJudW1iZXJcIiE9dHlwZW9mIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUmJih0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPXQ/dC5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZTplKTt9LEVlLnByb3RvdHlwZS51cGRhdGVMYXllck9wYWNpdGllcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT17fSxuPTAsbz1lO248by5sZW5ndGg7bis9MSl7dmFyIHI9b1tuXSxhPXIuZ2V0QnVja2V0KHQpO2EmJnIubGF0ZXN0RmVhdHVyZUluZGV4JiZ0LmlkPT09YS5sYXllcklkc1swXSYmdGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXMoYSxpLHIuY29sbGlzaW9uQm94QXJyYXkpO319LEVlLnByb3RvdHlwZS51cGRhdGVCdWNrZXRPcGFjaXRpZXM9ZnVuY3Rpb24odCxlLGkpe3QuaGFzVGV4dERhdGEoKSYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzSWNvbkRhdGEoKSYmdC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzQ29sbGlzaW9uQm94RGF0YSgpJiZ0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzQ29sbGlzaW9uQ2lyY2xlRGF0YSgpJiZ0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO3ZhciBuPXQubGF5ZXJzWzBdLmxheW91dCxvPW5ldyB4ZShudWxsLDAsITEsITEsITApLHI9bi5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIiksYT1uLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKSxzPW5ldyB4ZShudWxsLDAsciYmKGF8fCF0Lmhhc0ljb25EYXRhKCl8fG4uZ2V0KFwiaWNvbi1vcHRpb25hbFwiKSksYSYmKHJ8fCF0Lmhhc1RleHREYXRhKCl8fG4uZ2V0KFwidGV4dC1vcHRpb25hbFwiKSksITApOyF0LmNvbGxpc2lvbkFycmF5cyYmaSYmKHQuaGFzQ29sbGlzaW9uQm94RGF0YSgpfHx0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSkmJnQuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhpKTtmb3IodmFyIGw9MDtsPHQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtsKyspe3ZhciBjPXQuc3ltYm9sSW5zdGFuY2VzLmdldChsKSxoPWVbYy5jcm9zc1RpbGVJRF0sdT10aGlzLm9wYWNpdGllc1tjLmNyb3NzVGlsZUlEXTtoP3U9bzp1fHwodT1zLHRoaXMub3BhY2l0aWVzW2MuY3Jvc3NUaWxlSURdPXUpLGVbYy5jcm9zc1RpbGVJRF09ITA7dmFyIHA9Yy5udW1HbHlwaFZlcnRpY2VzPjB8fGMubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzPjAsZD1jLm51bUljb25WZXJ0aWNlcz4wO2lmKHApe2Zvcih2YXIgXz1MZSh1LnRleHQpLGY9KGMubnVtR2x5cGhWZXJ0aWNlcytjLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcykvNCxtPTA7bTxmO20rKyl0LnRleHQub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKF8pO3QudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoYy5ob3Jpem9udGFsUGxhY2VkVGV4dFN5bWJvbEluZGV4KS5oaWRkZW49dS50ZXh0LmlzSGlkZGVuKCksYy52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleD49MCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoYy52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCkuaGlkZGVuPXUudGV4dC5pc0hpZGRlbigpKTt9aWYoZCl7Zm9yKHZhciBnPUxlKHUuaWNvbiksdj0wO3Y8Yy5udW1JY29uVmVydGljZXMvNDt2KyspdC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhnKTt0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGwpLmhpZGRlbj11Lmljb24uaXNIaWRkZW4oKTt9aWYodC5oYXNDb2xsaXNpb25Cb3hEYXRhKCl8fHQuaGFzQ29sbGlzaW9uQ2lyY2xlRGF0YSgpKXt2YXIgeT10LmNvbGxpc2lvbkFycmF5c1tsXTtpZih5KXt5LnRleHRCb3gmJlRlKHQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LHUudGV4dC5wbGFjZWQsITEpLHkuaWNvbkJveCYmVGUodC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksdS5pY29uLnBsYWNlZCwhMSk7dmFyIHg9eS50ZXh0Q2lyY2xlcztpZih4JiZ0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSlmb3IodmFyIGI9MDtiPHgubGVuZ3RoO2IrPTUpe3ZhciB3PWh8fDA9PT14W2IrNF07VGUodC5jb2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QXJyYXksdS50ZXh0LnBsYWNlZCx3KTt9fX19dC5zb3J0RmVhdHVyZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpLHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXSYmKHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXS5mZWF0dXJlU29ydE9yZGVyPXQuZmVhdHVyZVNvcnRPcmRlciksdC5oYXNUZXh0RGF0YSgpJiZ0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlciYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0LnRleHQub3BhY2l0eVZlcnRleEFycmF5KSx0Lmhhc0ljb25EYXRhKCkmJnQuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyJiZ0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpLHQuaGFzQ29sbGlzaW9uQm94RGF0YSgpJiZ0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJnQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSx0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSYmdC5jb2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QnVmZmVyJiZ0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheSk7fSxFZS5wcm90b3R5cGUuc3ltYm9sRmFkZUNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6KHQtdGhpcy5jb21taXRUaW1lKS90aGlzLmZhZGVEdXJhdGlvbn0sRWUucHJvdG90eXBlLmhhc1RyYW5zaXRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YWxlfHx0LXRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU8dGhpcy5mYWRlRHVyYXRpb259LEVlLnByb3RvdHlwZS5zdGlsbFJlY2VudD1mdW5jdGlvbih0KXtyZXR1cm4gXCJ1bmRlZmluZWRcIiE9PXRoaXMuY29tbWl0VGltZSYmdGhpcy5jb21taXRUaW1lK3RoaXMuZmFkZUR1cmF0aW9uPnR9LEVlLnByb3RvdHlwZS5zZXRTdGFsZT1mdW5jdGlvbigpe3RoaXMuc3RhbGU9ITA7fTt2YXIgU2U9TWF0aC5wb3coMiwyNSksSWU9TWF0aC5wb3coMiwyNCksQ2U9TWF0aC5wb3coMiwxNyksemU9TWF0aC5wb3coMiwxNiksUGU9TWF0aC5wb3coMiw5KSxSZT1NYXRoLnBvdygyLDgpLEFlPU1hdGgucG93KDIsMSk7ZnVuY3Rpb24gTGUodCl7aWYoMD09PXQub3BhY2l0eSYmIXQucGxhY2VkKXJldHVybiAwO2lmKDE9PT10Lm9wYWNpdHkmJnQucGxhY2VkKXJldHVybiA0Mjk0OTY3Mjk1O3ZhciBlPXQucGxhY2VkPzE6MCxpPU1hdGguZmxvb3IoMTI3KnQub3BhY2l0eSk7cmV0dXJuIGkqU2UrZSpJZStpKkNlK2UqemUraSpQZStlKlJlK2kqQWUrZX12YXIgRGU9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50VGlsZUluZGV4PTAsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcz17fTt9O0RlLnByb3RvdHlwZS5jb250aW51ZVBsYWNlbWVudD1mdW5jdGlvbih0LGUsaSxuLG8pe2Zvcig7dGhpcy5fY3VycmVudFRpbGVJbmRleDx0Lmxlbmd0aDspe3ZhciByPXRbdGhpcy5fY3VycmVudFRpbGVJbmRleF07aWYoZS5wbGFjZUxheWVyVGlsZShuLHIsaSx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzKSx0aGlzLl9jdXJyZW50VGlsZUluZGV4KyssbygpKXJldHVybiAhMH19O3ZhciBNZT1mdW5jdGlvbih0LGUsaSxuLG8scil7dGhpcy5wbGFjZW1lbnQ9bmV3IEVlKHQsbyxyKSx0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg9ZS5sZW5ndGgtMSx0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQ9aSx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9bix0aGlzLl9kb25lPSExO307TWUucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb25lfSxNZS5wcm90b3R5cGUuY29udGludWVQbGFjZW1lbnQ9ZnVuY3Rpb24oZSxpLG4pe2Zvcih2YXIgbz10aGlzLHI9dC5icm93c2VyLm5vdygpLGE9ZnVuY3Rpb24oKXt2YXIgZT10LmJyb3dzZXIubm93KCktcjtyZXR1cm4gIW8uX2ZvcmNlRnVsbFBsYWNlbWVudCYmZT4yfTt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg+PTA7KXt2YXIgcz1pW2Vbby5fY3VycmVudFBsYWNlbWVudEluZGV4XV0sbD1vLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtpZihcInN5bWJvbFwiPT09cy50eXBlJiYoIXMubWluem9vbXx8cy5taW56b29tPD1sKSYmKCFzLm1heHpvb218fHMubWF4em9vbT5sKSl7aWYoby5faW5Qcm9ncmVzc0xheWVyfHwoby5faW5Qcm9ncmVzc0xheWVyPW5ldyBEZSksby5faW5Qcm9ncmVzc0xheWVyLmNvbnRpbnVlUGxhY2VtZW50KG5bcy5zb3VyY2VdLG8ucGxhY2VtZW50LG8uX3Nob3dDb2xsaXNpb25Cb3hlcyxzLGEpKXJldHVybjtkZWxldGUgby5faW5Qcm9ncmVzc0xheWVyO31vLl9jdXJyZW50UGxhY2VtZW50SW5kZXgtLTt9dGhpcy5fZG9uZT0hMDt9LE1lLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wbGFjZW1lbnQuY29tbWl0KHQsZSksdGhpcy5wbGFjZW1lbnR9O3ZhciBrZT01MTIvdC5FWFRFTlQvMixCZT1mdW5jdGlvbih0LGUsaSl7dGhpcy50aWxlSUQ9dCx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXM9e30sdGhpcy5idWNrZXRJbnN0YW5jZUlkPWk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPWUuZ2V0KG4pLHI9by5rZXk7dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3JdfHwodGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3JdPVtdKSx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbcl0ucHVzaCh7Y3Jvc3NUaWxlSUQ6by5jcm9zc1RpbGVJRCxjb29yZDp0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKG8sdCl9KTt9fTtCZS5wcm90b3R5cGUuZ2V0U2NhbGVkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSxpKXt2YXIgbj1pLmNhbm9uaWNhbC56LXRoaXMudGlsZUlELmNhbm9uaWNhbC56LG89a2UvTWF0aC5wb3coMixuKTtyZXR1cm4ge3g6TWF0aC5mbG9vcigoaS5jYW5vbmljYWwueCp0LkVYVEVOVCtlLmFuY2hvclgpKm8pLHk6TWF0aC5mbG9vcigoaS5jYW5vbmljYWwueSp0LkVYVEVOVCtlLmFuY2hvclkpKm8pfX0sQmUucHJvdG90eXBlLmZpbmRNYXRjaGVzPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy50aWxlSUQuY2Fub25pY2FsLno8ZS5jYW5vbmljYWwuej8xOk1hdGgucG93KDIsdGhpcy50aWxlSUQuY2Fub25pY2FsLnotZS5jYW5vbmljYWwueiksbz0wO288dC5sZW5ndGg7bysrKXt2YXIgcj10LmdldChvKTtpZighci5jcm9zc1RpbGVJRCl7dmFyIGE9dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3Iua2V5XTtpZihhKWZvcih2YXIgcz10aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHIsZSksbD0wLGM9YTtsPGMubGVuZ3RoO2wrPTEpe3ZhciBoPWNbbF07aWYoTWF0aC5hYnMoaC5jb29yZC54LXMueCk8PW4mJk1hdGguYWJzKGguY29vcmQueS1zLnkpPD1uJiYhaVtoLmNyb3NzVGlsZUlEXSl7aVtoLmNyb3NzVGlsZUlEXT0hMCxyLmNyb3NzVGlsZUlEPWguY3Jvc3NUaWxlSUQ7YnJlYWt9fX19fTt2YXIgT2U9ZnVuY3Rpb24oKXt0aGlzLm1heENyb3NzVGlsZUlEPTA7fTtPZS5wcm90b3R5cGUuZ2VuZXJhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gKyt0aGlzLm1heENyb3NzVGlsZUlEfTt2YXIgRmU9ZnVuY3Rpb24oKXt0aGlzLmluZGV4ZXM9e30sdGhpcy51c2VkQ3Jvc3NUaWxlSURzPXt9LHRoaXMubG5nPTA7fTtGZS5wcm90b3R5cGUuaGFuZGxlV3JhcEp1bXA9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5yb3VuZCgodC10aGlzLmxuZykvMzYwKTtpZigwIT09ZSlmb3IodmFyIGkgaW4gdGhpcy5pbmRleGVzKXt2YXIgbj10aGlzLmluZGV4ZXNbaV0sbz17fTtmb3IodmFyIHIgaW4gbil7dmFyIGE9bltyXTthLnRpbGVJRD1hLnRpbGVJRC51bndyYXBUbyhhLnRpbGVJRC53cmFwK2UpLG9bYS50aWxlSUQua2V5XT1hO310aGlzLmluZGV4ZXNbaV09bzt9dGhpcy5sbmc9dDt9LEZlLnByb3RvdHlwZS5hZGRCdWNrZXQ9ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuaW5kZXhlc1t0Lm92ZXJzY2FsZWRaXSYmdGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdW3Qua2V5XSl7aWYodGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdW3Qua2V5XS5idWNrZXRJbnN0YW5jZUlkPT09ZS5idWNrZXRJbnN0YW5jZUlkKXJldHVybiAhMTt0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyh0Lm92ZXJzY2FsZWRaLHRoaXMuaW5kZXhlc1t0Lm92ZXJzY2FsZWRaXVt0LmtleV0pO31mb3IodmFyIG49MDtuPGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtuKyspe2Uuc3ltYm9sSW5zdGFuY2VzLmdldChuKS5jcm9zc1RpbGVJRD0wO310aGlzLnVzZWRDcm9zc1RpbGVJRHNbdC5vdmVyc2NhbGVkWl18fCh0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdC5vdmVyc2NhbGVkWl09e30pO3ZhciBvPXRoaXMudXNlZENyb3NzVGlsZUlEc1t0Lm92ZXJzY2FsZWRaXTtmb3IodmFyIHIgaW4gdGhpcy5pbmRleGVzKXt2YXIgYT10aGlzLmluZGV4ZXNbcl07aWYoTnVtYmVyKHIpPnQub3ZlcnNjYWxlZFopZm9yKHZhciBzIGluIGEpe3ZhciBsPWFbc107bC50aWxlSUQuaXNDaGlsZE9mKHQpJiZsLmZpbmRNYXRjaGVzKGUuc3ltYm9sSW5zdGFuY2VzLHQsbyk7fWVsc2V7dmFyIGM9YVt0LnNjYWxlZFRvKE51bWJlcihyKSkua2V5XTtjJiZjLmZpbmRNYXRjaGVzKGUuc3ltYm9sSW5zdGFuY2VzLHQsbyk7fX1mb3IodmFyIGg9MDtoPGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtoKyspe3ZhciB1PWUuc3ltYm9sSW5zdGFuY2VzLmdldChoKTt1LmNyb3NzVGlsZUlEfHwodS5jcm9zc1RpbGVJRD1pLmdlbmVyYXRlKCksb1t1LmNyb3NzVGlsZUlEXT0hMCk7fXJldHVybiB2b2lkIDA9PT10aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl0mJih0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl09e30pLHRoaXMuaW5kZXhlc1t0Lm92ZXJzY2FsZWRaXVt0LmtleV09bmV3IEJlKHQsZS5zeW1ib2xJbnN0YW5jZXMsZS5idWNrZXRJbnN0YW5jZUlkKSwhMH0sRmUucHJvdG90eXBlLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXMpZm9yKHZhciBuPTAsbz1lLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbaV07bjxvLmxlbmd0aDtuKz0xKXt2YXIgcj1vW25dO2RlbGV0ZSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdF1bci5jcm9zc1RpbGVJRF07fX0sRmUucHJvdG90eXBlLnJlbW92ZVN0YWxlQnVja2V0cz1mdW5jdGlvbih0KXt2YXIgZT0hMTtmb3IodmFyIGkgaW4gdGhpcy5pbmRleGVzKXt2YXIgbj10aGlzLmluZGV4ZXNbaV07Zm9yKHZhciBvIGluIG4pdFtuW29dLmJ1Y2tldEluc3RhbmNlSWRdfHwodGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoaSxuW29dKSxkZWxldGUgbltvXSxlPSEwKTt9cmV0dXJuIGV9O3ZhciBVZT1mdW5jdGlvbigpe3RoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuY3Jvc3NUaWxlSURzPW5ldyBPZSx0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQ9MCx0aGlzLmJ1Y2tldHNJbkN1cnJlbnRQbGFjZW1lbnQ9e307fTtVZS5wcm90b3R5cGUuYWRkTGF5ZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMubGF5ZXJJbmRleGVzW3QuaWRdO3ZvaWQgMD09PW4mJihuPXRoaXMubGF5ZXJJbmRleGVzW3QuaWRdPW5ldyBGZSk7dmFyIG89ITEscj17fTtuLmhhbmRsZVdyYXBKdW1wKGkpO2Zvcih2YXIgYT0wLHM9ZTthPHMubGVuZ3RoO2ErPTEpe3ZhciBsPXNbYV0sYz1sLmdldEJ1Y2tldCh0KTtjJiZ0LmlkPT09Yy5sYXllcklkc1swXSYmKGMuYnVja2V0SW5zdGFuY2VJZHx8KGMuYnVja2V0SW5zdGFuY2VJZD0rK3RoaXMubWF4QnVja2V0SW5zdGFuY2VJZCksbi5hZGRCdWNrZXQobC50aWxlSUQsYyx0aGlzLmNyb3NzVGlsZUlEcykmJihvPSEwKSxyW2MuYnVja2V0SW5zdGFuY2VJZF09ITApO31yZXR1cm4gbi5yZW1vdmVTdGFsZUJ1Y2tldHMocikmJihvPSEwKSxvfSxVZS5wcm90b3R5cGUucHJ1bmVVbnVzZWRMYXllcnM9ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBpIGluIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPSEwO30pLHRoaXMubGF5ZXJJbmRleGVzKWVbaV18fGRlbGV0ZSB0aGlzLmxheWVySW5kZXhlc1tpXTt9O3ZhciBOZT1mdW5jdGlvbihlLGkpe3JldHVybiB0LmVtaXRWYWxpZGF0aW9uRXJyb3JzKGUsaSYmaS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIFwic291cmNlLmNhbnZhc1wiIT09dC5pZGVudGlmaWVyfSkpfSxaZT10LnBpY2soV3QsW1wiYWRkTGF5ZXJcIixcInJlbW92ZUxheWVyXCIsXCJzZXRQYWludFByb3BlcnR5XCIsXCJzZXRMYXlvdXRQcm9wZXJ0eVwiLFwic2V0RmlsdGVyXCIsXCJhZGRTb3VyY2VcIixcInJlbW92ZVNvdXJjZVwiLFwic2V0TGF5ZXJab29tUmFuZ2VcIixcInNldExpZ2h0XCIsXCJzZXRUcmFuc2l0aW9uXCIsXCJzZXRHZW9KU09OU291cmNlRGF0YVwiXSkscWU9dC5waWNrKFd0LFtcInNldENlbnRlclwiLFwic2V0Wm9vbVwiLFwic2V0QmVhcmluZ1wiLFwic2V0UGl0Y2hcIl0pLFZlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkobixvKXt2YXIgcj10aGlzO3ZvaWQgMD09PW8mJihvPXt9KSxlLmNhbGwodGhpcyksdGhpcy5tYXA9bix0aGlzLmRpc3BhdGNoZXI9bmV3IE8oKHF0fHwocXQ9bmV3IFZ0KSxxdCksdGhpcyksdGhpcy5pbWFnZU1hbmFnZXI9bmV3IEksdGhpcy5nbHlwaE1hbmFnZXI9bmV3IEwobi5fdHJhbnNmb3JtUmVxdWVzdCxvLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSksdGhpcy5saW5lQXRsYXM9bmV3IEIoMjU2LDUxMiksdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleD1uZXcgVWUsdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX29yZGVyPVtdLHRoaXMuc291cmNlQ2FjaGVzPXt9LHRoaXMuem9vbUhpc3Rvcnk9bmV3IHQuWm9vbUhpc3RvcnksdGhpcy5fbG9hZGVkPSExLHRoaXMuX3Jlc2V0VXBkYXRlcygpO3ZhciBhPXRoaXM7dGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrPWkucmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHkoZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIGEuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJsb2FkUlRMVGV4dFBsdWdpblwiLHQucGx1Z2luVVJMLHQuY29tcGxldGlvbkNhbGxiYWNrKSxhLnNvdXJjZUNhY2hlcylhLnNvdXJjZUNhY2hlc1tlXS5yZWxvYWQoKTt9KSx0aGlzLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKHQpe2lmKFwic291cmNlXCI9PT10LmRhdGFUeXBlJiZcIm1ldGFkYXRhXCI9PT10LnNvdXJjZURhdGFUeXBlKXt2YXIgZT1yLnNvdXJjZUNhY2hlc1t0LnNvdXJjZUlkXTtpZihlKXt2YXIgaT1lLmdldFNvdXJjZSgpO2lmKGkmJmkudmVjdG9yTGF5ZXJJZHMpZm9yKHZhciBuIGluIHIuX2xheWVycyl7dmFyIG89ci5fbGF5ZXJzW25dO28uc291cmNlPT09aS5pZCYmci5fdmFsaWRhdGVMYXllcihvKTt9fX19KTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWRVUkw9ZnVuY3Rpb24oZSxpKXt2YXIgbj10aGlzO3ZvaWQgMD09PWkmJihpPXt9KSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7dmFyIG89XCJib29sZWFuXCI9PXR5cGVvZiBpLnZhbGlkYXRlP2kudmFsaWRhdGU6IV8oZSk7ZT1mdW5jdGlvbih0LGUpe2lmKCFfKHQpKXJldHVybiB0O3ZhciBpPWIodCk7cmV0dXJuIGkucGF0aD1cIi9zdHlsZXMvdjFcIitpLnBhdGgsZChpLGUpfShlLGkuYWNjZXNzVG9rZW4pO3ZhciByPXRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KGUsdC5SZXNvdXJjZVR5cGUuU3R5bGUpO3RoaXMuX3JlcXVlc3Q9dC5nZXRKU09OKHIsZnVuY3Rpb24oZSxpKXtuLl9yZXF1ZXN0PW51bGwsZT9uLmZpcmUobmV3IHQuRXJyb3JFdmVudChlKSk6aSYmbi5fbG9hZChpLG8pO30pO30saS5wcm90b3R5cGUubG9hZEpTT049ZnVuY3Rpb24oZSxpKXt2YXIgbj10aGlzO3ZvaWQgMD09PWkmJihpPXt9KSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fcmVxdWVzdD10LmJyb3dzZXIuZnJhbWUoZnVuY3Rpb24oKXtuLl9yZXF1ZXN0PW51bGwsbi5fbG9hZChlLCExIT09aS52YWxpZGF0ZSk7fSk7fSxpLnByb3RvdHlwZS5fbG9hZD1mdW5jdGlvbihlLGkpe3ZhciBuPXRoaXM7aWYoIWl8fCFOZSh0aGlzLHQudmFsaWRhdGVTdHlsZShlKSkpe2Zvcih2YXIgbyBpbiB0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PWUsZS5zb3VyY2VzKW4uYWRkU291cmNlKG8sZS5zb3VyY2VzW29dLHt2YWxpZGF0ZTohMX0pO2Uuc3ByaXRlP3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSxpLG4pe3ZhciBvLHIsYSxzPXQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvPjE/XCJAMnhcIjpcIlwiLGw9dC5nZXRKU09OKGkoZyhlLHMsXCIuanNvblwiKSx0LlJlc291cmNlVHlwZS5TcHJpdGVKU09OKSxmdW5jdGlvbih0LGUpe2w9bnVsbCxhfHwoYT10LG89ZSxoKCkpO30pLGM9dC5nZXRJbWFnZShpKGcoZSxzLFwiLnBuZ1wiKSx0LlJlc291cmNlVHlwZS5TcHJpdGVJbWFnZSksZnVuY3Rpb24odCxlKXtjPW51bGwsYXx8KGE9dCxyPWUsaCgpKTt9KTtmdW5jdGlvbiBoKCl7aWYoYSluKGEpO2Vsc2UgaWYobyYmcil7dmFyIGU9dC5icm93c2VyLmdldEltYWdlRGF0YShyKSxpPXt9O2Zvcih2YXIgcyBpbiBvKXt2YXIgbD1vW3NdLGM9bC53aWR0aCxoPWwuaGVpZ2h0LHU9bC54LHA9bC55LGQ9bC5zZGYsXz1sLnBpeGVsUmF0aW8sZj1uZXcgdC5SR0JBSW1hZ2Uoe3dpZHRoOmMsaGVpZ2h0Omh9KTt0LlJHQkFJbWFnZS5jb3B5KGUsZix7eDp1LHk6cH0se3g6MCx5OjB9LHt3aWR0aDpjLGhlaWdodDpofSksaVtzXT17ZGF0YTpmLHBpeGVsUmF0aW86XyxzZGY6ZH07fW4obnVsbCxpKTt9fXJldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7bCYmKGwuY2FuY2VsKCksbD1udWxsKSxjJiYoYy5jYW5jZWwoKSxjPW51bGwpO319fShlLnNwcml0ZSx0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCxmdW5jdGlvbihlLGkpe2lmKG4uX3Nwcml0ZVJlcXVlc3Q9bnVsbCxlKW4uZmlyZShuZXcgdC5FcnJvckV2ZW50KGUpKTtlbHNlIGlmKGkpZm9yKHZhciBvIGluIGkpbi5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UobyxpW29dKTtuLmltYWdlTWFuYWdlci5zZXRMb2FkZWQoITApLG4uZmlyZShuZXcgdC5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO30pOnRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKGUuZ2x5cGhzKTt2YXIgcj1HdCh0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTt0aGlzLl9vcmRlcj1yLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pLHRoaXMuX2xheWVycz17fTtmb3IodmFyIGE9MCxzPXI7YTxzLmxlbmd0aDthKz0xKXt2YXIgbD1zW2FdOyhsPXQuY3JlYXRlU3R5bGVMYXllcihsKSkuc2V0RXZlbnRlZFBhcmVudChuLHtsYXllcjp7aWQ6bC5pZH19KSxuLl9sYXllcnNbbC5pZF09bDt9dGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldExheWVyc1wiLHRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcikpLHRoaXMubGlnaHQ9bmV3IGsodGhpcy5zdHlsZXNoZWV0LmxpZ2h0KSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJzdHlsZS5sb2FkXCIpKTt9fSxpLnByb3RvdHlwZS5fdmFsaWRhdGVMYXllcj1mdW5jdGlvbihlKXt2YXIgaT10aGlzLnNvdXJjZUNhY2hlc1tlLnNvdXJjZV07aWYoaSl7dmFyIG49ZS5zb3VyY2VMYXllcjtpZihuKXt2YXIgbz1pLmdldFNvdXJjZSgpOyhcImdlb2pzb25cIj09PW8udHlwZXx8by52ZWN0b3JMYXllcklkcyYmLTE9PT1vLnZlY3RvckxheWVySWRzLmluZGV4T2YobikpJiZ0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ1NvdXJjZSBsYXllciBcIicrbisnXCIgZG9lcyBub3QgZXhpc3Qgb24gc291cmNlIFwiJytvLmlkKydcIiBhcyBzcGVjaWZpZWQgYnkgc3R5bGUgbGF5ZXIgXCInK2UuaWQrJ1wiJykpKTt9fX0saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZFNvdXJjZXMpLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlQ2FjaGVzKWlmKCF0aGlzLnNvdXJjZUNhY2hlc1t0XS5sb2FkZWQoKSlyZXR1cm4gITE7cmV0dXJuICEhdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKX0saS5wcm90b3R5cGUuX3NlcmlhbGl6ZUxheWVycz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5fbGF5ZXJzW3RdLnNlcmlhbGl6ZSgpfSl9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb25zPWZ1bmN0aW9uKCl7aWYodGhpcy5saWdodCYmdGhpcy5saWdodC5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO2Zvcih2YXIgdCBpbiB0aGlzLnNvdXJjZUNhY2hlcylpZih0aGlzLnNvdXJjZUNhY2hlc1t0XS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO2Zvcih2YXIgZSBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7cmV0dXJuICExfSxpLnByb3RvdHlwZS5fY2hlY2tMb2FkZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fbG9hZGVkKXRocm93IG5ldyBFcnJvcihcIlN0eWxlIGlzIG5vdCBkb25lIGxvYWRpbmdcIil9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLl9sb2FkZWQpe2lmKHRoaXMuX2NoYW5nZWQpe3ZhciBpPU9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRMYXllcnMpLG49T2JqZWN0LmtleXModGhpcy5fcmVtb3ZlZExheWVycyk7Zm9yKHZhciBvIGluKGkubGVuZ3RofHxuLmxlbmd0aCkmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhpLG4pLHRoaXMuX3VwZGF0ZWRTb3VyY2VzKXt2YXIgcj10aGlzLl91cGRhdGVkU291cmNlc1tvXTtcInJlbG9hZFwiPT09cj90aGlzLl9yZWxvYWRTb3VyY2Uobyk6XCJjbGVhclwiPT09ciYmdGhpcy5fY2xlYXJTb3VyY2Uobyk7fWZvcih2YXIgYSBpbiB0aGlzLl91cGRhdGVkUGFpbnRQcm9wcyl0aGlzLl9sYXllcnNbYV0udXBkYXRlVHJhbnNpdGlvbnMoZSk7dGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhlKSx0aGlzLl9yZXNldFVwZGF0ZXMoKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTt9Zm9yKHZhciBzIGluIHRoaXMuc291cmNlQ2FjaGVzKXRoaXMuc291cmNlQ2FjaGVzW3NdLnVzZWQ9ITE7Zm9yKHZhciBsPTAsYz10aGlzLl9vcmRlcjtsPGMubGVuZ3RoO2wrPTEpe3ZhciBoPWNbbF0sdT10aGlzLl9sYXllcnNbaF07dS5yZWNhbGN1bGF0ZShlKSwhdS5pc0hpZGRlbihlLnpvb20pJiZ1LnNvdXJjZSYmKHRoaXMuc291cmNlQ2FjaGVzW3Uuc291cmNlXS51c2VkPSEwKTt9dGhpcy5saWdodC5yZWNhbGN1bGF0ZShlKSx0aGlzLno9ZS56b29tO319LGkucHJvdG90eXBlLl91cGRhdGVXb3JrZXJMYXllcnM9ZnVuY3Rpb24odCxlKXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwidXBkYXRlTGF5ZXJzXCIse2xheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModCkscmVtb3ZlZElkczplfSk7fSxpLnByb3RvdHlwZS5fcmVzZXRVcGRhdGVzPWZ1bmN0aW9uKCl7dGhpcy5fY2hhbmdlZD0hMSx0aGlzLl91cGRhdGVkTGF5ZXJzPXt9LHRoaXMuX3JlbW92ZWRMYXllcnM9e30sdGhpcy5fdXBkYXRlZFNvdXJjZXM9e30sdGhpcy5fdXBkYXRlZFBhaW50UHJvcHM9e307fSxpLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksTmUodGhpcyx0LnZhbGlkYXRlU3R5bGUoZSkpKXJldHVybiAhMTsoZT10LmNsb25lKGUpKS5sYXllcnM9R3QoZS5sYXllcnMpO3ZhciBuPXRlKHRoaXMuc2VyaWFsaXplKCksZSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAhKHQuY29tbWFuZCBpbiBxZSl9KTtpZigwPT09bi5sZW5ndGgpcmV0dXJuICExO3ZhciBvPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAhKHQuY29tbWFuZCBpbiBaZSl9KTtpZihvLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQ6IFwiK28ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbW1hbmR9KS5qb2luKFwiLCBcIikrXCIuXCIpO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24odCl7XCJzZXRUcmFuc2l0aW9uXCIhPT10LmNvbW1hbmQmJmlbdC5jb21tYW5kXS5hcHBseShpLHQuYXJncyk7fSksdGhpcy5zdHlsZXNoZWV0PWUsITB9LGkucHJvdG90eXBlLmFkZEltYWdlPWZ1bmN0aW9uKGUsaSl7aWYodGhpcy5nZXRJbWFnZShlKSlyZXR1cm4gdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiQW4gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuXCIpKSk7dGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UoZSxpKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTt9LGkucHJvdG90eXBlLmdldEltYWdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZSh0KX0saS5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZ2V0SW1hZ2UoZSkpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcihcIk5vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy5cIikpKTt0aGlzLmltYWdlTWFuYWdlci5yZW1vdmVJbWFnZShlKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTt9LGkucHJvdG90eXBlLmxpc3RJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCl9LGkucHJvdG90eXBlLmFkZFNvdXJjZT1mdW5jdGlvbihlLGksbil7dmFyIG89dGhpcztpZih0aGlzLl9jaGVja0xvYWRlZCgpLHZvaWQgMCE9PXRoaXMuc291cmNlQ2FjaGVzW2VdKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIGFscmVhZHkgYSBzb3VyY2Ugd2l0aCB0aGlzIElEXCIpO2lmKCFpLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHR5cGUgcHJvcGVydHkgbXVzdCBiZSBkZWZpbmVkLCBidXQgdGhlIG9ubHkgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHdlcmUgZ2l2ZW46IFwiK09iamVjdC5rZXlzKGkpLmpvaW4oXCIsIFwiKStcIi5cIik7aWYoIShbXCJ2ZWN0b3JcIixcInJhc3RlclwiLFwiZ2VvanNvblwiLFwidmlkZW9cIixcImltYWdlXCJdLmluZGV4T2YoaS50eXBlKT49MCl8fCF0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuc291cmNlLFwic291cmNlcy5cIitlLGksbnVsbCxuKSl7dGhpcy5tYXAmJnRoaXMubWFwLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcmJihpLmNvbGxlY3RSZXNvdXJjZVRpbWluZz0hMCk7dmFyIHI9dGhpcy5zb3VyY2VDYWNoZXNbZV09bmV3IE90KGUsaSx0aGlzLmRpc3BhdGNoZXIpO3Iuc3R5bGU9dGhpcyxyLnNldEV2ZW50ZWRQYXJlbnQodGhpcyxmdW5jdGlvbigpe3JldHVybiB7aXNTb3VyY2VMb2FkZWQ6by5sb2FkZWQoKSxzb3VyY2U6ci5zZXJpYWxpemUoKSxzb3VyY2VJZDplfX0pLHIub25BZGQodGhpcy5tYXApLHRoaXMuX2NoYW5nZWQ9ITA7fX0saS5wcm90b3R5cGUucmVtb3ZlU291cmNlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwPT09dGhpcy5zb3VyY2VDYWNoZXNbZV0pdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRFwiKTtmb3IodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tpXS5zb3VyY2U9PT1lKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ1NvdXJjZSBcIicrZSsnXCIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgbGF5ZXIgXCInK2krJ1wiIGlzIHVzaW5nIGl0LicpKSk7dmFyIG49dGhpcy5zb3VyY2VDYWNoZXNbZV07ZGVsZXRlIHRoaXMuc291cmNlQ2FjaGVzW2VdLGRlbGV0ZSB0aGlzLl91cGRhdGVkU291cmNlc1tlXSxuLmZpcmUobmV3IHQuRXZlbnQoXCJkYXRhXCIse3NvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIixkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZUlkOmV9KSksbi5zZXRFdmVudGVkUGFyZW50KG51bGwpLG4uY2xlYXJUaWxlcygpLG4ub25SZW1vdmUmJm4ub25SZW1vdmUodGhpcy5tYXApLHRoaXMuX2NoYW5nZWQ9ITA7fSxpLnByb3RvdHlwZS5zZXRHZW9KU09OU291cmNlRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5zb3VyY2VDYWNoZXNbdF0uZ2V0U291cmNlKCkuc2V0RGF0YShlKSx0aGlzLl9jaGFuZ2VkPSEwO30saS5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvdXJjZUNhY2hlc1t0XSYmdGhpcy5zb3VyY2VDYWNoZXNbdF0uZ2V0U291cmNlKCl9LGkucHJvdG90eXBlLmFkZExheWVyPWZ1bmN0aW9uKGUsaSxuKXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciBvPWUuaWQ7aWYodGhpcy5nZXRMYXllcihvKSl0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ0xheWVyIHdpdGggaWQgXCInK28rJ1wiIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwJykpKTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBlLnNvdXJjZSYmKHRoaXMuYWRkU291cmNlKG8sZS5zb3VyY2UpLGU9dC5jbG9uZShlKSxlPXQuZXh0ZW5kKGUse3NvdXJjZTpvfSkpLCF0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUubGF5ZXIsXCJsYXllcnMuXCIrbyxlLHthcnJheUluZGV4Oi0xfSxuKSl7dmFyIHI9dC5jcmVhdGVTdHlsZUxheWVyKGUpO3RoaXMuX3ZhbGlkYXRlTGF5ZXIociksci5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDpvfX0pO3ZhciBhPWk/dGhpcy5fb3JkZXIuaW5kZXhPZihpKTp0aGlzLl9vcmRlci5sZW5ndGg7aWYoaSYmLTE9PT1hKXRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignTGF5ZXIgd2l0aCBpZCBcIicraSsnXCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuJykpKTtlbHNle2lmKHRoaXMuX29yZGVyLnNwbGljZShhLDAsbyksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW29dPXIsdGhpcy5fcmVtb3ZlZExheWVyc1tvXSYmci5zb3VyY2Upe3ZhciBzPXRoaXMuX3JlbW92ZWRMYXllcnNbb107ZGVsZXRlIHRoaXMuX3JlbW92ZWRMYXllcnNbb10scy50eXBlIT09ci50eXBlP3RoaXMuX3VwZGF0ZWRTb3VyY2VzW3Iuc291cmNlXT1cImNsZWFyXCI6KHRoaXMuX3VwZGF0ZWRTb3VyY2VzW3Iuc291cmNlXT1cInJlbG9hZFwiLHRoaXMuc291cmNlQ2FjaGVzW3Iuc291cmNlXS5wYXVzZSgpKTt9dGhpcy5fdXBkYXRlTGF5ZXIocik7fX19LGkucHJvdG90eXBlLm1vdmVMYXllcj1mdW5jdGlvbihlLGkpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9sYXllcnNbZV0pe2lmKGUhPT1pKXt2YXIgbj10aGlzLl9vcmRlci5pbmRleE9mKGUpO3RoaXMuX29yZGVyLnNwbGljZShuLDEpO3ZhciBvPWk/dGhpcy5fb3JkZXIuaW5kZXhPZihpKTp0aGlzLl9vcmRlci5sZW5ndGg7aSYmLTE9PT1vP3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignTGF5ZXIgd2l0aCBpZCBcIicraSsnXCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuJykpKToodGhpcy5fb3JkZXIuc3BsaWNlKG8sMCxlKSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMCk7fX1lbHNlIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBsYXllciAnXCIrZStcIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgbW92ZWQuXCIpKSk7fSxpLnByb3RvdHlwZS5yZW1vdmVMYXllcj1mdW5jdGlvbihlKXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciBpPXRoaXMuX2xheWVyc1tlXTtpZihpKXtpLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7dmFyIG49dGhpcy5fb3JkZXIuaW5kZXhPZihlKTt0aGlzLl9vcmRlci5zcGxpY2UobiwxKSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuX3JlbW92ZWRMYXllcnNbZV09aSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdLGRlbGV0ZSB0aGlzLl91cGRhdGVkTGF5ZXJzW2VdLGRlbGV0ZSB0aGlzLl91cGRhdGVkUGFpbnRQcm9wc1tlXTt9ZWxzZSB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgbGF5ZXIgJ1wiK2UrXCInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHJlbW92ZWQuXCIpKSk7fSxpLnByb3RvdHlwZS5nZXRMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF5ZXJzW3RdfSxpLnByb3RvdHlwZS5zZXRMYXllclpvb21SYW5nZT1mdW5jdGlvbihlLGksbil7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgbz10aGlzLmdldExheWVyKGUpO28/by5taW56b29tPT09aSYmby5tYXh6b29tPT09bnx8KG51bGwhPWkmJihvLm1pbnpvb209aSksbnVsbCE9biYmKG8ubWF4em9vbT1uKSx0aGlzLl91cGRhdGVMYXllcihvKSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIGxheWVyICdcIitlK1wiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBoYXZlIHpvb20gZXh0ZW50LlwiKSkpO30saS5wcm90b3R5cGUuc2V0RmlsdGVyPWZ1bmN0aW9uKGUsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgbj10aGlzLmdldExheWVyKGUpO2lmKG4pe2lmKCF0LmRlZXBFcXVhbChuLmZpbHRlcixpKSlyZXR1cm4gbnVsbD09aT8obi5maWx0ZXI9dm9pZCAwLHZvaWQgdGhpcy5fdXBkYXRlTGF5ZXIobikpOnZvaWQodGhpcy5fdmFsaWRhdGUodC52YWxpZGF0ZVN0eWxlLmZpbHRlcixcImxheWVycy5cIituLmlkK1wiLmZpbHRlclwiLGkpfHwobi5maWx0ZXI9dC5jbG9uZShpKSx0aGlzLl91cGRhdGVMYXllcihuKSkpfWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIGxheWVyICdcIitlK1wiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC5cIikpKTt9LGkucHJvdG90eXBlLmdldEZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5jbG9uZSh0aGlzLmdldExheWVyKGUpLmZpbHRlcil9LGkucHJvdG90eXBlLnNldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKGUsaSxuKXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciBvPXRoaXMuZ2V0TGF5ZXIoZSk7bz90LmRlZXBFcXVhbChvLmdldExheW91dFByb3BlcnR5KGkpLG4pfHwoby5zZXRMYXlvdXRQcm9wZXJ0eShpLG4pLHRoaXMuX3VwZGF0ZUxheWVyKG8pKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgbGF5ZXIgJ1wiK2UrXCInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5cIikpKTt9LGkucHJvdG90eXBlLmdldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXIodCkuZ2V0TGF5b3V0UHJvcGVydHkoZSl9LGkucHJvdG90eXBlLnNldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24oZSxpLG4pe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIG89dGhpcy5nZXRMYXllcihlKTtvP3QuZGVlcEVxdWFsKG8uZ2V0UGFpbnRQcm9wZXJ0eShpKSxuKXx8KG8uc2V0UGFpbnRQcm9wZXJ0eShpLG4pJiZ0aGlzLl91cGRhdGVMYXllcihvKSx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW2VdPSEwKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgbGF5ZXIgJ1wiK2UrXCInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5cIikpKTt9LGkucHJvdG90eXBlLmdldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRMYXllcih0KS5nZXRQYWludFByb3BlcnR5KGUpfSxpLnByb3RvdHlwZS5zZXRGZWF0dXJlU3RhdGU9ZnVuY3Rpb24oZSxpKXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciBuPWUuc291cmNlLG89ZS5zb3VyY2VMYXllcixyPXRoaXMuc291cmNlQ2FjaGVzW25dLGE9cGFyc2VJbnQoZS5pZCwxMCk7dm9pZCAwIT09cj9cInZlY3RvclwiIT09ci5nZXRTb3VyY2UoKS50eXBlfHxvP2lzTmFOKGEpfHxhPDA/dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIGZlYXR1cmUgaWQgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgYW5kIG5vbi1uZWdhdGl2ZS5cIikpKTpyLnNldEZlYXR1cmVTdGF0ZShvLGEsaSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBzb3VyY2UgJ1wiK24rXCInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5cIikpKTt9LGkucHJvdG90eXBlLmdldEZlYXR1cmVTdGF0ZT1mdW5jdGlvbihlKXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciBpPWUuc291cmNlLG49ZS5zb3VyY2VMYXllcixvPXRoaXMuc291cmNlQ2FjaGVzW2ldLHI9cGFyc2VJbnQoZS5pZCwxMCk7aWYodm9pZCAwIT09bylpZihcInZlY3RvclwiIT09by5nZXRTb3VyY2UoKS50eXBlfHxuKXtpZighKGlzTmFOKHIpfHxyPDApKXJldHVybiBvLmdldEZlYXR1cmVTdGF0ZShuLHIpO3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGFuZCBub24tbmVnYXRpdmUuXCIpKSk7fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO2Vsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIHNvdXJjZSAnXCIraStcIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLlwiKSkpO30saS5wcm90b3R5cGUuZ2V0VHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0LmV4dGVuZCh7ZHVyYXRpb246MzAwLGRlbGF5OjB9LHRoaXMuc3R5bGVzaGVldCYmdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0LmZpbHRlck9iamVjdCh7dmVyc2lvbjp0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixuYW1lOnRoaXMuc3R5bGVzaGVldC5uYW1lLG1ldGFkYXRhOnRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxsaWdodDp0aGlzLnN0eWxlc2hlZXQubGlnaHQsY2VudGVyOnRoaXMuc3R5bGVzaGVldC5jZW50ZXIsem9vbTp0aGlzLnN0eWxlc2hlZXQuem9vbSxiZWFyaW5nOnRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLHBpdGNoOnRoaXMuc3R5bGVzaGVldC5waXRjaCxzcHJpdGU6dGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxnbHlwaHM6dGhpcy5zdHlsZXNoZWV0LmdseXBocyx0cmFuc2l0aW9uOnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHNvdXJjZXM6dC5tYXBPYmplY3QodGhpcy5zb3VyY2VDYWNoZXMsZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VyaWFsaXplKCl9KSxsYXllcnM6dGhpcy5fb3JkZXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9sYXllcnNbdF0uc2VyaWFsaXplKCl9KX0sZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXR9KX0saS5wcm90b3R5cGUuX3VwZGF0ZUxheWVyPWZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZWRMYXllcnNbdC5pZF09ITAsdC5zb3VyY2UmJiF0aGlzLl91cGRhdGVkU291cmNlc1t0LnNvdXJjZV0mJih0aGlzLl91cGRhdGVkU291cmNlc1t0LnNvdXJjZV09XCJyZWxvYWRcIix0aGlzLnNvdXJjZUNhY2hlc1t0LnNvdXJjZV0ucGF1c2UoKSksdGhpcy5fY2hhbmdlZD0hMDt9LGkucHJvdG90eXBlLl9mbGF0dGVuUmVuZGVyZWRGZWF0dXJlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT10aGlzLl9vcmRlci5sZW5ndGgtMTtpPj0wO2ktLSlmb3IodmFyIG49dGhpcy5fb3JkZXJbaV0sbz0wLHI9dDtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPXJbb11bbl07aWYoYSlmb3IodmFyIHM9MCxsPWE7czxsLmxlbmd0aDtzKz0xKXt2YXIgYz1sW3NdO2UucHVzaChjKTt9fXJldHVybiBlfSxpLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXM9ZnVuY3Rpb24oZSxpLG4pe2kmJmkuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuZmlsdGVyLFwicXVlcnlSZW5kZXJlZEZlYXR1cmVzLmZpbHRlclwiLGkuZmlsdGVyKTt2YXIgbz17fTtpZihpJiZpLmxheWVycyl7aWYoIUFycmF5LmlzQXJyYXkoaS5sYXllcnMpKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJwYXJhbWV0ZXJzLmxheWVycyBtdXN0IGJlIGFuIEFycmF5LlwiKSkpLFtdO2Zvcih2YXIgcj0wLGE9aS5sYXllcnM7cjxhLmxlbmd0aDtyKz0xKXt2YXIgcz1hW3JdLGw9dGhpcy5fbGF5ZXJzW3NdO2lmKCFsKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgbGF5ZXIgJ1wiK3MrXCInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHF1ZXJpZWQgZm9yIGZlYXR1cmVzLlwiKSkpLFtdO29bbC5zb3VyY2VdPSEwO319dmFyIGM9W10saD1lLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbi5wb2ludENvb3JkaW5hdGUodCl9KTtmb3IodmFyIHUgaW4gdGhpcy5zb3VyY2VDYWNoZXMpaS5sYXllcnMmJiFvW3VdfHxjLnB1c2goSih0aGlzLnNvdXJjZUNhY2hlc1t1XSx0aGlzLl9sYXllcnMsaCxpLG4pKTtyZXR1cm4gdGhpcy5wbGFjZW1lbnQmJmMucHVzaChmdW5jdGlvbih0LGUsaSxuLG8scil7Zm9yKHZhciBhPXt9LHM9by5xdWVyeVJlbmRlcmVkU3ltYm9scyhpKSxsPVtdLGM9MCxoPU9iamVjdC5rZXlzKHMpLm1hcChOdW1iZXIpO2M8aC5sZW5ndGg7Yys9MSl7dmFyIHU9aFtjXTtsLnB1c2goclt1XSk7fWwuc29ydChRKTtmb3IodmFyIHA9ZnVuY3Rpb24oKXt2YXIgZT1fW2RdLGk9ZS5mZWF0dXJlSW5kZXgubG9va3VwU3ltYm9sRmVhdHVyZXMoc1tlLmJ1Y2tldEluc3RhbmNlSWRdLGUuYnVja2V0SW5kZXgsZS5zb3VyY2VMYXllckluZGV4LG4uZmlsdGVyLG4ubGF5ZXJzLHQpO2Zvcih2YXIgbyBpbiBpKXt2YXIgcj1hW29dPWFbb118fFtdLGw9aVtvXTtsLnNvcnQoZnVuY3Rpb24odCxpKXt2YXIgbj1lLmZlYXR1cmVTb3J0T3JkZXI7aWYobil7dmFyIG89bi5pbmRleE9mKHQuZmVhdHVyZUluZGV4KTtyZXR1cm4gbi5pbmRleE9mKGkuZmVhdHVyZUluZGV4KS1vfXJldHVybiBpLmZlYXR1cmVJbmRleC10LmZlYXR1cmVJbmRleH0pO2Zvcih2YXIgYz0wLGg9bDtjPGgubGVuZ3RoO2MrPTEpe3ZhciB1PWhbY107ci5wdXNoKHUuZmVhdHVyZSk7fX19LGQ9MCxfPWw7ZDxfLmxlbmd0aDtkKz0xKXAoKTt2YXIgZj1mdW5jdGlvbihpKXthW2ldLmZvckVhY2goZnVuY3Rpb24obil7dmFyIG89dFtpXSxyPWVbby5zb3VyY2VdLmdldEZlYXR1cmVTdGF0ZShuLmxheWVyW1wic291cmNlLWxheWVyXCJdLG4uaWQpO24uc291cmNlPW4ubGF5ZXIuc291cmNlLG4ubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0mJihuLnNvdXJjZUxheWVyPW4ubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0pLG4uc3RhdGU9cjt9KTt9O2Zvcih2YXIgbSBpbiBhKWYobSk7cmV0dXJuIGF9KHRoaXMuX2xheWVycyx0aGlzLnNvdXJjZUNhY2hlcyxlLGksdGhpcy5wbGFjZW1lbnQuY29sbGlzaW9uSW5kZXgsdGhpcy5wbGFjZW1lbnQucmV0YWluZWRRdWVyeURhdGEpKSx0aGlzLl9mbGF0dGVuUmVuZGVyZWRGZWF0dXJlcyhjKX0saS5wcm90b3R5cGUucXVlcnlTb3VyY2VGZWF0dXJlcz1mdW5jdGlvbihlLGkpe2kmJmkuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuZmlsdGVyLFwicXVlcnlTb3VyY2VGZWF0dXJlcy5maWx0ZXJcIixpLmZpbHRlcik7dmFyIG49dGhpcy5zb3VyY2VDYWNoZXNbZV07cmV0dXJuIG4/ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dC5nZXRSZW5kZXJhYmxlSWRzKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFRpbGVCeUlEKGUpfSksbj1bXSxvPXt9LHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIGE9aVtyXSxzPWEudGlsZUlELmNhbm9uaWNhbC5rZXk7b1tzXXx8KG9bc109ITAsYS5xdWVyeVNvdXJjZUZlYXR1cmVzKG4sZSkpO31yZXR1cm4gbn0obixpKTpbXX0saS5wcm90b3R5cGUuYWRkU291cmNlVHlwZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGkuZ2V0U291cmNlVHlwZSh0KT9uKG5ldyBFcnJvcignQSBzb3VyY2UgdHlwZSBjYWxsZWQgXCInK3QrJ1wiIGFscmVhZHkgZXhpc3RzLicpKTooaS5zZXRTb3VyY2VUeXBlKHQsZSksZS53b3JrZXJTb3VyY2VVUkw/dm9pZCB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwibG9hZFdvcmtlclNvdXJjZVwiLHtuYW1lOnQsdXJsOmUud29ya2VyU291cmNlVVJMfSxuKTpuKG51bGwsbnVsbCkpfSxpLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCl9LGkucHJvdG90eXBlLnNldExpZ2h0PWZ1bmN0aW9uKGUpe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIGk9dGhpcy5saWdodC5nZXRMaWdodCgpLG49ITE7Zm9yKHZhciBvIGluIGUpaWYoIXQuZGVlcEVxdWFsKGVbb10saVtvXSkpe249ITA7YnJlYWt9aWYobil7dmFyIHI9e25vdzp0LmJyb3dzZXIubm93KCksdHJhbnNpdGlvbjp0LmV4dGVuZCh7ZHVyYXRpb246MzAwLGRlbGF5OjB9LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX07dGhpcy5saWdodC5zZXRMaWdodChlKSx0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKHIpO319LGkucHJvdG90eXBlLl92YWxpZGF0ZT1mdW5jdGlvbihlLGksbixvLHIpe3JldHVybiAoIXJ8fCExIT09ci52YWxpZGF0ZSkmJk5lKHRoaXMsZS5jYWxsKHQudmFsaWRhdGVTdHlsZSx0LmV4dGVuZCh7a2V5Omksc3R5bGU6dGhpcy5zZXJpYWxpemUoKSx2YWx1ZTpuLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30sbykpKX0saS5wcm90b3R5cGUuX3JlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksdC5ldmVudGVkLm9mZihcInBsdWdpbkF2YWlsYWJsZVwiLHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayksdGhpcy5zb3VyY2VDYWNoZXMpdGhpcy5zb3VyY2VDYWNoZXNbZV0uY2xlYXJUaWxlcygpO3RoaXMuZGlzcGF0Y2hlci5yZW1vdmUoKTt9LGkucHJvdG90eXBlLl9jbGVhclNvdXJjZT1mdW5jdGlvbih0KXt0aGlzLnNvdXJjZUNhY2hlc1t0XS5jbGVhclRpbGVzKCk7fSxpLnByb3RvdHlwZS5fcmVsb2FkU291cmNlPWZ1bmN0aW9uKHQpe3RoaXMuc291cmNlQ2FjaGVzW3RdLnJlc3VtZSgpLHRoaXMuc291cmNlQ2FjaGVzW3RdLnJlbG9hZCgpO30saS5wcm90b3R5cGUuX3VwZGF0ZVNvdXJjZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuc291cmNlQ2FjaGVzKXRoaXMuc291cmNlQ2FjaGVzW2VdLnVwZGF0ZSh0KTt9LGkucHJvdG90eXBlLl9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlQ2FjaGVzKXRoaXMuX3JlbG9hZFNvdXJjZSh0KTt9LGkucHJvdG90eXBlLl91cGRhdGVQbGFjZW1lbnQ9ZnVuY3Rpb24oZSxpLG4sbyl7Zm9yKHZhciByPSExLGE9ITEscz17fSxsPTAsYz10aGlzLl9vcmRlcjtsPGMubGVuZ3RoO2wrPTEpe3ZhciBoPWNbbF0sdT10aGlzLl9sYXllcnNbaF07aWYoXCJzeW1ib2xcIj09PXUudHlwZSl7aWYoIXNbdS5zb3VyY2VdKXt2YXIgcD10aGlzLnNvdXJjZUNhY2hlc1t1LnNvdXJjZV07c1t1LnNvdXJjZV09cC5nZXRSZW5kZXJhYmxlSWRzKCEwKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHAuZ2V0VGlsZUJ5SUQodCl9KS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudGlsZUlELm92ZXJzY2FsZWRaLXQudGlsZUlELm92ZXJzY2FsZWRafHwodC50aWxlSUQuaXNMZXNzVGhhbihlLnRpbGVJRCk/LTE6MSl9KTt9dmFyIGQ9dGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5hZGRMYXllcih1LHNbdS5zb3VyY2VdLGUuY2VudGVyLmxuZyk7cj1yfHxkO319dGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5wcnVuZVVudXNlZExheWVycyh0aGlzLl9vcmRlcik7dmFyIF89dGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ7aWYoKF98fCF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudHx8dGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJiF0aGlzLnBsYWNlbWVudC5zdGlsbFJlY2VudCh0LmJyb3dzZXIubm93KCkpKSYmKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50PW5ldyBNZShlLHRoaXMuX29yZGVyLF8saSxuLG8pLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSExKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKT90aGlzLnBsYWNlbWVudC5zZXRTdGFsZSgpOih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlcix0aGlzLl9sYXllcnMscyksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJih0aGlzLnBsYWNlbWVudD10aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQodGhpcy5wbGFjZW1lbnQsdC5icm93c2VyLm5vdygpKSxhPSEwKSxyJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksYXx8cilmb3IodmFyIGY9MCxtPXRoaXMuX29yZGVyO2Y8bS5sZW5ndGg7Zis9MSl7dmFyIGc9bVtmXSx2PXRoaXMuX2xheWVyc1tnXTtcInN5bWJvbFwiPT09di50eXBlJiZ0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyh2LHNbdi5zb3VyY2VdKTt9cmV0dXJuICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKXx8dGhpcy5wbGFjZW1lbnQuaGFzVHJhbnNpdGlvbnModC5icm93c2VyLm5vdygpKX0saS5wcm90b3R5cGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpdGhpcy5zb3VyY2VDYWNoZXNbdF0ucmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpO30saS5wcm90b3R5cGUuZ2V0SW1hZ2VzPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXMoZS5pY29ucyxpKTt9LGkucHJvdG90eXBlLmdldEdseXBocz1mdW5jdGlvbih0LGUsaSl7dGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKGUuc3RhY2tzLGkpO30saX0odC5FdmVudGVkKTtWZS5nZXRTb3VyY2VUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiBLW3RdfSxWZS5zZXRTb3VyY2VUeXBlPWZ1bmN0aW9uKHQsZSl7S1t0XT1lO30sVmUucmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHk9dC5yZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eTt2YXIgamU9dC5jcmVhdGVMYXlvdXQoW3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSksR2U9e3ByZWx1ZGU6e2ZyYWdtZW50U291cmNlOlwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2Vsc2VcXG5cXG4jaWYgIWRlZmluZWQobG93cClcXG4jZGVmaW5lIGxvd3BcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQobWVkaXVtcClcXG4jZGVmaW5lIG1lZGl1bXBcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQoaGlnaHApXFxuI2RlZmluZSBoaWdocFxcbiNlbmRpZlxcblxcbiNlbmRpZlxcblwiLHZlcnRleFNvdXJjZTpcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZWxzZVxcblxcbiNpZiAhZGVmaW5lZChsb3dwKVxcbiNkZWZpbmUgbG93cFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxcbiNkZWZpbmUgbWVkaXVtcFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChoaWdocClcXG4jZGVmaW5lIGhpZ2hwXFxuI2VuZGlmXFxuXFxuI2VuZGlmXFxuXFxuLy8gVW5wYWNrIGEgcGFpciBvZiB2YWx1ZXMgdGhhdCBoYXZlIGJlZW4gcGFja2VkIGludG8gYSBzaW5nbGUgZmxvYXQuXFxuLy8gVGhlIHBhY2tlZCB2YWx1ZXMgYXJlIGFzc3VtZWQgdG8gYmUgOC1iaXQgdW5zaWduZWQgaW50ZWdlcnMsIGFuZCBhcmVcXG4vLyBwYWNrZWQgbGlrZSBzbzpcXG4vLyBwYWNrZWRWYWx1ZSA9IGZsb29yKGlucHV0WzBdKSAqIDI1NiArIGlucHV0WzFdLFxcbnZlYzIgdW5wYWNrX2Zsb2F0KGNvbnN0IGZsb2F0IHBhY2tlZFZhbHVlKSB7XFxuICAgIGludCBwYWNrZWRJbnRWYWx1ZSA9IGludChwYWNrZWRWYWx1ZSk7XFxuICAgIGludCB2MCA9IHBhY2tlZEludFZhbHVlIC8gMjU2O1xcbiAgICByZXR1cm4gdmVjMih2MCwgcGFja2VkSW50VmFsdWUgLSB2MCAqIDI1Nik7XFxufVxcblxcbnZlYzIgdW5wYWNrX29wYWNpdHkoY29uc3QgZmxvYXQgcGFja2VkT3BhY2l0eSkge1xcbiAgICBpbnQgaW50T3BhY2l0eSA9IGludChwYWNrZWRPcGFjaXR5KSAvIDI7XFxuICAgIHJldHVybiB2ZWMyKGZsb2F0KGludE9wYWNpdHkpIC8gMTI3LjAsIG1vZChwYWNrZWRPcGFjaXR5LCAyLjApKTtcXG59XFxuXFxuLy8gVG8gbWluaW1pemUgdGhlIG51bWJlciBvZiBhdHRyaWJ1dGVzIG5lZWRlZCwgd2UgZW5jb2RlIGEgNC1jb21wb25lbnRcXG4vLyBjb2xvciBpbnRvIGEgcGFpciBvZiBmbG9hdHMgKGkuZS4gYSB2ZWMyKSBhcyBmb2xsb3dzOlxcbi8vIFsgZmxvb3IoY29sb3IuciAqIDI1NSkgKiAyNTYgKyBjb2xvci5nICogMjU1LFxcbi8vICAgZmxvb3IoY29sb3IuYiAqIDI1NSkgKiAyNTYgKyBjb2xvci5nICogMjU1IF1cXG52ZWM0IGRlY29kZV9jb2xvcihjb25zdCB2ZWMyIGVuY29kZWRDb2xvcikge1xcbiAgICByZXR1cm4gdmVjNChcXG4gICAgICAgIHVucGFja19mbG9hdChlbmNvZGVkQ29sb3JbMF0pIC8gMjU1LjAsXFxuICAgICAgICB1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzFdKSAvIDI1NS4wXFxuICAgICk7XFxufVxcblxcbi8vIFVucGFjayBhIHBhaXIgb2YgcGFpbnQgdmFsdWVzIGFuZCBpbnRlcnBvbGF0ZSBiZXR3ZWVuIHRoZW0uXFxuZmxvYXQgdW5wYWNrX21peF92ZWMyKGNvbnN0IHZlYzIgcGFja2VkVmFsdWUsIGNvbnN0IGZsb2F0IHQpIHtcXG4gICAgcmV0dXJuIG1peChwYWNrZWRWYWx1ZVswXSwgcGFja2VkVmFsdWVbMV0sIHQpO1xcbn1cXG5cXG4vLyBVbnBhY2sgYSBwYWlyIG9mIHBhaW50IHZhbHVlcyBhbmQgaW50ZXJwb2xhdGUgYmV0d2VlbiB0aGVtLlxcbnZlYzQgdW5wYWNrX21peF9jb2xvcihjb25zdCB2ZWM0IHBhY2tlZENvbG9ycywgY29uc3QgZmxvYXQgdCkge1xcbiAgICB2ZWM0IG1pbkNvbG9yID0gZGVjb2RlX2NvbG9yKHZlYzIocGFja2VkQ29sb3JzWzBdLCBwYWNrZWRDb2xvcnNbMV0pKTtcXG4gICAgdmVjNCBtYXhDb2xvciA9IGRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1syXSwgcGFja2VkQ29sb3JzWzNdKSk7XFxuICAgIHJldHVybiBtaXgobWluQ29sb3IsIG1heENvbG9yLCB0KTtcXG59XFxuXFxuLy8gVGhlIG9mZnNldCBkZXBlbmRzIG9uIGhvdyBtYW55IHBpeGVscyBhcmUgYmV0d2VlbiB0aGUgd29ybGQgb3JpZ2luIGFuZCB0aGUgZWRnZSBvZiB0aGUgdGlsZTpcXG4vLyB2ZWMyIG9mZnNldCA9IG1vZChwaXhlbF9jb29yZCwgc2l6ZSlcXG4vL1xcbi8vIEF0IGhpZ2ggem9vbSBsZXZlbHMgdGhlcmUgYXJlIGEgdG9uIG9mIHBpeGVscyBiZXR3ZWVuIHRoZSB3b3JsZCBvcmlnaW4gYW5kIHRoZSBlZGdlIG9mIHRoZSB0aWxlLlxcbi8vIFRoZSBnbHNsIHNwZWMgb25seSBndWFyYW50ZWVzIDE2IGJpdHMgb2YgcHJlY2lzaW9uIGZvciBoaWdocCBmbG9hdHMuIFdlIG5lZWQgbW9yZSB0aGFuIHRoYXQuXFxuLy9cXG4vLyBUaGUgcGl4ZWxfY29vcmQgaXMgcGFzc2VkIGluIGFzIHR3byAxNiBiaXQgdmFsdWVzOlxcbi8vIHBpeGVsX2Nvb3JkX3VwcGVyID0gZmxvb3IocGl4ZWxfY29vcmQgLyAyXjE2KVxcbi8vIHBpeGVsX2Nvb3JkX2xvd2VyID0gbW9kKHBpeGVsX2Nvb3JkLCAyXjE2KVxcbi8vXFxuLy8gVGhlIG9mZnNldCBpcyBjYWxjdWxhdGVkIGluIGEgc2VyaWVzIG9mIHN0ZXBzIHRoYXQgc2hvdWxkIHByZXNlcnZlIHRoaXMgcHJlY2lzaW9uOlxcbnZlYzIgZ2V0X3BhdHRlcm5fcG9zKGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfdXBwZXIsIGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfbG93ZXIsXFxuICAgIGNvbnN0IHZlYzIgcGF0dGVybl9zaXplLCBjb25zdCBmbG9hdCB0aWxlX3VuaXRzX3RvX3BpeGVscywgY29uc3QgdmVjMiBwb3MpIHtcXG5cXG4gICAgdmVjMiBvZmZzZXQgPSBtb2QobW9kKG1vZChwaXhlbF9jb29yZF91cHBlciwgcGF0dGVybl9zaXplKSAqIDI1Ni4wLCBwYXR0ZXJuX3NpemUpICogMjU2LjAgKyBwaXhlbF9jb29yZF9sb3dlciwgcGF0dGVybl9zaXplKTtcXG4gICAgcmV0dXJuICh0aWxlX3VuaXRzX3RvX3BpeGVscyAqIHBvcyArIG9mZnNldCkgLyBwYXR0ZXJuX3NpemU7XFxufVxcblwifSxiYWNrZ3JvdW5kOntmcmFnbWVudFNvdXJjZTpcInVuaWZvcm0gdmVjNCB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdV9jb2xvciAqIHVfb3BhY2l0eTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwiYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MsIDAsIDEpO1xcbn1cXG5cIn0sYmFja2dyb3VuZFBhdHRlcm46e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTtcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO1xcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7XFxudW5pZm9ybSBmbG9hdCB1X21peDtcXG51bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcblxcbnZhcnlpbmcgdmVjMiB2X3Bvc19hO1xcbnZhcnlpbmcgdmVjMiB2X3Bvc19iO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgdmVjMiBpbWFnZWNvb3JkID0gbW9kKHZfcG9zX2EsIDEuMCk7XFxuICAgIHZlYzIgcG9zID0gbWl4KHVfcGF0dGVybl90bF9hIC8gdV90ZXhzaXplLCB1X3BhdHRlcm5fYnJfYSAvIHVfdGV4c2l6ZSwgaW1hZ2Vjb29yZCk7XFxuICAgIHZlYzQgY29sb3IxID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHBvcyk7XFxuXFxuICAgIHZlYzIgaW1hZ2Vjb29yZF9iID0gbW9kKHZfcG9zX2IsIDEuMCk7XFxuICAgIHZlYzIgcG9zMiA9IG1peCh1X3BhdHRlcm5fdGxfYiAvIHVfdGV4c2l6ZSwgdV9wYXR0ZXJuX2JyX2IgLyB1X3RleHNpemUsIGltYWdlY29vcmRfYik7XFxuICAgIHZlYzQgY29sb3IyID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHBvczIpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBtaXgoY29sb3IxLCBjb2xvcjIsIHVfbWl4KSAqIHVfb3BhY2l0eTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9hO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9iO1xcbnVuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO1xcbnVuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO1xcbnVuaWZvcm0gZmxvYXQgdV9zY2FsZV9hO1xcbnVuaWZvcm0gZmxvYXQgdV9zY2FsZV9iO1xcbnVuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVscztcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTtcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKTtcXG5cXG4gICAgdl9wb3NfYSA9IGdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLCB1X3BpeGVsX2Nvb3JkX2xvd2VyLCB1X3NjYWxlX2EgKiB1X3BhdHRlcm5fc2l6ZV9hLCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLCBhX3Bvcyk7XFxuICAgIHZfcG9zX2IgPSBnZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlciwgdV9waXhlbF9jb29yZF9sb3dlciwgdV9zY2FsZV9iICogdV9wYXR0ZXJuX3NpemVfYiwgdV90aWxlX3VuaXRzX3RvX3BpeGVscywgYV9wb3MpO1xcbn1cXG5cIn0sY2lyY2xlOntmcmFnbWVudFNvdXJjZTpcIiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG5cXG52YXJ5aW5nIHZlYzMgdl9kYXRhO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG5cXG4gICAgdmVjMiBleHRydWRlID0gdl9kYXRhLnh5O1xcbiAgICBmbG9hdCBleHRydWRlX2xlbmd0aCA9IGxlbmd0aChleHRydWRlKTtcXG5cXG4gICAgbG93cCBmbG9hdCBhbnRpYWxpYXNibHVyID0gdl9kYXRhLno7XFxuICAgIGZsb2F0IGFudGlhbGlhc2VkX2JsdXIgPSAtbWF4KGJsdXIsIGFudGlhbGlhc2JsdXIpO1xcblxcbiAgICBmbG9hdCBvcGFjaXR5X3QgPSBzbW9vdGhzdGVwKDAuMCwgYW50aWFsaWFzZWRfYmx1ciwgZXh0cnVkZV9sZW5ndGggLSAxLjApO1xcblxcbiAgICBmbG9hdCBjb2xvcl90ID0gc3Ryb2tlX3dpZHRoIDwgMC4wMSA/IDAuMCA6IHNtb290aHN0ZXAoXFxuICAgICAgICBhbnRpYWxpYXNlZF9ibHVyLFxcbiAgICAgICAgMC4wLFxcbiAgICAgICAgZXh0cnVkZV9sZW5ndGggLSByYWRpdXMgLyAocmFkaXVzICsgc3Ryb2tlX3dpZHRoKVxcbiAgICApO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBvcGFjaXR5X3QgKiBtaXgoY29sb3IgKiBvcGFjaXR5LCBzdHJva2VfY29sb3IgKiBzdHJva2Vfb3BhY2l0eSwgY29sb3JfdCk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcInVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIGJvb2wgdV9zY2FsZV93aXRoX21hcDtcXG51bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDtcXG51bmlmb3JtIHZlYzIgdV9leHRydWRlX3NjYWxlO1xcbnVuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG5cXG52YXJ5aW5nIHZlYzMgdl9kYXRhO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxuXFxuICAgIC8vIHVuZW5jb2RlIHRoZSBleHRydXNpb24gdmVjdG9yIHRoYXQgd2Ugc251Y2sgaW50byB0aGUgYV9wb3MgdmVjdG9yXFxuICAgIHZlYzIgZXh0cnVkZSA9IHZlYzIobW9kKGFfcG9zLCAyLjApICogMi4wIC0gMS4wKTtcXG5cXG4gICAgLy8gbXVsdGlwbHkgYV9wb3MgYnkgMC41LCBzaW5jZSB3ZSBoYWQgaXQgKiAyIGluIG9yZGVyIHRvIHNuZWFrXFxuICAgIC8vIGluIGV4dHJ1c2lvbiBkYXRhXFxuICAgIHZlYzIgY2lyY2xlX2NlbnRlciA9IGZsb29yKGFfcG9zICogMC41KTtcXG4gICAgaWYgKHVfcGl0Y2hfd2l0aF9tYXApIHtcXG4gICAgICAgIHZlYzIgY29ybmVyX3Bvc2l0aW9uID0gY2lyY2xlX2NlbnRlcjtcXG4gICAgICAgIGlmICh1X3NjYWxlX3dpdGhfbWFwKSB7XFxuICAgICAgICAgICAgY29ybmVyX3Bvc2l0aW9uICs9IGV4dHJ1ZGUgKiAocmFkaXVzICsgc3Ryb2tlX3dpZHRoKSAqIHVfZXh0cnVkZV9zY2FsZTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgLy8gUGl0Y2hpbmcgdGhlIGNpcmNsZSB3aXRoIHRoZSBtYXAgZWZmZWN0aXZlbHkgc2NhbGVzIGl0IHdpdGggdGhlIG1hcFxcbiAgICAgICAgICAgIC8vIFRvIGNvdW50ZXJhY3QgdGhlIGVmZmVjdCBmb3IgcGl0Y2gtc2NhbGU6IHZpZXdwb3J0LCB3ZSByZXNjYWxlIHRoZVxcbiAgICAgICAgICAgIC8vIHdob2xlIGNpcmNsZSBiYXNlZCBvbiB0aGUgcGl0Y2ggc2NhbGluZyBlZmZlY3QgYXQgaXRzIGNlbnRyYWwgcG9pbnRcXG4gICAgICAgICAgICB2ZWM0IHByb2plY3RlZF9jZW50ZXIgPSB1X21hdHJpeCAqIHZlYzQoY2lyY2xlX2NlbnRlciwgMCwgMSk7XFxuICAgICAgICAgICAgY29ybmVyX3Bvc2l0aW9uICs9IGV4dHJ1ZGUgKiAocmFkaXVzICsgc3Ryb2tlX3dpZHRoKSAqIHVfZXh0cnVkZV9zY2FsZSAqIChwcm9qZWN0ZWRfY2VudGVyLncgLyB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoY29ybmVyX3Bvc2l0aW9uLCAwLCAxKTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGNpcmNsZV9jZW50ZXIsIDAsIDEpO1xcblxcbiAgICAgICAgaWYgKHVfc2NhbGVfd2l0aF9tYXApIHtcXG4gICAgICAgICAgICBnbF9Qb3NpdGlvbi54eSArPSBleHRydWRlICogKHJhZGl1cyArIHN0cm9rZV93aWR0aCkgKiB1X2V4dHJ1ZGVfc2NhbGUgKiB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uLnh5ICs9IGV4dHJ1ZGUgKiAocmFkaXVzICsgc3Ryb2tlX3dpZHRoKSAqIHVfZXh0cnVkZV9zY2FsZSAqIGdsX1Bvc2l0aW9uLnc7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLy8gVGhpcyBpcyBhIG1pbmltdW0gYmx1ciBkaXN0YW5jZSB0aGF0IHNlcnZlcyBhcyBhIGZhdXgtYW50aWFsaWFzaW5nIGZvclxcbiAgICAvLyB0aGUgY2lyY2xlLiBzaW5jZSBibHVyIGlzIGEgcmF0aW8gb2YgdGhlIGNpcmNsZSdzIHNpemUgYW5kIHRoZSBpbnRlbnQgaXNcXG4gICAgLy8gdG8ga2VlcCB0aGUgYmx1ciBhdCByb3VnaGx5IDFweCwgdGhlIHR3byBhcmUgaW52ZXJzZWx5IHJlbGF0ZWQuXFxuICAgIGxvd3AgZmxvYXQgYW50aWFsaWFzYmx1ciA9IDEuMCAvIERFVklDRV9QSVhFTF9SQVRJTyAvIChyYWRpdXMgKyBzdHJva2Vfd2lkdGgpO1xcblxcbiAgICB2X2RhdGEgPSB2ZWMzKGV4dHJ1ZGUueCwgZXh0cnVkZS55LCBhbnRpYWxpYXNibHVyKTtcXG59XFxuXCJ9LGNsaXBwaW5nTWFzazp7ZnJhZ21lbnRTb3VyY2U6XCJ2b2lkIG1haW4oKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG59XFxuXCIsdmVydGV4U291cmNlOlwiYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MsIDAsIDEpO1xcbn1cXG5cIn0saGVhdG1hcDp7ZnJhZ21lbnRTb3VyY2U6XCIjcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcblxcbnVuaWZvcm0gaGlnaHAgZmxvYXQgdV9pbnRlbnNpdHk7XFxudmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG5cXG4vLyBHYXVzc2lhbiBrZXJuZWwgY29lZmZpY2llbnQ6IDEgLyBzcXJ0KDIgKiBQSSlcXG4jZGVmaW5lIEdBVVNTX0NPRUYgMC4zOTg5NDIyODA0MDE0MzI3XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCB3ZWlnaHRcXG5cXG4gICAgLy8gS2VybmVsIGRlbnNpdHkgZXN0aW1hdGlvbiB3aXRoIGEgR2F1c3NpYW4ga2VybmVsIG9mIHNpemUgNXg1XFxuICAgIGZsb2F0IGQgPSAtMC41ICogMy4wICogMy4wICogZG90KHZfZXh0cnVkZSwgdl9leHRydWRlKTtcXG4gICAgZmxvYXQgdmFsID0gd2VpZ2h0ICogdV9pbnRlbnNpdHkgKiBHQVVTU19DT0VGICogZXhwKGQpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZhbCwgMS4wLCAxLjAsIDEuMCk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcIiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcblxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIGZsb2F0IHVfZXh0cnVkZV9zY2FsZTtcXG51bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTtcXG51bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5O1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcblxcbnZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7XFxuXFxuLy8gRWZmZWN0aXZlIFxcXCIwXFxcIiBpbiB0aGUga2VybmVsIGRlbnNpdHkgdGV4dHVyZSB0byBhZGp1c3QgdGhlIGtlcm5lbCBzaXplIHRvO1xcbi8vIHRoaXMgZW1waXJpY2FsbHkgY2hvc2VuIG51bWJlciBtaW5pbWl6ZXMgYXJ0aWZhY3RzIG9uIG92ZXJsYXBwaW5nIGtlcm5lbHNcXG4vLyBmb3IgdHlwaWNhbCBoZWF0bWFwIGNhc2VzIChhc3N1bWluZyBjbHVzdGVyZWQgc291cmNlKVxcbmNvbnN0IGhpZ2hwIGZsb2F0IFpFUk8gPSAxLjAgLyAyNTUuMCAvIDE2LjA7XFxuXFxuLy8gR2F1c3NpYW4ga2VybmVsIGNvZWZmaWNpZW50OiAxIC8gc3FydCgyICogUEkpXFxuI2RlZmluZSBHQVVTU19DT0VGIDAuMzk4OTQyMjgwNDAxNDMyN1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcblxcbiAgICAvLyB1bmVuY29kZSB0aGUgZXh0cnVzaW9uIHZlY3RvciB0aGF0IHdlIHNudWNrIGludG8gdGhlIGFfcG9zIHZlY3RvclxcbiAgICB2ZWMyIHVuc2NhbGVkX2V4dHJ1ZGUgPSB2ZWMyKG1vZChhX3BvcywgMi4wKSAqIDIuMCAtIDEuMCk7XFxuXFxuICAgIC8vIFRoaXMgJ2V4dHJ1ZGUnIGNvbWVzIGluIHJhbmdpbmcgZnJvbSBbLTEsIC0xXSwgdG8gWzEsIDFdLiAgV2UnbGwgdXNlXFxuICAgIC8vIGl0IHRvIHByb2R1Y2UgdGhlIHZlcnRpY2VzIG9mIGEgc3F1YXJlIG1lc2ggZnJhbWluZyB0aGUgcG9pbnQgZmVhdHVyZVxcbiAgICAvLyB3ZSdyZSBhZGRpbmcgdG8gdGhlIGtlcm5lbCBkZW5zaXR5IHRleHR1cmUuICBXZSdsbCBhbHNvIHBhc3MgaXQgYXNcXG4gICAgLy8gYSB2YXJ5aW5nLCBzbyB0aGF0IHRoZSBmcmFnbWVudCBzaGFkZXIgY2FuIGRldGVybWluZSB0aGUgZGlzdGFuY2Ugb2ZcXG4gICAgLy8gZWFjaCBmcmFnbWVudCBmcm9tIHRoZSBwb2ludCBmZWF0dXJlLlxcbiAgICAvLyBCZWZvcmUgd2UgZG8gc28sIHdlIG5lZWQgdG8gc2NhbGUgaXQgdXAgc3VmZmljaWVudGx5IHNvIHRoYXQgdGhlXFxuICAgIC8vIGtlcm5lbCBmYWxscyBlZmZlY3RpdmVseSB0byB6ZXJvIGF0IHRoZSBlZGdlIG9mIHRoZSBtZXNoLlxcbiAgICAvLyBUaGF0IGlzLCB3ZSB3YW50IHRvIGtub3cgUyBzdWNoIHRoYXRcXG4gICAgLy8gd2VpZ2h0ICogdV9pbnRlbnNpdHkgKiBHQVVTU19DT0VGICogZXhwKC0wLjUgKiAzLjBeMiAqIFNeMikgPT0gWkVST1xcbiAgICAvLyBXaGljaCBzb2x2ZXMgdG86XFxuICAgIC8vIFMgPSBzcXJ0KC0yLjAgKiBsb2coWkVSTyAvICh3ZWlnaHQgKiB1X2ludGVuc2l0eSAqIEdBVVNTX0NPRUYpKSkgLyAzLjBcXG4gICAgZmxvYXQgUyA9IHNxcnQoLTIuMCAqIGxvZyhaRVJPIC8gd2VpZ2h0IC8gdV9pbnRlbnNpdHkgLyBHQVVTU19DT0VGKSkgLyAzLjA7XFxuXFxuICAgIC8vIFBhc3MgdGhlIHZhcnlpbmcgaW4gdW5pdHMgb2YgcmFkaXVzXFxuICAgIHZfZXh0cnVkZSA9IFMgKiB1bnNjYWxlZF9leHRydWRlO1xcblxcbiAgICAvLyBTY2FsZSBieSByYWRpdXMgYW5kIHRoZSB6b29tLWJhc2VkIHNjYWxlIGZhY3RvciB0byBwcm9kdWNlIGFjdHVhbFxcbiAgICAvLyBtZXNoIHBvc2l0aW9uXFxuICAgIHZlYzIgZXh0cnVkZSA9IHZfZXh0cnVkZSAqIHJhZGl1cyAqIHVfZXh0cnVkZV9zY2FsZTtcXG5cXG4gICAgLy8gbXVsdGlwbHkgYV9wb3MgYnkgMC41LCBzaW5jZSB3ZSBoYWQgaXQgKiAyIGluIG9yZGVyIHRvIHNuZWFrXFxuICAgIC8vIGluIGV4dHJ1c2lvbiBkYXRhXFxuICAgIHZlYzQgcG9zID0gdmVjNChmbG9vcihhX3BvcyAqIDAuNSkgKyBleHRydWRlLCAwLCAxKTtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHBvcztcXG59XFxuXCJ9LGhlYXRtYXBUZXh0dXJlOntmcmFnbWVudFNvdXJjZTpcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9jb2xvcl9yYW1wO1xcbnVuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O1xcbnZhcnlpbmcgdmVjMiB2X3BvcztcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGZsb2F0IHQgPSB0ZXh0dXJlMkQodV9pbWFnZSwgdl9wb3MpLnI7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodV9jb2xvcl9yYW1wLCB2ZWMyKHQsIDAuNSkpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHVfb3BhY2l0eTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gdmVjMiB1X3dvcmxkO1xcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbnZhcnlpbmcgdmVjMiB2X3BvcztcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zICogdV93b3JsZCwgMCwgMSk7XFxuXFxuICAgIHZfcG9zLnggPSBhX3Bvcy54O1xcbiAgICB2X3Bvcy55ID0gMS4wIC0gYV9wb3MueTtcXG59XFxuXCJ9LGNvbGxpc2lvbkJveDp7ZnJhZ21lbnRTb3VyY2U6XCJcXG52YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO1xcbnZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgZmxvYXQgYWxwaGEgPSAwLjU7XFxuXFxuICAgIC8vIFJlZCA9IGNvbGxpc2lvbiwgaGlkZSBsYWJlbFxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCkgKiBhbHBoYTtcXG5cXG4gICAgLy8gQmx1ZSA9IG5vIGNvbGxpc2lvbiwgbGFiZWwgaXMgc2hvd2luZ1xcbiAgICBpZiAodl9wbGFjZWQgPiAwLjUpIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wLCAwLjAsIDEuMCwgMC41KSAqIGFscGhhO1xcbiAgICB9XFxuXFxuICAgIGlmICh2X25vdFVzZWQgPiAwLjUpIHtcXG4gICAgICAgIC8vIFRoaXMgYm94IG5vdCB1c2VkLCBmYWRlIGl0IG91dFxcbiAgICAgICAgZ2xfRnJhZ0NvbG9yICo9IC4xO1xcbiAgICB9XFxufVwiLHZlcnRleFNvdXJjZTpcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbmF0dHJpYnV0ZSB2ZWMyIGFfYW5jaG9yX3BvcztcXG5hdHRyaWJ1dGUgdmVjMiBhX2V4dHJ1ZGU7XFxuYXR0cmlidXRlIHZlYzIgYV9wbGFjZWQ7XFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7XFxudW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7XFxuXFxudmFyeWluZyBmbG9hdCB2X3BsYWNlZDtcXG52YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZlYzQgcHJvamVjdGVkUG9pbnQgPSB1X21hdHJpeCAqIHZlYzQoYV9hbmNob3JfcG9zLCAwLCAxKTtcXG4gICAgaGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSA9IHByb2plY3RlZFBvaW50Lnc7XFxuICAgIGhpZ2hwIGZsb2F0IGNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbyA9IGNsYW1wKFxcbiAgICAgICAgMC41ICsgMC41ICogKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSAvIGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLFxcbiAgICAgICAgMC4wLCAvLyBQcmV2ZW50cyBvdmVyc2l6ZWQgbmVhci1maWVsZCBib3hlcyBpbiBwaXRjaGVkL292ZXJ6b29tZWQgdGlsZXNcXG4gICAgICAgIDQuMCk7XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLjAsIDEuMCk7XFxuICAgIGdsX1Bvc2l0aW9uLnh5ICs9IGFfZXh0cnVkZSAqIHVfZXh0cnVkZV9zY2FsZSAqIGdsX1Bvc2l0aW9uLncgKiBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW87XFxuXFxuICAgIHZfcGxhY2VkID0gYV9wbGFjZWQueDtcXG4gICAgdl9ub3RVc2VkID0gYV9wbGFjZWQueTtcXG59XFxuXCJ9LGNvbGxpc2lvbkNpcmNsZTp7ZnJhZ21lbnRTb3VyY2U6XCJ1bmlmb3JtIGZsb2F0IHVfb3ZlcnNjYWxlX2ZhY3RvcjtcXG5cXG52YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO1xcbnZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO1xcbnZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7XFxudmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG52YXJ5aW5nIHZlYzIgdl9leHRydWRlX3NjYWxlO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZmxvYXQgYWxwaGEgPSAwLjU7XFxuXFxuICAgIC8vIFJlZCA9IGNvbGxpc2lvbiwgaGlkZSBsYWJlbFxcbiAgICB2ZWM0IGNvbG9yID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApICogYWxwaGE7XFxuXFxuICAgIC8vIEJsdWUgPSBubyBjb2xsaXNpb24sIGxhYmVsIGlzIHNob3dpbmdcXG4gICAgaWYgKHZfcGxhY2VkID4gMC41KSB7XFxuICAgICAgICBjb2xvciA9IHZlYzQoMC4wLCAwLjAsIDEuMCwgMC41KSAqIGFscGhhO1xcbiAgICB9XFxuXFxuICAgIGlmICh2X25vdFVzZWQgPiAwLjUpIHtcXG4gICAgICAgIC8vIFRoaXMgYm94IG5vdCB1c2VkLCBmYWRlIGl0IG91dFxcbiAgICAgICAgY29sb3IgKj0gLjI7XFxuICAgIH1cXG5cXG4gICAgZmxvYXQgZXh0cnVkZV9zY2FsZV9sZW5ndGggPSBsZW5ndGgodl9leHRydWRlX3NjYWxlKTtcXG4gICAgZmxvYXQgZXh0cnVkZV9sZW5ndGggPSBsZW5ndGgodl9leHRydWRlKSAqIGV4dHJ1ZGVfc2NhbGVfbGVuZ3RoO1xcbiAgICBmbG9hdCBzdHJva2Vfd2lkdGggPSAxNS4wICogZXh0cnVkZV9zY2FsZV9sZW5ndGggLyB1X292ZXJzY2FsZV9mYWN0b3I7XFxuICAgIGZsb2F0IHJhZGl1cyA9IHZfcmFkaXVzICogZXh0cnVkZV9zY2FsZV9sZW5ndGg7XFxuXFxuICAgIGZsb2F0IGRpc3RhbmNlX3RvX2VkZ2UgPSBhYnMoZXh0cnVkZV9sZW5ndGggLSByYWRpdXMpO1xcbiAgICBmbG9hdCBvcGFjaXR5X3QgPSBzbW9vdGhzdGVwKC1zdHJva2Vfd2lkdGgsIDAuMCwgLWRpc3RhbmNlX3RvX2VkZ2UpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBvcGFjaXR5X3QgKiBjb2xvcjtcXG59XFxuXCIsdmVydGV4U291cmNlOlwiYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuYXR0cmlidXRlIHZlYzIgYV9hbmNob3JfcG9zO1xcbmF0dHJpYnV0ZSB2ZWMyIGFfZXh0cnVkZTtcXG5hdHRyaWJ1dGUgdmVjMiBhX3BsYWNlZDtcXG5cXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSB2ZWMyIHVfZXh0cnVkZV9zY2FsZTtcXG51bmlmb3JtIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtcXG5cXG52YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO1xcbnZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO1xcbnZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7XFxuXFxudmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG52YXJ5aW5nIHZlYzIgdl9leHRydWRlX3NjYWxlO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgdmVjNCBwcm9qZWN0ZWRQb2ludCA9IHVfbWF0cml4ICogdmVjNChhX2FuY2hvcl9wb3MsIDAsIDEpO1xcbiAgICBoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlID0gcHJvamVjdGVkUG9pbnQudztcXG4gICAgaGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvID0gY2xhbXAoXFxuICAgICAgICAwLjUgKyAwLjUgKiAodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIC8gY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSksXFxuICAgICAgICAwLjAsIC8vIFByZXZlbnRzIG92ZXJzaXplZCBuZWFyLWZpZWxkIGNpcmNsZXMgaW4gcGl0Y2hlZC9vdmVyem9vbWVkIHRpbGVzXFxuICAgICAgICA0LjApO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgMC4wLCAxLjApO1xcblxcbiAgICBoaWdocCBmbG9hdCBwYWRkaW5nX2ZhY3RvciA9IDEuMjsgLy8gUGFkIHRoZSB2ZXJ0aWNlcyBzbGlnaHRseSB0byBtYWtlIHJvb20gZm9yIGFudGktYWxpYXMgYmx1clxcbiAgICBnbF9Qb3NpdGlvbi54eSArPSBhX2V4dHJ1ZGUgKiB1X2V4dHJ1ZGVfc2NhbGUgKiBwYWRkaW5nX2ZhY3RvciAqIGdsX1Bvc2l0aW9uLncgKiBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW87XFxuXFxuICAgIHZfcGxhY2VkID0gYV9wbGFjZWQueDtcXG4gICAgdl9ub3RVc2VkID0gYV9wbGFjZWQueTtcXG4gICAgdl9yYWRpdXMgPSBhYnMoYV9leHRydWRlLnkpOyAvLyBXZSBkb24ndCBwaXRjaCB0aGUgY2lyY2xlcywgc28gYm90aCB1bml0cyBvZiB0aGUgZXh0cnVzaW9uIHZlY3RvciBhcmUgZXF1YWwgaW4gbWFnbml0dWRlIHRvIHRoZSByYWRpdXNcXG5cXG4gICAgdl9leHRydWRlID0gYV9leHRydWRlICogcGFkZGluZ19mYWN0b3I7XFxuICAgIHZfZXh0cnVkZV9zY2FsZSA9IHVfZXh0cnVkZV9zY2FsZSAqIHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSAqIGNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbztcXG59XFxuXCJ9LGRlYnVnOntmcmFnbWVudFNvdXJjZTpcInVuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdV9jb2xvcjtcXG59XFxuXCIsdmVydGV4U291cmNlOlwiYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MsIDAsIDEpO1xcbn1cXG5cIn0sZmlsbDp7ZnJhZ21lbnRTb3VyY2U6XCIjcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiBvcGFjaXR5O1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJhdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5cXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKTtcXG59XFxuXCJ9LGZpbGxPdXRsaW5lOntmcmFnbWVudFNvdXJjZTpcIiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3M7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxuICAgIGZsb2F0IGRpc3QgPSBsZW5ndGgodl9wb3MgLSBnbF9GcmFnQ29vcmQueHkpO1xcbiAgICBmbG9hdCBhbHBoYSA9IDEuMCAtIHNtb290aHN0ZXAoMC4wLCAxLjAsIGRpc3QpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBvdXRsaW5lX2NvbG9yICogKGFscGhhICogb3BhY2l0eSk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcblxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIHZlYzIgdV93b3JsZDtcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3M7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgMCwgMSk7XFxuICAgIHZfcG9zID0gKGdsX1Bvc2l0aW9uLnh5IC8gZ2xfUG9zaXRpb24udyArIDEuMCkgLyAyLjAgKiB1X3dvcmxkO1xcbn1cXG5cIn0sZmlsbE91dGxpbmVQYXR0ZXJuOntmcmFnbWVudFNvdXJjZTpcIlxcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG51bmlmb3JtIGZsb2F0IHVfZmFkZTtcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTtcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYjtcXG52YXJ5aW5nIHZlYzIgdl9wb3M7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcblxcbiAgICB2ZWMyIHBhdHRlcm5fdGxfYSA9IHBhdHRlcm5fZnJvbS54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2EgPSBwYXR0ZXJuX2Zyb20uenc7XFxuICAgIHZlYzIgcGF0dGVybl90bF9iID0gcGF0dGVybl90by54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2IgPSBwYXR0ZXJuX3RvLnp3O1xcblxcbiAgICB2ZWMyIGltYWdlY29vcmQgPSBtb2Qodl9wb3NfYSwgMS4wKTtcXG4gICAgdmVjMiBwb3MgPSBtaXgocGF0dGVybl90bF9hIC8gdV90ZXhzaXplLCBwYXR0ZXJuX2JyX2EgLyB1X3RleHNpemUsIGltYWdlY29vcmQpO1xcbiAgICB2ZWM0IGNvbG9yMSA9IHRleHR1cmUyRCh1X2ltYWdlLCBwb3MpO1xcblxcbiAgICB2ZWMyIGltYWdlY29vcmRfYiA9IG1vZCh2X3Bvc19iLCAxLjApO1xcbiAgICB2ZWMyIHBvczIgPSBtaXgocGF0dGVybl90bF9iIC8gdV90ZXhzaXplLCBwYXR0ZXJuX2JyX2IgLyB1X3RleHNpemUsIGltYWdlY29vcmRfYik7XFxuICAgIHZlYzQgY29sb3IyID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHBvczIpO1xcblxcbiAgICAvLyBmaW5kIGRpc3RhbmNlIHRvIG91dGxpbmUgZm9yIGFscGhhIGludGVycG9sYXRpb25cXG5cXG4gICAgZmxvYXQgZGlzdCA9IGxlbmd0aCh2X3BvcyAtIGdsX0ZyYWdDb29yZC54eSk7XFxuICAgIGZsb2F0IGFscGhhID0gMS4wIC0gc21vb3Roc3RlcCgwLjAsIDEuMCwgZGlzdCk7XFxuXFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG1peChjb2xvcjEsIGNvbG9yMiwgdV9mYWRlKSAqIGFscGhhICogb3BhY2l0eTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gdmVjMiB1X3dvcmxkO1xcbnVuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO1xcbnVuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO1xcbnVuaWZvcm0gdmVjNCB1X3NjYWxlO1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcblxcbnZhcnlpbmcgdmVjMiB2X3Bvc19hO1xcbnZhcnlpbmcgdmVjMiB2X3Bvc19iO1xcbnZhcnlpbmcgdmVjMiB2X3BvcztcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuXFxuICAgIHZlYzIgcGF0dGVybl90bF9hID0gcGF0dGVybl9mcm9tLnh5O1xcbiAgICB2ZWMyIHBhdHRlcm5fYnJfYSA9IHBhdHRlcm5fZnJvbS56dztcXG4gICAgdmVjMiBwYXR0ZXJuX3RsX2IgPSBwYXR0ZXJuX3RvLnh5O1xcbiAgICB2ZWMyIHBhdHRlcm5fYnJfYiA9IHBhdHRlcm5fdG8uenc7XFxuXFxuICAgIGZsb2F0IHBpeGVsUmF0aW8gPSB1X3NjYWxlLng7XFxuICAgIGZsb2F0IHRpbGVSYXRpbyA9IHVfc2NhbGUueTtcXG4gICAgZmxvYXQgZnJvbVNjYWxlID0gdV9zY2FsZS56O1xcbiAgICBmbG9hdCB0b1NjYWxlID0gdV9zY2FsZS53O1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgMCwgMSk7XFxuXFxuICAgIHZlYzIgZGlzcGxheV9zaXplX2EgPSB2ZWMyKChwYXR0ZXJuX2JyX2EueCAtIHBhdHRlcm5fdGxfYS54KSAvIHBpeGVsUmF0aW8sIChwYXR0ZXJuX2JyX2EueSAtIHBhdHRlcm5fdGxfYS55KSAvIHBpeGVsUmF0aW8pO1xcbiAgICB2ZWMyIGRpc3BsYXlfc2l6ZV9iID0gdmVjMigocGF0dGVybl9icl9iLnggLSBwYXR0ZXJuX3RsX2IueCkgLyBwaXhlbFJhdGlvLCAocGF0dGVybl9icl9iLnkgLSBwYXR0ZXJuX3RsX2IueSkgLyBwaXhlbFJhdGlvKTtcXG5cXG4gICAgdl9wb3NfYSA9IGdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLCB1X3BpeGVsX2Nvb3JkX2xvd2VyLCBmcm9tU2NhbGUgKiBkaXNwbGF5X3NpemVfYSwgdGlsZVJhdGlvLCBhX3Bvcyk7XFxuICAgIHZfcG9zX2IgPSBnZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlciwgdV9waXhlbF9jb29yZF9sb3dlciwgdG9TY2FsZSAqIGRpc3BsYXlfc2l6ZV9iLCB0aWxlUmF0aW8sIGFfcG9zKTtcXG5cXG4gICAgdl9wb3MgPSAoZ2xfUG9zaXRpb24ueHkgLyBnbF9Qb3NpdGlvbi53ICsgMS4wKSAvIDIuMCAqIHVfd29ybGQ7XFxufVxcblwifSxmaWxsUGF0dGVybjp7ZnJhZ21lbnRTb3VyY2U6XCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO1xcbnVuaWZvcm0gZmxvYXQgdV9mYWRlO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7XFxuXFxudmFyeWluZyB2ZWMyIHZfcG9zX2E7XFxudmFyeWluZyB2ZWMyIHZfcG9zX2I7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcblxcbiAgICB2ZWMyIHBhdHRlcm5fdGxfYSA9IHBhdHRlcm5fZnJvbS54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2EgPSBwYXR0ZXJuX2Zyb20uenc7XFxuICAgIHZlYzIgcGF0dGVybl90bF9iID0gcGF0dGVybl90by54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2IgPSBwYXR0ZXJuX3RvLnp3O1xcblxcbiAgICB2ZWMyIGltYWdlY29vcmQgPSBtb2Qodl9wb3NfYSwgMS4wKTtcXG4gICAgdmVjMiBwb3MgPSBtaXgocGF0dGVybl90bF9hIC8gdV90ZXhzaXplLCBwYXR0ZXJuX2JyX2EgLyB1X3RleHNpemUsIGltYWdlY29vcmQpO1xcbiAgICB2ZWM0IGNvbG9yMSA9IHRleHR1cmUyRCh1X2ltYWdlLCBwb3MpO1xcblxcbiAgICB2ZWMyIGltYWdlY29vcmRfYiA9IG1vZCh2X3Bvc19iLCAxLjApO1xcbiAgICB2ZWMyIHBvczIgPSBtaXgocGF0dGVybl90bF9iIC8gdV90ZXhzaXplLCBwYXR0ZXJuX2JyX2IgLyB1X3RleHNpemUsIGltYWdlY29vcmRfYik7XFxuICAgIHZlYzQgY29sb3IyID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHBvczIpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBtaXgoY29sb3IxLCBjb2xvcjIsIHVfZmFkZSkgKiBvcGFjaXR5O1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7XFxudW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7XFxudW5pZm9ybSB2ZWM0IHVfc2NhbGU7XFxuXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuXFxudmFyeWluZyB2ZWMyIHZfcG9zX2E7XFxudmFyeWluZyB2ZWMyIHZfcG9zX2I7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcblxcbiAgICB2ZWMyIHBhdHRlcm5fdGxfYSA9IHBhdHRlcm5fZnJvbS54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2EgPSBwYXR0ZXJuX2Zyb20uenc7XFxuICAgIHZlYzIgcGF0dGVybl90bF9iID0gcGF0dGVybl90by54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2IgPSBwYXR0ZXJuX3RvLnp3O1xcblxcbiAgICBmbG9hdCBwaXhlbFJhdGlvID0gdV9zY2FsZS54O1xcbiAgICBmbG9hdCB0aWxlWm9vbVJhdGlvID0gdV9zY2FsZS55O1xcbiAgICBmbG9hdCBmcm9tU2NhbGUgPSB1X3NjYWxlLno7XFxuICAgIGZsb2F0IHRvU2NhbGUgPSB1X3NjYWxlLnc7XFxuXFxuICAgIHZlYzIgZGlzcGxheV9zaXplX2EgPSB2ZWMyKChwYXR0ZXJuX2JyX2EueCAtIHBhdHRlcm5fdGxfYS54KSAvIHBpeGVsUmF0aW8sIChwYXR0ZXJuX2JyX2EueSAtIHBhdHRlcm5fdGxfYS55KSAvIHBpeGVsUmF0aW8pO1xcbiAgICB2ZWMyIGRpc3BsYXlfc2l6ZV9iID0gdmVjMigocGF0dGVybl9icl9iLnggLSBwYXR0ZXJuX3RsX2IueCkgLyBwaXhlbFJhdGlvLCAocGF0dGVybl9icl9iLnkgLSBwYXR0ZXJuX3RsX2IueSkgLyBwaXhlbFJhdGlvKTtcXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MsIDAsIDEpO1xcblxcbiAgICB2X3Bvc19hID0gZ2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsIHVfcGl4ZWxfY29vcmRfbG93ZXIsIGZyb21TY2FsZSAqIGRpc3BsYXlfc2l6ZV9hLCB0aWxlWm9vbVJhdGlvLCBhX3Bvcyk7XFxuICAgIHZfcG9zX2IgPSBnZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlciwgdV9waXhlbF9jb29yZF9sb3dlciwgdG9TY2FsZSAqIGRpc3BsYXlfc2l6ZV9iLCB0aWxlWm9vbVJhdGlvLCBhX3Bvcyk7XFxufVxcblwifSxmaWxsRXh0cnVzaW9uOntmcmFnbWVudFNvdXJjZTpcInZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBiYXNlXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdl9jb2xvcjtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7XFxudW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvcztcXG51bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5hdHRyaWJ1dGUgdmVjNCBhX25vcm1hbF9lZDtcXG5cXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhlaWdodFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuXFxuICAgIHZlYzMgbm9ybWFsID0gYV9ub3JtYWxfZWQueHl6O1xcblxcbiAgICBiYXNlID0gbWF4KDAuMCwgYmFzZSk7XFxuICAgIGhlaWdodCA9IG1heCgwLjAsIGhlaWdodCk7XFxuXFxuICAgIGZsb2F0IHQgPSBtb2Qobm9ybWFsLngsIDIuMCk7XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCB0ID4gMC4wID8gaGVpZ2h0IDogYmFzZSwgMSk7XFxuXFxuICAgIC8vIFJlbGF0aXZlIGx1bWluYW5jZSAoaG93IGRhcmsvYnJpZ2h0IGlzIHRoZSBzdXJmYWNlIGNvbG9yPylcXG4gICAgZmxvYXQgY29sb3J2YWx1ZSA9IGNvbG9yLnIgKiAwLjIxMjYgKyBjb2xvci5nICogMC43MTUyICsgY29sb3IuYiAqIDAuMDcyMjtcXG5cXG4gICAgdl9jb2xvciA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKTtcXG5cXG4gICAgLy8gQWRkIHNsaWdodCBhbWJpZW50IGxpZ2h0aW5nIHNvIG5vIGV4dHJ1c2lvbnMgYXJlIHRvdGFsbHkgYmxhY2tcXG4gICAgdmVjNCBhbWJpZW50bGlnaHQgPSB2ZWM0KDAuMDMsIDAuMDMsIDAuMDMsIDEuMCk7XFxuICAgIGNvbG9yICs9IGFtYmllbnRsaWdodDtcXG5cXG4gICAgLy8gQ2FsY3VsYXRlIGNvcyh0aGV0YSksIHdoZXJlIHRoZXRhIGlzIHRoZSBhbmdsZSBiZXR3ZWVuIHN1cmZhY2Ugbm9ybWFsIGFuZCBkaWZmdXNlIGxpZ2h0IHJheVxcbiAgICBmbG9hdCBkaXJlY3Rpb25hbCA9IGNsYW1wKGRvdChub3JtYWwgLyAxNjM4NC4wLCB1X2xpZ2h0cG9zKSwgMC4wLCAxLjApO1xcblxcbiAgICAvLyBBZGp1c3QgZGlyZWN0aW9uYWwgc28gdGhhdFxcbiAgICAvLyB0aGUgcmFuZ2Ugb2YgdmFsdWVzIGZvciBoaWdobGlnaHQvc2hhZGluZyBpcyBuYXJyb3dlclxcbiAgICAvLyB3aXRoIGxvd2VyIGxpZ2h0IGludGVuc2l0eVxcbiAgICAvLyBhbmQgd2l0aCBsaWdodGVyL2JyaWdodGVyIHN1cmZhY2UgY29sb3JzXFxuICAgIGRpcmVjdGlvbmFsID0gbWl4KCgxLjAgLSB1X2xpZ2h0aW50ZW5zaXR5KSwgbWF4KCgxLjAgLSBjb2xvcnZhbHVlICsgdV9saWdodGludGVuc2l0eSksIDEuMCksIGRpcmVjdGlvbmFsKTtcXG5cXG4gICAgLy8gQWRkIGdyYWRpZW50IGFsb25nIHogYXhpcyBvZiBzaWRlIHN1cmZhY2VzXFxuICAgIGlmIChub3JtYWwueSAhPSAwLjApIHtcXG4gICAgICAgIGRpcmVjdGlvbmFsICo9IGNsYW1wKCh0ICsgYmFzZSkgKiBwb3coaGVpZ2h0IC8gMTUwLjAsIDAuNSksIG1peCgwLjcsIDAuOTgsIDEuMCAtIHVfbGlnaHRpbnRlbnNpdHkpLCAxLjApO1xcbiAgICB9XFxuXFxuICAgIC8vIEFzc2lnbiBmaW5hbCBjb2xvciBiYXNlZCBvbiBzdXJmYWNlICsgYW1iaWVudCBsaWdodCBjb2xvciwgZGlmZnVzZSBsaWdodCBkaXJlY3Rpb25hbCwgYW5kIGxpZ2h0IGNvbG9yXFxuICAgIC8vIHdpdGggbG93ZXIgYm91bmRzIGFkanVzdGVkIHRvIGh1ZSBvZiBsaWdodFxcbiAgICAvLyBzbyB0aGF0IHNoYWRpbmcgaXMgdGludGVkIHdpdGggdGhlIGNvbXBsZW1lbnRhcnkgKG9wcG9zaXRlKSBjb2xvciB0byB0aGUgbGlnaHQgY29sb3JcXG4gICAgdl9jb2xvci5yICs9IGNsYW1wKGNvbG9yLnIgKiBkaXJlY3Rpb25hbCAqIHVfbGlnaHRjb2xvci5yLCBtaXgoMC4wLCAwLjMsIDEuMCAtIHVfbGlnaHRjb2xvci5yKSwgMS4wKTtcXG4gICAgdl9jb2xvci5nICs9IGNsYW1wKGNvbG9yLmcgKiBkaXJlY3Rpb25hbCAqIHVfbGlnaHRjb2xvci5nLCBtaXgoMC4wLCAwLjMsIDEuMCAtIHVfbGlnaHRjb2xvci5nKSwgMS4wKTtcXG4gICAgdl9jb2xvci5iICs9IGNsYW1wKGNvbG9yLmIgKiBkaXJlY3Rpb25hbCAqIHVfbGlnaHRjb2xvci5iLCBtaXgoMC4wLCAwLjMsIDEuMCAtIHVfbGlnaHRjb2xvci5iKSwgMS4wKTtcXG59XFxuXCJ9LGZpbGxFeHRydXNpb25QYXR0ZXJuOntmcmFnbWVudFNvdXJjZTpcInVuaWZvcm0gdmVjMiB1X3RleHNpemU7XFxudW5pZm9ybSBmbG9hdCB1X2ZhZGU7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTtcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYjtcXG52YXJ5aW5nIHZlYzQgdl9saWdodGluZztcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJhc2VcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcblxcbiAgICB2ZWMyIHBhdHRlcm5fdGxfYSA9IHBhdHRlcm5fZnJvbS54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2EgPSBwYXR0ZXJuX2Zyb20uenc7XFxuICAgIHZlYzIgcGF0dGVybl90bF9iID0gcGF0dGVybl90by54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2IgPSBwYXR0ZXJuX3RvLnp3O1xcblxcbiAgICB2ZWMyIGltYWdlY29vcmQgPSBtb2Qodl9wb3NfYSwgMS4wKTtcXG4gICAgdmVjMiBwb3MgPSBtaXgocGF0dGVybl90bF9hIC8gdV90ZXhzaXplLCBwYXR0ZXJuX2JyX2EgLyB1X3RleHNpemUsIGltYWdlY29vcmQpO1xcbiAgICB2ZWM0IGNvbG9yMSA9IHRleHR1cmUyRCh1X2ltYWdlLCBwb3MpO1xcblxcbiAgICB2ZWMyIGltYWdlY29vcmRfYiA9IG1vZCh2X3Bvc19iLCAxLjApO1xcbiAgICB2ZWMyIHBvczIgPSBtaXgocGF0dGVybl90bF9iIC8gdV90ZXhzaXplLCBwYXR0ZXJuX2JyX2IgLyB1X3RleHNpemUsIGltYWdlY29vcmRfYik7XFxuICAgIHZlYzQgY29sb3IyID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHBvczIpO1xcblxcbiAgICB2ZWM0IG1peGVkQ29sb3IgPSBtaXgoY29sb3IxLCBjb2xvcjIsIHVfZmFkZSk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG1peGVkQ29sb3IgKiB2X2xpZ2h0aW5nO1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7XFxudW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7XFxudW5pZm9ybSBmbG9hdCB1X2hlaWdodF9mYWN0b3I7XFxudW5pZm9ybSB2ZWM0IHVfc2NhbGU7XFxuXFxudW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjtcXG51bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO1xcbnVuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfbm9ybWFsX2VkO1xcblxcbnZhcnlpbmcgdmVjMiB2X3Bvc19hO1xcbnZhcnlpbmcgdmVjMiB2X3Bvc19iO1xcbnZhcnlpbmcgdmVjNCB2X2xpZ2h0aW5nO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhlaWdodFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuXFxuICAgIHZlYzIgcGF0dGVybl90bF9hID0gcGF0dGVybl9mcm9tLnh5O1xcbiAgICB2ZWMyIHBhdHRlcm5fYnJfYSA9IHBhdHRlcm5fZnJvbS56dztcXG4gICAgdmVjMiBwYXR0ZXJuX3RsX2IgPSBwYXR0ZXJuX3RvLnh5O1xcbiAgICB2ZWMyIHBhdHRlcm5fYnJfYiA9IHBhdHRlcm5fdG8uenc7XFxuXFxuICAgIGZsb2F0IHBpeGVsUmF0aW8gPSB1X3NjYWxlLng7XFxuICAgIGZsb2F0IHRpbGVSYXRpbyA9IHVfc2NhbGUueTtcXG4gICAgZmxvYXQgZnJvbVNjYWxlID0gdV9zY2FsZS56O1xcbiAgICBmbG9hdCB0b1NjYWxlID0gdV9zY2FsZS53O1xcblxcbiAgICB2ZWMzIG5vcm1hbCA9IGFfbm9ybWFsX2VkLnh5ejtcXG4gICAgZmxvYXQgZWRnZWRpc3RhbmNlID0gYV9ub3JtYWxfZWQudztcXG5cXG4gICAgdmVjMiBkaXNwbGF5X3NpemVfYSA9IHZlYzIoKHBhdHRlcm5fYnJfYS54IC0gcGF0dGVybl90bF9hLngpIC8gcGl4ZWxSYXRpbywgKHBhdHRlcm5fYnJfYS55IC0gcGF0dGVybl90bF9hLnkpIC8gcGl4ZWxSYXRpbyk7XFxuICAgIHZlYzIgZGlzcGxheV9zaXplX2IgPSB2ZWMyKChwYXR0ZXJuX2JyX2IueCAtIHBhdHRlcm5fdGxfYi54KSAvIHBpeGVsUmF0aW8sIChwYXR0ZXJuX2JyX2IueSAtIHBhdHRlcm5fdGxfYi55KSAvIHBpeGVsUmF0aW8pO1xcblxcbiAgICBiYXNlID0gbWF4KDAuMCwgYmFzZSk7XFxuICAgIGhlaWdodCA9IG1heCgwLjAsIGhlaWdodCk7XFxuXFxuICAgIGZsb2F0IHQgPSBtb2Qobm9ybWFsLngsIDIuMCk7XFxuICAgIGZsb2F0IHogPSB0ID4gMC4wID8gaGVpZ2h0IDogYmFzZTtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MsIHosIDEpO1xcblxcbiAgICB2ZWMyIHBvcyA9IG5vcm1hbC54ID09IDEuMCAmJiBub3JtYWwueSA9PSAwLjAgJiYgbm9ybWFsLnogPT0gMTYzODQuMFxcbiAgICAgICAgPyBhX3BvcyAvLyBleHRydXNpb24gdG9wXFxuICAgICAgICA6IHZlYzIoZWRnZWRpc3RhbmNlLCB6ICogdV9oZWlnaHRfZmFjdG9yKTsgLy8gZXh0cnVzaW9uIHNpZGVcXG5cXG4gICAgdl9wb3NfYSA9IGdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLCB1X3BpeGVsX2Nvb3JkX2xvd2VyLCBmcm9tU2NhbGUgKiBkaXNwbGF5X3NpemVfYSwgdGlsZVJhdGlvLCBwb3MpO1xcbiAgICB2X3Bvc19iID0gZ2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsIHVfcGl4ZWxfY29vcmRfbG93ZXIsIHRvU2NhbGUgKiBkaXNwbGF5X3NpemVfYiwgdGlsZVJhdGlvLCBwb3MpO1xcblxcbiAgICB2X2xpZ2h0aW5nID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAxLjApO1xcbiAgICBmbG9hdCBkaXJlY3Rpb25hbCA9IGNsYW1wKGRvdChub3JtYWwgLyAxNjM4My4wLCB1X2xpZ2h0cG9zKSwgMC4wLCAxLjApO1xcbiAgICBkaXJlY3Rpb25hbCA9IG1peCgoMS4wIC0gdV9saWdodGludGVuc2l0eSksIG1heCgoMC41ICsgdV9saWdodGludGVuc2l0eSksIDEuMCksIGRpcmVjdGlvbmFsKTtcXG5cXG4gICAgaWYgKG5vcm1hbC55ICE9IDAuMCkge1xcbiAgICAgICAgZGlyZWN0aW9uYWwgKj0gY2xhbXAoKHQgKyBiYXNlKSAqIHBvdyhoZWlnaHQgLyAxNTAuMCwgMC41KSwgbWl4KDAuNywgMC45OCwgMS4wIC0gdV9saWdodGludGVuc2l0eSksIDEuMCk7XFxuICAgIH1cXG5cXG4gICAgdl9saWdodGluZy5yZ2IgKz0gY2xhbXAoZGlyZWN0aW9uYWwgKiB1X2xpZ2h0Y29sb3IsIG1peCh2ZWMzKDAuMCksIHZlYzMoMC4zKSwgMS4wIC0gdV9saWdodGNvbG9yKSwgdmVjMygxLjApKTtcXG59XFxuXCJ9LGV4dHJ1c2lvblRleHR1cmU6e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG51bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTtcXG52YXJ5aW5nIHZlYzIgdl9wb3M7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodV9pbWFnZSwgdl9wb3MpICogdV9vcGFjaXR5O1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSB2ZWMyIHVfd29ybGQ7XFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxudmFyeWluZyB2ZWMyIHZfcG9zO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MgKiB1X3dvcmxkLCAwLCAxKTtcXG5cXG4gICAgdl9wb3MueCA9IGFfcG9zLng7XFxuICAgIHZfcG9zLnkgPSAxLjAgLSBhX3Bvcy55O1xcbn1cXG5cIn0saGlsbHNoYWRlUHJlcGFyZTp7ZnJhZ21lbnRTb3VyY2U6XCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG52YXJ5aW5nIHZlYzIgdl9wb3M7XFxudW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO1xcbnVuaWZvcm0gZmxvYXQgdV96b29tO1xcbnVuaWZvcm0gZmxvYXQgdV9tYXh6b29tO1xcblxcbmZsb2F0IGdldEVsZXZhdGlvbih2ZWMyIGNvb3JkLCBmbG9hdCBiaWFzKSB7XFxuICAgIC8vIENvbnZlcnQgZW5jb2RlZCBlbGV2YXRpb24gdmFsdWUgdG8gbWV0ZXJzXFxuICAgIHZlYzQgZGF0YSA9IHRleHR1cmUyRCh1X2ltYWdlLCBjb29yZCkgKiAyNTUuMDtcXG4gICAgcmV0dXJuIChkYXRhLnIgKyBkYXRhLmcgKiAyNTYuMCArIGRhdGEuYiAqIDI1Ni4wICogMjU2LjApIC8gNC4wO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZlYzIgZXBzaWxvbiA9IDEuMCAvIHVfZGltZW5zaW9uO1xcblxcbiAgICAvLyBxdWVyaWVkIHBpeGVsczpcXG4gICAgLy8gKy0tLS0tLS0tLS0tK1xcbiAgICAvLyB8ICAgfCAgIHwgICB8XFxuICAgIC8vIHwgYSB8IGIgfCBjIHxcXG4gICAgLy8gfCAgIHwgICB8ICAgfFxcbiAgICAvLyArLS0tLS0tLS0tLS0rXFxuICAgIC8vIHwgICB8ICAgfCAgIHxcXG4gICAgLy8gfCBkIHwgZSB8IGYgfFxcbiAgICAvLyB8ICAgfCAgIHwgICB8XFxuICAgIC8vICstLS0tLS0tLS0tLStcXG4gICAgLy8gfCAgIHwgICB8ICAgfFxcbiAgICAvLyB8IGcgfCBoIHwgaSB8XFxuICAgIC8vIHwgICB8ICAgfCAgIHxcXG4gICAgLy8gKy0tLS0tLS0tLS0tK1xcblxcbiAgICBmbG9hdCBhID0gZ2V0RWxldmF0aW9uKHZfcG9zICsgdmVjMigtZXBzaWxvbi54LCAtZXBzaWxvbi55KSwgMC4wKTtcXG4gICAgZmxvYXQgYiA9IGdldEVsZXZhdGlvbih2X3BvcyArIHZlYzIoMCwgLWVwc2lsb24ueSksIDAuMCk7XFxuICAgIGZsb2F0IGMgPSBnZXRFbGV2YXRpb24odl9wb3MgKyB2ZWMyKGVwc2lsb24ueCwgLWVwc2lsb24ueSksIDAuMCk7XFxuICAgIGZsb2F0IGQgPSBnZXRFbGV2YXRpb24odl9wb3MgKyB2ZWMyKC1lcHNpbG9uLngsIDApLCAwLjApO1xcbiAgICBmbG9hdCBlID0gZ2V0RWxldmF0aW9uKHZfcG9zLCAwLjApO1xcbiAgICBmbG9hdCBmID0gZ2V0RWxldmF0aW9uKHZfcG9zICsgdmVjMihlcHNpbG9uLngsIDApLCAwLjApO1xcbiAgICBmbG9hdCBnID0gZ2V0RWxldmF0aW9uKHZfcG9zICsgdmVjMigtZXBzaWxvbi54LCBlcHNpbG9uLnkpLCAwLjApO1xcbiAgICBmbG9hdCBoID0gZ2V0RWxldmF0aW9uKHZfcG9zICsgdmVjMigwLCBlcHNpbG9uLnkpLCAwLjApO1xcbiAgICBmbG9hdCBpID0gZ2V0RWxldmF0aW9uKHZfcG9zICsgdmVjMihlcHNpbG9uLngsIGVwc2lsb24ueSksIDAuMCk7XFxuXFxuICAgIC8vIGhlcmUgd2UgZGl2aWRlIHRoZSB4IGFuZCB5IHNsb3BlcyBieSA4ICogcGl4ZWwgc2l6ZVxcbiAgICAvLyB3aGVyZSBwaXhlbCBzaXplIChha2EgbWV0ZXJzL3BpeGVsKSBpczpcXG4gICAgLy8gY2lyY3VtZmVyZW5jZSBvZiB0aGUgd29ybGQgLyAocGl4ZWxzIHBlciB0aWxlICogbnVtYmVyIG9mIHRpbGVzKVxcbiAgICAvLyB3aGljaCBpcyBlcXVpdmFsZW50IHRvOiA4ICogNDAwNzUwMTYuNjg1NTc4NSAvICg1MTIgKiBwb3coMiwgdV96b29tKSlcXG4gICAgLy8gd2hpY2ggY2FuIGJlIHJlZHVjZWQgdG86IHBvdygyLCAxOS4yNTYxOTk3ODUyNyAtIHVfem9vbSlcXG4gICAgLy8gd2Ugd2FudCB0byB2ZXJ0aWNhbGx5IGV4YWdnZXJhdGUgdGhlIGhpbGxzaGFkaW5nIHRob3VnaCwgYmVjYXVzZSBvdGhlcndpc2VcXG4gICAgLy8gaXQgaXMgYmFyZWx5IG5vdGljZWFibGUgYXQgbG93IHpvb21zLiB0byBkbyB0aGlzLCB3ZSBtdWx0aXBseSB0aGlzIGJ5IHNvbWVcXG4gICAgLy8gc2NhbGUgZmFjdG9yIHBvdygyLCAodV96b29tIC0gdV9tYXh6b29tKSAqIGEpIHdoZXJlIGEgaXMgYW4gYXJiaXRyYXJ5IHZhbHVlXFxuICAgIC8vIEhlcmUgd2UgdXNlIGE9MC4zIHdoaWNoIHdvcmtzIG91dCB0byB0aGUgZXhwcmVzc2lvbiBiZWxvdy4gc2VlIFxcbiAgICAvLyBuaWNraWRsdWdhc2gncyBhd2Vzb21lIGJyZWFrZG93biBmb3IgbW9yZSBpbmZvXFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL3B1bGwvNTI4NiNkaXNjdXNzaW9uX3IxNDg0MTk1NTZcXG4gICAgZmxvYXQgZXhhZ2dlcmF0aW9uID0gdV96b29tIDwgMi4wID8gMC40IDogdV96b29tIDwgNC41ID8gMC4zNSA6IDAuMztcXG5cXG4gICAgdmVjMiBkZXJpdiA9IHZlYzIoXFxuICAgICAgICAoYyArIGYgKyBmICsgaSkgLSAoYSArIGQgKyBkICsgZyksXFxuICAgICAgICAoZyArIGggKyBoICsgaSkgLSAoYSArIGIgKyBiICsgYylcXG4gICAgKSAvICBwb3coMi4wLCAodV96b29tIC0gdV9tYXh6b29tKSAqIGV4YWdnZXJhdGlvbiArIDE5LjI1NjIgLSB1X3pvb20pO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjbGFtcCh2ZWM0KFxcbiAgICAgICAgZGVyaXYueCAvIDIuMCArIDAuNSxcXG4gICAgICAgIGRlcml2LnkgLyAyLjAgKyAwLjUsXFxuICAgICAgICAxLjAsXFxuICAgICAgICAxLjApLCAwLjAsIDEuMCk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcInVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5hdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO1xcblxcbnZhcnlpbmcgdmVjMiB2X3BvcztcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKTtcXG4gICAgdl9wb3MgPSAoYV90ZXh0dXJlX3BvcyAvIDgxOTIuMCkgLyAyLjAgKyAwLjI1O1xcbn1cXG5cIn0saGlsbHNoYWRlOntmcmFnbWVudFNvdXJjZTpcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7XFxudmFyeWluZyB2ZWMyIHZfcG9zO1xcblxcbnVuaWZvcm0gdmVjMiB1X2xhdHJhbmdlO1xcbnVuaWZvcm0gdmVjMiB1X2xpZ2h0O1xcbnVuaWZvcm0gdmVjNCB1X3NoYWRvdztcXG51bmlmb3JtIHZlYzQgdV9oaWdobGlnaHQ7XFxudW5pZm9ybSB2ZWM0IHVfYWNjZW50O1xcblxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTNcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZlYzQgcGl4ZWwgPSB0ZXh0dXJlMkQodV9pbWFnZSwgdl9wb3MpO1xcblxcbiAgICB2ZWMyIGRlcml2ID0gKChwaXhlbC5yZyAqIDIuMCkgLSAxLjApO1xcblxcbiAgICAvLyBXZSBkaXZpZGUgdGhlIHNsb3BlIGJ5IGEgc2NhbGUgZmFjdG9yIGJhc2VkIG9uIHRoZSBjb3NpbiBvZiB0aGUgcGl4ZWwncyBhcHByb3hpbWF0ZSBsYXRpdHVkZVxcbiAgICAvLyB0byBhY2NvdW50IGZvciBtZXJjYXRvciBwcm9qZWN0aW9uIGRpc3RvcnRpb24uIHNlZSAjNDgwNyBmb3IgZGV0YWlsc1xcbiAgICBmbG9hdCBzY2FsZUZhY3RvciA9IGNvcyhyYWRpYW5zKCh1X2xhdHJhbmdlWzBdIC0gdV9sYXRyYW5nZVsxXSkgKiAoMS4wIC0gdl9wb3MueSkgKyB1X2xhdHJhbmdlWzFdKSk7XFxuICAgIC8vIFdlIGFsc28gbXVsdGlwbHkgdGhlIHNsb3BlIGJ5IGFuIGFyYml0cmFyeSB6LWZhY3RvciBvZiAxLjI1XFxuICAgIGZsb2F0IHNsb3BlID0gYXRhbigxLjI1ICogbGVuZ3RoKGRlcml2KSAvIHNjYWxlRmFjdG9yKTtcXG4gICAgZmxvYXQgYXNwZWN0ID0gZGVyaXYueCAhPSAwLjAgPyBhdGFuKGRlcml2LnksIC1kZXJpdi54KSA6IFBJIC8gMi4wICogKGRlcml2LnkgPiAwLjAgPyAxLjAgOiAtMS4wKTtcXG5cXG4gICAgZmxvYXQgaW50ZW5zaXR5ID0gdV9saWdodC54O1xcbiAgICAvLyBXZSBhZGQgUEkgdG8gbWFrZSB0aGlzIHByb3BlcnR5IG1hdGNoIHRoZSBnbG9iYWwgbGlnaHQgb2JqZWN0LCB3aGljaCBhZGRzIFBJLzIgdG8gdGhlIGxpZ2h0J3MgYXppbXV0aGFsXFxuICAgIC8vIHBvc2l0aW9uIHByb3BlcnR5IHRvIGFjY291bnQgZm9yIDBkZWcgY29ycmVzcG9uZGluZyB0byBub3J0aC90aGUgdG9wIG9mIHRoZSB2aWV3cG9ydCBpbiB0aGUgc3R5bGUgc3BlY1xcbiAgICAvLyBhbmQgdGhlIG9yaWdpbmFsIHNoYWRlciB3YXMgd3JpdHRlbiB0byBhY2NlcHQgKC1pbGx1bWluYXRpb25EaXJlY3Rpb24gLSA5MCkgYXMgdGhlIGF6aW11dGhhbC5cXG4gICAgZmxvYXQgYXppbXV0aCA9IHVfbGlnaHQueSArIFBJO1xcblxcbiAgICAvLyBXZSBzY2FsZSB0aGUgc2xvcGUgZXhwb25lbnRpYWxseSBiYXNlZCBvbiBpbnRlbnNpdHksIHVzaW5nIGEgY2FsY3VsYXRpb24gc2ltaWxhciB0b1xcbiAgICAvLyB0aGUgZXhwb25lbnRpYWwgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiBpbiB0aGUgc3R5bGUgc3BlYzpcXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvYmxvYi9tYXN0ZXIvc3JjL3N0eWxlLXNwZWMvZXhwcmVzc2lvbi9kZWZpbml0aW9ucy9pbnRlcnBvbGF0ZS5qcyNMMjE3LUwyMjhcXG4gICAgLy8gc28gdGhhdCBoaWdoZXIgaW50ZW5zaXR5IHZhbHVlcyBjcmVhdGUgbW9yZSBvcGFxdWUgaGlsbHNoYWRpbmcuXFxuICAgIGZsb2F0IGJhc2UgPSAxLjg3NSAtIGludGVuc2l0eSAqIDEuNzU7XFxuICAgIGZsb2F0IG1heFZhbHVlID0gMC41ICogUEk7XFxuICAgIGZsb2F0IHNjYWxlZFNsb3BlID0gaW50ZW5zaXR5ICE9IDAuNSA/ICgocG93KGJhc2UsIHNsb3BlKSAtIDEuMCkgLyAocG93KGJhc2UsIG1heFZhbHVlKSAtIDEuMCkpICogbWF4VmFsdWUgOiBzbG9wZTtcXG5cXG4gICAgLy8gVGhlIGFjY2VudCBjb2xvciBpcyBjYWxjdWxhdGVkIHdpdGggdGhlIGNvc2luZSBvZiB0aGUgc2xvcGUgd2hpbGUgdGhlIHNoYWRlIGNvbG9yIGlzIGNhbGN1bGF0ZWQgd2l0aCB0aGUgc2luZVxcbiAgICAvLyBzbyB0aGF0IHRoZSBhY2NlbnQgY29sb3IncyByYXRlIG9mIGNoYW5nZSBlYXNlcyBpbiB3aGlsZSB0aGUgc2hhZGUgY29sb3IncyBlYXNlcyBvdXQuXFxuICAgIGZsb2F0IGFjY2VudCA9IGNvcyhzY2FsZWRTbG9wZSk7XFxuICAgIC8vIFdlIG11bHRpcGx5IGJvdGggdGhlIGFjY2VudCBhbmQgc2hhZGUgY29sb3IgYnkgYSBjbGFtcGVkIGludGVuc2l0eSB2YWx1ZVxcbiAgICAvLyBzbyB0aGF0IGludGVuc2l0aWVzID49IDAuNSBkbyBub3QgYWRkaXRpb25hbGx5IGFmZmVjdCB0aGUgY29sb3IgdmFsdWVzXFxuICAgIC8vIHdoaWxlIGludGVuc2l0eSB2YWx1ZXMgPCAwLjUgbWFrZSB0aGUgb3ZlcmFsbCBjb2xvciBtb3JlIHRyYW5zcGFyZW50LlxcbiAgICB2ZWM0IGFjY2VudF9jb2xvciA9ICgxLjAgLSBhY2NlbnQpICogdV9hY2NlbnQgKiBjbGFtcChpbnRlbnNpdHkgKiAyLjAsIDAuMCwgMS4wKTtcXG4gICAgZmxvYXQgc2hhZGUgPSBhYnMobW9kKChhc3BlY3QgKyBhemltdXRoKSAvIFBJICsgMC41LCAyLjApIC0gMS4wKTtcXG4gICAgdmVjNCBzaGFkZV9jb2xvciA9IG1peCh1X3NoYWRvdywgdV9oaWdobGlnaHQsIHNoYWRlKSAqIHNpbihzY2FsZWRTbG9wZSkgKiBjbGFtcChpbnRlbnNpdHkgKiAyLjAsIDAuMCwgMS4wKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gYWNjZW50X2NvbG9yICogKDEuMCAtIHNoYWRlX2NvbG9yLmEpICsgc2hhZGVfY29sb3I7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcInVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5hdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO1xcblxcbnZhcnlpbmcgdmVjMiB2X3BvcztcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKTtcXG4gICAgdl9wb3MgPSBhX3RleHR1cmVfcG9zIC8gODE5Mi4wO1xcbn1cXG5cIn0sbGluZTp7ZnJhZ21lbnRTb3VyY2U6XCIjcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxudmFyeWluZyB2ZWMyIHZfd2lkdGgyO1xcbnZhcnlpbmcgdmVjMiB2X25vcm1hbDtcXG52YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBvZiB0aGUgcGl4ZWwgZnJvbSB0aGUgbGluZSBpbiBwaXhlbHMuXFxuICAgIGZsb2F0IGRpc3QgPSBsZW5ndGgodl9ub3JtYWwpICogdl93aWR0aDIucztcXG5cXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBhbnRpYWxpYXNpbmcgZmFkZSBmYWN0b3IuIFRoaXMgaXMgZWl0aGVyIHdoZW4gZmFkaW5nIGluXFxuICAgIC8vIHRoZSBsaW5lIGluIGNhc2Ugb2YgYW4gb2Zmc2V0IGxpbmUgKHZfd2lkdGgyLnQpIG9yIHdoZW4gZmFkaW5nIG91dFxcbiAgICAvLyAodl93aWR0aDIucylcXG4gICAgZmxvYXQgYmx1cjIgPSAoYmx1ciArIDEuMCAvIERFVklDRV9QSVhFTF9SQVRJTykgKiB2X2dhbW1hX3NjYWxlO1xcbiAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKG1pbihkaXN0IC0gKHZfd2lkdGgyLnQgLSBibHVyMiksIHZfd2lkdGgyLnMgLSBkaXN0KSAvIGJsdXIyLCAwLjAsIDEuMCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yICogKGFscGhhICogb3BhY2l0eSk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcIlxcblxcbi8vIHRoZSBkaXN0YW5jZSBvdmVyIHdoaWNoIHRoZSBsaW5lIGVkZ2UgZmFkZXMgb3V0Llxcbi8vIFJldGluYSBkZXZpY2VzIG5lZWQgYSBzbWFsbGVyIGRpc3RhbmNlIHRvIGF2b2lkIGFsaWFzaW5nLlxcbiNkZWZpbmUgQU5USUFMSUFTSU5HIDEuMCAvIERFVklDRV9QSVhFTF9SQVRJTyAvIDIuMFxcblxcbi8vIGZsb29yKDEyNyAvIDIpID09IDYzLjBcXG4vLyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pdGVyIGxpbWl0IGlzIDIuMCBhdCB0aGUgbW9tZW50LiB0aGUgZXh0cnVkZSBub3JtYWwgaXNcXG4vLyBzdG9yZWQgaW4gYSBieXRlICgtMTI4Li4xMjcpLiB3ZSBzY2FsZSByZWd1bGFyIG5vcm1hbHMgdXAgdG8gbGVuZ3RoIDYzLCBidXRcXG4vLyB0aGVyZSBhcmUgYWxzbyBcXFwic3BlY2lhbFxcXCIgbm9ybWFscyB0aGF0IGhhdmUgYSBiaWdnZXIgbGVuZ3RoIChvZiB1cCB0byAxMjYgaW5cXG4vLyB0aGlzIGNhc2UpLlxcbi8vICNkZWZpbmUgc2NhbGUgNjMuMFxcbiNkZWZpbmUgc2NhbGUgMC4wMTU4NzMwMTZcXG5cXG5hdHRyaWJ1dGUgdmVjNCBhX3Bvc19ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9kYXRhO1xcblxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbztcXG51bmlmb3JtIHZlYzIgdV9nbF91bml0c190b19waXhlbHM7XFxuXFxudmFyeWluZyB2ZWMyIHZfbm9ybWFsO1xcbnZhcnlpbmcgdmVjMiB2X3dpZHRoMjtcXG52YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XFxudmFyeWluZyBoaWdocCBmbG9hdCB2X2xpbmVzb2ZhcjtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcblxcbiAgICB2ZWMyIGFfZXh0cnVkZSA9IGFfZGF0YS54eSAtIDEyOC4wO1xcbiAgICBmbG9hdCBhX2RpcmVjdGlvbiA9IG1vZChhX2RhdGEueiwgNC4wKSAtIDEuMDtcXG5cXG4gICAgdl9saW5lc29mYXIgPSAoZmxvb3IoYV9kYXRhLnogLyA0LjApICsgYV9kYXRhLncgKiA2NC4wKSAqIDIuMDtcXG5cXG4gICAgdmVjMiBwb3MgPSBhX3Bvc19ub3JtYWwueHk7XFxuXFxuICAgIC8vIHggaXMgMSBpZiBpdCdzIGEgcm91bmQgY2FwLCAwIG90aGVyd2lzZVxcbiAgICAvLyB5IGlzIDEgaWYgdGhlIG5vcm1hbCBwb2ludHMgdXAsIGFuZCAtMSBpZiBpdCBwb2ludHMgZG93blxcbiAgICBtZWRpdW1wIHZlYzIgbm9ybWFsID0gYV9wb3Nfbm9ybWFsLnp3O1xcbiAgICB2X25vcm1hbCA9IG5vcm1hbDtcXG5cXG4gICAgLy8gdGhlc2UgdHJhbnNmb3JtYXRpb25zIHVzZWQgdG8gYmUgYXBwbGllZCBpbiB0aGUgSlMgYW5kIG5hdGl2ZSBjb2RlIGJhc2VzLlxcbiAgICAvLyBtb3ZlZCB0aGVtIGludG8gdGhlIHNoYWRlciBmb3IgY2xhcml0eSBhbmQgc2ltcGxpY2l0eS5cXG4gICAgZ2Fwd2lkdGggPSBnYXB3aWR0aCAvIDIuMDtcXG4gICAgZmxvYXQgaGFsZndpZHRoID0gd2lkdGggLyAyLjA7XFxuICAgIG9mZnNldCA9IC0xLjAgKiBvZmZzZXQ7XFxuXFxuICAgIGZsb2F0IGluc2V0ID0gZ2Fwd2lkdGggKyAoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO1xcbiAgICBmbG9hdCBvdXRzZXQgPSBnYXB3aWR0aCArIGhhbGZ3aWR0aCAqIChnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkgKyAoaGFsZndpZHRoID09IDAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7XFxuXFxuICAgIC8vIFNjYWxlIHRoZSBleHRydXNpb24gdmVjdG9yIGRvd24gdG8gYSBub3JtYWwgYW5kIHRoZW4gdXAgYnkgdGhlIGxpbmUgd2lkdGhcXG4gICAgLy8gb2YgdGhpcyB2ZXJ0ZXguXFxuICAgIG1lZGl1bXAgdmVjMiBkaXN0ID0gb3V0c2V0ICogYV9leHRydWRlICogc2NhbGU7XFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgb2Zmc2V0IHdoZW4gZHJhd2luZyBhIGxpbmUgdGhhdCBpcyB0byB0aGUgc2lkZSBvZiB0aGUgYWN0dWFsIGxpbmUuXFxuICAgIC8vIFdlIGRvIHRoaXMgYnkgY3JlYXRpbmcgYSB2ZWN0b3IgdGhhdCBwb2ludHMgdG93YXJkcyB0aGUgZXh0cnVkZSwgYnV0IHJvdGF0ZVxcbiAgICAvLyBpdCB3aGVuIHdlJ3JlIGRyYXdpbmcgcm91bmQgZW5kIHBvaW50cyAoYV9kaXJlY3Rpb24gPSAtMSBvciAxKSBzaW5jZSB0aGVpclxcbiAgICAvLyBleHRydWRlIHZlY3RvciBwb2ludHMgaW4gYW5vdGhlciBkaXJlY3Rpb24uXFxuICAgIG1lZGl1bXAgZmxvYXQgdSA9IDAuNSAqIGFfZGlyZWN0aW9uO1xcbiAgICBtZWRpdW1wIGZsb2F0IHQgPSAxLjAgLSBhYnModSk7XFxuICAgIG1lZGl1bXAgdmVjMiBvZmZzZXQyID0gb2Zmc2V0ICogYV9leHRydWRlICogc2NhbGUgKiBub3JtYWwueSAqIG1hdDIodCwgLXUsIHUsIHQpO1xcblxcbiAgICB2ZWM0IHByb2plY3RlZF9leHRydWRlID0gdV9tYXRyaXggKiB2ZWM0KGRpc3QgLyB1X3JhdGlvLCAwLjAsIDAuMCk7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KHBvcyArIG9mZnNldDIgLyB1X3JhdGlvLCAwLjAsIDEuMCkgKyBwcm9qZWN0ZWRfZXh0cnVkZTtcXG5cXG4gICAgLy8gY2FsY3VsYXRlIGhvdyBtdWNoIHRoZSBwZXJzcGVjdGl2ZSB2aWV3IHNxdWlzaGVzIG9yIHN0cmV0Y2hlcyB0aGUgZXh0cnVkZVxcbiAgICBmbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlID0gbGVuZ3RoKGRpc3QpO1xcbiAgICBmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlID0gbGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5IC8gZ2xfUG9zaXRpb24udyAqIHVfZ2xfdW5pdHNfdG9fcGl4ZWxzKTtcXG4gICAgdl9nYW1tYV9zY2FsZSA9IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUgLyBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcblxcbiAgICB2X3dpZHRoMiA9IHZlYzIob3V0c2V0LCBpbnNldCk7XFxufVxcblwifSxsaW5lR3JhZGllbnQ6e2ZyYWdtZW50U291cmNlOlwiXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7XFxuXFxudmFyeWluZyB2ZWMyIHZfd2lkdGgyO1xcbnZhcnlpbmcgdmVjMiB2X25vcm1hbDtcXG52YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XFxudmFyeWluZyBoaWdocCBmbG9hdCB2X2xpbmVwcm9ncmVzcztcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBvZiB0aGUgcGl4ZWwgZnJvbSB0aGUgbGluZSBpbiBwaXhlbHMuXFxuICAgIGZsb2F0IGRpc3QgPSBsZW5ndGgodl9ub3JtYWwpICogdl93aWR0aDIucztcXG5cXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBhbnRpYWxpYXNpbmcgZmFkZSBmYWN0b3IuIFRoaXMgaXMgZWl0aGVyIHdoZW4gZmFkaW5nIGluXFxuICAgIC8vIHRoZSBsaW5lIGluIGNhc2Ugb2YgYW4gb2Zmc2V0IGxpbmUgKHZfd2lkdGgyLnQpIG9yIHdoZW4gZmFkaW5nIG91dFxcbiAgICAvLyAodl93aWR0aDIucylcXG4gICAgZmxvYXQgYmx1cjIgPSAoYmx1ciArIDEuMCAvIERFVklDRV9QSVhFTF9SQVRJTykgKiB2X2dhbW1hX3NjYWxlO1xcbiAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKG1pbihkaXN0IC0gKHZfd2lkdGgyLnQgLSBibHVyMiksIHZfd2lkdGgyLnMgLSBkaXN0KSAvIGJsdXIyLCAwLjAsIDEuMCk7XFxuXFxuICAgIC8vIEZvciBncmFkaWVudCBsaW5lcywgdl9saW5lcHJvZ3Jlc3MgaXMgdGhlIHJhdGlvIGFsb25nIHRoZSBlbnRpcmUgbGluZSxcXG4gICAgLy8gc2NhbGVkIHRvIFswLCAyXjE1KSwgYW5kIHRoZSBncmFkaWVudCByYW1wIGlzIHN0b3JlZCBpbiBhIHRleHR1cmUuXFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodV9pbWFnZSwgdmVjMih2X2xpbmVwcm9ncmVzcywgMC41KSk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yICogKGFscGhhICogb3BhY2l0eSk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcIlxcbi8vIHRoZSBhdHRyaWJ1dGUgY29udmV5aW5nIHByb2dyZXNzIGFsb25nIGEgbGluZSBpcyBzY2FsZWQgdG8gWzAsIDJeMTUpXFxuI2RlZmluZSBNQVhfTElORV9ESVNUQU5DRSAzMjc2Ny4wXFxuXFxuLy8gdGhlIGRpc3RhbmNlIG92ZXIgd2hpY2ggdGhlIGxpbmUgZWRnZSBmYWRlcyBvdXQuXFxuLy8gUmV0aW5hIGRldmljZXMgbmVlZCBhIHNtYWxsZXIgZGlzdGFuY2UgdG8gYXZvaWQgYWxpYXNpbmcuXFxuI2RlZmluZSBBTlRJQUxJQVNJTkcgMS4wIC8gREVWSUNFX1BJWEVMX1JBVElPIC8gMi4wXFxuXFxuLy8gZmxvb3IoMTI3IC8gMikgPT0gNjMuMFxcbi8vIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWl0ZXIgbGltaXQgaXMgMi4wIGF0IHRoZSBtb21lbnQuIHRoZSBleHRydWRlIG5vcm1hbCBpc1xcbi8vIHN0b3JlZCBpbiBhIGJ5dGUgKC0xMjguLjEyNykuIHdlIHNjYWxlIHJlZ3VsYXIgbm9ybWFscyB1cCB0byBsZW5ndGggNjMsIGJ1dFxcbi8vIHRoZXJlIGFyZSBhbHNvIFxcXCJzcGVjaWFsXFxcIiBub3JtYWxzIHRoYXQgaGF2ZSBhIGJpZ2dlciBsZW5ndGggKG9mIHVwIHRvIDEyNiBpblxcbi8vIHRoaXMgY2FzZSkuXFxuLy8gI2RlZmluZSBzY2FsZSA2My4wXFxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxcblxcbmF0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2RhdGE7XFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X3JhdGlvO1xcbnVuaWZvcm0gdmVjMiB1X2dsX3VuaXRzX3RvX3BpeGVscztcXG5cXG52YXJ5aW5nIHZlYzIgdl9ub3JtYWw7XFxudmFyeWluZyB2ZWMyIHZfd2lkdGgyO1xcbnZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcXG52YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfbGluZXByb2dyZXNzO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcblxcbiAgICB2ZWMyIGFfZXh0cnVkZSA9IGFfZGF0YS54eSAtIDEyOC4wO1xcbiAgICBmbG9hdCBhX2RpcmVjdGlvbiA9IG1vZChhX2RhdGEueiwgNC4wKSAtIDEuMDtcXG5cXG4gICAgdl9saW5lcHJvZ3Jlc3MgPSAoZmxvb3IoYV9kYXRhLnogLyA0LjApICsgYV9kYXRhLncgKiA2NC4wKSAqIDIuMCAvIE1BWF9MSU5FX0RJU1RBTkNFO1xcblxcbiAgICB2ZWMyIHBvcyA9IGFfcG9zX25vcm1hbC54eTtcXG5cXG4gICAgLy8geCBpcyAxIGlmIGl0J3MgYSByb3VuZCBjYXAsIDAgb3RoZXJ3aXNlXFxuICAgIC8vIHkgaXMgMSBpZiB0aGUgbm9ybWFsIHBvaW50cyB1cCwgYW5kIC0xIGlmIGl0IHBvaW50cyBkb3duXFxuICAgIG1lZGl1bXAgdmVjMiBub3JtYWwgPSBhX3Bvc19ub3JtYWwuenc7XFxuICAgIHZfbm9ybWFsID0gbm9ybWFsO1xcblxcbiAgICAvLyB0aGVzZSB0cmFuc2Zvcm1hdGlvbnMgdXNlZCB0byBiZSBhcHBsaWVkIGluIHRoZSBKUyBhbmQgbmF0aXZlIGNvZGUgYmFzZXMuXFxuICAgIC8vIG1vdmVkIHRoZW0gaW50byB0aGUgc2hhZGVyIGZvciBjbGFyaXR5IGFuZCBzaW1wbGljaXR5LlxcbiAgICBnYXB3aWR0aCA9IGdhcHdpZHRoIC8gMi4wO1xcbiAgICBmbG9hdCBoYWxmd2lkdGggPSB3aWR0aCAvIDIuMDtcXG4gICAgb2Zmc2V0ID0gLTEuMCAqIG9mZnNldDtcXG5cXG4gICAgZmxvYXQgaW5zZXQgPSBnYXB3aWR0aCArIChnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7XFxuICAgIGZsb2F0IG91dHNldCA9IGdhcHdpZHRoICsgaGFsZndpZHRoICogKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSArIChoYWxmd2lkdGggPT0gMC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTtcXG5cXG4gICAgLy8gU2NhbGUgdGhlIGV4dHJ1c2lvbiB2ZWN0b3IgZG93biB0byBhIG5vcm1hbCBhbmQgdGhlbiB1cCBieSB0aGUgbGluZSB3aWR0aFxcbiAgICAvLyBvZiB0aGlzIHZlcnRleC5cXG4gICAgbWVkaXVtcCB2ZWMyIGRpc3QgPSBvdXRzZXQgKiBhX2V4dHJ1ZGUgKiBzY2FsZTtcXG5cXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBvZmZzZXQgd2hlbiBkcmF3aW5nIGEgbGluZSB0aGF0IGlzIHRvIHRoZSBzaWRlIG9mIHRoZSBhY3R1YWwgbGluZS5cXG4gICAgLy8gV2UgZG8gdGhpcyBieSBjcmVhdGluZyBhIHZlY3RvciB0aGF0IHBvaW50cyB0b3dhcmRzIHRoZSBleHRydWRlLCBidXQgcm90YXRlXFxuICAgIC8vIGl0IHdoZW4gd2UncmUgZHJhd2luZyByb3VuZCBlbmQgcG9pbnRzIChhX2RpcmVjdGlvbiA9IC0xIG9yIDEpIHNpbmNlIHRoZWlyXFxuICAgIC8vIGV4dHJ1ZGUgdmVjdG9yIHBvaW50cyBpbiBhbm90aGVyIGRpcmVjdGlvbi5cXG4gICAgbWVkaXVtcCBmbG9hdCB1ID0gMC41ICogYV9kaXJlY3Rpb247XFxuICAgIG1lZGl1bXAgZmxvYXQgdCA9IDEuMCAtIGFicyh1KTtcXG4gICAgbWVkaXVtcCB2ZWMyIG9mZnNldDIgPSBvZmZzZXQgKiBhX2V4dHJ1ZGUgKiBzY2FsZSAqIG5vcm1hbC55ICogbWF0Mih0LCAtdSwgdSwgdCk7XFxuXFxuICAgIHZlYzQgcHJvamVjdGVkX2V4dHJ1ZGUgPSB1X21hdHJpeCAqIHZlYzQoZGlzdCAvIHVfcmF0aW8sIDAuMCwgMC4wKTtcXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQocG9zICsgb2Zmc2V0MiAvIHVfcmF0aW8sIDAuMCwgMS4wKSArIHByb2plY3RlZF9leHRydWRlO1xcblxcbiAgICAvLyBjYWxjdWxhdGUgaG93IG11Y2ggdGhlIHBlcnNwZWN0aXZlIHZpZXcgc3F1aXNoZXMgb3Igc3RyZXRjaGVzIHRoZSBleHRydWRlXFxuICAgIGZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUgPSBsZW5ndGgoZGlzdCk7XFxuICAgIGZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmUgPSBsZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkgLyBnbF9Qb3NpdGlvbi53ICogdV9nbF91bml0c190b19waXhlbHMpO1xcbiAgICB2X2dhbW1hX3NjYWxlID0gZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZSAvIGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7XFxuXFxuICAgIHZfd2lkdGgyID0gdmVjMihvdXRzZXQsIGluc2V0KTtcXG59XFxuXCJ9LGxpbmVQYXR0ZXJuOntmcmFnbWVudFNvdXJjZTpcInVuaWZvcm0gdmVjMiB1X3RleHNpemU7XFxudW5pZm9ybSBmbG9hdCB1X2ZhZGU7XFxudW5pZm9ybSBtZWRpdW1wIHZlYzQgdV9zY2FsZTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcblxcbnZhcnlpbmcgdmVjMiB2X25vcm1hbDtcXG52YXJ5aW5nIHZlYzIgdl93aWR0aDI7XFxudmFyeWluZyBmbG9hdCB2X2xpbmVzb2ZhcjtcXG52YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG5cXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbiAgICB2ZWMyIHBhdHRlcm5fdGxfYSA9IHBhdHRlcm5fZnJvbS54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2EgPSBwYXR0ZXJuX2Zyb20uenc7XFxuICAgIHZlYzIgcGF0dGVybl90bF9iID0gcGF0dGVybl90by54eTtcXG4gICAgdmVjMiBwYXR0ZXJuX2JyX2IgPSBwYXR0ZXJuX3RvLnp3O1xcblxcbiAgICBmbG9hdCBwaXhlbFJhdGlvID0gdV9zY2FsZS54O1xcbiAgICBmbG9hdCB0aWxlWm9vbVJhdGlvID0gdV9zY2FsZS55O1xcbiAgICBmbG9hdCBmcm9tU2NhbGUgPSB1X3NjYWxlLno7XFxuICAgIGZsb2F0IHRvU2NhbGUgPSB1X3NjYWxlLnc7XFxuXFxuICAgIHZlYzIgZGlzcGxheV9zaXplX2EgPSB2ZWMyKChwYXR0ZXJuX2JyX2EueCAtIHBhdHRlcm5fdGxfYS54KSAvIHBpeGVsUmF0aW8sIChwYXR0ZXJuX2JyX2EueSAtIHBhdHRlcm5fdGxfYS55KSAvIHBpeGVsUmF0aW8pO1xcbiAgICB2ZWMyIGRpc3BsYXlfc2l6ZV9iID0gdmVjMigocGF0dGVybl9icl9iLnggLSBwYXR0ZXJuX3RsX2IueCkgLyBwaXhlbFJhdGlvLCAocGF0dGVybl9icl9iLnkgLSBwYXR0ZXJuX3RsX2IueSkgLyBwaXhlbFJhdGlvKTtcXG5cXG4gICAgdmVjMiBwYXR0ZXJuX3NpemVfYSA9IHZlYzIoZGlzcGxheV9zaXplX2EueCAqIGZyb21TY2FsZSAvIHRpbGVab29tUmF0aW8sIGRpc3BsYXlfc2l6ZV9hLnkpO1xcbiAgICB2ZWMyIHBhdHRlcm5fc2l6ZV9iID0gdmVjMihkaXNwbGF5X3NpemVfYi54ICogdG9TY2FsZSAvIHRpbGVab29tUmF0aW8sIGRpc3BsYXlfc2l6ZV9iLnkpO1xcblxcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIG9mIHRoZSBwaXhlbCBmcm9tIHRoZSBsaW5lIGluIHBpeGVscy5cXG4gICAgZmxvYXQgZGlzdCA9IGxlbmd0aCh2X25vcm1hbCkgKiB2X3dpZHRoMi5zO1xcblxcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGFudGlhbGlhc2luZyBmYWRlIGZhY3Rvci4gVGhpcyBpcyBlaXRoZXIgd2hlbiBmYWRpbmcgaW5cXG4gICAgLy8gdGhlIGxpbmUgaW4gY2FzZSBvZiBhbiBvZmZzZXQgbGluZSAodl93aWR0aDIudCkgb3Igd2hlbiBmYWRpbmcgb3V0XFxuICAgIC8vICh2X3dpZHRoMi5zKVxcbiAgICBmbG9hdCBibHVyMiA9IChibHVyICsgMS4wIC8gREVWSUNFX1BJWEVMX1JBVElPKSAqIHZfZ2FtbWFfc2NhbGU7XFxuICAgIGZsb2F0IGFscGhhID0gY2xhbXAobWluKGRpc3QgLSAodl93aWR0aDIudCAtIGJsdXIyKSwgdl93aWR0aDIucyAtIGRpc3QpIC8gYmx1cjIsIDAuMCwgMS4wKTtcXG5cXG4gICAgZmxvYXQgeF9hID0gbW9kKHZfbGluZXNvZmFyIC8gcGF0dGVybl9zaXplX2EueCwgMS4wKTtcXG4gICAgZmxvYXQgeF9iID0gbW9kKHZfbGluZXNvZmFyIC8gcGF0dGVybl9zaXplX2IueCwgMS4wKTtcXG5cXG4gICAgLy8gdl9ub3JtYWwueSBpcyAwIGF0IHRoZSBtaWRwb2ludCBvZiB0aGUgbGluZSwgLTEgYXQgdGhlIGxvd2VyIGVkZ2UsIDEgYXQgdGhlIHVwcGVyIGVkZ2VcXG4gICAgLy8gd2UgY2xhbXAgdGhlIGxpbmUgd2lkdGggb3V0c2V0IHRvIGJlIGJldHdlZW4gMCBhbmQgaGFsZiB0aGUgcGF0dGVybiBoZWlnaHQgcGx1cyBwYWRkaW5nICgyLjApXFxuICAgIC8vIHRvIGVuc3VyZSB3ZSBkb24ndCBzYW1wbGUgb3V0c2lkZSB0aGUgZGVzaWduYXRlZCBzeW1ib2wgb24gdGhlIHNwcml0ZSBzaGVldC5cXG4gICAgLy8gMC41IGlzIGFkZGVkIHRvIHNoaWZ0IHRoZSBjb21wb25lbnQgdG8gYmUgYm91bmRlZCBiZXR3ZWVuIDAgYW5kIDEgZm9yIGludGVycG9sYXRpb24gb2ZcXG4gICAgLy8gdGhlIHRleHR1cmUgY29vcmRpbmF0ZVxcbiAgICBmbG9hdCB5X2EgPSAwLjUgKyAodl9ub3JtYWwueSAqIGNsYW1wKHZfd2lkdGgyLnMsIDAuMCwgKHBhdHRlcm5fc2l6ZV9hLnkgKyAyLjApIC8gMi4wKSAvIHBhdHRlcm5fc2l6ZV9hLnkpO1xcbiAgICBmbG9hdCB5X2IgPSAwLjUgKyAodl9ub3JtYWwueSAqIGNsYW1wKHZfd2lkdGgyLnMsIDAuMCwgKHBhdHRlcm5fc2l6ZV9iLnkgKyAyLjApIC8gMi4wKSAvIHBhdHRlcm5fc2l6ZV9iLnkpO1xcbiAgICB2ZWMyIHBvc19hID0gbWl4KHBhdHRlcm5fdGxfYSAvIHVfdGV4c2l6ZSwgcGF0dGVybl9icl9hIC8gdV90ZXhzaXplLCB2ZWMyKHhfYSwgeV9hKSk7XFxuICAgIHZlYzIgcG9zX2IgPSBtaXgocGF0dGVybl90bF9iIC8gdV90ZXhzaXplLCBwYXR0ZXJuX2JyX2IgLyB1X3RleHNpemUsIHZlYzIoeF9iLCB5X2IpKTtcXG5cXG4gICAgdmVjNCBjb2xvciA9IG1peCh0ZXh0dXJlMkQodV9pbWFnZSwgcG9zX2EpLCB0ZXh0dXJlMkQodV9pbWFnZSwgcG9zX2IpLCB1X2ZhZGUpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIGFscGhhICogb3BhY2l0eTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwiLy8gZmxvb3IoMTI3IC8gMikgPT0gNjMuMFxcbi8vIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWl0ZXIgbGltaXQgaXMgMi4wIGF0IHRoZSBtb21lbnQuIHRoZSBleHRydWRlIG5vcm1hbCBpc1xcbi8vIHN0b3JlZCBpbiBhIGJ5dGUgKC0xMjguLjEyNykuIHdlIHNjYWxlIHJlZ3VsYXIgbm9ybWFscyB1cCB0byBsZW5ndGggNjMsIGJ1dFxcbi8vIHRoZXJlIGFyZSBhbHNvIFxcXCJzcGVjaWFsXFxcIiBub3JtYWxzIHRoYXQgaGF2ZSBhIGJpZ2dlciBsZW5ndGggKG9mIHVwIHRvIDEyNiBpblxcbi8vIHRoaXMgY2FzZSkuXFxuLy8gI2RlZmluZSBzY2FsZSA2My4wXFxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxcblxcbi8vIFdlIHNjYWxlIHRoZSBkaXN0YW5jZSBiZWZvcmUgYWRkaW5nIGl0IHRvIHRoZSBidWZmZXJzIHNvIHRoYXQgd2UgY2FuIHN0b3JlXFxuLy8gbG9uZyBkaXN0YW5jZXMgZm9yIGxvbmcgc2VnbWVudHMuIFVzZSB0aGlzIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGRpc3RhbmNlLlxcbiNkZWZpbmUgTElORV9ESVNUQU5DRV9TQ0FMRSAyLjBcXG5cXG4vLyB0aGUgZGlzdGFuY2Ugb3ZlciB3aGljaCB0aGUgbGluZSBlZGdlIGZhZGVzIG91dC5cXG4vLyBSZXRpbmEgZGV2aWNlcyBuZWVkIGEgc21hbGxlciBkaXN0YW5jZSB0byBhdm9pZCBhbGlhc2luZy5cXG4jZGVmaW5lIEFOVElBTElBU0lORyAxLjAgLyBERVZJQ0VfUElYRUxfUkFUSU8gLyAyLjBcXG5cXG5hdHRyaWJ1dGUgdmVjNCBhX3Bvc19ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9kYXRhO1xcblxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIHZlYzIgdV9nbF91bml0c190b19waXhlbHM7XFxudW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfcmF0aW87XFxuXFxudmFyeWluZyB2ZWMyIHZfbm9ybWFsO1xcbnZhcnlpbmcgdmVjMiB2X3dpZHRoMjtcXG52YXJ5aW5nIGZsb2F0IHZfbGluZXNvZmFyO1xcbnZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG5cXG4gICAgdmVjMiBhX2V4dHJ1ZGUgPSBhX2RhdGEueHkgLSAxMjguMDtcXG4gICAgZmxvYXQgYV9kaXJlY3Rpb24gPSBtb2QoYV9kYXRhLnosIDQuMCkgLSAxLjA7XFxuICAgIGZsb2F0IGFfbGluZXNvZmFyID0gKGZsb29yKGFfZGF0YS56IC8gNC4wKSArIGFfZGF0YS53ICogNjQuMCkgKiBMSU5FX0RJU1RBTkNFX1NDQUxFO1xcbiAgICAvLyBmbG9hdCB0aWxlUmF0aW8gPSB1X3NjYWxlLnk7XFxuICAgIHZlYzIgcG9zID0gYV9wb3Nfbm9ybWFsLnh5O1xcblxcbiAgICAvLyB4IGlzIDEgaWYgaXQncyBhIHJvdW5kIGNhcCwgMCBvdGhlcndpc2VcXG4gICAgLy8geSBpcyAxIGlmIHRoZSBub3JtYWwgcG9pbnRzIHVwLCBhbmQgLTEgaWYgaXQgcG9pbnRzIGRvd25cXG4gICAgbWVkaXVtcCB2ZWMyIG5vcm1hbCA9IGFfcG9zX25vcm1hbC56dztcXG4gICAgdl9ub3JtYWwgPSBub3JtYWw7XFxuXFxuICAgIC8vIHRoZXNlIHRyYW5zZm9ybWF0aW9ucyB1c2VkIHRvIGJlIGFwcGxpZWQgaW4gdGhlIEpTIGFuZCBuYXRpdmUgY29kZSBiYXNlcy5cXG4gICAgLy8gbW92ZWQgdGhlbSBpbnRvIHRoZSBzaGFkZXIgZm9yIGNsYXJpdHkgYW5kIHNpbXBsaWNpdHkuXFxuICAgIGdhcHdpZHRoID0gZ2Fwd2lkdGggLyAyLjA7XFxuICAgIGZsb2F0IGhhbGZ3aWR0aCA9IHdpZHRoIC8gMi4wO1xcbiAgICBvZmZzZXQgPSAtMS4wICogb2Zmc2V0O1xcblxcbiAgICBmbG9hdCBpbnNldCA9IGdhcHdpZHRoICsgKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtcXG4gICAgZmxvYXQgb3V0c2V0ID0gZ2Fwd2lkdGggKyBoYWxmd2lkdGggKiAoZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApICsgKGhhbGZ3aWR0aCA9PSAwLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO1xcblxcbiAgICAvLyBTY2FsZSB0aGUgZXh0cnVzaW9uIHZlY3RvciBkb3duIHRvIGEgbm9ybWFsIGFuZCB0aGVuIHVwIGJ5IHRoZSBsaW5lIHdpZHRoXFxuICAgIC8vIG9mIHRoaXMgdmVydGV4LlxcbiAgICBtZWRpdW1wIHZlYzIgZGlzdCA9IG91dHNldCAqIGFfZXh0cnVkZSAqIHNjYWxlO1xcblxcbiAgICAvLyBDYWxjdWxhdGUgdGhlIG9mZnNldCB3aGVuIGRyYXdpbmcgYSBsaW5lIHRoYXQgaXMgdG8gdGhlIHNpZGUgb2YgdGhlIGFjdHVhbCBsaW5lLlxcbiAgICAvLyBXZSBkbyB0aGlzIGJ5IGNyZWF0aW5nIGEgdmVjdG9yIHRoYXQgcG9pbnRzIHRvd2FyZHMgdGhlIGV4dHJ1ZGUsIGJ1dCByb3RhdGVcXG4gICAgLy8gaXQgd2hlbiB3ZSdyZSBkcmF3aW5nIHJvdW5kIGVuZCBwb2ludHMgKGFfZGlyZWN0aW9uID0gLTEgb3IgMSkgc2luY2UgdGhlaXJcXG4gICAgLy8gZXh0cnVkZSB2ZWN0b3IgcG9pbnRzIGluIGFub3RoZXIgZGlyZWN0aW9uLlxcbiAgICBtZWRpdW1wIGZsb2F0IHUgPSAwLjUgKiBhX2RpcmVjdGlvbjtcXG4gICAgbWVkaXVtcCBmbG9hdCB0ID0gMS4wIC0gYWJzKHUpO1xcbiAgICBtZWRpdW1wIHZlYzIgb2Zmc2V0MiA9IG9mZnNldCAqIGFfZXh0cnVkZSAqIHNjYWxlICogbm9ybWFsLnkgKiBtYXQyKHQsIC11LCB1LCB0KTtcXG5cXG4gICAgdmVjNCBwcm9qZWN0ZWRfZXh0cnVkZSA9IHVfbWF0cml4ICogdmVjNChkaXN0IC8gdV9yYXRpbywgMC4wLCAwLjApO1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChwb3MgKyBvZmZzZXQyIC8gdV9yYXRpbywgMC4wLCAxLjApICsgcHJvamVjdGVkX2V4dHJ1ZGU7XFxuXFxuICAgIC8vIGNhbGN1bGF0ZSBob3cgbXVjaCB0aGUgcGVyc3BlY3RpdmUgdmlldyBzcXVpc2hlcyBvciBzdHJldGNoZXMgdGhlIGV4dHJ1ZGVcXG4gICAgZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZSA9IGxlbmd0aChkaXN0KTtcXG4gICAgZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZSA9IGxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eSAvIGdsX1Bvc2l0aW9uLncgKiB1X2dsX3VuaXRzX3RvX3BpeGVscyk7XFxuICAgIHZfZ2FtbWFfc2NhbGUgPSBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlIC8gZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTtcXG5cXG4gICAgdl9saW5lc29mYXIgPSBhX2xpbmVzb2ZhcjtcXG4gICAgdl93aWR0aDIgPSB2ZWMyKG91dHNldCwgaW5zZXQpO1xcbn1cXG5cIn0sbGluZVNERjp7ZnJhZ21lbnRTb3VyY2U6XCJcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcbnVuaWZvcm0gZmxvYXQgdV9zZGZnYW1tYTtcXG51bmlmb3JtIGZsb2F0IHVfbWl4O1xcblxcbnZhcnlpbmcgdmVjMiB2X25vcm1hbDtcXG52YXJ5aW5nIHZlYzIgdl93aWR0aDI7XFxudmFyeWluZyB2ZWMyIHZfdGV4X2E7XFxudmFyeWluZyB2ZWMyIHZfdGV4X2I7XFxudmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2Ugb2YgdGhlIHBpeGVsIGZyb20gdGhlIGxpbmUgaW4gcGl4ZWxzLlxcbiAgICBmbG9hdCBkaXN0ID0gbGVuZ3RoKHZfbm9ybWFsKSAqIHZfd2lkdGgyLnM7XFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYW50aWFsaWFzaW5nIGZhZGUgZmFjdG9yLiBUaGlzIGlzIGVpdGhlciB3aGVuIGZhZGluZyBpblxcbiAgICAvLyB0aGUgbGluZSBpbiBjYXNlIG9mIGFuIG9mZnNldCBsaW5lICh2X3dpZHRoMi50KSBvciB3aGVuIGZhZGluZyBvdXRcXG4gICAgLy8gKHZfd2lkdGgyLnMpXFxuICAgIGZsb2F0IGJsdXIyID0gKGJsdXIgKyAxLjAgLyBERVZJQ0VfUElYRUxfUkFUSU8pICogdl9nYW1tYV9zY2FsZTtcXG4gICAgZmxvYXQgYWxwaGEgPSBjbGFtcChtaW4oZGlzdCAtICh2X3dpZHRoMi50IC0gYmx1cjIpLCB2X3dpZHRoMi5zIC0gZGlzdCkgLyBibHVyMiwgMC4wLCAxLjApO1xcblxcbiAgICBmbG9hdCBzZGZkaXN0X2EgPSB0ZXh0dXJlMkQodV9pbWFnZSwgdl90ZXhfYSkuYTtcXG4gICAgZmxvYXQgc2RmZGlzdF9iID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHZfdGV4X2IpLmE7XFxuICAgIGZsb2F0IHNkZmRpc3QgPSBtaXgoc2RmZGlzdF9hLCBzZGZkaXN0X2IsIHVfbWl4KTtcXG4gICAgYWxwaGEgKj0gc21vb3Roc3RlcCgwLjUgLSB1X3NkZmdhbW1hIC8gZmxvb3J3aWR0aCwgMC41ICsgdV9zZGZnYW1tYSAvIGZsb29yd2lkdGgsIHNkZmRpc3QpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIChhbHBoYSAqIG9wYWNpdHkpO1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCIvLyBmbG9vcigxMjcgLyAyKSA9PSA2My4wXFxuLy8gdGhlIG1heGltdW0gYWxsb3dlZCBtaXRlciBsaW1pdCBpcyAyLjAgYXQgdGhlIG1vbWVudC4gdGhlIGV4dHJ1ZGUgbm9ybWFsIGlzXFxuLy8gc3RvcmVkIGluIGEgYnl0ZSAoLTEyOC4uMTI3KS4gd2Ugc2NhbGUgcmVndWxhciBub3JtYWxzIHVwIHRvIGxlbmd0aCA2MywgYnV0XFxuLy8gdGhlcmUgYXJlIGFsc28gXFxcInNwZWNpYWxcXFwiIG5vcm1hbHMgdGhhdCBoYXZlIGEgYmlnZ2VyIGxlbmd0aCAob2YgdXAgdG8gMTI2IGluXFxuLy8gdGhpcyBjYXNlKS5cXG4vLyAjZGVmaW5lIHNjYWxlIDYzLjBcXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XFxuXFxuLy8gV2Ugc2NhbGUgdGhlIGRpc3RhbmNlIGJlZm9yZSBhZGRpbmcgaXQgdG8gdGhlIGJ1ZmZlcnMgc28gdGhhdCB3ZSBjYW4gc3RvcmVcXG4vLyBsb25nIGRpc3RhbmNlcyBmb3IgbG9uZyBzZWdtZW50cy4gVXNlIHRoaXMgdmFsdWUgdG8gdW5zY2FsZSB0aGUgZGlzdGFuY2UuXFxuI2RlZmluZSBMSU5FX0RJU1RBTkNFX1NDQUxFIDIuMFxcblxcbi8vIHRoZSBkaXN0YW5jZSBvdmVyIHdoaWNoIHRoZSBsaW5lIGVkZ2UgZmFkZXMgb3V0Llxcbi8vIFJldGluYSBkZXZpY2VzIG5lZWQgYSBzbWFsbGVyIGRpc3RhbmNlIHRvIGF2b2lkIGFsaWFzaW5nLlxcbiNkZWZpbmUgQU5USUFMSUFTSU5HIDEuMCAvIERFVklDRV9QSVhFTF9SQVRJTyAvIDIuMFxcblxcbmF0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2RhdGE7XFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X3JhdGlvO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5zY2FsZV9hO1xcbnVuaWZvcm0gZmxvYXQgdV90ZXhfeV9hO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5zY2FsZV9iO1xcbnVuaWZvcm0gZmxvYXQgdV90ZXhfeV9iO1xcbnVuaWZvcm0gdmVjMiB1X2dsX3VuaXRzX3RvX3BpeGVscztcXG5cXG52YXJ5aW5nIHZlYzIgdl9ub3JtYWw7XFxudmFyeWluZyB2ZWMyIHZfd2lkdGgyO1xcbnZhcnlpbmcgdmVjMiB2X3RleF9hO1xcbnZhcnlpbmcgdmVjMiB2X3RleF9iO1xcbnZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcblxcbiAgICB2ZWMyIGFfZXh0cnVkZSA9IGFfZGF0YS54eSAtIDEyOC4wO1xcbiAgICBmbG9hdCBhX2RpcmVjdGlvbiA9IG1vZChhX2RhdGEueiwgNC4wKSAtIDEuMDtcXG4gICAgZmxvYXQgYV9saW5lc29mYXIgPSAoZmxvb3IoYV9kYXRhLnogLyA0LjApICsgYV9kYXRhLncgKiA2NC4wKSAqIExJTkVfRElTVEFOQ0VfU0NBTEU7XFxuXFxuICAgIHZlYzIgcG9zID0gYV9wb3Nfbm9ybWFsLnh5O1xcblxcbiAgICAvLyB4IGlzIDEgaWYgaXQncyBhIHJvdW5kIGNhcCwgMCBvdGhlcndpc2VcXG4gICAgLy8geSBpcyAxIGlmIHRoZSBub3JtYWwgcG9pbnRzIHVwLCBhbmQgLTEgaWYgaXQgcG9pbnRzIGRvd25cXG4gICAgbWVkaXVtcCB2ZWMyIG5vcm1hbCA9IGFfcG9zX25vcm1hbC56dztcXG4gICAgdl9ub3JtYWwgPSBub3JtYWw7XFxuXFxuICAgIC8vIHRoZXNlIHRyYW5zZm9ybWF0aW9ucyB1c2VkIHRvIGJlIGFwcGxpZWQgaW4gdGhlIEpTIGFuZCBuYXRpdmUgY29kZSBiYXNlcy5cXG4gICAgLy8gbW92ZWQgdGhlbSBpbnRvIHRoZSBzaGFkZXIgZm9yIGNsYXJpdHkgYW5kIHNpbXBsaWNpdHkuXFxuICAgIGdhcHdpZHRoID0gZ2Fwd2lkdGggLyAyLjA7XFxuICAgIGZsb2F0IGhhbGZ3aWR0aCA9IHdpZHRoIC8gMi4wO1xcbiAgICBvZmZzZXQgPSAtMS4wICogb2Zmc2V0O1xcblxcbiAgICBmbG9hdCBpbnNldCA9IGdhcHdpZHRoICsgKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtcXG4gICAgZmxvYXQgb3V0c2V0ID0gZ2Fwd2lkdGggKyBoYWxmd2lkdGggKiAoZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApICsgKGhhbGZ3aWR0aCA9PSAwLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO1xcblxcbiAgICAvLyBTY2FsZSB0aGUgZXh0cnVzaW9uIHZlY3RvciBkb3duIHRvIGEgbm9ybWFsIGFuZCB0aGVuIHVwIGJ5IHRoZSBsaW5lIHdpZHRoXFxuICAgIC8vIG9mIHRoaXMgdmVydGV4LlxcbiAgICBtZWRpdW1wIHZlYzIgZGlzdCA9b3V0c2V0ICogYV9leHRydWRlICogc2NhbGU7XFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgb2Zmc2V0IHdoZW4gZHJhd2luZyBhIGxpbmUgdGhhdCBpcyB0byB0aGUgc2lkZSBvZiB0aGUgYWN0dWFsIGxpbmUuXFxuICAgIC8vIFdlIGRvIHRoaXMgYnkgY3JlYXRpbmcgYSB2ZWN0b3IgdGhhdCBwb2ludHMgdG93YXJkcyB0aGUgZXh0cnVkZSwgYnV0IHJvdGF0ZVxcbiAgICAvLyBpdCB3aGVuIHdlJ3JlIGRyYXdpbmcgcm91bmQgZW5kIHBvaW50cyAoYV9kaXJlY3Rpb24gPSAtMSBvciAxKSBzaW5jZSB0aGVpclxcbiAgICAvLyBleHRydWRlIHZlY3RvciBwb2ludHMgaW4gYW5vdGhlciBkaXJlY3Rpb24uXFxuICAgIG1lZGl1bXAgZmxvYXQgdSA9IDAuNSAqIGFfZGlyZWN0aW9uO1xcbiAgICBtZWRpdW1wIGZsb2F0IHQgPSAxLjAgLSBhYnModSk7XFxuICAgIG1lZGl1bXAgdmVjMiBvZmZzZXQyID0gb2Zmc2V0ICogYV9leHRydWRlICogc2NhbGUgKiBub3JtYWwueSAqIG1hdDIodCwgLXUsIHUsIHQpO1xcblxcbiAgICB2ZWM0IHByb2plY3RlZF9leHRydWRlID0gdV9tYXRyaXggKiB2ZWM0KGRpc3QgLyB1X3JhdGlvLCAwLjAsIDAuMCk7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KHBvcyArIG9mZnNldDIgLyB1X3JhdGlvLCAwLjAsIDEuMCkgKyBwcm9qZWN0ZWRfZXh0cnVkZTtcXG5cXG4gICAgLy8gY2FsY3VsYXRlIGhvdyBtdWNoIHRoZSBwZXJzcGVjdGl2ZSB2aWV3IHNxdWlzaGVzIG9yIHN0cmV0Y2hlcyB0aGUgZXh0cnVkZVxcbiAgICBmbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlID0gbGVuZ3RoKGRpc3QpO1xcbiAgICBmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlID0gbGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5IC8gZ2xfUG9zaXRpb24udyAqIHVfZ2xfdW5pdHNfdG9fcGl4ZWxzKTtcXG4gICAgdl9nYW1tYV9zY2FsZSA9IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUgLyBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcblxcbiAgICB2X3RleF9hID0gdmVjMihhX2xpbmVzb2ZhciAqIHVfcGF0dGVybnNjYWxlX2EueCAvIGZsb29yd2lkdGgsIG5vcm1hbC55ICogdV9wYXR0ZXJuc2NhbGVfYS55ICsgdV90ZXhfeV9hKTtcXG4gICAgdl90ZXhfYiA9IHZlYzIoYV9saW5lc29mYXIgKiB1X3BhdHRlcm5zY2FsZV9iLnggLyBmbG9vcndpZHRoLCBub3JtYWwueSAqIHVfcGF0dGVybnNjYWxlX2IueSArIHVfdGV4X3lfYik7XFxuXFxuICAgIHZfd2lkdGgyID0gdmVjMihvdXRzZXQsIGluc2V0KTtcXG59XFxuXCJ9LHJhc3Rlcjp7ZnJhZ21lbnRTb3VyY2U6XCJ1bmlmb3JtIGZsb2F0IHVfZmFkZV90O1xcbnVuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UxO1xcbnZhcnlpbmcgdmVjMiB2X3BvczA7XFxudmFyeWluZyB2ZWMyIHZfcG9zMTtcXG5cXG51bmlmb3JtIGZsb2F0IHVfYnJpZ2h0bmVzc19sb3c7XFxudW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfaGlnaDtcXG5cXG51bmlmb3JtIGZsb2F0IHVfc2F0dXJhdGlvbl9mYWN0b3I7XFxudW5pZm9ybSBmbG9hdCB1X2NvbnRyYXN0X2ZhY3RvcjtcXG51bmlmb3JtIHZlYzMgdV9zcGluX3dlaWdodHM7XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICAvLyByZWFkIGFuZCBjcm9zcy1mYWRlIGNvbG9ycyBmcm9tIHRoZSBtYWluIGFuZCBwYXJlbnQgdGlsZXNcXG4gICAgdmVjNCBjb2xvcjAgPSB0ZXh0dXJlMkQodV9pbWFnZTAsIHZfcG9zMCk7XFxuICAgIHZlYzQgY29sb3IxID0gdGV4dHVyZTJEKHVfaW1hZ2UxLCB2X3BvczEpO1xcbiAgICBpZiAoY29sb3IwLmEgPiAwLjApIHtcXG4gICAgICAgIGNvbG9yMC5yZ2IgPSBjb2xvcjAucmdiIC8gY29sb3IwLmE7XFxuICAgIH1cXG4gICAgaWYgKGNvbG9yMS5hID4gMC4wKSB7XFxuICAgICAgICBjb2xvcjEucmdiID0gY29sb3IxLnJnYiAvIGNvbG9yMS5hO1xcbiAgICB9XFxuICAgIHZlYzQgY29sb3IgPSBtaXgoY29sb3IwLCBjb2xvcjEsIHVfZmFkZV90KTtcXG4gICAgY29sb3IuYSAqPSB1X29wYWNpdHk7XFxuICAgIHZlYzMgcmdiID0gY29sb3IucmdiO1xcblxcbiAgICAvLyBzcGluXFxuICAgIHJnYiA9IHZlYzMoXFxuICAgICAgICBkb3QocmdiLCB1X3NwaW5fd2VpZ2h0cy54eXopLFxcbiAgICAgICAgZG90KHJnYiwgdV9zcGluX3dlaWdodHMuenh5KSxcXG4gICAgICAgIGRvdChyZ2IsIHVfc3Bpbl93ZWlnaHRzLnl6eCkpO1xcblxcbiAgICAvLyBzYXR1cmF0aW9uXFxuICAgIGZsb2F0IGF2ZXJhZ2UgPSAoY29sb3IuciArIGNvbG9yLmcgKyBjb2xvci5iKSAvIDMuMDtcXG4gICAgcmdiICs9IChhdmVyYWdlIC0gcmdiKSAqIHVfc2F0dXJhdGlvbl9mYWN0b3I7XFxuXFxuICAgIC8vIGNvbnRyYXN0XFxuICAgIHJnYiA9IChyZ2IgLSAwLjUpICogdV9jb250cmFzdF9mYWN0b3IgKyAwLjU7XFxuXFxuICAgIC8vIGJyaWdodG5lc3NcXG4gICAgdmVjMyB1X2hpZ2hfdmVjID0gdmVjMyh1X2JyaWdodG5lc3NfbG93LCB1X2JyaWdodG5lc3NfbG93LCB1X2JyaWdodG5lc3NfbG93KTtcXG4gICAgdmVjMyB1X2xvd192ZWMgPSB2ZWMzKHVfYnJpZ2h0bmVzc19oaWdoLCB1X2JyaWdodG5lc3NfaGlnaCwgdV9icmlnaHRuZXNzX2hpZ2gpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1peCh1X2hpZ2hfdmVjLCB1X2xvd192ZWMsIHJnYikgKiBjb2xvci5hLCBjb2xvci5hKTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gdmVjMiB1X3RsX3BhcmVudDtcXG51bmlmb3JtIGZsb2F0IHVfc2NhbGVfcGFyZW50O1xcbnVuaWZvcm0gZmxvYXQgdV9idWZmZXJfc2NhbGU7XFxuXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuYXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3BvcztcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbnZhcnlpbmcgdmVjMiB2X3BvczE7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgMCwgMSk7XFxuICAgIC8vIFdlIGFyZSB1c2luZyBJbnQxNiBmb3IgdGV4dHVyZSBwb3NpdGlvbiBjb29yZGluYXRlcyB0byBnaXZlIHVzIGVub3VnaCBwcmVjaXNpb24gZm9yXFxuICAgIC8vIGZyYWN0aW9uYWwgY29vcmRpbmF0ZXMuIFdlIHVzZSA4MTkyIHRvIHNjYWxlIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGluIHRoZSBidWZmZXJcXG4gICAgLy8gYXMgYW4gYXJiaXRyYXJpbHkgaGlnaCBudW1iZXIgdG8gcHJlc2VydmUgYWRlcXVhdGUgcHJlY2lzaW9uIHdoZW4gcmVuZGVyaW5nLlxcbiAgICAvLyBUaGlzIGlzIGFsc28gdGhlIHNhbWUgdmFsdWUgYXMgdGhlIEVYVEVOVCB3ZSBhcmUgdXNpbmcgZm9yIG91ciB0aWxlIGJ1ZmZlciBwb3MgY29vcmRpbmF0ZXMsXFxuICAgIC8vIHNvIG1hdGggZm9yIG1vZGlmeWluZyBlaXRoZXIgaXMgY29uc2lzdGVudC5cXG4gICAgdl9wb3MwID0gKCgoYV90ZXh0dXJlX3BvcyAvIDgxOTIuMCkgLSAwLjUpIC8gdV9idWZmZXJfc2NhbGUgKSArIDAuNTtcXG4gICAgdl9wb3MxID0gKHZfcG9zMCAqIHVfc2NhbGVfcGFyZW50KSArIHVfdGxfcGFyZW50O1xcbn1cXG5cIn0sc3ltYm9sSWNvbjp7ZnJhZ21lbnRTb3VyY2U6XCJ1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG52YXJ5aW5nIHZlYzIgdl90ZXg7XFxudmFyeWluZyBmbG9hdCB2X2ZhZGVfb3BhY2l0eTtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbiAgICBsb3dwIGZsb2F0IGFscGhhID0gb3BhY2l0eSAqIHZfZmFkZV9vcGFjaXR5O1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodV90ZXh0dXJlLCB2X3RleCkgKiBhbHBoYTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwiY29uc3QgZmxvYXQgUEkgPSAzLjE0MTU5MjY1MzU4OTc5MztcXG5cXG5hdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7XFxuYXR0cmlidXRlIHZlYzQgYV9kYXRhO1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcHJvamVjdGVkX3BvcztcXG5hdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O1xcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDtcXG51bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90OyAvLyB1c2VkIHRvIGludGVycG9sYXRlIGJldHdlZW4gem9vbSBzdG9wcyB3aGVuIHNpemUgaXMgYSBjb21wb3NpdGUgZnVuY3Rpb25cXG51bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTsgLy8gdXNlZCB3aGVuIHNpemUgaXMgYm90aCB6b29tIGFuZCBmZWF0dXJlIGNvbnN0YW50XFxudW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7XFxudW5pZm9ybSBoaWdocCBmbG9hdCB1X3BpdGNoO1xcbnVuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7XFxudW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbztcXG51bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1X2dsX2Nvb3JkX21hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdV9pc190ZXh0O1xcbnVuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO1xcblxcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7XFxuXFxudmFyeWluZyB2ZWMyIHZfdGV4O1xcbnZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG4gICAgdmVjMiBhX3BvcyA9IGFfcG9zX29mZnNldC54eTtcXG4gICAgdmVjMiBhX29mZnNldCA9IGFfcG9zX29mZnNldC56dztcXG5cXG4gICAgdmVjMiBhX3RleCA9IGFfZGF0YS54eTtcXG4gICAgdmVjMiBhX3NpemUgPSBhX2RhdGEuenc7XFxuXFxuICAgIGhpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGUgPSAtYV9wcm9qZWN0ZWRfcG9zWzJdO1xcblxcbiAgICBmbG9hdCBzaXplO1xcbiAgICBpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge1xcbiAgICAgICAgc2l6ZSA9IG1peChhX3NpemVbMF0sIGFfc2l6ZVsxXSwgdV9zaXplX3QpIC8gMjU2LjA7XFxuICAgIH0gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7XFxuICAgICAgICBzaXplID0gYV9zaXplWzBdIC8gMjU2LjA7XFxuICAgIH0gZWxzZSBpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmIHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7XFxuICAgICAgICBzaXplID0gdV9zaXplO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgICAgc2l6ZSA9IHVfc2l6ZTtcXG4gICAgfVxcblxcbiAgICB2ZWM0IHByb2plY3RlZFBvaW50ID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKTtcXG4gICAgaGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSA9IHByb2plY3RlZFBvaW50Lnc7XFxuICAgIC8vIFNlZSBjb21tZW50cyBpbiBzeW1ib2xfc2RmLnZlcnRleFxcbiAgICBoaWdocCBmbG9hdCBkaXN0YW5jZV9yYXRpbyA9IHVfcGl0Y2hfd2l0aF9tYXAgP1xcbiAgICAgICAgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSAvIHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XFxuICAgICAgICB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgLyBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO1xcbiAgICBoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbyA9IGNsYW1wKFxcbiAgICAgICAgICAgIDAuNSArIDAuNSAqIGRpc3RhbmNlX3JhdGlvLFxcbiAgICAgICAgICAgIDAuMCwgLy8gUHJldmVudHMgb3ZlcnNpemVkIG5lYXItZmllbGQgc3ltYm9scyBpbiBwaXRjaGVkL292ZXJ6b29tZWQgdGlsZXNcXG4gICAgICAgICAgICA0LjApO1xcblxcbiAgICBzaXplICo9IHBlcnNwZWN0aXZlX3JhdGlvO1xcblxcbiAgICBmbG9hdCBmb250U2NhbGUgPSB1X2lzX3RleHQgPyBzaXplIC8gMjQuMCA6IHNpemU7XFxuXFxuICAgIGhpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbiA9IDAuMDtcXG4gICAgaWYgKHVfcm90YXRlX3N5bWJvbCkge1xcbiAgICAgICAgLy8gU2VlIGNvbW1lbnRzIGluIHN5bWJvbF9zZGYudmVydGV4XFxuICAgICAgICB2ZWM0IG9mZnNldFByb2plY3RlZFBvaW50ID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zICsgdmVjMigxLCAwKSwgMCwgMSk7XFxuXFxuICAgICAgICB2ZWMyIGEgPSBwcm9qZWN0ZWRQb2ludC54eSAvIHByb2plY3RlZFBvaW50Lnc7XFxuICAgICAgICB2ZWMyIGIgPSBvZmZzZXRQcm9qZWN0ZWRQb2ludC54eSAvIG9mZnNldFByb2plY3RlZFBvaW50Lnc7XFxuXFxuICAgICAgICBzeW1ib2xfcm90YXRpb24gPSBhdGFuKChiLnkgLSBhLnkpIC8gdV9hc3BlY3RfcmF0aW8sIGIueCAtIGEueCk7XFxuICAgIH1cXG5cXG4gICAgaGlnaHAgZmxvYXQgYW5nbGVfc2luID0gc2luKHNlZ21lbnRfYW5nbGUgKyBzeW1ib2xfcm90YXRpb24pO1xcbiAgICBoaWdocCBmbG9hdCBhbmdsZV9jb3MgPSBjb3Moc2VnbWVudF9hbmdsZSArIHN5bWJvbF9yb3RhdGlvbik7XFxuICAgIG1hdDIgcm90YXRpb25fbWF0cml4ID0gbWF0MihhbmdsZV9jb3MsIC0xLjAgKiBhbmdsZV9zaW4sIGFuZ2xlX3NpbiwgYW5nbGVfY29zKTtcXG5cXG4gICAgdmVjNCBwcm9qZWN0ZWRfcG9zID0gdV9sYWJlbF9wbGFuZV9tYXRyaXggKiB2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSwgMC4wLCAxLjApO1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVfZ2xfY29vcmRfbWF0cml4ICogdmVjNChwcm9qZWN0ZWRfcG9zLnh5IC8gcHJvamVjdGVkX3Bvcy53ICsgcm90YXRpb25fbWF0cml4ICogKGFfb2Zmc2V0IC8gMzIuMCAqIGZvbnRTY2FsZSksIDAuMCwgMS4wKTtcXG5cXG4gICAgdl90ZXggPSBhX3RleCAvIHVfdGV4c2l6ZTtcXG4gICAgdmVjMiBmYWRlX29wYWNpdHkgPSB1bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7XFxuICAgIGZsb2F0IGZhZGVfY2hhbmdlID0gZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6IC11X2ZhZGVfY2hhbmdlO1xcbiAgICB2X2ZhZGVfb3BhY2l0eSA9IG1heCgwLjAsIG1pbigxLjAsIGZhZGVfb3BhY2l0eVswXSArIGZhZGVfY2hhbmdlKSk7XFxufVxcblwifSxzeW1ib2xTREY6e2ZyYWdtZW50U291cmNlOlwiI2RlZmluZSBTREZfUFggOC4wXFxuI2RlZmluZSBFREdFX0dBTU1BIDAuMTA1L0RFVklDRV9QSVhFTF9SQVRJT1xcblxcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO1xcbnVuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTtcXG51bmlmb3JtIGJvb2wgdV9pc190ZXh0O1xcblxcbnZhcnlpbmcgdmVjMiB2X2RhdGEwO1xcbnZhcnlpbmcgdmVjMyB2X2RhdGExO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuXFxuICAgIHZlYzIgdGV4ID0gdl9kYXRhMC54eTtcXG4gICAgZmxvYXQgZ2FtbWFfc2NhbGUgPSB2X2RhdGExLng7XFxuICAgIGZsb2F0IHNpemUgPSB2X2RhdGExLnk7XFxuICAgIGZsb2F0IGZhZGVfb3BhY2l0eSA9IHZfZGF0YTFbMl07XFxuXFxuICAgIGZsb2F0IGZvbnRTY2FsZSA9IHVfaXNfdGV4dCA/IHNpemUgLyAyNC4wIDogc2l6ZTtcXG5cXG4gICAgbG93cCB2ZWM0IGNvbG9yID0gZmlsbF9jb2xvcjtcXG4gICAgaGlnaHAgZmxvYXQgZ2FtbWEgPSBFREdFX0dBTU1BIC8gKGZvbnRTY2FsZSAqIHVfZ2FtbWFfc2NhbGUpO1xcbiAgICBsb3dwIGZsb2F0IGJ1ZmYgPSAoMjU2LjAgLSA2NC4wKSAvIDI1Ni4wO1xcbiAgICBpZiAodV9pc19oYWxvKSB7XFxuICAgICAgICBjb2xvciA9IGhhbG9fY29sb3I7XFxuICAgICAgICBnYW1tYSA9IChoYWxvX2JsdXIgKiAxLjE5IC8gU0RGX1BYICsgRURHRV9HQU1NQSkgLyAoZm9udFNjYWxlICogdV9nYW1tYV9zY2FsZSk7XFxuICAgICAgICBidWZmID0gKDYuMCAtIGhhbG9fd2lkdGggLyBmb250U2NhbGUpIC8gU0RGX1BYO1xcbiAgICB9XFxuXFxuICAgIGxvd3AgZmxvYXQgZGlzdCA9IHRleHR1cmUyRCh1X3RleHR1cmUsIHRleCkuYTtcXG4gICAgaGlnaHAgZmxvYXQgZ2FtbWFfc2NhbGVkID0gZ2FtbWEgKiBnYW1tYV9zY2FsZTtcXG4gICAgaGlnaHAgZmxvYXQgYWxwaGEgPSBzbW9vdGhzdGVwKGJ1ZmYgLSBnYW1tYV9zY2FsZWQsIGJ1ZmYgKyBnYW1tYV9zY2FsZWQsIGRpc3QpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIChhbHBoYSAqIG9wYWNpdHkgKiBmYWRlX29wYWNpdHkpO1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJjb25zdCBmbG9hdCBQSSA9IDMuMTQxNTkyNjUzNTg5NzkzO1xcblxcbmF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2RhdGE7XFxuYXR0cmlidXRlIHZlYzMgYV9wcm9qZWN0ZWRfcG9zO1xcbmF0dHJpYnV0ZSBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG5cXG4vLyBjb250ZW50cyBvZiBhX3NpemUgdmFyeSBiYXNlZCBvbiB0aGUgdHlwZSBvZiBwcm9wZXJ0eSB2YWx1ZVxcbi8vIHVzZWQgZm9yIHt0ZXh0LGljb259LXNpemUuXFxuLy8gRm9yIGNvbnN0YW50cywgYV9zaXplIGlzIGRpc2FibGVkLlxcbi8vIEZvciBzb3VyY2UgZnVuY3Rpb25zLCB3ZSBiaW5kIG9ubHkgb25lIHZhbHVlIHBlciB2ZXJ0ZXg6IHRoZSB2YWx1ZSBvZiB7dGV4dCxpY29ufS1zaXplIGV2YWx1YXRlZCBmb3IgdGhlIGN1cnJlbnQgZmVhdHVyZS5cXG4vLyBGb3IgY29tcG9zaXRlIGZ1bmN0aW9uczpcXG4vLyBbIHRleHQtc2l6ZShsb3dlclpvb21TdG9wLCBmZWF0dXJlKSxcXG4vLyAgIHRleHQtc2l6ZSh1cHBlclpvb21TdG9wLCBmZWF0dXJlKSBdXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O1xcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDtcXG51bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90OyAvLyB1c2VkIHRvIGludGVycG9sYXRlIGJldHdlZW4gem9vbSBzdG9wcyB3aGVuIHNpemUgaXMgYSBjb21wb3NpdGUgZnVuY3Rpb25cXG51bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTsgLy8gdXNlZCB3aGVuIHNpemUgaXMgYm90aCB6b29tIGFuZCBmZWF0dXJlIGNvbnN0YW50XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDtcXG51bmlmb3JtIG1hdDQgdV9nbF9jb29yZF9tYXRyaXg7XFxuXFxudW5pZm9ybSBib29sIHVfaXNfdGV4dDtcXG51bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDtcXG51bmlmb3JtIGhpZ2hwIGZsb2F0IHVfcGl0Y2g7XFxudW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDtcXG51bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO1xcbnVuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcbnVuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTtcXG5cXG51bmlmb3JtIHZlYzIgdV90ZXhzaXplO1xcblxcbnZhcnlpbmcgdmVjMiB2X2RhdGEwO1xcbnZhcnlpbmcgdmVjMyB2X2RhdGExO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuXFxuICAgIHZlYzIgYV9wb3MgPSBhX3Bvc19vZmZzZXQueHk7XFxuICAgIHZlYzIgYV9vZmZzZXQgPSBhX3Bvc19vZmZzZXQuenc7XFxuXFxuICAgIHZlYzIgYV90ZXggPSBhX2RhdGEueHk7XFxuICAgIHZlYzIgYV9zaXplID0gYV9kYXRhLnp3O1xcblxcbiAgICBoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlID0gLWFfcHJvamVjdGVkX3Bvc1syXTtcXG4gICAgZmxvYXQgc2l6ZTtcXG5cXG4gICAgaWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtcXG4gICAgICAgIHNpemUgPSBtaXgoYV9zaXplWzBdLCBhX3NpemVbMV0sIHVfc2l6ZV90KSAvIDI1Ni4wO1xcbiAgICB9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge1xcbiAgICAgICAgc2l6ZSA9IGFfc2l6ZVswXSAvIDI1Ni4wO1xcbiAgICB9IGVsc2UgaWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge1xcbiAgICAgICAgc2l6ZSA9IHVfc2l6ZTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIHNpemUgPSB1X3NpemU7XFxuICAgIH1cXG5cXG4gICAgdmVjNCBwcm9qZWN0ZWRQb2ludCA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgMCwgMSk7XFxuICAgIGhpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UgPSBwcm9qZWN0ZWRQb2ludC53O1xcbiAgICAvLyBJZiB0aGUgbGFiZWwgaXMgcGl0Y2hlZCB3aXRoIHRoZSBtYXAsIGxheW91dCBpcyBkb25lIGluIHBpdGNoZWQgc3BhY2UsXFxuICAgIC8vIHdoaWNoIG1ha2VzIGxhYmVscyBpbiB0aGUgZGlzdGFuY2Ugc21hbGxlciByZWxhdGl2ZSB0byB2aWV3cG9ydCBzcGFjZS5cXG4gICAgLy8gV2UgY291bnRlcmFjdCBwYXJ0IG9mIHRoYXQgZWZmZWN0IGJ5IG11bHRpcGx5aW5nIGJ5IHRoZSBwZXJzcGVjdGl2ZSByYXRpby5cXG4gICAgLy8gSWYgdGhlIGxhYmVsIGlzbid0IHBpdGNoZWQgd2l0aCB0aGUgbWFwLCB3ZSBkbyBsYXlvdXQgaW4gdmlld3BvcnQgc3BhY2UsXFxuICAgIC8vIHdoaWNoIG1ha2VzIGxhYmVscyBpbiB0aGUgZGlzdGFuY2UgbGFyZ2VyIHJlbGF0aXZlIHRvIHRoZSBmZWF0dXJlcyBhcm91bmRcXG4gICAgLy8gdGhlbS4gV2UgY291bnRlcmFjdCBwYXJ0IG9mIHRoYXQgZWZmZWN0IGJ5IGRpdmlkaW5nIGJ5IHRoZSBwZXJzcGVjdGl2ZSByYXRpby5cXG4gICAgaGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW8gPSB1X3BpdGNoX3dpdGhfbWFwID9cXG4gICAgICAgIGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UgLyB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbiAgICAgICAgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIC8gY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtcXG4gICAgaGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW8gPSBjbGFtcChcXG4gICAgICAgIDAuNSArIDAuNSAqIGRpc3RhbmNlX3JhdGlvLFxcbiAgICAgICAgMC4wLCAvLyBQcmV2ZW50cyBvdmVyc2l6ZWQgbmVhci1maWVsZCBzeW1ib2xzIGluIHBpdGNoZWQvb3Zlcnpvb21lZCB0aWxlc1xcbiAgICAgICAgNC4wKTtcXG5cXG4gICAgc2l6ZSAqPSBwZXJzcGVjdGl2ZV9yYXRpbztcXG5cXG4gICAgZmxvYXQgZm9udFNjYWxlID0gdV9pc190ZXh0ID8gc2l6ZSAvIDI0LjAgOiBzaXplO1xcblxcbiAgICBoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb24gPSAwLjA7XFxuICAgIGlmICh1X3JvdGF0ZV9zeW1ib2wpIHtcXG4gICAgICAgIC8vIFBvaW50IGxhYmVscyB3aXRoICdyb3RhdGlvbi1hbGlnbm1lbnQ6IG1hcCcgYXJlIGhvcml6b250YWwgd2l0aCByZXNwZWN0IHRvIHRpbGUgdW5pdHNcXG4gICAgICAgIC8vIFRvIGZpZ3VyZSBvdXQgdGhhdCBhbmdsZSBpbiBwcm9qZWN0ZWQgc3BhY2UsIHdlIGRyYXcgYSBzaG9ydCBob3Jpem9udGFsIGxpbmUgaW4gdGlsZVxcbiAgICAgICAgLy8gc3BhY2UsIHByb2plY3QgaXQsIGFuZCBtZWFzdXJlIGl0cyBhbmdsZSBpbiBwcm9qZWN0ZWQgc3BhY2UuXFxuICAgICAgICB2ZWM0IG9mZnNldFByb2plY3RlZFBvaW50ID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zICsgdmVjMigxLCAwKSwgMCwgMSk7XFxuXFxuICAgICAgICB2ZWMyIGEgPSBwcm9qZWN0ZWRQb2ludC54eSAvIHByb2plY3RlZFBvaW50Lnc7XFxuICAgICAgICB2ZWMyIGIgPSBvZmZzZXRQcm9qZWN0ZWRQb2ludC54eSAvIG9mZnNldFByb2plY3RlZFBvaW50Lnc7XFxuXFxuICAgICAgICBzeW1ib2xfcm90YXRpb24gPSBhdGFuKChiLnkgLSBhLnkpIC8gdV9hc3BlY3RfcmF0aW8sIGIueCAtIGEueCk7XFxuICAgIH1cXG5cXG4gICAgaGlnaHAgZmxvYXQgYW5nbGVfc2luID0gc2luKHNlZ21lbnRfYW5nbGUgKyBzeW1ib2xfcm90YXRpb24pO1xcbiAgICBoaWdocCBmbG9hdCBhbmdsZV9jb3MgPSBjb3Moc2VnbWVudF9hbmdsZSArIHN5bWJvbF9yb3RhdGlvbik7XFxuICAgIG1hdDIgcm90YXRpb25fbWF0cml4ID0gbWF0MihhbmdsZV9jb3MsIC0xLjAgKiBhbmdsZV9zaW4sIGFuZ2xlX3NpbiwgYW5nbGVfY29zKTtcXG5cXG4gICAgdmVjNCBwcm9qZWN0ZWRfcG9zID0gdV9sYWJlbF9wbGFuZV9tYXRyaXggKiB2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSwgMC4wLCAxLjApO1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVfZ2xfY29vcmRfbWF0cml4ICogdmVjNChwcm9qZWN0ZWRfcG9zLnh5IC8gcHJvamVjdGVkX3Bvcy53ICsgcm90YXRpb25fbWF0cml4ICogKGFfb2Zmc2V0IC8gMzIuMCAqIGZvbnRTY2FsZSksIDAuMCwgMS4wKTtcXG4gICAgZmxvYXQgZ2FtbWFfc2NhbGUgPSBnbF9Qb3NpdGlvbi53O1xcblxcbiAgICB2ZWMyIHRleCA9IGFfdGV4IC8gdV90ZXhzaXplO1xcbiAgICB2ZWMyIGZhZGVfb3BhY2l0eSA9IHVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtcXG4gICAgZmxvYXQgZmFkZV9jaGFuZ2UgPSBmYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDogLXVfZmFkZV9jaGFuZ2U7XFxuICAgIGZsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHkgPSBtYXgoMC4wLCBtaW4oMS4wLCBmYWRlX29wYWNpdHlbMF0gKyBmYWRlX2NoYW5nZSkpO1xcblxcbiAgICB2X2RhdGEwID0gdmVjMih0ZXgueCwgdGV4LnkpO1xcbiAgICB2X2RhdGExID0gdmVjMyhnYW1tYV9zY2FsZSwgc2l6ZSwgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eSk7XFxufVxcblwifX0sV2U9LyNwcmFnbWEgbWFwYm94OiAoW1xcd10rKSAoW1xcd10rKSAoW1xcd10rKSAoW1xcd10rKS9nLFhlPWZ1bmN0aW9uKHQpe3ZhciBlPUdlW3RdLGk9e307ZS5mcmFnbWVudFNvdXJjZT1lLmZyYWdtZW50U291cmNlLnJlcGxhY2UoV2UsZnVuY3Rpb24odCxlLG4sbyxyKXtyZXR1cm4gaVtyXT0hMCxcImRlZmluZVwiPT09ZT9cIlxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV9cIityK1wiXFxudmFyeWluZyBcIituK1wiIFwiK28rXCIgXCIrcitcIjtcXG4jZWxzZVxcbnVuaWZvcm0gXCIrbitcIiBcIitvK1wiIHVfXCIrcitcIjtcXG4jZW5kaWZcXG5cIjpcIlxcbiNpZmRlZiBIQVNfVU5JRk9STV91X1wiK3IrXCJcXG4gICAgXCIrbitcIiBcIitvK1wiIFwiK3IrXCIgPSB1X1wiK3IrXCI7XFxuI2VuZGlmXFxuXCJ9KSxlLnZlcnRleFNvdXJjZT1lLnZlcnRleFNvdXJjZS5yZXBsYWNlKFdlLGZ1bmN0aW9uKHQsZSxuLG8scil7dmFyIGE9XCJmbG9hdFwiPT09bz9cInZlYzJcIjpcInZlYzRcIixzPXIubWF0Y2goL2NvbG9yLyk/XCJjb2xvclwiOmE7cmV0dXJuIGlbcl0/XCJkZWZpbmVcIj09PWU/XCJcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfXCIrcitcIlxcbnVuaWZvcm0gbG93cCBmbG9hdCBhX1wiK3IrXCJfdDtcXG5hdHRyaWJ1dGUgXCIrbitcIiBcIithK1wiIGFfXCIrcitcIjtcXG52YXJ5aW5nIFwiK24rXCIgXCIrbytcIiBcIityK1wiO1xcbiNlbHNlXFxudW5pZm9ybSBcIituK1wiIFwiK28rXCIgdV9cIityK1wiO1xcbiNlbmRpZlxcblwiOlwidmVjNFwiPT09cz9cIlxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV9cIityK1wiXFxuICAgIFwiK3IrXCIgPSBhX1wiK3IrXCI7XFxuI2Vsc2VcXG4gICAgXCIrbitcIiBcIitvK1wiIFwiK3IrXCIgPSB1X1wiK3IrXCI7XFxuI2VuZGlmXFxuXCI6XCJcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfXCIrcitcIlxcbiAgICBcIityK1wiID0gdW5wYWNrX21peF9cIitzK1wiKGFfXCIrcitcIiwgYV9cIityK1wiX3QpO1xcbiNlbHNlXFxuICAgIFwiK24rXCIgXCIrbytcIiBcIityK1wiID0gdV9cIityK1wiO1xcbiNlbmRpZlxcblwiOlwiZGVmaW5lXCI9PT1lP1wiXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91X1wiK3IrXCJcXG51bmlmb3JtIGxvd3AgZmxvYXQgYV9cIityK1wiX3Q7XFxuYXR0cmlidXRlIFwiK24rXCIgXCIrYStcIiBhX1wiK3IrXCI7XFxuI2Vsc2VcXG51bmlmb3JtIFwiK24rXCIgXCIrbytcIiB1X1wiK3IrXCI7XFxuI2VuZGlmXFxuXCI6XCJ2ZWM0XCI9PT1zP1wiXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91X1wiK3IrXCJcXG4gICAgXCIrbitcIiBcIitvK1wiIFwiK3IrXCIgPSBhX1wiK3IrXCI7XFxuI2Vsc2VcXG4gICAgXCIrbitcIiBcIitvK1wiIFwiK3IrXCIgPSB1X1wiK3IrXCI7XFxuI2VuZGlmXFxuXCI6XCJcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfXCIrcitcIlxcbiAgICBcIituK1wiIFwiK28rXCIgXCIrcitcIiA9IHVucGFja19taXhfXCIrcytcIihhX1wiK3IrXCIsIGFfXCIrcitcIl90KTtcXG4jZWxzZVxcbiAgICBcIituK1wiIFwiK28rXCIgXCIrcitcIiA9IHVfXCIrcitcIjtcXG4jZW5kaWZcXG5cIn0pO307Zm9yKHZhciBIZSBpbiBHZSlYZShIZSk7dmFyIEtlPUdlLFllPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZFByb2dyYW09bnVsbCx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1bXSx0aGlzLmJvdW5kSW5kZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PW51bGwsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLnZhbz1udWxsO307WWUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCxlLGksbixvLHIsYSxzKXt0aGlzLmNvbnRleHQ9dDtmb3IodmFyIGw9dGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycy5sZW5ndGghPT1uLmxlbmd0aCxjPTA7IWwmJmM8bi5sZW5ndGg7YysrKXRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnNbY10hPT1uW2NdJiYobD0hMCk7dmFyIGg9IXRoaXMudmFvfHx0aGlzLmJvdW5kUHJvZ3JhbSE9PWV8fHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXIhPT1pfHxsfHx0aGlzLmJvdW5kSW5kZXhCdWZmZXIhPT1vfHx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0IT09cnx8dGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIhPT1hfHx0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjIhPT1zOyF0LmV4dFZlcnRleEFycmF5T2JqZWN0fHxoP3RoaXMuZnJlc2hCaW5kKGUsaSxuLG8scixhLHMpOih0LmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pLGEmJmEuYmluZCgpLG8mJm8uZHluYW1pY0RyYXcmJm8uYmluZCgpLHMmJnMuYmluZCgpKTt9LFllLnByb3RvdHlwZS5mcmVzaEJpbmQ9ZnVuY3Rpb24odCxlLGksbixvLHIsYSl7dmFyIHMsbD10Lm51bUF0dHJpYnV0ZXMsYz10aGlzLmNvbnRleHQsaD1jLmdsO2lmKGMuZXh0VmVydGV4QXJyYXlPYmplY3QpdGhpcy52YW8mJnRoaXMuZGVzdHJveSgpLHRoaXMudmFvPWMuZXh0VmVydGV4QXJyYXlPYmplY3QuY3JlYXRlVmVydGV4QXJyYXlPRVMoKSxjLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pLHM9MCx0aGlzLmJvdW5kUHJvZ3JhbT10LHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9ZSx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPWksdGhpcy5ib3VuZEluZGV4QnVmZmVyPW4sdGhpcy5ib3VuZFZlcnRleE9mZnNldD1vLHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyPXIsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIyPWE7ZWxzZXtzPWMuY3VycmVudE51bUF0dHJpYnV0ZXN8fDA7Zm9yKHZhciB1PWw7dTxzO3UrKyloLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSh1KTt9ZS5lbmFibGVBdHRyaWJ1dGVzKGgsdCk7Zm9yKHZhciBwPTAsZD1pO3A8ZC5sZW5ndGg7cCs9MSl7ZFtwXS5lbmFibGVBdHRyaWJ1dGVzKGgsdCk7fXImJnIuZW5hYmxlQXR0cmlidXRlcyhoLHQpLGEmJmEuZW5hYmxlQXR0cmlidXRlcyhoLHQpLGUuYmluZCgpLGUuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoaCx0LG8pO2Zvcih2YXIgXz0wLGY9aTtfPGYubGVuZ3RoO18rPTEpe3ZhciBtPWZbX107bS5iaW5kKCksbS5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhoLHQsbyk7fXImJihyLmJpbmQoKSxyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGgsdCxvKSksbiYmbi5iaW5kKCksYSYmKGEuYmluZCgpLGEuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoaCx0LG8pKSxjLmN1cnJlbnROdW1BdHRyaWJ1dGVzPWw7fSxZZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudmFvJiYodGhpcy5jb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0LmRlbGV0ZVZlcnRleEFycmF5T0VTKHRoaXMudmFvKSx0aGlzLnZhbz1udWxsKTt9O3ZhciBKZT1mdW5jdGlvbihlLGksbixvLHIpe3ZhciBhPWUuZ2w7dGhpcy5wcm9ncmFtPWEuY3JlYXRlUHJvZ3JhbSgpO3ZhciBzPW4uZGVmaW5lcygpLmNvbmNhdChcIiNkZWZpbmUgREVWSUNFX1BJWEVMX1JBVElPIFwiK3QuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLnRvRml4ZWQoMSkpO3ImJnMucHVzaChcIiNkZWZpbmUgT1ZFUkRSQVdfSU5TUEVDVE9SO1wiKTt2YXIgbD1zLmNvbmNhdChLZS5wcmVsdWRlLmZyYWdtZW50U291cmNlLGkuZnJhZ21lbnRTb3VyY2UpLmpvaW4oXCJcXG5cIiksYz1zLmNvbmNhdChLZS5wcmVsdWRlLnZlcnRleFNvdXJjZSxpLnZlcnRleFNvdXJjZSkuam9pbihcIlxcblwiKSxoPWEuY3JlYXRlU2hhZGVyKGEuRlJBR01FTlRfU0hBREVSKTthLnNoYWRlclNvdXJjZShoLGwpLGEuY29tcGlsZVNoYWRlcihoKSxhLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0saCk7dmFyIHU9YS5jcmVhdGVTaGFkZXIoYS5WRVJURVhfU0hBREVSKTthLnNoYWRlclNvdXJjZSh1LGMpLGEuY29tcGlsZVNoYWRlcih1KSxhLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sdSk7Zm9yKHZhciBwPW4ubGF5b3V0QXR0cmlidXRlc3x8W10sZD0wO2Q8cC5sZW5ndGg7ZCsrKWEuYmluZEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSxkLHBbZF0ubmFtZSk7YS5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXMubnVtQXR0cmlidXRlcz1hLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLGEuQUNUSVZFX0FUVFJJQlVURVMpLHRoaXMuYXR0cmlidXRlcz17fTtmb3IodmFyIF89e30sZj0wO2Y8dGhpcy5udW1BdHRyaWJ1dGVzO2YrKyl7dmFyIG09YS5nZXRBY3RpdmVBdHRyaWIodGhpcy5wcm9ncmFtLGYpO20mJih0aGlzLmF0dHJpYnV0ZXNbbS5uYW1lXT1hLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSxtLm5hbWUpKTt9Zm9yKHZhciBnPWEuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sYS5BQ1RJVkVfVU5JRk9STVMpLHY9MDt2PGc7disrKXt2YXIgeT1hLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5wcm9ncmFtLHYpO3kmJihfW3kubmFtZV09YS5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLHkubmFtZSkpO310aGlzLmZpeGVkVW5pZm9ybXM9byhlLF8pLHRoaXMuYmluZGVyVW5pZm9ybXM9bi5nZXRVbmlmb3JtcyhlLF8pO307ZnVuY3Rpb24gUWUoZSxpLG4pe3ZhciBvPTEvdmUobiwxLGkudHJhbnNmb3JtLnRpbGVab29tKSxyPU1hdGgucG93KDIsbi50aWxlSUQub3ZlcnNjYWxlZFopLGE9bi50aWxlU2l6ZSpNYXRoLnBvdygyLGkudHJhbnNmb3JtLnRpbGVab29tKS9yLHM9YSoobi50aWxlSUQuY2Fub25pY2FsLngrbi50aWxlSUQud3JhcCpyKSxsPWEqbi50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV90ZXhzaXplOm4uaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3NjYWxlOlt0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxvLGUuZnJvbVNjYWxlLGUudG9TY2FsZV0sdV9mYWRlOmUudCx1X3BpeGVsX2Nvb3JkX3VwcGVyOltzPj4xNixsPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmcyw2NTUzNSZsXX19SmUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLGksbixvLHIsYSxzLGwsYyxoLHUscCxkLF8pe3ZhciBmLG09dC5nbDtmb3IodmFyIGcgaW4gdC5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pLHQuc2V0RGVwdGhNb2RlKGkpLHQuc2V0U3RlbmNpbE1vZGUobiksdC5zZXRDb2xvck1vZGUobyksdGhpcy5maXhlZFVuaWZvcm1zKXRoaXMuZml4ZWRVbmlmb3Jtc1tnXS5zZXQocltnXSk7cCYmcC5zZXRVbmlmb3Jtcyh0LHRoaXMuYmluZGVyVW5pZm9ybXMsaCx7em9vbTp1fSk7Zm9yKHZhciB2PShmPXt9LGZbbS5MSU5FU109MixmW20uVFJJQU5HTEVTXT0zLGZbbS5MSU5FX1NUUklQXT0xLGYpW2VdLHk9MCx4PWMuZ2V0KCk7eTx4Lmxlbmd0aDt5Kz0xKXt2YXIgYj14W3ldLHc9Yi52YW9zfHwoYi52YW9zPXt9KTsod1thXXx8KHdbYV09bmV3IFllKSkuYmluZCh0LHRoaXMscyxwP3AuZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCk6W10sbCxiLnZlcnRleE9mZnNldCxkLF8pLG0uZHJhd0VsZW1lbnRzKGUsYi5wcmltaXRpdmVMZW5ndGgqdixtLlVOU0lHTkVEX1NIT1JULGIucHJpbWl0aXZlT2Zmc2V0KnYqMik7fX07dmFyICRlPWZ1bmN0aW9uKGUsaSl7dmFyIG49aS5zdHlsZS5saWdodCxvPW4ucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKSxyPVtvLngsby55LG8uel0sYT10LmNyZWF0ZSQyKCk7XCJ2aWV3cG9ydFwiPT09bi5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmdC5mcm9tUm90YXRpb24oYSwtaS50cmFuc2Zvcm0uYW5nbGUpLHQudHJhbnNmb3JtTWF0MyhyLHIsYSk7dmFyIHM9bi5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpO3JldHVybiB7dV9tYXRyaXg6ZSx1X2xpZ2h0cG9zOnIsdV9saWdodGludGVuc2l0eTpuLnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpLHVfbGlnaHRjb2xvcjpbcy5yLHMuZyxzLmJdfX0sdGk9ZnVuY3Rpb24oZSxpLG4sbyxyKXtyZXR1cm4gdC5leHRlbmQoJGUoZSxpKSxRZShvLGkscikse3VfaGVpZ2h0X2ZhY3RvcjotTWF0aC5wb3coMixuLm92ZXJzY2FsZWRaKS9yLnRpbGVTaXplLzh9KX0sZWk9ZnVuY3Rpb24oZSxpLG4pe3ZhciBvPXQuY3JlYXRlKCk7dC5vcnRobyhvLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsMSk7dmFyIHI9ZS5jb250ZXh0LmdsO3JldHVybiB7dV9tYXRyaXg6byx1X3dvcmxkOltyLmRyYXdpbmdCdWZmZXJXaWR0aCxyLmRyYXdpbmdCdWZmZXJIZWlnaHRdLHVfaW1hZ2U6bix1X29wYWNpdHk6aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpfX0saWk9ZnVuY3Rpb24odCl7cmV0dXJuIHt1X21hdHJpeDp0fX0sbmk9ZnVuY3Rpb24oZSxpLG4sbyl7cmV0dXJuIHQuZXh0ZW5kKGlpKGUpLFFlKG4saSxvKSl9LG9pPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHt1X21hdHJpeDp0LHVfd29ybGQ6ZX19LHJpPWZ1bmN0aW9uKGUsaSxuLG8scil7cmV0dXJuIHQuZXh0ZW5kKG5pKGUsaSxuLG8pLHt1X3dvcmxkOnJ9KX0sYWk9ZnVuY3Rpb24odCxlLGksbil7dmFyIG8scixhPXQudHJhbnNmb3JtO2lmKFwibWFwXCI9PT1uLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIikpe3ZhciBzPXZlKGksMSxhLnpvb20pO289ITAscj1bcyxzXTt9ZWxzZSBvPSExLHI9YS5waXhlbHNUb0dMVW5pdHM7cmV0dXJuIHt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6YS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfc2NhbGVfd2l0aF9tYXA6KyhcIm1hcFwiPT09bi5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIikpLHVfbWF0cml4OnQudHJhbnNsYXRlUG9zTWF0cml4KGUucG9zTWF0cml4LGksbi5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlXCIpLG4ucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIikpLHVfcGl0Y2hfd2l0aF9tYXA6K28sdV9leHRydWRlX3NjYWxlOnJ9fSxzaT1mdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKSx1X3BpeGVsc190b190aWxlX3VuaXRzOm5ldyB0LlVuaWZvcm0xZihlLGkudV9waXhlbHNfdG9fdGlsZV91bml0cyksdV9leHRydWRlX3NjYWxlOm5ldyB0LlVuaWZvcm0yZihlLGkudV9leHRydWRlX3NjYWxlKSx1X292ZXJzY2FsZV9mYWN0b3I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X292ZXJzY2FsZV9mYWN0b3IpfX0sbGk9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXZlKGksMSxlLnpvb20pLG89TWF0aC5wb3coMixlLnpvb20taS50aWxlSUQub3ZlcnNjYWxlZFopLHI9aS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCk7cmV0dXJuIHt1X21hdHJpeDp0LHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTplLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9waXhlbHNfdG9fdGlsZV91bml0czpuLHVfZXh0cnVkZV9zY2FsZTpbZS5waXhlbHNUb0dMVW5pdHNbMF0vKG4qbyksZS5waXhlbHNUb0dMVW5pdHNbMV0vKG4qbyldLHVfb3ZlcnNjYWxlX2ZhY3RvcjpyfX0sY2k9ZnVuY3Rpb24odCxlKXtyZXR1cm4ge3VfbWF0cml4OnQsdV9jb2xvcjplfX0saGk9ZnVuY3Rpb24odCl7cmV0dXJuIHt1X21hdHJpeDp0fX0sdWk9ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHt1X21hdHJpeDp0LHVfZXh0cnVkZV9zY2FsZTp2ZShlLDEsaSksdV9pbnRlbnNpdHk6bn19LHBpPWZ1bmN0aW9uKGUsaSxuLG8pe3ZhciByPXQuY3JlYXRlKCk7dC5vcnRobyhyLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsMSk7dmFyIGE9ZS5jb250ZXh0LmdsO3JldHVybiB7dV9tYXRyaXg6cix1X3dvcmxkOlthLmRyYXdpbmdCdWZmZXJXaWR0aCxhLmRyYXdpbmdCdWZmZXJIZWlnaHRdLHVfaW1hZ2U6bix1X2NvbG9yX3JhbXA6byx1X29wYWNpdHk6aS5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIil9fSxkaT1mdW5jdGlvbihlLGksbil7dmFyIG89bi5wYWludC5nZXQoXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCIpLHI9bi5wYWludC5nZXQoXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCIpLGE9bi5wYWludC5nZXQoXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCIpLHM9bi5wYWludC5nZXQoXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiKSooTWF0aC5QSS8xODApO3JldHVybiBcInZpZXdwb3J0XCI9PT1uLnBhaW50LmdldChcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCIpJiYocy09ZS50cmFuc2Zvcm0uYW5nbGUpLHt1X21hdHJpeDplLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoaS50aWxlSUQudG9VbndyYXBwZWQoKSwhMCksdV9pbWFnZTowLHVfbGF0cmFuZ2U6ZnVuY3Rpb24oZSxpKXt2YXIgbj1pLnRvQ29vcmRpbmF0ZSgpLG89bmV3IHQuQ29vcmRpbmF0ZShuLmNvbHVtbixuLnJvdysxLG4uem9vbSk7cmV0dXJuIFtlLnRyYW5zZm9ybS5jb29yZGluYXRlTG9jYXRpb24obikubGF0LGUudHJhbnNmb3JtLmNvb3JkaW5hdGVMb2NhdGlvbihvKS5sYXRdfShlLGkudGlsZUlEKSx1X2xpZ2h0OltuLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIiksc10sdV9zaGFkb3c6byx1X2hpZ2hsaWdodDpyLHVfYWNjZW50OmF9fSxfaT1mdW5jdGlvbihlLGkpe3ZhciBuPWUuZGVtLmRpbSxvPXQuY3JlYXRlKCk7cmV0dXJuIHQub3J0aG8obywwLHQuRVhURU5ULC10LkVYVEVOVCwwLDAsMSksdC50cmFuc2xhdGUobyxvLFswLC10LkVYVEVOVCwwXSkse3VfbWF0cml4Om8sdV9pbWFnZToxLHVfZGltZW5zaW9uOlsyKm4sMipuXSx1X3pvb206ZS50aWxlSUQub3ZlcnNjYWxlZFosdV9tYXh6b29tOml9fTt2YXIgZmk9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQudHJhbnNmb3JtO3JldHVybiB7dV9tYXRyaXg6eGkodCxlLGkpLHVfcmF0aW86MS92ZShlLDEsbi56b29tKSx1X2dsX3VuaXRzX3RvX3BpeGVsczpbMS9uLnBpeGVsc1RvR0xVbml0c1swXSwxL24ucGl4ZWxzVG9HTFVuaXRzWzFdXX19LG1pPWZ1bmN0aW9uKGUsaSxuKXtyZXR1cm4gdC5leHRlbmQoZmkoZSxpLG4pLHt1X2ltYWdlOjB9KX0sZ2k9ZnVuY3Rpb24oZSxpLG4sbyl7dmFyIHI9ZS50cmFuc2Zvcm0sYT15aShpLHIpO3JldHVybiB7dV9tYXRyaXg6eGkoZSxpLG4pLHVfdGV4c2l6ZTppLmltYWdlQXRsYXNUZXh0dXJlLnNpemUsdV9yYXRpbzoxL3ZlKGksMSxyLnpvb20pLHVfaW1hZ2U6MCx1X3NjYWxlOlt0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxhLG8uZnJvbVNjYWxlLG8udG9TY2FsZV0sdV9mYWRlOm8udCx1X2dsX3VuaXRzX3RvX3BpeGVsczpbMS9yLnBpeGVsc1RvR0xVbml0c1swXSwxL3IucGl4ZWxzVG9HTFVuaXRzWzFdXX19LHZpPWZ1bmN0aW9uKGUsaSxuLG8scil7dmFyIGE9ZS50cmFuc2Zvcm0scz1lLmxpbmVBdGxhcyxsPXlpKGksYSksYz1cInJvdW5kXCI9PT1uLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKSxoPXMuZ2V0RGFzaChvLmZyb20sYyksdT1zLmdldERhc2goby50byxjKSxwPWgud2lkdGgqci5mcm9tU2NhbGUsZD11LndpZHRoKnIudG9TY2FsZTtyZXR1cm4gdC5leHRlbmQoZmkoZSxpLG4pLHt1X3BhdHRlcm5zY2FsZV9hOltsL3AsLWguaGVpZ2h0LzJdLHVfcGF0dGVybnNjYWxlX2I6W2wvZCwtdS5oZWlnaHQvMl0sdV9zZGZnYW1tYTpzLndpZHRoLygyNTYqTWF0aC5taW4ocCxkKSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbykvMix1X2ltYWdlOjAsdV90ZXhfeV9hOmgueSx1X3RleF95X2I6dS55LHVfbWl4OnIudH0pfTtmdW5jdGlvbiB5aSh0LGUpe3JldHVybiAxL3ZlKHQsMSxlLnRpbGVab29tKX1mdW5jdGlvbiB4aSh0LGUsaSl7cmV0dXJuIHQudHJhbnNsYXRlUG9zTWF0cml4KGUudGlsZUlELnBvc01hdHJpeCxlLGkucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIikpfXZhciBiaT1mdW5jdGlvbih0LGUsaSxuLG8pe3JldHVybiB7dV9tYXRyaXg6dCx1X3RsX3BhcmVudDplLHVfc2NhbGVfcGFyZW50OmksdV9idWZmZXJfc2NhbGU6MSx1X2ZhZGVfdDpuLm1peCx1X29wYWNpdHk6bi5vcGFjaXR5Km8ucGFpbnQuZ2V0KFwicmFzdGVyLW9wYWNpdHlcIiksdV9pbWFnZTA6MCx1X2ltYWdlMToxLHVfYnJpZ2h0bmVzc19sb3c6by5wYWludC5nZXQoXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIiksdV9icmlnaHRuZXNzX2hpZ2g6by5wYWludC5nZXQoXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIiksdV9zYXR1cmF0aW9uX2ZhY3RvcjooYT1vLnBhaW50LmdldChcInJhc3Rlci1zYXR1cmF0aW9uXCIpLGE+MD8xLTEvKDEuMDAxLWEpOi1hKSx1X2NvbnRyYXN0X2ZhY3Rvcjoocj1vLnBhaW50LmdldChcInJhc3Rlci1jb250cmFzdFwiKSxyPjA/MS8oMS1yKToxK3IpLHVfc3Bpbl93ZWlnaHRzOmZ1bmN0aW9uKHQpe3QqPU1hdGguUEkvMTgwO3ZhciBlPU1hdGguc2luKHQpLGk9TWF0aC5jb3ModCk7cmV0dXJuIFsoMippKzEpLzMsKC1NYXRoLnNxcnQoMykqZS1pKzEpLzMsKE1hdGguc3FydCgzKSplLWkrMSkvM119KG8ucGFpbnQuZ2V0KFwicmFzdGVyLWh1ZS1yb3RhdGVcIikpfTt2YXIgcixhO307dmFyIHdpPWZ1bmN0aW9uKHQsZSxpLG4sbyxyLGEscyxsLGMpe3ZhciBoPW8udHJhbnNmb3JtO3JldHVybiB7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcInNvdXJjZVwiPT09dCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcImNhbWVyYVwiPT09dCksdV9zaXplX3Q6ZT9lLnVTaXplVDowLHVfc2l6ZTplP2UudVNpemU6MCx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6aC5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfcGl0Y2g6aC5waXRjaC8zNjAqMipNYXRoLlBJLHVfcm90YXRlX3N5bWJvbDoraSx1X2FzcGVjdF9yYXRpbzpoLndpZHRoL2guaGVpZ2h0LHVfZmFkZV9jaGFuZ2U6by5vcHRpb25zLmZhZGVEdXJhdGlvbj9vLnN5bWJvbEZhZGVDaGFuZ2U6MSx1X21hdHJpeDpyLHVfbGFiZWxfcGxhbmVfbWF0cml4OmEsdV9nbF9jb29yZF9tYXRyaXg6cyx1X2lzX3RleHQ6K2wsdV9waXRjaF93aXRoX21hcDorbix1X3RleHNpemU6Yyx1X3RleHR1cmU6MH19LEVpPWZ1bmN0aW9uKGUsaSxuLG8scixhLHMsbCxjLGgsdSl7dmFyIHA9ci50cmFuc2Zvcm07cmV0dXJuIHQuZXh0ZW5kKHdpKGUsaSxuLG8scixhLHMsbCxjLGgpLHt1X2dhbW1hX3NjYWxlOm8/TWF0aC5jb3MocC5fcGl0Y2gpKnAuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZToxLHVfaXNfaGFsbzordX0pfSxUaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHt1X21hdHJpeDp0LHVfb3BhY2l0eTplLHVfY29sb3I6aX19LFNpPWZ1bmN0aW9uKGUsaSxuLG8scixhKXtyZXR1cm4gdC5leHRlbmQoZnVuY3Rpb24odCxlLGksbil7dmFyIG89aS5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybih0LmZyb20pLHI9aS5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybih0LnRvKSxhPWkuaW1hZ2VNYW5hZ2VyLmdldFBpeGVsU2l6ZSgpLHM9YS53aWR0aCxsPWEuaGVpZ2h0LGM9TWF0aC5wb3coMixuLnRpbGVJRC5vdmVyc2NhbGVkWiksaD1uLnRpbGVTaXplKk1hdGgucG93KDIsaS50cmFuc2Zvcm0udGlsZVpvb20pL2MsdT1oKihuLnRpbGVJRC5jYW5vbmljYWwueCtuLnRpbGVJRC53cmFwKmMpLHA9aCpuLnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm4ge3VfaW1hZ2U6MCx1X3BhdHRlcm5fdGxfYTpvLnRsLHVfcGF0dGVybl9icl9hOm8uYnIsdV9wYXR0ZXJuX3RsX2I6ci50bCx1X3BhdHRlcm5fYnJfYjpyLmJyLHVfdGV4c2l6ZTpbcyxsXSx1X21peDplLnQsdV9wYXR0ZXJuX3NpemVfYTpvLmRpc3BsYXlTaXplLHVfcGF0dGVybl9zaXplX2I6ci5kaXNwbGF5U2l6ZSx1X3NjYWxlX2E6ZS5mcm9tU2NhbGUsdV9zY2FsZV9iOmUudG9TY2FsZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOjEvdmUobiwxLGkudHJhbnNmb3JtLnRpbGVab29tKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOlt1Pj4xNixwPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmdSw2NTUzNSZwXX19KG8sYSxuLHIpLHt1X21hdHJpeDplLHVfb3BhY2l0eTppfSl9LElpPXtmaWxsRXh0cnVzaW9uOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2xpZ2h0cG9zOm5ldyB0LlVuaWZvcm0zZihlLGkudV9saWdodHBvcyksdV9saWdodGludGVuc2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfbGlnaHRpbnRlbnNpdHkpLHVfbGlnaHRjb2xvcjpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfbGlnaHRjb2xvcil9fSxmaWxsRXh0cnVzaW9uUGF0dGVybjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9saWdodHBvczpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfbGlnaHRwb3MpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2xpZ2h0aW50ZW5zaXR5KSx1X2xpZ2h0Y29sb3I6bmV3IHQuVW5pZm9ybTNmKGUsaS51X2xpZ2h0Y29sb3IpLHVfaGVpZ2h0X2ZhY3RvcjpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfaGVpZ2h0X2ZhY3RvciksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfdXBwZXIpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX2xvd2VyKSx1X3NjYWxlOm5ldyB0LlVuaWZvcm00ZihlLGkudV9zY2FsZSksdV9mYWRlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9mYWRlKX19LGV4dHJ1c2lvblRleHR1cmU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfd29ybGQ6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3dvcmxkKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV9vcGFjaXR5Om5ldyB0LlVuaWZvcm0xZihlLGkudV9vcGFjaXR5KX19LGZpbGw6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpfX0sZmlsbFBhdHRlcm46ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX3VwcGVyKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF9sb3dlciksdV9zY2FsZTpuZXcgdC5Vbmlmb3JtNGYoZSxpLnVfc2NhbGUpLHVfZmFkZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZSl9fSxmaWxsT3V0bGluZTpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV93b3JsZDpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfd29ybGQpfX0sZmlsbE91dGxpbmVQYXR0ZXJuOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3dvcmxkOm5ldyB0LlVuaWZvcm0yZihlLGkudV93b3JsZCksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfdXBwZXIpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX2xvd2VyKSx1X3NjYWxlOm5ldyB0LlVuaWZvcm00ZihlLGkudV9zY2FsZSksdV9mYWRlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9mYWRlKX19LGNpcmNsZTpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKSx1X3NjYWxlX3dpdGhfbWFwOm5ldyB0LlVuaWZvcm0xaShlLGkudV9zY2FsZV93aXRoX21hcCksdV9waXRjaF93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcGl0Y2hfd2l0aF9tYXApLHVfZXh0cnVkZV9zY2FsZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfZXh0cnVkZV9zY2FsZSksdV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCl9fSxjb2xsaXNpb25Cb3g6c2ksY29sbGlzaW9uQ2lyY2xlOnNpLGRlYnVnOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X2NvbG9yOm5ldyB0LlVuaWZvcm1Db2xvcihlLGkudV9jb2xvciksdV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCl9fSxjbGlwcGluZ01hc2s6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpfX0saGVhdG1hcDpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9leHRydWRlX3NjYWxlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9leHRydWRlX3NjYWxlKSx1X2ludGVuc2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfaW50ZW5zaXR5KSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KX19LGhlYXRtYXBUZXh0dXJlOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3dvcmxkOm5ldyB0LlVuaWZvcm0yZihlLGkudV93b3JsZCksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfY29sb3JfcmFtcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfY29sb3JfcmFtcCksdV9vcGFjaXR5Om5ldyB0LlVuaWZvcm0xZihlLGkudV9vcGFjaXR5KX19LGhpbGxzaGFkZTpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfbGF0cmFuZ2U6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2xhdHJhbmdlKSx1X2xpZ2h0Om5ldyB0LlVuaWZvcm0yZihlLGkudV9saWdodCksdV9zaGFkb3c6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X3NoYWRvdyksdV9oaWdobGlnaHQ6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2hpZ2hsaWdodCksdV9hY2NlbnQ6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2FjY2VudCl9fSxoaWxsc2hhZGVQcmVwYXJlOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV9kaW1lbnNpb246bmV3IHQuVW5pZm9ybTJmKGUsaS51X2RpbWVuc2lvbiksdV96b29tOm5ldyB0LlVuaWZvcm0xZihlLGkudV96b29tKSx1X21heHpvb206bmV3IHQuVW5pZm9ybTFmKGUsaS51X21heHpvb20pfX0sbGluZTpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcmF0aW8pLHVfZ2xfdW5pdHNfdG9fcGl4ZWxzOm5ldyB0LlVuaWZvcm0yZihlLGkudV9nbF91bml0c190b19waXhlbHMpfX0sbGluZUdyYWRpZW50OmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9yYXRpbyksdV9nbF91bml0c190b19waXhlbHM6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2dsX3VuaXRzX3RvX3BpeGVscyksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpfX0sbGluZVBhdHRlcm46ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcmF0aW8pLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X2dsX3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfZ2xfdW5pdHNfdG9fcGl4ZWxzKSx1X3NjYWxlOm5ldyB0LlVuaWZvcm00ZihlLGkudV9zY2FsZSksdV9mYWRlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9mYWRlKX19LGxpbmVTREY6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X3JhdGlvKSx1X2dsX3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfZ2xfdW5pdHNfdG9fcGl4ZWxzKSx1X3BhdHRlcm5zY2FsZV9hOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuc2NhbGVfYSksdV9wYXR0ZXJuc2NhbGVfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybnNjYWxlX2IpLHVfc2RmZ2FtbWE6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NkZmdhbW1hKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhfeV9hOm5ldyB0LlVuaWZvcm0xZihlLGkudV90ZXhfeV9hKSx1X3RleF95X2I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3RleF95X2IpLHVfbWl4Om5ldyB0LlVuaWZvcm0xZihlLGkudV9taXgpfX0scmFzdGVyOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3RsX3BhcmVudDpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGxfcGFyZW50KSx1X3NjYWxlX3BhcmVudDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2NhbGVfcGFyZW50KSx1X2J1ZmZlcl9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfYnVmZmVyX3NjYWxlKSx1X2ZhZGVfdDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZV90KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfaW1hZ2UwOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZTApLHVfaW1hZ2UxOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZTEpLHVfYnJpZ2h0bmVzc19sb3c6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2JyaWdodG5lc3NfbG93KSx1X2JyaWdodG5lc3NfaGlnaDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfYnJpZ2h0bmVzc19oaWdoKSx1X3NhdHVyYXRpb25fZmFjdG9yOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zYXR1cmF0aW9uX2ZhY3RvciksdV9jb250cmFzdF9mYWN0b3I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NvbnRyYXN0X2ZhY3RvciksdV9zcGluX3dlaWdodHM6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NwaW5fd2VpZ2h0cyl9fSxzeW1ib2xJY29uOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV96b29tX2NvbnN0YW50KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSx1X3NpemVfdDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2l6ZV90KSx1X3NpemU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemUpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSksdV9waXRjaDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcGl0Y2gpLHVfcm90YXRlX3N5bWJvbDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcm90YXRlX3N5bWJvbCksdV9hc3BlY3RfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2FzcGVjdF9yYXRpbyksdV9mYWRlX2NoYW5nZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZV9jaGFuZ2UpLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9sYWJlbF9wbGFuZV9tYXRyaXgpLHVfZ2xfY29vcmRfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9nbF9jb29yZF9tYXRyaXgpLHVfaXNfdGV4dDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfaXNfdGV4dCksdV9waXRjaF93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcGl0Y2hfd2l0aF9tYXApLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV90ZXh0dXJlOm5ldyB0LlVuaWZvcm0xaShlLGkudV90ZXh0dXJlKX19LHN5bWJvbFNERjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfem9vbV9jb25zdGFudCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCksdV9zaXplX3Q6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemVfdCksdV9zaXplOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zaXplKSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLHVfcGl0Y2g6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3BpdGNoKSx1X3JvdGF0ZV9zeW1ib2w6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3JvdGF0ZV9zeW1ib2wpLHVfYXNwZWN0X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9hc3BlY3RfcmF0aW8pLHVfZmFkZV9jaGFuZ2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGVfY2hhbmdlKSx1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbGFiZWxfcGxhbmVfbWF0cml4KSx1X2dsX2Nvb3JkX21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfZ2xfY29vcmRfbWF0cml4KSx1X2lzX3RleHQ6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2lzX3RleHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3BpdGNoX3dpdGhfbWFwKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfdGV4dHVyZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfdGV4dHVyZSksdV9nYW1tYV9zY2FsZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZ2FtbWFfc2NhbGUpLHVfaXNfaGFsbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfaXNfaGFsbyl9fSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfY29sb3I6bmV3IHQuVW5pZm9ybUNvbG9yKGUsaS51X2NvbG9yKX19LGJhY2tncm91bmRQYXR0ZXJuOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3BhdHRlcm5fdGxfYTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl90bF9hKSx1X3BhdHRlcm5fYnJfYTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl9icl9hKSx1X3BhdHRlcm5fdGxfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl90bF9iKSx1X3BhdHRlcm5fYnJfYjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl9icl9iKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfbWl4Om5ldyB0LlVuaWZvcm0xZihlLGkudV9taXgpLHVfcGF0dGVybl9zaXplX2E6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BhdHRlcm5fc2l6ZV9hKSx1X3BhdHRlcm5fc2l6ZV9iOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuX3NpemVfYiksdV9zY2FsZV9hOm5ldyB0LlVuaWZvcm0xZihlLGkudV9zY2FsZV9hKSx1X3NjYWxlX2I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NjYWxlX2IpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX3VwcGVyKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF9sb3dlciksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfdGlsZV91bml0c190b19waXhlbHMpfX19O2Z1bmN0aW9uIENpKGUsaSl7Zm9yKHZhciBuPWUuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnRpbGVJRC5pc0xlc3NUaGFuKGUudGlsZUlEKT8tMTplLnRpbGVJRC5pc0xlc3NUaGFuKHQudGlsZUlEKT8xOjB9KSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciByPXt9LGE9bltvXSxzPW4uc2xpY2UobysxKTt6aShhLnRpbGVJRC53cmFwcGVkKCksYS50aWxlSUQscyxuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKDAsYS50aWxlSUQud3JhcCsxLDAsMCwwKSxyKSxhLnNldE1hc2socixpKTt9fWZ1bmN0aW9uIHppKGUsaSxuLG8scil7Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPW5bYV07aWYoby5pc0xlc3NUaGFuKHMudGlsZUlEKSlicmVhaztpZihpLmtleT09PXMudGlsZUlELmtleSlyZXR1cm47aWYocy50aWxlSUQuaXNDaGlsZE9mKGkpKXtmb3IodmFyIGw9aS5jaGlsZHJlbigxLzApLGM9MDtjPGwubGVuZ3RoO2MrKyl7emkoZSxsW2NdLG4uc2xpY2UoYSksbyxyKTt9cmV0dXJufX12YXIgaD1pLm92ZXJzY2FsZWRaLWUub3ZlcnNjYWxlZFosdT1uZXcgdC5DYW5vbmljYWxUaWxlSUQoaCxpLmNhbm9uaWNhbC54LShlLmNhbm9uaWNhbC54PDxoKSxpLmNhbm9uaWNhbC55LShlLmNhbm9uaWNhbC55PDxoKSk7clt1LmtleV09clt1LmtleV18fHU7fWZ1bmN0aW9uIFBpKHQsZSxpLG4sbyl7Zm9yKHZhciByPXQuY29udGV4dCxhPXIuZ2wscz1vP3QudXNlUHJvZ3JhbShcImNvbGxpc2lvbkNpcmNsZVwiKTp0LnVzZVByb2dyYW0oXCJjb2xsaXNpb25Cb3hcIiksbD0wO2w8bi5sZW5ndGg7bCsrKXt2YXIgYz1uW2xdLGg9ZS5nZXRUaWxlKGMpLHU9aC5nZXRCdWNrZXQoaSk7aWYodSl7dmFyIHA9bz91LmNvbGxpc2lvbkNpcmNsZTp1LmNvbGxpc2lvbkJveDtwJiZzLmRyYXcocixvP2EuVFJJQU5HTEVTOmEuTElORVMsRHQuZGlzYWJsZWQsTXQuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbGkoYy5wb3NNYXRyaXgsdC50cmFuc2Zvcm0saCksaS5pZCxwLmxheW91dFZlcnRleEJ1ZmZlcixwLmluZGV4QnVmZmVyLHAuc2VnbWVudHMsbnVsbCx0LnRyYW5zZm9ybS56b29tLG51bGwsbnVsbCxwLmNvbGxpc2lvblZlcnRleEJ1ZmZlcik7fX19dmFyIFJpPXQuaWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSgxNikpLEFpPXQucHJvcGVydGllcy5sYXlvdXQ7ZnVuY3Rpb24gTGkoZSxpLG4sbyxyLGEscyxsLGMsaCx1LHApe2Zvcih2YXIgZCxfLGY9ZS5jb250ZXh0LG09Zi5nbCxnPWUudHJhbnNmb3JtLHY9XCJtYXBcIj09PWwseT1cIm1hcFwiPT09Yyx4PXYmJlwicG9pbnRcIiE9PW4ubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksYj12JiYheSYmIXgsdz15P2UuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxEdC5SZWFkT25seSk6RHQuZGlzYWJsZWQsRT0wLFQ9bztFPFQubGVuZ3RoO0UrPTEpe3ZhciBTPVRbRV0sST1pLmdldFRpbGUoUyksQz1JLmdldEJ1Y2tldChuKTtpZihDKXt2YXIgej1yP0MudGV4dDpDLmljb247aWYoeiYmei5zZWdtZW50cy5nZXQoKS5sZW5ndGgpe3ZhciBQPXoucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChuLmlkKSxSPXJ8fEMuc2RmSWNvbnMsQT1yP0MudGV4dFNpemVEYXRhOkMuaWNvblNpemVEYXRhO2R8fChkPWUudXNlUHJvZ3JhbShSP1wic3ltYm9sU0RGXCI6XCJzeW1ib2xJY29uXCIsUCksXz10LmV2YWx1YXRlU2l6ZUZvclpvb20oQSxnLnpvb20sQWkucHJvcGVydGllc1tyP1widGV4dC1zaXplXCI6XCJpY29uLXNpemVcIl0pKSxmLmFjdGl2ZVRleHR1cmUuc2V0KG0uVEVYVFVSRTApO3ZhciBMPXZvaWQgMDtpZihyKUkuZ2x5cGhBdGxhc1RleHR1cmUuYmluZChtLkxJTkVBUixtLkNMQU1QX1RPX0VER0UpLEw9SS5nbHlwaEF0bGFzVGV4dHVyZS5zaXplO2Vsc2V7dmFyIEQ9MSE9PW4ubGF5b3V0LmdldChcImljb24tc2l6ZVwiKS5jb25zdGFudE9yKDApfHxDLmljb25zTmVlZExpbmVhcixNPXl8fDAhPT1nLnBpdGNoO0kuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChSfHxlLm9wdGlvbnMucm90YXRpbmd8fGUub3B0aW9ucy56b29taW5nfHxEfHxNP20uTElORUFSOm0uTkVBUkVTVCxtLkNMQU1QX1RPX0VER0UpLEw9SS5pbWFnZUF0bGFzVGV4dHVyZS5zaXplO312YXIgaz12ZShJLDEsZS50cmFuc2Zvcm0uem9vbSksQj1uZShTLnBvc01hdHJpeCx5LHYsZS50cmFuc2Zvcm0sayksTz1vZShTLnBvc01hdHJpeCx5LHYsZS50cmFuc2Zvcm0sayk7eCYmc2UoQyxTLnBvc01hdHJpeCxlLHIsQixPLHksaCk7dmFyIEY9ZS50cmFuc2xhdGVQb3NNYXRyaXgoUy5wb3NNYXRyaXgsSSxhLHMpLFU9eD9SaTpCLE49ZS50cmFuc2xhdGVQb3NNYXRyaXgoTyxJLGEscywhMCksWj12b2lkIDA7aWYoUil7dmFyIHE9MCE9PW4ucGFpbnQuZ2V0KHI/XCJ0ZXh0LWhhbG8td2lkdGhcIjpcImljb24taGFsby13aWR0aFwiKS5jb25zdGFudE9yKDEpO1o9RWkoQS5mdW5jdGlvblR5cGUsXyxiLHksZSxGLFUsTixyLEwsITApLHEmJkRpKHosbixlLGQsdyx1LHAsWiksWi51X2lzX2hhbG89MDt9ZWxzZSBaPXdpKEEuZnVuY3Rpb25UeXBlLF8sYix5LGUsRixVLE4scixMKTtEaSh6LG4sZSxkLHcsdSxwLFopO319fX1mdW5jdGlvbiBEaSh0LGUsaSxuLG8scixhLHMpe3ZhciBsPWkuY29udGV4dCxjPWwuZ2w7bi5kcmF3KGwsYy5UUklBTkdMRVMsbyxyLGEscyxlLmlkLHQubGF5b3V0VmVydGV4QnVmZmVyLHQuaW5kZXhCdWZmZXIsdC5zZWdtZW50cyxlLnBhaW50LGkudHJhbnNmb3JtLnpvb20sdC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGUuaWQpLHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcix0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIpO31mdW5jdGlvbiBNaSh0LGUsaSxuLG8scixhKXt2YXIgcyxsLGMsaCx1LHA9dC5jb250ZXh0LmdsLGQ9aS5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksXz1kJiZkLmNvbnN0YW50T3IoMSksZj1pLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKTthPyhsPV8mJiFpLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIscz1wLkxJTkVTKToobD1fP1wiZmlsbFBhdHRlcm5cIjpcImZpbGxcIixzPXAuVFJJQU5HTEVTKTtmb3IodmFyIG09MCxnPW47bTxnLmxlbmd0aDttKz0xKXt2YXIgdj1nW21dLHk9ZS5nZXRUaWxlKHYpO2lmKCFffHx5LnBhdHRlcm5zTG9hZGVkKCkpe3ZhciB4PXkuZ2V0QnVja2V0KGkpO2lmKHgpe3ZhciBiPXgucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx3PXQudXNlUHJvZ3JhbShsLGIpO18mJih0LmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQocC5URVhUVVJFMCkseS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKHAuTElORUFSLHAuQ0xBTVBfVE9fRURHRSksYi51cGRhdGVQYXR0ZXJuUGFpbnRCdWZmZXJzKGYpKTt2YXIgRT1kLmNvbnN0YW50T3IobnVsbCk7aWYoRSYmeS5pbWFnZUF0bGFzKXt2YXIgVD15LmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1tFLnRvXSxTPXkuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zW0UuZnJvbV07VCYmUyYmYi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoVCxTKTt9dmFyIEk9dC50cmFuc2xhdGVQb3NNYXRyaXgodi5wb3NNYXRyaXgseSxpLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCIpKTtpZihhKXtoPXguaW5kZXhCdWZmZXIyLHU9eC5zZWdtZW50czI7dmFyIEM9W3AuZHJhd2luZ0J1ZmZlcldpZHRoLHAuZHJhd2luZ0J1ZmZlckhlaWdodF07Yz1cImZpbGxPdXRsaW5lUGF0dGVyblwiPT09bCYmXz9yaShJLHQsZix5LEMpOm9pKEksQyk7fWVsc2UgaD14LmluZGV4QnVmZmVyLHU9eC5zZWdtZW50cyxjPV8/bmkoSSx0LGYseSk6aWkoSSk7dy5kcmF3KHQuY29udGV4dCxzLG8sdC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKHYpLHIsYyxpLmlkLHgubGF5b3V0VmVydGV4QnVmZmVyLGgsdSxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20sYik7fX19fWZ1bmN0aW9uIGtpKHQsZSxpLG4sbyxyKXt2YXIgYT10LmNvbnRleHQscz1hLmdsLGw9ZS5mYm87aWYobCl7dmFyIGM9dC51c2VQcm9ncmFtKFwiaGlsbHNoYWRlXCIpO2EuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCkscy5iaW5kVGV4dHVyZShzLlRFWFRVUkVfMkQsbC5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO3ZhciBoPWRpKHQsZSxpKTtlLm1hc2tlZEJvdW5kc0J1ZmZlciYmZS5tYXNrZWRJbmRleEJ1ZmZlciYmZS5zZWdtZW50cz9jLmRyYXcoYSxzLlRSSUFOR0xFUyxuLG8scixoLGkuaWQsZS5tYXNrZWRCb3VuZHNCdWZmZXIsZS5tYXNrZWRJbmRleEJ1ZmZlcixlLnNlZ21lbnRzKTpjLmRyYXcoYSxzLlRSSUFOR0xFUyxuLG8scixoLGkuaWQsdC5yYXN0ZXJCb3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnJhc3RlckJvdW5kc1NlZ21lbnRzKTt9fWZ1bmN0aW9uIEJpKGUsaSxuLG8scixhLHMpe3ZhciBsPWUuY29udGV4dCxjPWwuZ2w7aWYoaS5kZW0mJmkuZGVtLmRhdGEpe3ZhciBoPWkuZGVtLmRpbSx1PWkuZGVtLmdldFBpeGVscygpO2lmKGwuYWN0aXZlVGV4dHVyZS5zZXQoYy5URVhUVVJFMSksbC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQoITEpLGkuZGVtVGV4dHVyZT1pLmRlbVRleHR1cmV8fGUuZ2V0VGlsZVRleHR1cmUoaS50aWxlU2l6ZSksaS5kZW1UZXh0dXJlKXt2YXIgcD1pLmRlbVRleHR1cmU7cC51cGRhdGUodSx7cHJlbXVsdGlwbHk6ITF9KSxwLmJpbmQoYy5ORUFSRVNULGMuQ0xBTVBfVE9fRURHRSk7fWVsc2UgaS5kZW1UZXh0dXJlPW5ldyB0LlRleHR1cmUobCx1LGMuUkdCQSx7cHJlbXVsdGlwbHk6ITF9KSxpLmRlbVRleHR1cmUuYmluZChjLk5FQVJFU1QsYy5DTEFNUF9UT19FREdFKTtsLmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApO3ZhciBkPWkuZmJvO2lmKCFkKXt2YXIgXz1uZXcgdC5UZXh0dXJlKGwse3dpZHRoOmgsaGVpZ2h0OmgsZGF0YTpudWxsfSxjLlJHQkEpO18uYmluZChjLkxJTkVBUixjLkNMQU1QX1RPX0VER0UpLChkPWkuZmJvPWwuY3JlYXRlRnJhbWVidWZmZXIoaCxoKSkuY29sb3JBdHRhY2htZW50LnNldChfLnRleHR1cmUpO31sLmJpbmRGcmFtZWJ1ZmZlci5zZXQoZC5mcmFtZWJ1ZmZlciksbC52aWV3cG9ydC5zZXQoWzAsMCxoLGhdKSxlLnVzZVByb2dyYW0oXCJoaWxsc2hhZGVQcmVwYXJlXCIpLmRyYXcobCxjLlRSSUFOR0xFUyxyLGEscyxfaShpLG8pLG4uaWQsZS5yYXN0ZXJCb3VuZHNCdWZmZXIsZS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixlLnJhc3RlckJvdW5kc1NlZ21lbnRzKSxpLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMTt9fWZ1bmN0aW9uIE9pKGUsaSxuLG8scil7dmFyIGE9by5wYWludC5nZXQoXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiKTtpZihhPjApe3ZhciBzPXQuYnJvd3Nlci5ub3coKSxsPShzLWUudGltZUFkZGVkKS9hLGM9aT8ocy1pLnRpbWVBZGRlZCkvYTotMSxoPW4uZ2V0U291cmNlKCksdT1yLmNvdmVyaW5nWm9vbUxldmVsKHt0aWxlU2l6ZTpoLnRpbGVTaXplLHJvdW5kWm9vbTpoLnJvdW5kWm9vbX0pLHA9IWl8fE1hdGguYWJzKGkudGlsZUlELm92ZXJzY2FsZWRaLXUpPk1hdGguYWJzKGUudGlsZUlELm92ZXJzY2FsZWRaLXUpLGQ9cCYmZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj8xOnQuY2xhbXAocD9sOjEtYywwLDEpO3JldHVybiBlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uJiZsPj0xJiYoZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMSksaT97b3BhY2l0eToxLG1peDoxLWR9OntvcGFjaXR5OmQsbWl4OjB9fXJldHVybiB7b3BhY2l0eToxLG1peDowfX1mdW5jdGlvbiBGaShlLGksbil7dmFyIG89ZS5jb250ZXh0LHI9by5nbCxhPW4ucG9zTWF0cml4LHM9ZS51c2VQcm9ncmFtKFwiZGVidWdcIiksbD1EdC5kaXNhYmxlZCxjPU10LmRpc2FibGVkLGg9ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksdT1cIiRkZWJ1Z1wiO3MuZHJhdyhvLHIuTElORV9TVFJJUCxsLGMsaCxjaShhLHQuQ29sb3IucmVkKSx1LGUuZGVidWdCdWZmZXIsZS50aWxlQm9yZGVySW5kZXhCdWZmZXIsZS5kZWJ1Z1NlZ21lbnRzKTtmb3IodmFyIHA9ZnVuY3Rpb24odCxlLGksbil7bj1ufHwxO3ZhciBvLHIsYSxzLGwsYyxoLHUscD1bXTtmb3Iobz0wLHI9dC5sZW5ndGg7bzxyO28rKylpZihsPVVpW3Rbb11dKXtmb3IodT1udWxsLGE9MCxzPWxbMV0ubGVuZ3RoO2E8czthKz0yKS0xPT09bFsxXVthXSYmLTE9PT1sWzFdW2ErMV0/dT1udWxsOihjPWUrbFsxXVthXSpuLGg9aS1sWzFdW2ErMV0qbix1JiZwLnB1c2godS54LHUueSxjLGgpLHU9e3g6Yyx5Omh9KTtlKz1sWzBdKm47fXJldHVybiBwfShuLnRvU3RyaW5nKCksNTAsMjAwLDUpLGQ9bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQyaTQsXz1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDJ1aTQsZj0wO2Y8cC5sZW5ndGg7Zis9MilkLmVtcGxhY2VCYWNrKHBbZl0scFtmKzFdKSxfLmVtcGxhY2VCYWNrKGYsZisxKTtmb3IodmFyIG09by5jcmVhdGVWZXJ0ZXhCdWZmZXIoZCxqZS5tZW1iZXJzKSxnPW8uY3JlYXRlSW5kZXhCdWZmZXIoXyksdj10LlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsZC5sZW5ndGgvMixkLmxlbmd0aC8yKSx5PWkuZ2V0VGlsZShuKS50aWxlU2l6ZSx4PXQuRVhURU5ULyhNYXRoLnBvdygyLGUudHJhbnNmb3JtLnpvb20tbi5vdmVyc2NhbGVkWikqeSksYj1bWy0xLC0xXSxbLTEsMV0sWzEsLTFdLFsxLDFdXSx3PTA7dzxiLmxlbmd0aDt3Kyspe3ZhciBFPWJbd107cy5kcmF3KG8sci5MSU5FUyxsLGMsaCxjaSh0LnRyYW5zbGF0ZShbXSxhLFt4KkVbMF0seCpFWzFdLDBdKSx0LkNvbG9yLndoaXRlKSx1LG0sZyx2KTt9cy5kcmF3KG8sci5MSU5FUyxsLGMsaCxjaShhLHQuQ29sb3IuYmxhY2spLHUsbSxnLHYpO312YXIgVWk9e1wiIFwiOlsxNixbXV0sXCIhXCI6WzEwLFs1LDIxLDUsNywtMSwtMSw1LDIsNCwxLDUsMCw2LDEsNSwyXV0sJ1wiJzpbMTYsWzQsMjEsNCwxNCwtMSwtMSwxMiwyMSwxMiwxNF1dLFwiI1wiOlsyMSxbMTEsMjUsNCwtNywtMSwtMSwxNywyNSwxMCwtNywtMSwtMSw0LDEyLDE4LDEyLC0xLC0xLDMsNiwxNyw2XV0sJDpbMjAsWzgsMjUsOCwtNCwtMSwtMSwxMiwyNSwxMiwtNCwtMSwtMSwxNywxOCwxNSwyMCwxMiwyMSw4LDIxLDUsMjAsMywxOCwzLDE2LDQsMTQsNSwxMyw3LDEyLDEzLDEwLDE1LDksMTYsOCwxNyw2LDE3LDMsMTUsMSwxMiwwLDgsMCw1LDEsMywzXV0sXCIlXCI6WzI0LFsyMSwyMSwzLDAsLTEsLTEsOCwyMSwxMCwxOSwxMCwxNyw5LDE1LDcsMTQsNSwxNCwzLDE2LDMsMTgsNCwyMCw2LDIxLDgsMjEsMTAsMjAsMTMsMTksMTYsMTksMTksMjAsMjEsMjEsLTEsLTEsMTcsNywxNSw2LDE0LDQsMTQsMiwxNiwwLDE4LDAsMjAsMSwyMSwzLDIxLDUsMTksNywxNyw3XV0sXCImXCI6WzI2LFsyMywxMiwyMywxMywyMiwxNCwyMSwxNCwyMCwxMywxOSwxMSwxNyw2LDE1LDMsMTMsMSwxMSwwLDcsMCw1LDEsNCwyLDMsNCwzLDYsNCw4LDUsOSwxMiwxMywxMywxNCwxNCwxNiwxNCwxOCwxMywyMCwxMSwyMSw5LDIwLDgsMTgsOCwxNiw5LDEzLDExLDEwLDE2LDMsMTgsMSwyMCwwLDIyLDAsMjMsMSwyMywyXV0sXCInXCI6WzEwLFs1LDE5LDQsMjAsNSwyMSw2LDIwLDYsMTgsNSwxNiw0LDE1XV0sXCIoXCI6WzE0LFsxMSwyNSw5LDIzLDcsMjAsNSwxNiw0LDExLDQsNyw1LDIsNywtMiw5LC01LDExLC03XV0sXCIpXCI6WzE0LFszLDI1LDUsMjMsNywyMCw5LDE2LDEwLDExLDEwLDcsOSwyLDcsLTIsNSwtNSwzLC03XV0sXCIqXCI6WzE2LFs4LDIxLDgsOSwtMSwtMSwzLDE4LDEzLDEyLC0xLC0xLDEzLDE4LDMsMTJdXSxcIitcIjpbMjYsWzEzLDE4LDEzLDAsLTEsLTEsNCw5LDIyLDldXSxcIixcIjpbMTAsWzYsMSw1LDAsNCwxLDUsMiw2LDEsNiwtMSw1LC0zLDQsLTRdXSxcIi1cIjpbMjYsWzQsOSwyMiw5XV0sXCIuXCI6WzEwLFs1LDIsNCwxLDUsMCw2LDEsNSwyXV0sXCIvXCI6WzIyLFsyMCwyNSwyLC03XV0sMDpbMjAsWzksMjEsNiwyMCw0LDE3LDMsMTIsMyw5LDQsNCw2LDEsOSwwLDExLDAsMTQsMSwxNiw0LDE3LDksMTcsMTIsMTYsMTcsMTQsMjAsMTEsMjEsOSwyMV1dLDE6WzIwLFs2LDE3LDgsMTgsMTEsMjEsMTEsMF1dLDI6WzIwLFs0LDE2LDQsMTcsNSwxOSw2LDIwLDgsMjEsMTIsMjEsMTQsMjAsMTUsMTksMTYsMTcsMTYsMTUsMTUsMTMsMTMsMTAsMywwLDE3LDBdXSwzOlsyMCxbNSwyMSwxNiwyMSwxMCwxMywxMywxMywxNSwxMiwxNiwxMSwxNyw4LDE3LDYsMTYsMywxNCwxLDExLDAsOCwwLDUsMSw0LDIsMyw0XV0sNDpbMjAsWzEzLDIxLDMsNywxOCw3LC0xLC0xLDEzLDIxLDEzLDBdXSw1OlsyMCxbMTUsMjEsNSwyMSw0LDEyLDUsMTMsOCwxNCwxMSwxNCwxNCwxMywxNiwxMSwxNyw4LDE3LDYsMTYsMywxNCwxLDExLDAsOCwwLDUsMSw0LDIsMyw0XV0sNjpbMjAsWzE2LDE4LDE1LDIwLDEyLDIxLDEwLDIxLDcsMjAsNSwxNyw0LDEyLDQsNyw1LDMsNywxLDEwLDAsMTEsMCwxNCwxLDE2LDMsMTcsNiwxNyw3LDE2LDEwLDE0LDEyLDExLDEzLDEwLDEzLDcsMTIsNSwxMCw0LDddXSw3OlsyMCxbMTcsMjEsNywwLC0xLC0xLDMsMjEsMTcsMjFdXSw4OlsyMCxbOCwyMSw1LDIwLDQsMTgsNCwxNiw1LDE0LDcsMTMsMTEsMTIsMTQsMTEsMTYsOSwxNyw3LDE3LDQsMTYsMiwxNSwxLDEyLDAsOCwwLDUsMSw0LDIsMyw0LDMsNyw0LDksNiwxMSw5LDEyLDEzLDEzLDE1LDE0LDE2LDE2LDE2LDE4LDE1LDIwLDEyLDIxLDgsMjFdXSw5OlsyMCxbMTYsMTQsMTUsMTEsMTMsOSwxMCw4LDksOCw2LDksNCwxMSwzLDE0LDMsMTUsNCwxOCw2LDIwLDksMjEsMTAsMjEsMTMsMjAsMTUsMTgsMTYsMTQsMTYsOSwxNSw0LDEzLDEsMTAsMCw4LDAsNSwxLDQsM11dLFwiOlwiOlsxMCxbNSwxNCw0LDEzLDUsMTIsNiwxMyw1LDE0LC0xLC0xLDUsMiw0LDEsNSwwLDYsMSw1LDJdXSxcIjtcIjpbMTAsWzUsMTQsNCwxMyw1LDEyLDYsMTMsNSwxNCwtMSwtMSw2LDEsNSwwLDQsMSw1LDIsNiwxLDYsLTEsNSwtMyw0LC00XV0sXCI8XCI6WzI0LFsyMCwxOCw0LDksMjAsMF1dLFwiPVwiOlsyNixbNCwxMiwyMiwxMiwtMSwtMSw0LDYsMjIsNl1dLFwiPlwiOlsyNCxbNCwxOCwyMCw5LDQsMF1dLFwiP1wiOlsxOCxbMywxNiwzLDE3LDQsMTksNSwyMCw3LDIxLDExLDIxLDEzLDIwLDE0LDE5LDE1LDE3LDE1LDE1LDE0LDEzLDEzLDEyLDksMTAsOSw3LC0xLC0xLDksMiw4LDEsOSwwLDEwLDEsOSwyXV0sXCJAXCI6WzI3LFsxOCwxMywxNywxNSwxNSwxNiwxMiwxNiwxMCwxNSw5LDE0LDgsMTEsOCw4LDksNiwxMSw1LDE0LDUsMTYsNiwxNyw4LC0xLC0xLDEyLDE2LDEwLDE0LDksMTEsOSw4LDEwLDYsMTEsNSwtMSwtMSwxOCwxNiwxNyw4LDE3LDYsMTksNSwyMSw1LDIzLDcsMjQsMTAsMjQsMTIsMjMsMTUsMjIsMTcsMjAsMTksMTgsMjAsMTUsMjEsMTIsMjEsOSwyMCw3LDE5LDUsMTcsNCwxNSwzLDEyLDMsOSw0LDYsNSw0LDcsMiw5LDEsMTIsMCwxNSwwLDE4LDEsMjAsMiwyMSwzLC0xLC0xLDE5LDE2LDE4LDgsMTgsNiwxOSw1XV0sQTpbMTgsWzksMjEsMSwwLC0xLC0xLDksMjEsMTcsMCwtMSwtMSw0LDcsMTQsN11dLEI6WzIxLFs0LDIxLDQsMCwtMSwtMSw0LDIxLDEzLDIxLDE2LDIwLDE3LDE5LDE4LDE3LDE4LDE1LDE3LDEzLDE2LDEyLDEzLDExLC0xLC0xLDQsMTEsMTMsMTEsMTYsMTAsMTcsOSwxOCw3LDE4LDQsMTcsMiwxNiwxLDEzLDAsNCwwXV0sQzpbMjEsWzE4LDE2LDE3LDE4LDE1LDIwLDEzLDIxLDksMjEsNywyMCw1LDE4LDQsMTYsMywxMywzLDgsNCw1LDUsMyw3LDEsOSwwLDEzLDAsMTUsMSwxNywzLDE4LDVdXSxEOlsyMSxbNCwyMSw0LDAsLTEsLTEsNCwyMSwxMSwyMSwxNCwyMCwxNiwxOCwxNywxNiwxOCwxMywxOCw4LDE3LDUsMTYsMywxNCwxLDExLDAsNCwwXV0sRTpbMTksWzQsMjEsNCwwLC0xLC0xLDQsMjEsMTcsMjEsLTEsLTEsNCwxMSwxMiwxMSwtMSwtMSw0LDAsMTcsMF1dLEY6WzE4LFs0LDIxLDQsMCwtMSwtMSw0LDIxLDE3LDIxLC0xLC0xLDQsMTEsMTIsMTFdXSxHOlsyMSxbMTgsMTYsMTcsMTgsMTUsMjAsMTMsMjEsOSwyMSw3LDIwLDUsMTgsNCwxNiwzLDEzLDMsOCw0LDUsNSwzLDcsMSw5LDAsMTMsMCwxNSwxLDE3LDMsMTgsNSwxOCw4LC0xLC0xLDEzLDgsMTgsOF1dLEg6WzIyLFs0LDIxLDQsMCwtMSwtMSwxOCwyMSwxOCwwLC0xLC0xLDQsMTEsMTgsMTFdXSxJOls4LFs0LDIxLDQsMF1dLEo6WzE2LFsxMiwyMSwxMiw1LDExLDIsMTAsMSw4LDAsNiwwLDQsMSwzLDIsMiw1LDIsN11dLEs6WzIxLFs0LDIxLDQsMCwtMSwtMSwxOCwyMSw0LDcsLTEsLTEsOSwxMiwxOCwwXV0sTDpbMTcsWzQsMjEsNCwwLC0xLC0xLDQsMCwxNiwwXV0sTTpbMjQsWzQsMjEsNCwwLC0xLC0xLDQsMjEsMTIsMCwtMSwtMSwyMCwyMSwxMiwwLC0xLC0xLDIwLDIxLDIwLDBdXSxOOlsyMixbNCwyMSw0LDAsLTEsLTEsNCwyMSwxOCwwLC0xLC0xLDE4LDIxLDE4LDBdXSxPOlsyMixbOSwyMSw3LDIwLDUsMTgsNCwxNiwzLDEzLDMsOCw0LDUsNSwzLDcsMSw5LDAsMTMsMCwxNSwxLDE3LDMsMTgsNSwxOSw4LDE5LDEzLDE4LDE2LDE3LDE4LDE1LDIwLDEzLDIxLDksMjFdXSxQOlsyMSxbNCwyMSw0LDAsLTEsLTEsNCwyMSwxMywyMSwxNiwyMCwxNywxOSwxOCwxNywxOCwxNCwxNywxMiwxNiwxMSwxMywxMCw0LDEwXV0sUTpbMjIsWzksMjEsNywyMCw1LDE4LDQsMTYsMywxMywzLDgsNCw1LDUsMyw3LDEsOSwwLDEzLDAsMTUsMSwxNywzLDE4LDUsMTksOCwxOSwxMywxOCwxNiwxNywxOCwxNSwyMCwxMywyMSw5LDIxLC0xLC0xLDEyLDQsMTgsLTJdXSxSOlsyMSxbNCwyMSw0LDAsLTEsLTEsNCwyMSwxMywyMSwxNiwyMCwxNywxOSwxOCwxNywxOCwxNSwxNywxMywxNiwxMiwxMywxMSw0LDExLC0xLC0xLDExLDExLDE4LDBdXSxTOlsyMCxbMTcsMTgsMTUsMjAsMTIsMjEsOCwyMSw1LDIwLDMsMTgsMywxNiw0LDE0LDUsMTMsNywxMiwxMywxMCwxNSw5LDE2LDgsMTcsNiwxNywzLDE1LDEsMTIsMCw4LDAsNSwxLDMsM11dLFQ6WzE2LFs4LDIxLDgsMCwtMSwtMSwxLDIxLDE1LDIxXV0sVTpbMjIsWzQsMjEsNCw2LDUsMyw3LDEsMTAsMCwxMiwwLDE1LDEsMTcsMywxOCw2LDE4LDIxXV0sVjpbMTgsWzEsMjEsOSwwLC0xLC0xLDE3LDIxLDksMF1dLFc6WzI0LFsyLDIxLDcsMCwtMSwtMSwxMiwyMSw3LDAsLTEsLTEsMTIsMjEsMTcsMCwtMSwtMSwyMiwyMSwxNywwXV0sWDpbMjAsWzMsMjEsMTcsMCwtMSwtMSwxNywyMSwzLDBdXSxZOlsxOCxbMSwyMSw5LDExLDksMCwtMSwtMSwxNywyMSw5LDExXV0sWjpbMjAsWzE3LDIxLDMsMCwtMSwtMSwzLDIxLDE3LDIxLC0xLC0xLDMsMCwxNywwXV0sXCJbXCI6WzE0LFs0LDI1LDQsLTcsLTEsLTEsNSwyNSw1LC03LC0xLC0xLDQsMjUsMTEsMjUsLTEsLTEsNCwtNywxMSwtN11dLFwiXFxcXFwiOlsxNCxbMCwyMSwxNCwtM11dLFwiXVwiOlsxNCxbOSwyNSw5LC03LC0xLC0xLDEwLDI1LDEwLC03LC0xLC0xLDMsMjUsMTAsMjUsLTEsLTEsMywtNywxMCwtN11dLFwiXlwiOlsxNixbNiwxNSw4LDE4LDEwLDE1LC0xLC0xLDMsMTIsOCwxNywxMywxMiwtMSwtMSw4LDE3LDgsMF1dLF86WzE2LFswLC0yLDE2LC0yXV0sXCJgXCI6WzEwLFs2LDIxLDUsMjAsNCwxOCw0LDE2LDUsMTUsNiwxNiw1LDE3XV0sYTpbMTksWzE1LDE0LDE1LDAsLTEsLTEsMTUsMTEsMTMsMTMsMTEsMTQsOCwxNCw2LDEzLDQsMTEsMyw4LDMsNiw0LDMsNiwxLDgsMCwxMSwwLDEzLDEsMTUsM11dLGI6WzE5LFs0LDIxLDQsMCwtMSwtMSw0LDExLDYsMTMsOCwxNCwxMSwxNCwxMywxMywxNSwxMSwxNiw4LDE2LDYsMTUsMywxMywxLDExLDAsOCwwLDYsMSw0LDNdXSxjOlsxOCxbMTUsMTEsMTMsMTMsMTEsMTQsOCwxNCw2LDEzLDQsMTEsMyw4LDMsNiw0LDMsNiwxLDgsMCwxMSwwLDEzLDEsMTUsM11dLGQ6WzE5LFsxNSwyMSwxNSwwLC0xLC0xLDE1LDExLDEzLDEzLDExLDE0LDgsMTQsNiwxMyw0LDExLDMsOCwzLDYsNCwzLDYsMSw4LDAsMTEsMCwxMywxLDE1LDNdXSxlOlsxOCxbMyw4LDE1LDgsMTUsMTAsMTQsMTIsMTMsMTMsMTEsMTQsOCwxNCw2LDEzLDQsMTEsMyw4LDMsNiw0LDMsNiwxLDgsMCwxMSwwLDEzLDEsMTUsM11dLGY6WzEyLFsxMCwyMSw4LDIxLDYsMjAsNSwxNyw1LDAsLTEsLTEsMiwxNCw5LDE0XV0sZzpbMTksWzE1LDE0LDE1LC0yLDE0LC01LDEzLC02LDExLC03LDgsLTcsNiwtNiwtMSwtMSwxNSwxMSwxMywxMywxMSwxNCw4LDE0LDYsMTMsNCwxMSwzLDgsMyw2LDQsMyw2LDEsOCwwLDExLDAsMTMsMSwxNSwzXV0saDpbMTksWzQsMjEsNCwwLC0xLC0xLDQsMTAsNywxMyw5LDE0LDEyLDE0LDE0LDEzLDE1LDEwLDE1LDBdXSxpOls4LFszLDIxLDQsMjAsNSwyMSw0LDIyLDMsMjEsLTEsLTEsNCwxNCw0LDBdXSxqOlsxMCxbNSwyMSw2LDIwLDcsMjEsNiwyMiw1LDIxLC0xLC0xLDYsMTQsNiwtMyw1LC02LDMsLTcsMSwtN11dLGs6WzE3LFs0LDIxLDQsMCwtMSwtMSwxNCwxNCw0LDQsLTEsLTEsOCw4LDE1LDBdXSxsOls4LFs0LDIxLDQsMF1dLG06WzMwLFs0LDE0LDQsMCwtMSwtMSw0LDEwLDcsMTMsOSwxNCwxMiwxNCwxNCwxMywxNSwxMCwxNSwwLC0xLC0xLDE1LDEwLDE4LDEzLDIwLDE0LDIzLDE0LDI1LDEzLDI2LDEwLDI2LDBdXSxuOlsxOSxbNCwxNCw0LDAsLTEsLTEsNCwxMCw3LDEzLDksMTQsMTIsMTQsMTQsMTMsMTUsMTAsMTUsMF1dLG86WzE5LFs4LDE0LDYsMTMsNCwxMSwzLDgsMyw2LDQsMyw2LDEsOCwwLDExLDAsMTMsMSwxNSwzLDE2LDYsMTYsOCwxNSwxMSwxMywxMywxMSwxNCw4LDE0XV0scDpbMTksWzQsMTQsNCwtNywtMSwtMSw0LDExLDYsMTMsOCwxNCwxMSwxNCwxMywxMywxNSwxMSwxNiw4LDE2LDYsMTUsMywxMywxLDExLDAsOCwwLDYsMSw0LDNdXSxxOlsxOSxbMTUsMTQsMTUsLTcsLTEsLTEsMTUsMTEsMTMsMTMsMTEsMTQsOCwxNCw2LDEzLDQsMTEsMyw4LDMsNiw0LDMsNiwxLDgsMCwxMSwwLDEzLDEsMTUsM11dLHI6WzEzLFs0LDE0LDQsMCwtMSwtMSw0LDgsNSwxMSw3LDEzLDksMTQsMTIsMTRdXSxzOlsxNyxbMTQsMTEsMTMsMTMsMTAsMTQsNywxNCw0LDEzLDMsMTEsNCw5LDYsOCwxMSw3LDEzLDYsMTQsNCwxNCwzLDEzLDEsMTAsMCw3LDAsNCwxLDMsM11dLHQ6WzEyLFs1LDIxLDUsNCw2LDEsOCwwLDEwLDAsLTEsLTEsMiwxNCw5LDE0XV0sdTpbMTksWzQsMTQsNCw0LDUsMSw3LDAsMTAsMCwxMiwxLDE1LDQsLTEsLTEsMTUsMTQsMTUsMF1dLHY6WzE2LFsyLDE0LDgsMCwtMSwtMSwxNCwxNCw4LDBdXSx3OlsyMixbMywxNCw3LDAsLTEsLTEsMTEsMTQsNywwLC0xLC0xLDExLDE0LDE1LDAsLTEsLTEsMTksMTQsMTUsMF1dLHg6WzE3LFszLDE0LDE0LDAsLTEsLTEsMTQsMTQsMywwXV0seTpbMTYsWzIsMTQsOCwwLC0xLC0xLDE0LDE0LDgsMCw2LC00LDQsLTYsMiwtNywxLC03XV0sejpbMTcsWzE0LDE0LDMsMCwtMSwtMSwzLDE0LDE0LDE0LC0xLC0xLDMsMCwxNCwwXV0sXCJ7XCI6WzE0LFs5LDI1LDcsMjQsNiwyMyw1LDIxLDUsMTksNiwxNyw3LDE2LDgsMTQsOCwxMiw2LDEwLC0xLC0xLDcsMjQsNiwyMiw2LDIwLDcsMTgsOCwxNyw5LDE1LDksMTMsOCwxMSw0LDksOCw3LDksNSw5LDMsOCwxLDcsMCw2LC0yLDYsLTQsNywtNiwtMSwtMSw2LDgsOCw2LDgsNCw3LDIsNiwxLDUsLTEsNSwtMyw2LC01LDcsLTYsOSwtN11dLFwifFwiOls4LFs0LDI1LDQsLTddXSxcIn1cIjpbMTQsWzUsMjUsNywyNCw4LDIzLDksMjEsOSwxOSw4LDE3LDcsMTYsNiwxNCw2LDEyLDgsMTAsLTEsLTEsNywyNCw4LDIyLDgsMjAsNywxOCw2LDE3LDUsMTUsNSwxMyw2LDExLDEwLDksNiw3LDUsNSw1LDMsNiwxLDcsMCw4LC0yLDgsLTQsNywtNiwtMSwtMSw4LDgsNiw2LDYsNCw3LDIsOCwxLDksLTEsOSwtMyw4LC01LDcsLTYsNSwtN11dLFwiflwiOlsyNCxbMyw2LDMsOCw0LDExLDYsMTIsOCwxMiwxMCwxMSwxNCw4LDE2LDcsMTgsNywyMCw4LDIxLDEwLC0xLC0xLDMsOCw0LDEwLDYsMTEsOCwxMSwxMCwxMCwxNCw3LDE2LDYsMTgsNiwyMCw3LDIxLDEwLDIxLDEyXV19O3ZhciBOaT17c3ltYm9sOmZ1bmN0aW9uKHQsZSxpLG4pe2lmKFwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7dmFyIG89TXQuZGlzYWJsZWQscj10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTswIT09aS5wYWludC5nZXQoXCJpY29uLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSYmTGkodCxlLGksbiwhMSxpLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCIpLGkubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcImljb24tcGl0Y2gtYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcImljb24ta2VlcC11cHJpZ2h0XCIpLG8sciksMCE9PWkucGFpbnQuZ2V0KFwidGV4dC1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSkmJkxpKHQsZSxpLG4sITAsaS5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LWtlZXAtdXByaWdodFwiKSxvLHIpLGUubWFwLnNob3dDb2xsaXNpb25Cb3hlcyYmZnVuY3Rpb24odCxlLGksbil7UGkodCxlLGksbiwhMSksUGkodCxlLGksbiwhMCk7fSh0LGUsaSxuKTt9fSxjaXJjbGU6ZnVuY3Rpb24odCxlLGksbil7aWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzKXt2YXIgbz1pLnBhaW50LmdldChcImNpcmNsZS1vcGFjaXR5XCIpLHI9aS5wYWludC5nZXQoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIpLGE9aS5wYWludC5nZXQoXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIik7aWYoMCE9PW8uY29uc3RhbnRPcigxKXx8MCE9PXIuY29uc3RhbnRPcigxKSYmMCE9PWEuY29uc3RhbnRPcigxKSlmb3IodmFyIHM9dC5jb250ZXh0LGw9cy5nbCxjPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxEdC5SZWFkT25seSksaD1NdC5kaXNhYmxlZCx1PXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLHA9MDtwPG4ubGVuZ3RoO3ArKyl7dmFyIGQ9bltwXSxfPWUuZ2V0VGlsZShkKSxmPV8uZ2V0QnVja2V0KGkpO2lmKGYpe3ZhciBtPWYucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKTt0LnVzZVByb2dyYW0oXCJjaXJjbGVcIixtKS5kcmF3KHMsbC5UUklBTkdMRVMsYyxoLHUsYWkodCxkLF8saSksaS5pZCxmLmxheW91dFZlcnRleEJ1ZmZlcixmLmluZGV4QnVmZmVyLGYuc2VnbWVudHMsaS5wYWludCx0LnRyYW5zZm9ybS56b29tLG0pO319fX0saGVhdG1hcDpmdW5jdGlvbihlLGksbixvKXtpZigwIT09bi5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIikpaWYoXCJvZmZzY3JlZW5cIj09PWUucmVuZGVyUGFzcyl7dmFyIHI9ZS5jb250ZXh0LGE9ci5nbCxzPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxEdC5SZWFkT25seSksbD1NdC5kaXNhYmxlZCxjPW5ldyBrdChbYS5PTkUsYS5PTkVdLHQuQ29sb3IudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7IWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LmdsO3QuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMSksdC52aWV3cG9ydC5zZXQoWzAsMCxlLndpZHRoLzQsZS5oZWlnaHQvNF0pO3ZhciBvPWkuaGVhdG1hcEZibztpZihvKW4uYmluZFRleHR1cmUobi5URVhUVVJFXzJELG8uY29sb3JBdHRhY2htZW50LmdldCgpKSx0LmJpbmRGcmFtZWJ1ZmZlci5zZXQoby5mcmFtZWJ1ZmZlcik7ZWxzZXt2YXIgcj1uLmNyZWF0ZVRleHR1cmUoKTtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCxyKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1Msbi5DTEFNUF9UT19FREdFKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1Qsbi5DTEFNUF9UT19FREdFKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NSU5fRklMVEVSLG4uTElORUFSKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NQUdfRklMVEVSLG4uTElORUFSKSxvPWkuaGVhdG1hcEZibz10LmNyZWF0ZUZyYW1lYnVmZmVyKGUud2lkdGgvNCxlLmhlaWdodC80KSxmdW5jdGlvbiB0KGUsaSxuLG8pe3ZhciByPWUuZ2w7ci50ZXhJbWFnZTJEKHIuVEVYVFVSRV8yRCwwLHIuUkdCQSxpLndpZHRoLzQsaS5oZWlnaHQvNCwwLHIuUkdCQSxlLmV4dFRleHR1cmVIYWxmRmxvYXQ/ZS5leHRUZXh0dXJlSGFsZkZsb2F0LkhBTEZfRkxPQVRfT0VTOnIuVU5TSUdORURfQllURSxudWxsKSxvLmNvbG9yQXR0YWNobWVudC5zZXQobiksZS5leHRUZXh0dXJlSGFsZkZsb2F0JiZyLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoci5GUkFNRUJVRkZFUikhPT1yLkZSQU1FQlVGRkVSX0NPTVBMRVRFJiYoZS5leHRUZXh0dXJlSGFsZkZsb2F0PW51bGwsby5jb2xvckF0dGFjaG1lbnQuc2V0RGlydHkoKSx0KGUsaSxuLG8pKTt9KHQsZSxyLG8pO319KHIsZSxuKSxyLmNsZWFyKHtjb2xvcjp0LkNvbG9yLnRyYW5zcGFyZW50fSk7Zm9yKHZhciBoPTA7aDxvLmxlbmd0aDtoKyspe3ZhciB1PW9baF07aWYoIWkuaGFzUmVuZGVyYWJsZVBhcmVudCh1KSl7dmFyIHA9aS5nZXRUaWxlKHUpLGQ9cC5nZXRCdWNrZXQobik7aWYoZCl7dmFyIF89ZC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG4uaWQpLGY9ZS51c2VQcm9ncmFtKFwiaGVhdG1hcFwiLF8pLG09ZS50cmFuc2Zvcm0uem9vbTtmLmRyYXcocixhLlRSSUFOR0xFUyxzLGwsYyx1aSh1LnBvc01hdHJpeCxwLG0sbi5wYWludC5nZXQoXCJoZWF0bWFwLWludGVuc2l0eVwiKSksbi5pZCxkLmxheW91dFZlcnRleEJ1ZmZlcixkLmluZGV4QnVmZmVyLGQuc2VnbWVudHMsbi5wYWludCxlLnRyYW5zZm9ybS56b29tLF8pO319fXIudmlld3BvcnQuc2V0KFswLDAsZS53aWR0aCxlLmhlaWdodF0pO31lbHNlXCJ0cmFuc2x1Y2VudFwiPT09ZS5yZW5kZXJQYXNzJiYoZS5jb250ZXh0LnNldENvbG9yTW9kZShlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZnVuY3Rpb24oZSxpKXt2YXIgbj1lLmNvbnRleHQsbz1uLmdsLHI9aS5oZWF0bWFwRmJvO2lmKHIpe24uYWN0aXZlVGV4dHVyZS5zZXQoby5URVhUVVJFMCksby5iaW5kVGV4dHVyZShvLlRFWFRVUkVfMkQsci5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLG4uYWN0aXZlVGV4dHVyZS5zZXQoby5URVhUVVJFMSk7dmFyIGE9aS5jb2xvclJhbXBUZXh0dXJlO2F8fChhPWkuY29sb3JSYW1wVGV4dHVyZT1uZXcgdC5UZXh0dXJlKG4saS5jb2xvclJhbXAsby5SR0JBKSksYS5iaW5kKG8uTElORUFSLG8uQ0xBTVBfVE9fRURHRSksZS51c2VQcm9ncmFtKFwiaGVhdG1hcFRleHR1cmVcIikuZHJhdyhuLG8uVFJJQU5HTEVTLER0LmRpc2FibGVkLE10LmRpc2FibGVkLGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLHBpKGUsaSwwLDEpLGkuaWQsZS52aWV3cG9ydEJ1ZmZlcixlLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLGUudmlld3BvcnRTZWdtZW50cyxpLnBhaW50LGUudHJhbnNmb3JtLnpvb20pO319KGUsbikpO30sbGluZTpmdW5jdGlvbihlLGksbixvKXtpZihcInRyYW5zbHVjZW50XCI9PT1lLnJlbmRlclBhc3Mpe3ZhciByPW4ucGFpbnQuZ2V0KFwibGluZS1vcGFjaXR5XCIpLGE9bi5wYWludC5nZXQoXCJsaW5lLXdpZHRoXCIpO2lmKDAhPT1yLmNvbnN0YW50T3IoMSkmJjAhPT1hLmNvbnN0YW50T3IoMSkpe3ZhciBzPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxEdC5SZWFkT25seSksbD1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxjPW4ucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIiksaD1uLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKSx1PWguY29uc3RhbnRPcigxKSxwPW4ucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSxkPW4uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLF89Yz9cImxpbmVTREZcIjp1P1wibGluZVBhdHRlcm5cIjpwP1wibGluZUdyYWRpZW50XCI6XCJsaW5lXCIsZj1lLmNvbnRleHQsbT1mLmdsLGc9ITA7aWYocCl7Zi5hY3RpdmVUZXh0dXJlLnNldChtLlRFWFRVUkUwKTt2YXIgdj1uLmdyYWRpZW50VGV4dHVyZTtpZighbi5ncmFkaWVudClyZXR1cm47dnx8KHY9bi5ncmFkaWVudFRleHR1cmU9bmV3IHQuVGV4dHVyZShmLG4uZ3JhZGllbnQsbS5SR0JBKSksdi5iaW5kKG0uTElORUFSLG0uQ0xBTVBfVE9fRURHRSk7fWZvcih2YXIgeT0wLHg9bzt5PHgubGVuZ3RoO3krPTEpe3ZhciBiPXhbeV0sdz1pLmdldFRpbGUoYik7aWYoIXV8fHcucGF0dGVybnNMb2FkZWQoKSl7dmFyIEU9dy5nZXRCdWNrZXQobik7aWYoRSl7dmFyIFQ9RS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG4uaWQpLFM9ZS5jb250ZXh0LnByb2dyYW0uZ2V0KCksST1lLnVzZVByb2dyYW0oXyxUKSxDPWd8fEkucHJvZ3JhbSE9PVMsej1oLmNvbnN0YW50T3IobnVsbCk7aWYoeiYmdy5pbWFnZUF0bGFzKXt2YXIgUD13LmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1t6LnRvXSxSPXcuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zW3ouZnJvbV07UCYmUiYmVC5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoUCxSKTt9dmFyIEE9Yz92aShlLHcsbixjLGQpOnU/Z2koZSx3LG4sZCk6cD9taShlLHcsbik6ZmkoZSx3LG4pO2MmJihDfHxlLmxpbmVBdGxhcy5kaXJ0eSk/KGYuYWN0aXZlVGV4dHVyZS5zZXQobS5URVhUVVJFMCksZS5saW5lQXRsYXMuYmluZChmKSk6dSYmKGYuYWN0aXZlVGV4dHVyZS5zZXQobS5URVhUVVJFMCksdy5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKG0uTElORUFSLG0uQ0xBTVBfVE9fRURHRSksVC51cGRhdGVQYXR0ZXJuUGFpbnRCdWZmZXJzKGQpKSxJLmRyYXcoZixtLlRSSUFOR0xFUyxzLGUuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhiKSxsLEEsbi5pZCxFLmxheW91dFZlcnRleEJ1ZmZlcixFLmluZGV4QnVmZmVyLEUuc2VnbWVudHMsbi5wYWludCxlLnRyYW5zZm9ybS56b29tLFQpLGc9ITE7fX19fX19LGZpbGw6ZnVuY3Rpb24oZSxpLG4sbyl7dmFyIHI9bi5wYWludC5nZXQoXCJmaWxsLWNvbG9yXCIpLGE9bi5wYWludC5nZXQoXCJmaWxsLW9wYWNpdHlcIik7aWYoMCE9PWEuY29uc3RhbnRPcigxKSl7dmFyIHM9ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbD1uLnBhaW50LmdldChcImZpbGwtcGF0dGVyblwiKS5jb25zdGFudE9yKDEpfHwxIT09ci5jb25zdGFudE9yKHQuQ29sb3IudHJhbnNwYXJlbnQpLmF8fDEhPT1hLmNvbnN0YW50T3IoMCk/XCJ0cmFuc2x1Y2VudFwiOlwib3BhcXVlXCI7ZS5yZW5kZXJQYXNzPT09bCYmTWkoZSxpLG4sbyxlLmRlcHRoTW9kZUZvclN1YmxheWVyKDEsXCJvcGFxdWVcIj09PWUucmVuZGVyUGFzcz9EdC5SZWFkV3JpdGU6RHQuUmVhZE9ubHkpLHMsITEpLFwidHJhbnNsdWNlbnRcIj09PWUucmVuZGVyUGFzcyYmbi5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSYmTWkoZSxpLG4sbyxlLmRlcHRoTW9kZUZvclN1YmxheWVyKG4uZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT8yOjAsRHQuUmVhZE9ubHkpLHMsITApO319LFwiZmlsbC1leHRydXNpb25cIjpmdW5jdGlvbihlLGksbixvKXswIT09bi5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpJiYoXCJvZmZzY3JlZW5cIj09PWUucmVuZGVyUGFzcz8oZnVuY3Rpb24oZSxpKXt2YXIgbj1lLmNvbnRleHQsbz1uLmdsLHI9aS52aWV3cG9ydEZyYW1lO2lmKGUuZGVwdGhSYm9OZWVkc0NsZWFyJiZlLnNldHVwT2Zmc2NyZWVuRGVwdGhSZW5kZXJidWZmZXIoKSwhcil7dmFyIGE9bmV3IHQuVGV4dHVyZShuLHt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxkYXRhOm51bGx9LG8uUkdCQSk7YS5iaW5kKG8uTElORUFSLG8uQ0xBTVBfVE9fRURHRSksKHI9aS52aWV3cG9ydEZyYW1lPW4uY3JlYXRlRnJhbWVidWZmZXIoZS53aWR0aCxlLmhlaWdodCkpLmNvbG9yQXR0YWNobWVudC5zZXQoYS50ZXh0dXJlKTt9bi5iaW5kRnJhbWVidWZmZXIuc2V0KHIuZnJhbWVidWZmZXIpLHIuZGVwdGhBdHRhY2htZW50LnNldChlLmRlcHRoUmJvKSxlLmRlcHRoUmJvTmVlZHNDbGVhciYmKG4uY2xlYXIoe2RlcHRoOjF9KSxlLmRlcHRoUmJvTmVlZHNDbGVhcj0hMSksbi5jbGVhcih7Y29sb3I6dC5Db2xvci50cmFuc3BhcmVudH0pO30oZSxuKSxmdW5jdGlvbih0LGUsaSxuLG8scixhKXtmb3IodmFyIHM9dC5jb250ZXh0LGw9cy5nbCxjPWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKSxoPWMuY29uc3RhbnRPcigxKSx1PWkuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLHA9MCxkPW47cDxkLmxlbmd0aDtwKz0xKXt2YXIgXz1kW3BdLGY9ZS5nZXRUaWxlKF8pLG09Zi5nZXRCdWNrZXQoaSk7aWYobSl7dmFyIGc9bS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLHY9dC51c2VQcm9ncmFtKGg/XCJmaWxsRXh0cnVzaW9uUGF0dGVyblwiOlwiZmlsbEV4dHJ1c2lvblwiLGcpO2gmJih0LmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksZi5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGwuTElORUFSLGwuQ0xBTVBfVE9fRURHRSksZy51cGRhdGVQYXR0ZXJuUGFpbnRCdWZmZXJzKHUpKTt2YXIgeT1jLmNvbnN0YW50T3IobnVsbCk7aWYoeSYmZi5pbWFnZUF0bGFzKXt2YXIgeD1mLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1t5LnRvXSxiPWYuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zW3kuZnJvbV07eCYmYiYmZy5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoeCxiKTt9dmFyIHc9dC50cmFuc2xhdGVQb3NNYXRyaXgoXy5wb3NNYXRyaXgsZixpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIikpLEU9aD90aSh3LHQsXyx1LGYpOiRlKHcsdCk7di5kcmF3KHMscy5nbC5UUklBTkdMRVMsbyxyLGEsRSxpLmlkLG0ubGF5b3V0VmVydGV4QnVmZmVyLG0uaW5kZXhCdWZmZXIsbS5zZWdtZW50cyxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20sZyk7fX19KGUsaSxuLG8sbmV3IER0KGUuY29udGV4dC5nbC5MRVFVQUwsRHQuUmVhZFdyaXRlLFswLDFdKSxNdC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSkpOlwidHJhbnNsdWNlbnRcIj09PWUucmVuZGVyUGFzcyYmZnVuY3Rpb24odCxlKXt2YXIgaT1lLnZpZXdwb3J0RnJhbWU7aWYoaSl7dmFyIG49dC5jb250ZXh0LG89bi5nbDtuLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTApLG8uYmluZFRleHR1cmUoby5URVhUVVJFXzJELGkuY29sb3JBdHRhY2htZW50LmdldCgpKSx0LnVzZVByb2dyYW0oXCJleHRydXNpb25UZXh0dXJlXCIpLmRyYXcobixvLlRSSUFOR0xFUyxEdC5kaXNhYmxlZCxNdC5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlaSh0LGUsMCksZS5pZCx0LnZpZXdwb3J0QnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdC52aWV3cG9ydFNlZ21lbnRzLGUucGFpbnQsdC50cmFuc2Zvcm0uem9vbSk7fX0oZSxuKSk7fSxoaWxsc2hhZGU6ZnVuY3Rpb24odCxlLGksbil7aWYoXCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzc3x8XCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzKXtmb3IodmFyIG89dC5jb250ZXh0LHI9ZS5nZXRTb3VyY2UoKS5tYXh6b29tLGE9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLER0LlJlYWRPbmx5KSxzPU10LmRpc2FibGVkLGw9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksYz0wLGg9bjtjPGgubGVuZ3RoO2MrPTEpe3ZhciB1PWhbY10scD1lLmdldFRpbGUodSk7cC5uZWVkc0hpbGxzaGFkZVByZXBhcmUmJlwib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3M/QmkodCxwLGkscixhLHMsbCk6XCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzJiZraSh0LHAsaSxhLHMsbCk7fW8udmlld3BvcnQuc2V0KFswLDAsdC53aWR0aCx0LmhlaWdodF0pO319LHJhc3RlcjpmdW5jdGlvbih0LGUsaSxuKXtpZihcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3MmJjAhPT1pLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpKWZvcih2YXIgbz10LmNvbnRleHQscj1vLmdsLGE9ZS5nZXRTb3VyY2UoKSxzPXQudXNlUHJvZ3JhbShcInJhc3RlclwiKSxsPU10LmRpc2FibGVkLGM9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksaD1uLmxlbmd0aCYmblswXS5vdmVyc2NhbGVkWix1PTAscD1uO3U8cC5sZW5ndGg7dSs9MSl7dmFyIGQ9cFt1XSxfPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoZC5vdmVyc2NhbGVkWi1oLDE9PT1pLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpP0R0LlJlYWRXcml0ZTpEdC5SZWFkT25seSxyLkxFU1MpLGY9ZS5nZXRUaWxlKGQpLG09dC50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KGQudG9VbndyYXBwZWQoKSwhMCk7Zi5yZWdpc3RlckZhZGVEdXJhdGlvbihpLnBhaW50LmdldChcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCIpKTt2YXIgZz1lLmZpbmRMb2FkZWRQYXJlbnQoZCwwKSx2PU9pKGYsZyxlLGksdC50cmFuc2Zvcm0pLHk9dm9pZCAwLHg9dm9pZCAwLGI9XCJuZWFyZXN0XCI9PT1pLnBhaW50LmdldChcInJhc3Rlci1yZXNhbXBsaW5nXCIpP3IuTkVBUkVTVDpyLkxJTkVBUjtvLmFjdGl2ZVRleHR1cmUuc2V0KHIuVEVYVFVSRTApLGYudGV4dHVyZS5iaW5kKGIsci5DTEFNUF9UT19FREdFLHIuTElORUFSX01JUE1BUF9ORUFSRVNUKSxvLmFjdGl2ZVRleHR1cmUuc2V0KHIuVEVYVFVSRTEpLGc/KGcudGV4dHVyZS5iaW5kKGIsci5DTEFNUF9UT19FREdFLHIuTElORUFSX01JUE1BUF9ORUFSRVNUKSx5PU1hdGgucG93KDIsZy50aWxlSUQub3ZlcnNjYWxlZFotZi50aWxlSUQub3ZlcnNjYWxlZFopLHg9W2YudGlsZUlELmNhbm9uaWNhbC54KnklMSxmLnRpbGVJRC5jYW5vbmljYWwueSp5JTFdKTpmLnRleHR1cmUuYmluZChiLHIuQ0xBTVBfVE9fRURHRSxyLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7dmFyIHc9YmkobSx4fHxbMCwwXSx5fHwxLHYsaSk7YSBpbnN0YW5jZW9mIFc/cy5kcmF3KG8sci5UUklBTkdMRVMsXyxsLGMsdyxpLmlkLGEuYm91bmRzQnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsYS5ib3VuZHNTZWdtZW50cyk6Zi5tYXNrZWRCb3VuZHNCdWZmZXImJmYubWFza2VkSW5kZXhCdWZmZXImJmYuc2VnbWVudHM/cy5kcmF3KG8sci5UUklBTkdMRVMsXyxsLGMsdyxpLmlkLGYubWFza2VkQm91bmRzQnVmZmVyLGYubWFza2VkSW5kZXhCdWZmZXIsZi5zZWdtZW50cyxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20pOnMuZHJhdyhvLHIuVFJJQU5HTEVTLF8sbCxjLHcsaS5pZCx0LnJhc3RlckJvdW5kc0J1ZmZlcix0LnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLHQucmFzdGVyQm91bmRzU2VnbWVudHMpO319LGJhY2tncm91bmQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKSxvPWkucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1vcGFjaXR5XCIpO2lmKDAhPT1vKXt2YXIgcj10LmNvbnRleHQsYT1yLmdsLHM9dC50cmFuc2Zvcm0sbD1zLnRpbGVTaXplLGM9aS5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik7aWYoIXQuaXNQYXR0ZXJuTWlzc2luZyhjKSl7dmFyIGg9Y3x8MSE9PW4uYXx8MSE9PW8/XCJ0cmFuc2x1Y2VudFwiOlwib3BhcXVlXCI7aWYodC5yZW5kZXJQYXNzPT09aCl7dmFyIHU9TXQuZGlzYWJsZWQscD10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsXCJvcGFxdWVcIj09PWg/RHQuUmVhZFdyaXRlOkR0LlJlYWRPbmx5KSxkPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLF89dC51c2VQcm9ncmFtKGM/XCJiYWNrZ3JvdW5kUGF0dGVyblwiOlwiYmFja2dyb3VuZFwiKSxmPXMuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6bH0pO2MmJihyLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLHQuaW1hZ2VNYW5hZ2VyLmJpbmQodC5jb250ZXh0KSk7Zm9yKHZhciBtPWkuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLGc9MCx2PWY7Zzx2Lmxlbmd0aDtnKz0xKXt2YXIgeT12W2ddLHg9dC50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KHkudG9VbndyYXBwZWQoKSksYj1jP1NpKHgsbyx0LGMse3RpbGVJRDp5LHRpbGVTaXplOmx9LG0pOlRpKHgsbyxuKTtfLmRyYXcocixhLlRSSUFOR0xFUyxwLHUsZCxiLGkuaWQsdC50aWxlRXh0ZW50QnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdC50aWxlRXh0ZW50U2VnbWVudHMpO319fX19LGRlYnVnOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKylGaSh0LGUsaVtuXSk7fX0sWmk9ZnVuY3Rpb24oZSxpKXt0aGlzLmNvbnRleHQ9bmV3IEJ0KGUpLHRoaXMudHJhbnNmb3JtPWksdGhpcy5fdGlsZVRleHR1cmVzPXt9LHRoaXMuc2V0dXAoKSx0aGlzLm51bVN1YmxheWVycz1PdC5tYXhVbmRlcnpvb21pbmcrT3QubWF4T3Zlcnpvb21pbmcrMSx0aGlzLmRlcHRoRXBzaWxvbj0xL01hdGgucG93KDIsMTYpLHRoaXMuZGVwdGhSYm9OZWVkc0NsZWFyPSEwLHRoaXMuZW1wdHlQcm9ncmFtQ29uZmlndXJhdGlvbj1uZXcgdC5Qcm9ncmFtQ29uZmlndXJhdGlvbix0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBVZTt9O2Z1bmN0aW9uIHFpKHQsZSl7aWYodC5yb3c+ZS5yb3cpe3ZhciBpPXQ7dD1lLGU9aTt9cmV0dXJuIHt4MDp0LmNvbHVtbix5MDp0LnJvdyx4MTplLmNvbHVtbix5MTplLnJvdyxkeDplLmNvbHVtbi10LmNvbHVtbixkeTplLnJvdy10LnJvd319ZnVuY3Rpb24gVmkodCxlLGksbixvKXt2YXIgcj1NYXRoLm1heChpLE1hdGguZmxvb3IoZS55MCkpLGE9TWF0aC5taW4obixNYXRoLmNlaWwoZS55MSkpO2lmKHQueDA9PT1lLngwJiZ0LnkwPT09ZS55MD90LngwK2UuZHkvdC5keSp0LmR4PGUueDE6dC54MS1lLmR5L3QuZHkqdC5keDxlLngwKXt2YXIgcz10O3Q9ZSxlPXM7fWZvcih2YXIgbD10LmR4L3QuZHksYz1lLmR4L2UuZHksaD10LmR4PjAsdT1lLmR4PDAscD1yO3A8YTtwKyspe3ZhciBkPWwqTWF0aC5tYXgoMCxNYXRoLm1pbih0LmR5LHAraC10LnkwKSkrdC54MCxfPWMqTWF0aC5tYXgoMCxNYXRoLm1pbihlLmR5LHArdS1lLnkwKSkrZS54MDtvKE1hdGguZmxvb3IoXyksTWF0aC5jZWlsKGQpLHApO319ZnVuY3Rpb24gamkodCxlLGksbixvLHIpe3ZhciBhLHM9cWkodCxlKSxsPXFpKGUsaSksYz1xaShpLHQpO3MuZHk+bC5keSYmKGE9cyxzPWwsbD1hKSxzLmR5PmMuZHkmJihhPXMscz1jLGM9YSksbC5keT5jLmR5JiYoYT1sLGw9YyxjPWEpLHMuZHkmJlZpKGMscyxuLG8sciksbC5keSYmVmkoYyxsLG4sbyxyKTt9WmkucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlLGkpe3ZhciBuPXRoaXMuY29udGV4dC5nbDtpZih0aGlzLndpZHRoPWUqdC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdGhpcy5oZWlnaHQ9aSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuc3R5bGUpZm9yKHZhciBvPTAscj10aGlzLnN0eWxlLl9vcmRlcjtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPXJbb107dGhpcy5zdHlsZS5fbGF5ZXJzW2FdLnJlc2l6ZSgpO310aGlzLmRlcHRoUmJvJiYobi5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5kZXB0aFJibyksdGhpcy5kZXB0aFJibz1udWxsKTt9LFppLnByb3RvdHlwZS5zZXR1cD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dCxpPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0Mmk0O2kuZW1wbGFjZUJhY2soMCwwKSxpLmVtcGxhY2VCYWNrKHQuRVhURU5ULDApLGkuZW1wbGFjZUJhY2soMCx0LkVYVEVOVCksaS5lbXBsYWNlQmFjayh0LkVYVEVOVCx0LkVYVEVOVCksdGhpcy50aWxlRXh0ZW50QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksamUubWVtYmVycyksdGhpcy50aWxlRXh0ZW50U2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7dmFyIG49bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQyaTQ7bi5lbXBsYWNlQmFjaygwLDApLG4uZW1wbGFjZUJhY2sodC5FWFRFTlQsMCksbi5lbXBsYWNlQmFjaygwLHQuRVhURU5UKSxuLmVtcGxhY2VCYWNrKHQuRVhURU5ULHQuRVhURU5UKSx0aGlzLmRlYnVnQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKG4samUubWVtYmVycyksdGhpcy5kZWJ1Z1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDUpO3ZhciBvPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0NGk4O28uZW1wbGFjZUJhY2soMCwwLDAsMCksby5lbXBsYWNlQmFjayh0LkVYVEVOVCwwLHQuRVhURU5ULDApLG8uZW1wbGFjZUJhY2soMCx0LkVYVEVOVCwwLHQuRVhURU5UKSxvLmVtcGxhY2VCYWNrKHQuRVhURU5ULHQuRVhURU5ULHQuRVhURU5ULHQuRVhURU5UKSx0aGlzLnJhc3RlckJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihvLHQucmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLnJhc3RlckJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO3ZhciByPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0Mmk0O3IuZW1wbGFjZUJhY2soMCwwKSxyLmVtcGxhY2VCYWNrKDEsMCksci5lbXBsYWNlQmFjaygwLDEpLHIuZW1wbGFjZUJhY2soMSwxKSx0aGlzLnZpZXdwb3J0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHIsamUubWVtYmVycyksdGhpcy52aWV3cG9ydFNlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO3ZhciBhPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0MXVpMjthLmVtcGxhY2VCYWNrKDApLGEuZW1wbGFjZUJhY2soMSksYS5lbXBsYWNlQmFjaygzKSxhLmVtcGxhY2VCYWNrKDIpLGEuZW1wbGFjZUJhY2soMCksdGhpcy50aWxlQm9yZGVySW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihhKTt2YXIgcz1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDN1aTY7cy5lbXBsYWNlQmFjaygwLDEsMikscy5lbXBsYWNlQmFjaygyLDEsMyksdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHMpO3ZhciBsPXRoaXMuY29udGV4dC5nbDt0aGlzLnN0ZW5jaWxDbGVhck1vZGU9bmV3IE10KHtmdW5jOmwuQUxXQVlTLG1hc2s6MH0sMCwyNTUsbC5aRVJPLGwuWkVSTyxsLlpFUk8pO30sWmkucHJvdG90eXBlLmNsZWFyU3RlbmNpbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dCxpPWUuZ2wsbj10LmNyZWF0ZSgpO3Qub3J0aG8obiwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCwwLDEpLHQuc2NhbGUobixuLFtpLmRyYXdpbmdCdWZmZXJXaWR0aCxpLmRyYXdpbmdCdWZmZXJIZWlnaHQsMF0pLHRoaXMudXNlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKS5kcmF3KGUsaS5UUklBTkdMRVMsRHQuZGlzYWJsZWQsdGhpcy5zdGVuY2lsQ2xlYXJNb2RlLGt0LmRpc2FibGVkLGhpKG4pLFwiJGNsaXBwaW5nXCIsdGhpcy52aWV3cG9ydEJ1ZmZlcix0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLHRoaXMudmlld3BvcnRTZWdtZW50cyk7fSxaaS5wcm90b3R5cGUuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dCxpPWUuZ2w7ZS5zZXRDb2xvck1vZGUoa3QuZGlzYWJsZWQpLGUuc2V0RGVwdGhNb2RlKER0LmRpc2FibGVkKTt2YXIgbj10aGlzLnVzZVByb2dyYW0oXCJjbGlwcGluZ01hc2tcIiksbz0xO3RoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e307Zm9yKHZhciByPTAsYT10O3I8YS5sZW5ndGg7cis9MSl7dmFyIHM9YVtyXSxsPXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbcy5rZXldPW8rKztuLmRyYXcoZSxpLlRSSUFOR0xFUyxEdC5kaXNhYmxlZCxuZXcgTXQoe2Z1bmM6aS5BTFdBWVMsbWFzazowfSxsLDI1NSxpLktFRVAsaS5LRUVQLGkuUkVQTEFDRSksa3QuZGlzYWJsZWQsaGkocy5wb3NNYXRyaXgpLFwiJGNsaXBwaW5nXCIsdGhpcy50aWxlRXh0ZW50QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy50aWxlRXh0ZW50U2VnbWVudHMpO319LFppLnByb3RvdHlwZS5zdGVuY2lsTW9kZUZvckNsaXBwaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IE10KHtmdW5jOmUuRVFVQUwsbWFzazoyNTV9LHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldLDAsZS5LRUVQLGUuS0VFUCxlLlJFUExBQ0UpfSxaaS5wcm90b3R5cGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dC5nbDtpZih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3Ipe3JldHVybiBuZXcga3QoW2UuQ09OU1RBTlRfQ09MT1IsZS5PTkVdLG5ldyB0LkNvbG9yKDEvOCwxLzgsMS84LDApLFshMCwhMCwhMCwhMF0pfXJldHVybiBcIm9wYXF1ZVwiPT09dGhpcy5yZW5kZXJQYXNzP2t0LnVuYmxlbmRlZDprdC5hbHBoYUJsZW5kZWR9LFppLnByb3RvdHlwZS5kZXB0aE1vZGVGb3JTdWJsYXllcj1mdW5jdGlvbih0LGUsaSl7dmFyIG49MS0oKDErdGhpcy5jdXJyZW50TGF5ZXIpKnRoaXMubnVtU3VibGF5ZXJzK3QpKnRoaXMuZGVwdGhFcHNpbG9uLG89bi0xK3RoaXMuZGVwdGhSYW5nZTtyZXR1cm4gbmV3IER0KGl8fHRoaXMuY29udGV4dC5nbC5MRVFVQUwsZSxbbyxuXSl9LFppLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSxpKXt0aGlzLnN0eWxlPWUsdGhpcy5vcHRpb25zPWksdGhpcy5saW5lQXRsYXM9ZS5saW5lQXRsYXMsdGhpcy5pbWFnZU1hbmFnZXI9ZS5pbWFnZU1hbmFnZXIsdGhpcy5nbHlwaE1hbmFnZXI9ZS5nbHlwaE1hbmFnZXIsdGhpcy5zeW1ib2xGYWRlQ2hhbmdlPWUucGxhY2VtZW50LnN5bWJvbEZhZGVDaGFuZ2UodC5icm93c2VyLm5vdygpKTt2YXIgbj10aGlzLnN0eWxlLl9vcmRlcixvPXRoaXMuc3R5bGUuc291cmNlQ2FjaGVzO2Zvcih2YXIgciBpbiBvKXt2YXIgYT1vW3JdO2EudXNlZCYmYS5wcmVwYXJlKHRoaXMuY29udGV4dCk7fXZhciBzLGw9e30sYz17fSxoPXt9O2Zvcih2YXIgdSBpbiBvKXt2YXIgcD1vW3VdO2xbdV09cC5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSxjW3VdPWxbdV0uc2xpY2UoKS5yZXZlcnNlKCksaFt1XT1wLmdldFZpc2libGVDb29yZGluYXRlcyghMCkucmV2ZXJzZSgpO31mb3IodmFyIGQgaW4gbyl7dmFyIF89b1tkXSxmPV8uZ2V0U291cmNlKCk7aWYoXCJyYXN0ZXJcIj09PWYudHlwZXx8XCJyYXN0ZXItZGVtXCI9PT1mLnR5cGUpe2Zvcih2YXIgbT1bXSxnPTAsdj1sW2RdO2c8di5sZW5ndGg7Zys9MSl7dmFyIHk9dltnXTttLnB1c2goXy5nZXRUaWxlKHkpKTt9Q2kobSx0aGlzLmNvbnRleHQpO319dGhpcy5yZW5kZXJQYXNzPVwib2Zmc2NyZWVuXCIsdGhpcy5kZXB0aFJib05lZWRzQ2xlYXI9ITA7Zm9yKHZhciB4PTAsYj1uO3g8Yi5sZW5ndGg7eCs9MSl7dmFyIHc9Ylt4XSxFPXRoaXMuc3R5bGUuX2xheWVyc1t3XTtpZihFLmhhc09mZnNjcmVlblBhc3MoKSYmIUUuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpe3ZhciBUPWNbRS5zb3VyY2VdO1QubGVuZ3RoJiZ0aGlzLnJlbmRlckxheWVyKHRoaXMsb1tFLnNvdXJjZV0sRSxUKTt9fWZvcih0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSx0aGlzLmNvbnRleHQuY2xlYXIoe2NvbG9yOmkuc2hvd092ZXJkcmF3SW5zcGVjdG9yP3QuQ29sb3IuYmxhY2s6dC5Db2xvci50cmFuc3BhcmVudCxkZXB0aDoxfSksdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPWkuc2hvd092ZXJkcmF3SW5zcGVjdG9yLHRoaXMuZGVwdGhSYW5nZT0oZS5fb3JkZXIubGVuZ3RoKzIpKnRoaXMubnVtU3VibGF5ZXJzKnRoaXMuZGVwdGhFcHNpbG9uLHRoaXMucmVuZGVyUGFzcz1cIm9wYXF1ZVwiLHRoaXMuY3VycmVudExheWVyPW4ubGVuZ3RoLTE7dGhpcy5jdXJyZW50TGF5ZXI+PTA7dGhpcy5jdXJyZW50TGF5ZXItLSl7dmFyIFM9dGhpcy5zdHlsZS5fbGF5ZXJzW25bdGhpcy5jdXJyZW50TGF5ZXJdXSxJPW9bUy5zb3VyY2VdLEM9bFtTLnNvdXJjZV07Uy5zb3VyY2UhPT1zJiZJJiYodGhpcy5jbGVhclN0ZW5jaWwoKSxJLmdldFNvdXJjZSgpLmlzVGlsZUNsaXBwZWQmJnRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKEMpKSx0aGlzLnJlbmRlckxheWVyKHRoaXMsSSxTLEMpLHM9Uy5zb3VyY2U7fWZvcih0aGlzLnJlbmRlclBhc3M9XCJ0cmFuc2x1Y2VudFwiLHRoaXMuY3VycmVudExheWVyPTAscz1udWxsO3RoaXMuY3VycmVudExheWVyPG4ubGVuZ3RoO3RoaXMuY3VycmVudExheWVyKyspe3ZhciB6PXRoaXMuc3R5bGUuX2xheWVyc1tuW3RoaXMuY3VycmVudExheWVyXV0sUD1vW3ouc291cmNlXSxSPShcInN5bWJvbFwiPT09ei50eXBlP2g6Yylbei5zb3VyY2VdO3ouc291cmNlIT09cyYmUCYmKHRoaXMuY2xlYXJTdGVuY2lsKCksUC5nZXRTb3VyY2UoKS5pc1RpbGVDbGlwcGVkJiZ0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhsW3ouc291cmNlXSkpLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxQLHosUikscz16LnNvdXJjZTt9aWYodGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcylmb3IodmFyIEEgaW4gbyl7TmkuZGVidWcodGhpcyxvW0FdLGxbQV0pO2JyZWFrfX0sWmkucHJvdG90eXBlLnNldHVwT2Zmc2NyZWVuRGVwdGhSZW5kZXJidWZmZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRleHQ7dGhpcy5kZXB0aFJib3x8KHRoaXMuZGVwdGhSYm89dC5jcmVhdGVSZW5kZXJidWZmZXIodC5nbC5ERVBUSF9DT01QT05FTlQxNix0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSk7fSxaaS5wcm90b3R5cGUucmVuZGVyTGF5ZXI9ZnVuY3Rpb24odCxlLGksbil7aS5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKXx8KFwiYmFja2dyb3VuZFwiPT09aS50eXBlfHxuLmxlbmd0aCkmJih0aGlzLmlkPWkuaWQsTmlbaS50eXBlXSh0LGUsaSxuKSk7fSxaaS5wcm90b3R5cGUudHJhbnNsYXRlUG9zTWF0cml4PWZ1bmN0aW9uKGUsaSxuLG8scil7aWYoIW5bMF0mJiFuWzFdKXJldHVybiBlO3ZhciBhPXI/XCJtYXBcIj09PW8/dGhpcy50cmFuc2Zvcm0uYW5nbGU6MDpcInZpZXdwb3J0XCI9PT1vPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKGEpe3ZhciBzPU1hdGguc2luKGEpLGw9TWF0aC5jb3MoYSk7bj1bblswXSpsLW5bMV0qcyxuWzBdKnMrblsxXSpsXTt9dmFyIGM9W3I/blswXTp2ZShpLG5bMF0sdGhpcy50cmFuc2Zvcm0uem9vbSkscj9uWzFdOnZlKGksblsxXSx0aGlzLnRyYW5zZm9ybS56b29tKSwwXSxoPW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiB0LnRyYW5zbGF0ZShoLGUsYyksaH0sWmkucHJvdG90eXBlLnNhdmVUaWxlVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWxlVGV4dHVyZXNbdC5zaXplWzBdXTtlP2UucHVzaCh0KTp0aGlzLl90aWxlVGV4dHVyZXNbdC5zaXplWzBdXT1bdF07fSxaaS5wcm90b3R5cGUuZ2V0VGlsZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGlsZVRleHR1cmVzW3RdO3JldHVybiBlJiZlLmxlbmd0aD4wP2UucG9wKCk6bnVsbH0sWmkucHJvdG90eXBlLmlzUGF0dGVybk1pc3Npbmc9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuICExO3ZhciBlPXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4odC5mcm9tKSxpPXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4odC50byk7cmV0dXJuICFlfHwhaX0sWmkucHJvdG90eXBlLnVzZVByb2dyYW09ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT10aGlzLmVtcHR5UHJvZ3JhbUNvbmZpZ3VyYXRpb24pLHRoaXMuY2FjaGU9dGhpcy5jYWNoZXx8e307dmFyIGk9XCJcIit0KyhlLmNhY2hlS2V5fHxcIlwiKSsodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yP1wiL292ZXJkcmF3XCI6XCJcIik7cmV0dXJuIHRoaXMuY2FjaGVbaV18fCh0aGlzLmNhY2hlW2ldPW5ldyBKZSh0aGlzLmNvbnRleHQsS2VbdF0sZSxJaVt0XSx0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IpKSx0aGlzLmNhY2hlW2ldfTt2YXIgR2k9ZnVuY3Rpb24odCxlLGkpe3RoaXMudGlsZVNpemU9NTEyLHRoaXMubWF4VmFsaWRMYXRpdHVkZT04NS4wNTExMjksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9dm9pZCAwPT09aXx8aSx0aGlzLl9taW5ab29tPXR8fDAsdGhpcy5fbWF4Wm9vbT1lfHwyMix0aGlzLnNldE1heEJvdW5kcygpLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuX2NlbnRlcj1uZXcgVSgwLDApLHRoaXMuem9vbT0wLHRoaXMuYW5nbGU9MCx0aGlzLl9mb3Y9LjY0MzUwMTEwODc5MzI4NDQsdGhpcy5fcGl0Y2g9MCx0aGlzLl91bm1vZGlmaWVkPSEwLHRoaXMuX3Bvc01hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQb3NNYXRyaXhDYWNoZT17fTt9LFdpPXttaW5ab29tOntjb25maWd1cmFibGU6ITB9LG1heFpvb206e2NvbmZpZ3VyYWJsZTohMH0scmVuZGVyV29ybGRDb3BpZXM6e2NvbmZpZ3VyYWJsZTohMH0sd29ybGRTaXplOntjb25maWd1cmFibGU6ITB9LGNlbnRlclBvaW50Ontjb25maWd1cmFibGU6ITB9LHNpemU6e2NvbmZpZ3VyYWJsZTohMH0sYmVhcmluZzp7Y29uZmlndXJhYmxlOiEwfSxwaXRjaDp7Y29uZmlndXJhYmxlOiEwfSxmb3Y6e2NvbmZpZ3VyYWJsZTohMH0sem9vbTp7Y29uZmlndXJhYmxlOiEwfSxjZW50ZXI6e2NvbmZpZ3VyYWJsZTohMH0sdW5tb2RpZmllZDp7Y29uZmlndXJhYmxlOiEwfSx4Ontjb25maWd1cmFibGU6ITB9LHk6e2NvbmZpZ3VyYWJsZTohMH0scG9pbnQ6e2NvbmZpZ3VyYWJsZTohMH19O0dpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBHaSh0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20sdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMpO3JldHVybiB0LnRpbGVTaXplPXRoaXMudGlsZVNpemUsdC5sYXRSYW5nZT10aGlzLmxhdFJhbmdlLHQud2lkdGg9dGhpcy53aWR0aCx0LmhlaWdodD10aGlzLmhlaWdodCx0Ll9jZW50ZXI9dGhpcy5fY2VudGVyLHQuem9vbT10aGlzLnpvb20sdC5hbmdsZT10aGlzLmFuZ2xlLHQuX2Zvdj10aGlzLl9mb3YsdC5fcGl0Y2g9dGhpcy5fcGl0Y2gsdC5fdW5tb2RpZmllZD10aGlzLl91bm1vZGlmaWVkLHQuX2NhbGNNYXRyaWNlcygpLHR9LFdpLm1pblpvb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pblpvb219LFdpLm1pblpvb20uc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX21pblpvb20hPT10JiYodGhpcy5fbWluWm9vbT10LHRoaXMuem9vbT1NYXRoLm1heCh0aGlzLnpvb20sdCkpO30sV2kubWF4Wm9vbS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4Wm9vbX0sV2kubWF4Wm9vbS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fbWF4Wm9vbSE9PXQmJih0aGlzLl9tYXhab29tPXQsdGhpcy56b29tPU1hdGgubWluKHRoaXMuem9vbSx0KSk7fSxXaS5yZW5kZXJXb3JsZENvcGllcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyV29ybGRDb3BpZXN9LFdpLnJlbmRlcldvcmxkQ29waWVzLnNldD1mdW5jdGlvbih0KXt2b2lkIDA9PT10P3Q9ITA6bnVsbD09PXQmJih0PSExKSx0aGlzLl9yZW5kZXJXb3JsZENvcGllcz10O30sV2kud29ybGRTaXplLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbGVTaXplKnRoaXMuc2NhbGV9LFdpLmNlbnRlclBvaW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemUuX2RpdigyKX0sV2kuc2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQuUG9pbnQodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LFdpLmJlYXJpbmcuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIC10aGlzLmFuZ2xlL01hdGguUEkqMTgwfSxXaS5iZWFyaW5nLnNldD1mdW5jdGlvbihlKXt2YXIgaT0tdC53cmFwKGUsLTE4MCwxODApKk1hdGguUEkvMTgwO3RoaXMuYW5nbGUhPT1pJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLmFuZ2xlPWksdGhpcy5fY2FsY01hdHJpY2VzKCksdGhpcy5yb3RhdGlvbk1hdHJpeD10LmNyZWF0ZSQ0KCksdC5yb3RhdGUodGhpcy5yb3RhdGlvbk1hdHJpeCx0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMuYW5nbGUpKTt9LFdpLnBpdGNoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waXRjaC9NYXRoLlBJKjE4MH0sV2kucGl0Y2guc2V0PWZ1bmN0aW9uKGUpe3ZhciBpPXQuY2xhbXAoZSwwLDYwKS8xODAqTWF0aC5QSTt0aGlzLl9waXRjaCE9PWkmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX3BpdGNoPWksdGhpcy5fY2FsY01hdHJpY2VzKCkpO30sV2kuZm92LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3YvTWF0aC5QSSoxODB9LFdpLmZvdi5zZXQ9ZnVuY3Rpb24odCl7dD1NYXRoLm1heCguMDEsTWF0aC5taW4oNjAsdCkpLHRoaXMuX2ZvdiE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2Zvdj10LzE4MCpNYXRoLlBJLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9LFdpLnpvb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pvb219LFdpLnpvb20uc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgubWluKE1hdGgubWF4KHQsdGhpcy5taW5ab29tKSx0aGlzLm1heFpvb20pO3RoaXMuX3pvb20hPT1lJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl96b29tPWUsdGhpcy5zY2FsZT10aGlzLnpvb21TY2FsZShlKSx0aGlzLnRpbGVab29tPU1hdGguZmxvb3IoZSksdGhpcy56b29tRnJhY3Rpb249ZS10aGlzLnRpbGVab29tLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9LFdpLmNlbnRlci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2VudGVyfSxXaS5jZW50ZXIuc2V0PWZ1bmN0aW9uKHQpe3QubGF0PT09dGhpcy5fY2VudGVyLmxhdCYmdC5sbmc9PT10aGlzLl9jZW50ZXIubG5nfHwodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jZW50ZXI9dCx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fSxHaS5wcm90b3R5cGUuY292ZXJpbmdab29tTGV2ZWw9ZnVuY3Rpb24odCl7cmV0dXJuICh0LnJvdW5kWm9vbT9NYXRoLnJvdW5kOk1hdGguZmxvb3IpKHRoaXMuem9vbSt0aGlzLnNjYWxlWm9vbSh0aGlzLnRpbGVTaXplL3QudGlsZVNpemUpKX0sR2kucHJvdG90eXBlLmdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcz1mdW5jdGlvbihlKXt2YXIgaT1bbmV3IHQuVW53cmFwcGVkVGlsZUlEKDAsZSldO2lmKHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKWZvcih2YXIgbj10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgdC5Qb2ludCgwLDApLDApLG89dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHQuUG9pbnQodGhpcy53aWR0aCwwKSwwKSxyPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLDApLGE9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHQuUG9pbnQoMCx0aGlzLmhlaWdodCksMCkscz1NYXRoLmZsb29yKE1hdGgubWluKG4uY29sdW1uLG8uY29sdW1uLHIuY29sdW1uLGEuY29sdW1uKSksbD1NYXRoLmZsb29yKE1hdGgubWF4KG4uY29sdW1uLG8uY29sdW1uLHIuY29sdW1uLGEuY29sdW1uKSksYz1zLTE7Yzw9bCsxO2MrKykwIT09YyYmaS5wdXNoKG5ldyB0LlVud3JhcHBlZFRpbGVJRChjLGUpKTtyZXR1cm4gaX0sR2kucHJvdG90eXBlLmNvdmVyaW5nVGlsZXM9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5jb3ZlcmluZ1pvb21MZXZlbChlKSxuPWk7aWYodm9pZCAwIT09ZS5taW56b29tJiZpPGUubWluem9vbSlyZXR1cm4gW107dm9pZCAwIT09ZS5tYXh6b29tJiZpPmUubWF4em9vbSYmKGk9ZS5tYXh6b29tKTt2YXIgbz10aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmNlbnRlclBvaW50LGkpLHI9bmV3IHQuUG9pbnQoby5jb2x1bW4tLjUsby5yb3ctLjUpO3JldHVybiBmdW5jdGlvbihlLGksbixvKXt2b2lkIDA9PT1vJiYobz0hMCk7dmFyIHI9MTw8ZSxhPXt9O2Z1bmN0aW9uIHMoaSxzLGwpe3ZhciBjLGgsdSxwO2lmKGw+PTAmJmw8PXIpZm9yKGM9aTtjPHM7YysrKWg9TWF0aC5mbG9vcihjL3IpLHU9KGMlcityKSVyLDAhPT1oJiYhMCE9PW98fChwPW5ldyB0Lk92ZXJzY2FsZWRUaWxlSUQobixoLGUsdSxsKSxhW3Aua2V5XT1wKTt9cmV0dXJuIGppKGlbMF0saVsxXSxpWzJdLDAscixzKSxqaShpWzJdLGlbM10saVswXSwwLHIscyksT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBhW3RdfSl9KGksW3RoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KDAsMCksaSksdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHQuUG9pbnQodGhpcy53aWR0aCwwKSxpKSx0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgdC5Qb2ludCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxpKSx0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgdC5Qb2ludCgwLHRoaXMuaGVpZ2h0KSxpKV0sZS5yZXBhcnNlT3ZlcnNjYWxlZD9uOmksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMpLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gci5kaXN0KHQuY2Fub25pY2FsKS1yLmRpc3QoZS5jYW5vbmljYWwpfSl9LEdpLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnBpeGVsc1RvR0xVbml0cz1bMi90LC0yL2VdLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO30sV2kudW5tb2RpZmllZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5tb2RpZmllZH0sR2kucHJvdG90eXBlLnpvb21TY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMix0KX0sR2kucHJvdG90eXBlLnNjYWxlWm9vbT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5sb2codCkvTWF0aC5MTjJ9LEdpLnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Qb2ludCh0aGlzLmxuZ1goZS5sbmcpLHRoaXMubGF0WShlLmxhdCkpfSxHaS5wcm90b3R5cGUudW5wcm9qZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVSh0aGlzLnhMbmcodC54KSx0aGlzLnlMYXQodC55KSl9LFdpLnguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG5nWCh0aGlzLmNlbnRlci5sbmcpfSxXaS55LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhdFkodGhpcy5jZW50ZXIubGF0KX0sV2kucG9pbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LlBvaW50KHRoaXMueCx0aGlzLnkpfSxHaS5wcm90b3R5cGUubG5nWD1mdW5jdGlvbih0KXtyZXR1cm4gKDE4MCt0KSp0aGlzLndvcmxkU2l6ZS8zNjB9LEdpLnByb3RvdHlwZS5sYXRZPWZ1bmN0aW9uKGUpe3JldHVybiBlPXQuY2xhbXAoZSwtdGhpcy5tYXhWYWxpZExhdGl0dWRlLHRoaXMubWF4VmFsaWRMYXRpdHVkZSksKDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrZSpNYXRoLlBJLzM2MCkpKSp0aGlzLndvcmxkU2l6ZS8zNjB9LEdpLnByb3RvdHlwZS54TG5nPWZ1bmN0aW9uKHQpe3JldHVybiAzNjAqdC90aGlzLndvcmxkU2l6ZS0xODB9LEdpLnByb3RvdHlwZS55TGF0PWZ1bmN0aW9uKHQpe3ZhciBlPTE4MC0zNjAqdC90aGlzLndvcmxkU2l6ZTtyZXR1cm4gMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKGUqTWF0aC5QSS8xODApKS05MH0sR2kucHJvdG90eXBlLnNldExvY2F0aW9uQXRQb2ludD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMucG9pbnRDb29yZGluYXRlKGUpLl9zdWIodGhpcy5wb2ludENvb3JkaW5hdGUodGhpcy5jZW50ZXJQb2ludCkpO3RoaXMuY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMubG9jYXRpb25Db29yZGluYXRlKHQpLl9zdWIoaSkpLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKTt9LEdpLnByb3RvdHlwZS5sb2NhdGlvblBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVQb2ludCh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSl9LEdpLnByb3RvdHlwZS5wb2ludExvY2F0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZSh0KSl9LEdpLnByb3RvdHlwZS5sb2NhdGlvbkNvb3JkaW5hdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0LkNvb3JkaW5hdGUodGhpcy5sbmdYKGUubG5nKS90aGlzLnRpbGVTaXplLHRoaXMubGF0WShlLmxhdCkvdGhpcy50aWxlU2l6ZSx0aGlzLnpvb20pLnpvb21Ubyh0aGlzLnRpbGVab29tKX0sR2kucHJvdG90eXBlLmNvb3JkaW5hdGVMb2NhdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10Lnpvb21Ubyh0aGlzLnpvb20pO3JldHVybiBuZXcgVSh0aGlzLnhMbmcoZS5jb2x1bW4qdGhpcy50aWxlU2l6ZSksdGhpcy55TGF0KGUucm93KnRoaXMudGlsZVNpemUpKX0sR2kucHJvdG90eXBlLnBvaW50Q29vcmRpbmF0ZT1mdW5jdGlvbihlLGkpe3ZvaWQgMD09PWkmJihpPXRoaXMudGlsZVpvb20pO3ZhciBuPVtlLngsZS55LDAsMV0sbz1bZS54LGUueSwxLDFdO3QudHJhbnNmb3JtTWF0NChuLG4sdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLHQudHJhbnNmb3JtTWF0NChvLG8sdGhpcy5waXhlbE1hdHJpeEludmVyc2UpO3ZhciByPW5bM10sYT1vWzNdLHM9blswXS9yLGw9b1swXS9hLGM9blsxXS9yLGg9b1sxXS9hLHU9blsyXS9yLHA9b1syXS9hLGQ9dT09PXA/MDooMC11KS8ocC11KTtyZXR1cm4gbmV3IHQuQ29vcmRpbmF0ZSh0Lm51bWJlcihzLGwsZCkvdGhpcy50aWxlU2l6ZSx0Lm51bWJlcihjLGgsZCkvdGhpcy50aWxlU2l6ZSx0aGlzLnpvb20pLl96b29tVG8oaSl9LEdpLnByb3RvdHlwZS5jb29yZGluYXRlUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIGk9ZS56b29tVG8odGhpcy56b29tKSxuPVtpLmNvbHVtbip0aGlzLnRpbGVTaXplLGkucm93KnRoaXMudGlsZVNpemUsMCwxXTtyZXR1cm4gdC50cmFuc2Zvcm1NYXQ0KG4sbix0aGlzLnBpeGVsTWF0cml4KSxuZXcgdC5Qb2ludChuWzBdL25bM10sblsxXS9uWzNdKX0sR2kucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiAobmV3IE4pLmV4dGVuZCh0aGlzLnBvaW50TG9jYXRpb24obmV3IHQuUG9pbnQoMCwwKSkpLmV4dGVuZCh0aGlzLnBvaW50TG9jYXRpb24obmV3IHQuUG9pbnQodGhpcy53aWR0aCwwKSkpLmV4dGVuZCh0aGlzLnBvaW50TG9jYXRpb24obmV3IHQuUG9pbnQodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpKS5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyB0LlBvaW50KDAsdGhpcy5oZWlnaHQpKSl9LEdpLnByb3RvdHlwZS5nZXRNYXhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXRSYW5nZSYmMj09PXRoaXMubGF0UmFuZ2UubGVuZ3RoJiZ0aGlzLmxuZ1JhbmdlJiYyPT09dGhpcy5sbmdSYW5nZS5sZW5ndGg/bmV3IE4oW3RoaXMubG5nUmFuZ2VbMF0sdGhpcy5sYXRSYW5nZVswXV0sW3RoaXMubG5nUmFuZ2VbMV0sdGhpcy5sYXRSYW5nZVsxXV0pOm51bGx9LEdpLnByb3RvdHlwZS5zZXRNYXhCb3VuZHM9ZnVuY3Rpb24odCl7dD8odGhpcy5sbmdSYW5nZT1bdC5nZXRXZXN0KCksdC5nZXRFYXN0KCldLHRoaXMubGF0UmFuZ2U9W3QuZ2V0U291dGgoKSx0LmdldE5vcnRoKCldLHRoaXMuX2NvbnN0cmFpbigpKToodGhpcy5sbmdSYW5nZT1udWxsLHRoaXMubGF0UmFuZ2U9Wy10aGlzLm1heFZhbGlkTGF0aXR1ZGUsdGhpcy5tYXhWYWxpZExhdGl0dWRlXSk7fSxHaS5wcm90b3R5cGUuY2FsY3VsYXRlUG9zTWF0cml4PWZ1bmN0aW9uKGUsaSl7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciBuPWUua2V5LG89aT90aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGU6dGhpcy5fcG9zTWF0cml4Q2FjaGU7aWYob1tuXSlyZXR1cm4gb1tuXTt2YXIgcj1lLmNhbm9uaWNhbCxhPXRoaXMud29ybGRTaXplL3RoaXMuem9vbVNjYWxlKHIueikscz1yLngrTWF0aC5wb3coMixyLnopKmUud3JhcCxsPXQuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiB0LnRyYW5zbGF0ZShsLGwsW3MqYSxyLnkqYSwwXSksdC5zY2FsZShsLGwsW2EvdC5FWFRFTlQsYS90LkVYVEVOVCwxXSksdC5tdWx0aXBseShsLGk/dGhpcy5hbGlnbmVkUHJvak1hdHJpeDp0aGlzLnByb2pNYXRyaXgsbCksb1tuXT1uZXcgRmxvYXQzMkFycmF5KGwpLG9bbl19LEdpLnByb3RvdHlwZS5fY29uc3RyYWluPWZ1bmN0aW9uKCl7aWYodGhpcy5jZW50ZXImJnRoaXMud2lkdGgmJnRoaXMuaGVpZ2h0JiYhdGhpcy5fY29uc3RyYWluaW5nKXt0aGlzLl9jb25zdHJhaW5pbmc9ITA7dmFyIGUsaSxuLG8scj0tOTAsYT05MCxzPS0xODAsbD0xODAsYz10aGlzLnNpemUsaD10aGlzLl91bm1vZGlmaWVkO2lmKHRoaXMubGF0UmFuZ2Upe3ZhciB1PXRoaXMubGF0UmFuZ2U7cj10aGlzLmxhdFkodVsxXSksZT0oYT10aGlzLmxhdFkodVswXSkpLXI8Yy55P2MueS8oYS1yKTowO31pZih0aGlzLmxuZ1JhbmdlKXt2YXIgcD10aGlzLmxuZ1JhbmdlO3M9dGhpcy5sbmdYKHBbMF0pLGk9KGw9dGhpcy5sbmdYKHBbMV0pKS1zPGMueD9jLngvKGwtcyk6MDt9dmFyIGQ9TWF0aC5tYXgoaXx8MCxlfHwwKTtpZihkKXJldHVybiB0aGlzLmNlbnRlcj10aGlzLnVucHJvamVjdChuZXcgdC5Qb2ludChpPyhsK3MpLzI6dGhpcy54LGU/KGErcikvMjp0aGlzLnkpKSx0aGlzLnpvb20rPXRoaXMuc2NhbGVab29tKGQpLHRoaXMuX3VubW9kaWZpZWQ9aCx2b2lkKHRoaXMuX2NvbnN0cmFpbmluZz0hMSk7aWYodGhpcy5sYXRSYW5nZSl7dmFyIF89dGhpcy55LGY9Yy55LzI7Xy1mPHImJihvPXIrZiksXytmPmEmJihvPWEtZik7fWlmKHRoaXMubG5nUmFuZ2Upe3ZhciBtPXRoaXMueCxnPWMueC8yO20tZzxzJiYobj1zK2cpLG0rZz5sJiYobj1sLWcpO312b2lkIDA9PT1uJiZ2b2lkIDA9PT1vfHwodGhpcy5jZW50ZXI9dGhpcy51bnByb2plY3QobmV3IHQuUG9pbnQodm9pZCAwIT09bj9uOnRoaXMueCx2b2lkIDAhPT1vP286dGhpcy55KSkpLHRoaXMuX3VubW9kaWZpZWQ9aCx0aGlzLl9jb25zdHJhaW5pbmc9ITE7fX0sR2kucHJvdG90eXBlLl9jYWxjTWF0cmljZXM9ZnVuY3Rpb24oKXtpZih0aGlzLmhlaWdodCl7dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlPS41L01hdGgudGFuKHRoaXMuX2Zvdi8yKSp0aGlzLmhlaWdodDt2YXIgZT10aGlzLl9mb3YvMixpPU1hdGguUEkvMit0aGlzLl9waXRjaCxuPU1hdGguc2luKGUpKnRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9NYXRoLnNpbihNYXRoLlBJLWktZSksbz10aGlzLngscj10aGlzLnksYT0xLjAxKihNYXRoLmNvcyhNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKm4rdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKSxzPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3QucGVyc3BlY3RpdmUocyx0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCwxLGEpLHQuc2NhbGUocyxzLFsxLC0xLDFdKSx0LnRyYW5zbGF0ZShzLHMsWzAsMCwtdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlXSksdC5yb3RhdGVYKHMscyx0aGlzLl9waXRjaCksdC5yb3RhdGVaKHMscyx0aGlzLmFuZ2xlKSx0LnRyYW5zbGF0ZShzLHMsWy1vLC1yLDBdKTt2YXIgbD10aGlzLndvcmxkU2l6ZS8oMipNYXRoLlBJKjYzNzgxMzcqTWF0aC5hYnMoTWF0aC5jb3ModGhpcy5jZW50ZXIubGF0KihNYXRoLlBJLzE4MCkpKSk7dC5zY2FsZShzLHMsWzEsMSxsLDFdKSx0aGlzLnByb2pNYXRyaXg9czt2YXIgYz10aGlzLndpZHRoJTIvMixoPXRoaXMuaGVpZ2h0JTIvMix1PU1hdGguY29zKHRoaXMuYW5nbGUpLHA9TWF0aC5zaW4odGhpcy5hbmdsZSksZD1vLU1hdGgucm91bmQobykrdSpjK3AqaCxfPXItTWF0aC5yb3VuZChyKSt1KmgrcCpjLGY9bmV3IEZsb2F0NjRBcnJheShzKTtpZih0LnRyYW5zbGF0ZShmLGYsW2Q+LjU/ZC0xOmQsXz4uNT9fLTE6XywwXSksdGhpcy5hbGlnbmVkUHJvak1hdHJpeD1mLHM9dC5jcmVhdGUoKSx0LnNjYWxlKHMscyxbdGhpcy53aWR0aC8yLC10aGlzLmhlaWdodC8yLDFdKSx0LnRyYW5zbGF0ZShzLHMsWzEsLTEsMF0pLHRoaXMucGl4ZWxNYXRyaXg9dC5tdWx0aXBseShuZXcgRmxvYXQ2NEFycmF5KDE2KSxzLHRoaXMucHJvak1hdHJpeCksIShzPXQuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMucGl4ZWxNYXRyaXgpKSl0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gaW52ZXJ0IG1hdHJpeFwiKTt0aGlzLnBpeGVsTWF0cml4SW52ZXJzZT1zLHRoaXMuX3Bvc01hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQb3NNYXRyaXhDYWNoZT17fTt9fSxHaS5wcm90b3R5cGUubWF4UGl0Y2hTY2FsZUZhY3Rvcj1mdW5jdGlvbigpe2lmKCF0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSlyZXR1cm4gMTt2YXIgZT10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgdC5Qb2ludCgwLDApKS56b29tVG8odGhpcy56b29tKSxpPVtlLmNvbHVtbip0aGlzLnRpbGVTaXplLGUucm93KnRoaXMudGlsZVNpemUsMCwxXTtyZXR1cm4gdC50cmFuc2Zvcm1NYXQ0KGksaSx0aGlzLnBpeGVsTWF0cml4KVszXS90aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2V9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEdpLnByb3RvdHlwZSxXaSk7dmFyIFhpPWZ1bmN0aW9uKCl7dmFyIGUsaSxuLG8scjt0LmJpbmRBbGwoW1wiX29uSGFzaENoYW5nZVwiLFwiX3VwZGF0ZUhhc2hcIl0sdGhpcyksdGhpcy5fdXBkYXRlSGFzaD0oZT10aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSxpPTMwMCxuPSExLG89MCxyPWZ1bmN0aW9uKCl7bz0wLG4mJihlKCksbz1zZXRUaW1lb3V0KHIsaSksbj0hMSk7fSxmdW5jdGlvbigpe3JldHVybiBuPSEwLG98fHIoKSxvfSk7fTtYaS5wcm90b3R5cGUuYWRkVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21hcD1lLHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSx0aGlzLl9tYXAub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdGhpc30sWGkucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0LndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksdGhpcy5fbWFwLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVIYXNoKSxjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlSGFzaCgpKSxkZWxldGUgdGhpcy5fbWFwLHRoaXN9LFhpLnByb3RvdHlwZS5nZXRIYXNoU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcC5nZXRDZW50ZXIoKSxpPU1hdGgucm91bmQoMTAwKnRoaXMuX21hcC5nZXRab29tKCkpLzEwMCxuPU1hdGguY2VpbCgoaSpNYXRoLkxOMitNYXRoLmxvZyg1MTIvMzYwLy41KSkvTWF0aC5MTjEwKSxvPU1hdGgucG93KDEwLG4pLHI9TWF0aC5yb3VuZChlLmxuZypvKS9vLGE9TWF0aC5yb3VuZChlLmxhdCpvKS9vLHM9dGhpcy5fbWFwLmdldEJlYXJpbmcoKSxsPXRoaXMuX21hcC5nZXRQaXRjaCgpLGM9XCJcIjtyZXR1cm4gYys9dD9cIiMvXCIrcitcIi9cIithK1wiL1wiK2k6XCIjXCIraStcIi9cIithK1wiL1wiK3IsKHN8fGwpJiYoYys9XCIvXCIrTWF0aC5yb3VuZCgxMCpzKS8xMCksbCYmKGMrPVwiL1wiK01hdGgucm91bmQobCkpLGN9LFhpLnByb3RvdHlwZS5fb25IYXNoQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9dC53aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpLnNwbGl0KFwiL1wiKTtyZXR1cm4gZS5sZW5ndGg+PTMmJih0aGlzLl9tYXAuanVtcFRvKHtjZW50ZXI6WytlWzJdLCtlWzFdXSx6b29tOitlWzBdLGJlYXJpbmc6KyhlWzNdfHwwKSxwaXRjaDorKGVbNF18fDApfSksITApfSxYaS5wcm90b3R5cGUuX3VwZGF0ZUhhc2hVbnRocm90dGxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SGFzaFN0cmluZygpO3Qud2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHQud2luZG93Lmhpc3Rvcnkuc3RhdGUsXCJcIixlKTt9O3ZhciBIaT1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKG4sbyxyLGEpe3ZvaWQgMD09PWEmJihhPXt9KTt2YXIgcz1pLm1vdXNlUG9zKG8uZ2V0Q2FudmFzQ29udGFpbmVyKCksciksbD1vLnVucHJvamVjdChzKTtlLmNhbGwodGhpcyxuLHQuZXh0ZW5kKHtwb2ludDpzLGxuZ0xhdDpsLG9yaWdpbmFsRXZlbnQ6cn0sYSkpLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITEsdGhpcy50YXJnZXQ9bzt9ZSYmKG4uX19wcm90b19fPWUpLG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW47dmFyIG89e2RlZmF1bHRQcmV2ZW50ZWQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fSxvLmRlZmF1bHRQcmV2ZW50ZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4ucHJvdG90eXBlLG8pLG59KHQuRXZlbnQpLEtpPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4obixvLHIpe3ZhciBhPWkudG91Y2hQb3Moby5nZXRDYW52YXNDb250YWluZXIoKSxyKSxzPWEubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBvLnVucHJvamVjdCh0KX0pLGw9YS5yZWR1Y2UoZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHQuYWRkKGUuZGl2KG4ubGVuZ3RoKSl9LG5ldyB0LlBvaW50KDAsMCkpLGM9by51bnByb2plY3QobCk7ZS5jYWxsKHRoaXMsbix7cG9pbnRzOmEscG9pbnQ6bCxsbmdMYXRzOnMsbG5nTGF0OmMsb3JpZ2luYWxFdmVudDpyfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9ZSYmKG4uX19wcm90b19fPWUpLG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW47dmFyIG89e2RlZmF1bHRQcmV2ZW50ZWQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBuLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fSxvLmRlZmF1bHRQcmV2ZW50ZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4ucHJvdG90eXBlLG8pLG59KHQuRXZlbnQpLFlpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4pe3QuY2FsbCh0aGlzLGUse29yaWdpbmFsRXZlbnQ6bn0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITE7fXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBpPXtkZWZhdWx0UHJldmVudGVkOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLl9kZWZhdWx0UHJldmVudGVkPSEwO30saS5kZWZhdWx0UHJldmVudGVkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxpKSxlfSh0LkV2ZW50KSxKaT1mdW5jdGlvbihlKXt0aGlzLl9tYXA9ZSx0aGlzLl9lbD1lLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2RlbHRhPTAsdC5iaW5kQWxsKFtcIl9vbldoZWVsXCIsXCJfb25UaW1lb3V0XCIsXCJfb25TY3JvbGxGcmFtZVwiLFwiX29uU2Nyb2xsRmluaXNoZWRcIl0sdGhpcyk7fTtKaS5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZW5hYmxlZH0sSmkucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfSxKaS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKHQpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2Fyb3VuZENlbnRlcj10JiZcImNlbnRlclwiPT09dC5hcm91bmQpO30sSmkucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSk7fSxKaS5wcm90b3R5cGUub25XaGVlbD1mdW5jdGlvbihlKXtpZih0aGlzLmlzRW5hYmxlZCgpKXt2YXIgaT1lLmRlbHRhTW9kZT09PXQud2luZG93LldoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkU/NDAqZS5kZWx0YVk6ZS5kZWx0YVksbj10LmJyb3dzZXIubm93KCksbz1uLSh0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWV8fDApO3RoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT1uLDAhPT1pJiZpJTQuMDAwMjQ0MTQwNjI1PT0wP3RoaXMuX3R5cGU9XCJ3aGVlbFwiOjAhPT1pJiZNYXRoLmFicyhpKTw0P3RoaXMuX3R5cGU9XCJ0cmFja3BhZFwiOm8+NDAwPyh0aGlzLl90eXBlPW51bGwsdGhpcy5fbGFzdFZhbHVlPWksdGhpcy5fdGltZW91dD1zZXRUaW1lb3V0KHRoaXMuX29uVGltZW91dCw0MCxlKSk6dGhpcy5fdHlwZXx8KHRoaXMuX3R5cGU9TWF0aC5hYnMobyppKTwyMDA/XCJ0cmFja3BhZFwiOlwid2hlZWxcIix0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCxpKz10aGlzLl9sYXN0VmFsdWUpKSxlLnNoaWZ0S2V5JiZpJiYoaS89NCksdGhpcy5fdHlwZSYmKHRoaXMuX2xhc3RXaGVlbEV2ZW50PWUsdGhpcy5fZGVsdGEtPWksdGhpcy5pc0FjdGl2ZSgpfHx0aGlzLl9zdGFydChlKSksZS5wcmV2ZW50RGVmYXVsdCgpO319LEppLnByb3RvdHlwZS5fb25UaW1lb3V0PWZ1bmN0aW9uKHQpe3RoaXMuX3R5cGU9XCJ3aGVlbFwiLHRoaXMuX2RlbHRhLT10aGlzLl9sYXN0VmFsdWUsdGhpcy5pc0FjdGl2ZSgpfHx0aGlzLl9zdGFydCh0KTt9LEppLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZGVsdGEpe3RoaXMuX2ZyYW1lSWQmJih0aGlzLl9tYXAuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2ZyYW1lSWQpLHRoaXMuX2ZyYW1lSWQ9bnVsbCksdGhpcy5fYWN0aXZlPSEwLHRoaXMuX21hcC5maXJlKG5ldyB0LkV2ZW50KFwibW92ZXN0YXJ0XCIse29yaWdpbmFsRXZlbnQ6ZX0pKSx0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChcInpvb21zdGFydFwiLHtvcmlnaW5hbEV2ZW50OmV9KSksdGhpcy5fZmluaXNoVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMuX2ZpbmlzaFRpbWVvdXQpO3ZhciBuPWkubW91c2VQb3ModGhpcy5fZWwsZSk7dGhpcy5fYXJvdW5kPVUuY29udmVydCh0aGlzLl9hcm91bmRDZW50ZXI/dGhpcy5fbWFwLmdldENlbnRlcigpOnRoaXMuX21hcC51bnByb2plY3QobikpLHRoaXMuX2Fyb3VuZFBvaW50PXRoaXMuX21hcC50cmFuc2Zvcm0ubG9jYXRpb25Qb2ludCh0aGlzLl9hcm91bmQpLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPXRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uU2Nyb2xsRnJhbWUpKTt9fSxKaS5wcm90b3R5cGUuX29uU2Nyb2xsRnJhbWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX2ZyYW1lSWQ9bnVsbCx0aGlzLmlzQWN0aXZlKCkpe3ZhciBpPXRoaXMuX21hcC50cmFuc2Zvcm07aWYoMCE9PXRoaXMuX2RlbHRhKXt2YXIgbj1cIndoZWVsXCI9PT10aGlzLl90eXBlJiZNYXRoLmFicyh0aGlzLl9kZWx0YSk+NC4wMDAyNDQxNDA2MjU/MS80NTA6LjAxLG89Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnModGhpcy5fZGVsdGEqbikpKTt0aGlzLl9kZWx0YTwwJiYwIT09byYmKG89MS9vKTt2YXIgcj1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT9pLnpvb21TY2FsZSh0aGlzLl90YXJnZXRab29tKTppLnNjYWxlO3RoaXMuX3RhcmdldFpvb209TWF0aC5taW4oaS5tYXhab29tLE1hdGgubWF4KGkubWluWm9vbSxpLnNjYWxlWm9vbShyKm8pKSksXCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmKHRoaXMuX3N0YXJ0Wm9vbT1pLnpvb20sdGhpcy5fZWFzaW5nPXRoaXMuX3Ntb290aE91dEVhc2luZygyMDApKSx0aGlzLl9kZWx0YT0wO312YXIgYT1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT90aGlzLl90YXJnZXRab29tOmkuem9vbSxzPXRoaXMuX3N0YXJ0Wm9vbSxsPXRoaXMuX2Vhc2luZyxjPSExO2lmKFwid2hlZWxcIj09PXRoaXMuX3R5cGUmJnMmJmwpe3ZhciBoPU1hdGgubWluKCh0LmJyb3dzZXIubm93KCktdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lKS8yMDAsMSksdT1sKGgpO2kuem9vbT10Lm51bWJlcihzLGEsdSksaDwxP3RoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPXRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uU2Nyb2xsRnJhbWUpKTpjPSEwO31lbHNlIGkuem9vbT1hLGM9ITA7aS5zZXRMb2NhdGlvbkF0UG9pbnQodGhpcy5fYXJvdW5kLHRoaXMuX2Fyb3VuZFBvaW50KSx0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChcIm1vdmVcIix7b3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0V2hlZWxFdmVudH0pKSx0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChcInpvb21cIix7b3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0V2hlZWxFdmVudH0pKSxjJiYodGhpcy5fYWN0aXZlPSExLHRoaXMuX2ZpbmlzaFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuX21hcC5maXJlKG5ldyB0LkV2ZW50KFwiem9vbWVuZFwiLHtvcmlnaW5hbEV2ZW50OmUuX2xhc3RXaGVlbEV2ZW50fSkpLGUuX21hcC5maXJlKG5ldyB0LkV2ZW50KFwibW92ZWVuZFwiLHtvcmlnaW5hbEV2ZW50OmUuX2xhc3RXaGVlbEV2ZW50fSkpLGRlbGV0ZSBlLl90YXJnZXRab29tO30sMjAwKSk7fX0sSmkucHJvdG90eXBlLl9zbW9vdGhPdXRFYXNpbmc9ZnVuY3Rpb24oZSl7dmFyIGk9dC5lYXNlO2lmKHRoaXMuX3ByZXZFYXNlKXt2YXIgbj10aGlzLl9wcmV2RWFzZSxvPSh0LmJyb3dzZXIubm93KCktbi5zdGFydCkvbi5kdXJhdGlvbixyPW4uZWFzaW5nKG8rLjAxKS1uLmVhc2luZyhvKSxhPS4yNy9NYXRoLnNxcnQocipyKzFlLTQpKi4wMSxzPU1hdGguc3FydCguMDcyOS1hKmEpO2k9dC5iZXppZXIoYSxzLC4yNSwxKTt9cmV0dXJuIHRoaXMuX3ByZXZFYXNlPXtzdGFydDp0LmJyb3dzZXIubm93KCksZHVyYXRpb246ZSxlYXNpbmc6aX0saX07dmFyIFFpPWZ1bmN0aW9uKGUsaSl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9jb250YWluZXI9ZS5nZXRDb250YWluZXIoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT1pLmNsaWNrVG9sZXJhbmNlfHwxLHQuYmluZEFsbChbXCJfb25Nb3VzZU1vdmVcIixcIl9vbk1vdXNlVXBcIixcIl9vbktleURvd25cIl0sdGhpcyk7fTtRaS5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZW5hYmxlZH0sUWkucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfSxRaS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO30sUWkucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSk7fSxRaS5wcm90b3R5cGUub25Nb3VzZURvd249ZnVuY3Rpb24oZSl7dGhpcy5pc0VuYWJsZWQoKSYmZS5zaGlmdEtleSYmMD09PWUuYnV0dG9uJiYodC53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLCExKSx0LndpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX29uS2V5RG93biwhMSksdC53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlVXAsITEpLGkuZGlzYWJsZURyYWcoKSx0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPWkubW91c2VQb3ModGhpcy5fZWwsZSksdGhpcy5fYWN0aXZlPSEwKTt9LFFpLnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9aS5tb3VzZVBvcyh0aGlzLl9lbCx0KTtpZighKHRoaXMuX2xhc3RQb3MuZXF1YWxzKGUpfHwhdGhpcy5fYm94JiZlLmRpc3QodGhpcy5fc3RhcnRQb3MpPHRoaXMuX2NsaWNrVG9sZXJhbmNlKSl7dmFyIG49dGhpcy5fc3RhcnRQb3M7dGhpcy5fbGFzdFBvcz1lLHRoaXMuX2JveHx8KHRoaXMuX2JveD1pLmNyZWF0ZShcImRpdlwiLFwibWFwYm94Z2wtYm94em9vbVwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jcm9zc2hhaXJcIiksdGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbXN0YXJ0XCIsdCkpO3ZhciBvPU1hdGgubWluKG4ueCxlLngpLHI9TWF0aC5tYXgobi54LGUueCksYT1NYXRoLm1pbihuLnksZS55KSxzPU1hdGgubWF4KG4ueSxlLnkpO2kuc2V0VHJhbnNmb3JtKHRoaXMuX2JveCxcInRyYW5zbGF0ZShcIitvK1wicHgsXCIrYStcInB4KVwiKSx0aGlzLl9ib3guc3R5bGUud2lkdGg9ci1vK1wicHhcIix0aGlzLl9ib3guc3R5bGUuaGVpZ2h0PXMtYStcInB4XCI7fX0sUWkucHJvdG90eXBlLl9vbk1vdXNlVXA9ZnVuY3Rpb24oZSl7aWYoMD09PWUuYnV0dG9uKXt2YXIgbj10aGlzLl9zdGFydFBvcyxvPWkubW91c2VQb3ModGhpcy5fZWwsZSk7dGhpcy5fZmluaXNoKCksaS5zdXBwcmVzc0NsaWNrKCksbi54PT09by54JiZuLnk9PT1vLnk/dGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbWNhbmNlbFwiLGUpOnRoaXMuX21hcC5maXRTY3JlZW5Db29yZGluYXRlcyhuLG8sdGhpcy5fbWFwLmdldEJlYXJpbmcoKSx7bGluZWFyOiEwfSkuZmlyZShuZXcgdC5FdmVudChcImJveHpvb21lbmRcIix7b3JpZ2luYWxFdmVudDplfSkpO319LFFpLnByb3RvdHlwZS5fb25LZXlEb3duPWZ1bmN0aW9uKHQpezI3PT09dC5rZXlDb2RlJiYodGhpcy5fZmluaXNoKCksdGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbWNhbmNlbFwiLHQpKTt9LFFpLnByb3RvdHlwZS5fZmluaXNoPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSExLHQud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSwhMSksdC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleURvd24sITEpLHQud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZVVwLCExKSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNyb3NzaGFpclwiKSx0aGlzLl9ib3gmJihpLnJlbW92ZSh0aGlzLl9ib3gpLHRoaXMuX2JveD1udWxsKSxpLmVuYWJsZURyYWcoKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3M7fSxRaS5wcm90b3R5cGUuX2ZpcmVFdmVudD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChlLHtvcmlnaW5hbEV2ZW50Oml9KSl9O3ZhciAkaT10LmJlemllcigwLDAsLjI1LDEpLHRuPWZ1bmN0aW9uKGUsaSl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9aS5lbGVtZW50fHxlLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX3N0YXRlPVwiZGlzYWJsZWRcIix0aGlzLl9idXR0b249aS5idXR0b258fFwicmlnaHRcIix0aGlzLl9iZWFyaW5nU25hcD1pLmJlYXJpbmdTbmFwfHwwLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZT0hMSE9PWkucGl0Y2hXaXRoUm90YXRlLHQuYmluZEFsbChbXCJvbk1vdXNlRG93blwiLFwiX29uTW91c2VNb3ZlXCIsXCJfb25Nb3VzZVVwXCIsXCJfb25CbHVyXCIsXCJfb25EcmFnRnJhbWVcIl0sdGhpcyk7fTt0bi5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIFwiZGlzYWJsZWRcIiE9PXRoaXMuX3N0YXRlfSx0bi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gXCJhY3RpdmVcIj09PXRoaXMuX3N0YXRlfSx0bi5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX3N0YXRlPVwiZW5hYmxlZFwiKTt9LHRuLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0VuYWJsZWQoKSlzd2l0Y2godGhpcy5fc3RhdGUpe2Nhc2VcImFjdGl2ZVwiOnRoaXMuX3N0YXRlPVwiZGlzYWJsZWRcIix0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5fZmlyZUV2ZW50KFwicm90YXRlZW5kXCIpLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSYmdGhpcy5fZmlyZUV2ZW50KFwicGl0Y2hlbmRcIiksdGhpcy5fZmlyZUV2ZW50KFwibW92ZWVuZFwiKTticmVhaztjYXNlXCJwZW5kaW5nXCI6dGhpcy5fc3RhdGU9XCJkaXNhYmxlZFwiLHRoaXMuX3VuYmluZCgpO2JyZWFrO2RlZmF1bHQ6dGhpcy5fc3RhdGU9XCJkaXNhYmxlZFwiO319LHRuLnByb3RvdHlwZS5vbk1vdXNlRG93bj1mdW5jdGlvbihlKXtpZihcImVuYWJsZWRcIj09PXRoaXMuX3N0YXRlKXtpZihcInJpZ2h0XCI9PT10aGlzLl9idXR0b24pe2lmKHRoaXMuX2V2ZW50QnV0dG9uPWkubW91c2VCdXR0b24oZSksdGhpcy5fZXZlbnRCdXR0b24hPT0oZS5jdHJsS2V5PzA6MikpcmV0dXJufWVsc2V7aWYoZS5jdHJsS2V5fHwwIT09aS5tb3VzZUJ1dHRvbihlKSlyZXR1cm47dGhpcy5fZXZlbnRCdXR0b249MDt9aS5kaXNhYmxlRHJhZygpLHQud2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSx7Y2FwdHVyZTohMH0pLHQud2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZVVwKSx0LndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuX29uQmx1ciksdGhpcy5fc3RhdGU9XCJwZW5kaW5nXCIsdGhpcy5faW5lcnRpYT1bW3QuYnJvd3Nlci5ub3coKSx0aGlzLl9tYXAuZ2V0QmVhcmluZygpXV0sdGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz1pLm1vdXNlUG9zKHRoaXMuX2VsLGUpLHRoaXMuX2NlbnRlcj10aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlclBvaW50LGUucHJldmVudERlZmF1bHQoKTt9fSx0bi5wcm90b3R5cGUuX29uTW91c2VNb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPWkubW91c2VQb3ModGhpcy5fZWwsdCk7dGhpcy5fbGFzdFBvcy5lcXVhbHMoZSl8fCh0aGlzLl9sYXN0TW92ZUV2ZW50PXQsdGhpcy5fbGFzdFBvcz1lLFwicGVuZGluZ1wiPT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT1cImFjdGl2ZVwiLHRoaXMuX2ZpcmVFdmVudChcInJvdGF0ZXN0YXJ0XCIsdCksdGhpcy5fZmlyZUV2ZW50KFwibW92ZXN0YXJ0XCIsdCksdGhpcy5fcGl0Y2hXaXRoUm90YXRlJiZ0aGlzLl9maXJlRXZlbnQoXCJwaXRjaHN0YXJ0XCIsdCkpLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPXRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uRHJhZ0ZyYW1lKSkpO30sdG4ucHJvdG90eXBlLl9vbkRyYWdGcmFtZT1mdW5jdGlvbigpe3RoaXMuX2ZyYW1lSWQ9bnVsbDt2YXIgZT10aGlzLl9sYXN0TW92ZUV2ZW50O2lmKGUpe3ZhciBpPXRoaXMuX21hcC50cmFuc2Zvcm0sbj10aGlzLl9zdGFydFBvcyxvPXRoaXMuX2xhc3RQb3Mscj0uOCoobi54LW8ueCksYT0tLjUqKG4ueS1vLnkpLHM9aS5iZWFyaW5nLXIsbD1pLnBpdGNoLWEsYz10aGlzLl9pbmVydGlhLGg9Y1tjLmxlbmd0aC0xXTt0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSxjLnB1c2goW3QuYnJvd3Nlci5ub3coKSx0aGlzLl9tYXAuX25vcm1hbGl6ZUJlYXJpbmcocyxoWzFdKV0pLGkuYmVhcmluZz1zLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSYmKHRoaXMuX2ZpcmVFdmVudChcInBpdGNoXCIsZSksaS5waXRjaD1sKSx0aGlzLl9maXJlRXZlbnQoXCJyb3RhdGVcIixlKSx0aGlzLl9maXJlRXZlbnQoXCJtb3ZlXCIsZSksZGVsZXRlIHRoaXMuX2xhc3RNb3ZlRXZlbnQsdGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvczt9fSx0bi5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbih0KXtpZihpLm1vdXNlQnV0dG9uKHQpPT09dGhpcy5fZXZlbnRCdXR0b24pc3dpdGNoKHRoaXMuX3N0YXRlKXtjYXNlXCJhY3RpdmVcIjp0aGlzLl9zdGF0ZT1cImVuYWJsZWRcIixpLnN1cHByZXNzQ2xpY2soKSx0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5faW5lcnRpYWxSb3RhdGUodCk7YnJlYWs7Y2FzZVwicGVuZGluZ1wiOnRoaXMuX3N0YXRlPVwiZW5hYmxlZFwiLHRoaXMuX3VuYmluZCgpO319LHRuLnByb3RvdHlwZS5fb25CbHVyPWZ1bmN0aW9uKHQpe3N3aXRjaCh0aGlzLl9zdGF0ZSl7Y2FzZVwiYWN0aXZlXCI6dGhpcy5fc3RhdGU9XCJlbmFibGVkXCIsdGhpcy5fdW5iaW5kKCksdGhpcy5fZGVhY3RpdmF0ZSgpLHRoaXMuX2ZpcmVFdmVudChcInJvdGF0ZWVuZFwiLHQpLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSYmdGhpcy5fZmlyZUV2ZW50KFwicGl0Y2hlbmRcIix0KSx0aGlzLl9maXJlRXZlbnQoXCJtb3ZlZW5kXCIsdCk7YnJlYWs7Y2FzZVwicGVuZGluZ1wiOnRoaXMuX3N0YXRlPVwiZW5hYmxlZFwiLHRoaXMuX3VuYmluZCgpO319LHRuLnByb3RvdHlwZS5fdW5iaW5kPWZ1bmN0aW9uKCl7dC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLHtjYXB0dXJlOiEwfSksdC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlVXApLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5fb25CbHVyKSxpLmVuYWJsZURyYWcoKTt9LHRuLnByb3RvdHlwZS5fZGVhY3RpdmF0ZT1mdW5jdGlvbigpe3RoaXMuX2ZyYW1lSWQmJih0aGlzLl9tYXAuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2ZyYW1lSWQpLHRoaXMuX2ZyYW1lSWQ9bnVsbCksZGVsZXRlIHRoaXMuX2xhc3RNb3ZlRXZlbnQsZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zO30sdG4ucHJvdG90eXBlLl9pbmVydGlhbFJvdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2ZpcmVFdmVudChcInJvdGF0ZWVuZFwiLHQpLHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO3ZhciBpPXRoaXMuX21hcCxuPWkuZ2V0QmVhcmluZygpLG89dGhpcy5faW5lcnRpYSxyPWZ1bmN0aW9uKCl7TWF0aC5hYnMobik8ZS5fYmVhcmluZ1NuYXA/aS5yZXNldE5vcnRoKHtub01vdmVTdGFydDohMH0se29yaWdpbmFsRXZlbnQ6dH0pOmUuX2ZpcmVFdmVudChcIm1vdmVlbmRcIix0KSxlLl9waXRjaFdpdGhSb3RhdGUmJmUuX2ZpcmVFdmVudChcInBpdGNoZW5kXCIsdCk7fTtpZihvLmxlbmd0aDwyKXIoKTtlbHNle3ZhciBhPW9bMF0scz1vW28ubGVuZ3RoLTFdLGw9b1tvLmxlbmd0aC0yXSxjPWkuX25vcm1hbGl6ZUJlYXJpbmcobixsWzFdKSxoPXNbMV0tYVsxXSx1PWg8MD8tMToxLHA9KHNbMF0tYVswXSkvMWUzO2lmKDAhPT1oJiYwIT09cCl7dmFyIGQ9TWF0aC5hYnMoaCooLjI1L3ApKTtkPjE4MCYmKGQ9MTgwKTt2YXIgXz1kLzE4MDtjKz11KmQqKF8vMiksTWF0aC5hYnMoaS5fbm9ybWFsaXplQmVhcmluZyhjLDApKTx0aGlzLl9iZWFyaW5nU25hcCYmKGM9aS5fbm9ybWFsaXplQmVhcmluZygwLGMpKSxpLnJvdGF0ZVRvKGMse2R1cmF0aW9uOjFlMypfLGVhc2luZzokaSxub01vdmVTdGFydDohMH0se29yaWdpbmFsRXZlbnQ6dH0pO31lbHNlIHIoKTt9fSx0bi5wcm90b3R5cGUuX2ZpcmVFdmVudD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChlLGk/e29yaWdpbmFsRXZlbnQ6aX06e30pKX0sdG4ucHJvdG90eXBlLl9kcmFpbkluZXJ0aWFCdWZmZXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5faW5lcnRpYSxpPXQuYnJvd3Nlci5ub3coKTtlLmxlbmd0aD4wJiZpLWVbMF1bMF0+MTYwOyllLnNoaWZ0KCk7fTt2YXIgZW49dC5iZXppZXIoMCwwLC4zLDEpLG5uPWZ1bmN0aW9uKGUsaSl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9zdGF0ZT1cImRpc2FibGVkXCIsdGhpcy5fY2xpY2tUb2xlcmFuY2U9aS5jbGlja1RvbGVyYW5jZXx8MSx0LmJpbmRBbGwoW1wiX29uTW92ZVwiLFwiX29uTW91c2VVcFwiLFwiX29uVG91Y2hFbmRcIixcIl9vbkJsdXJcIixcIl9vbkRyYWdGcmFtZVwiXSx0aGlzKTt9O25uLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gXCJkaXNhYmxlZFwiIT09dGhpcy5fc3RhdGV9LG5uLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiBcImFjdGl2ZVwiPT09dGhpcy5fc3RhdGV9LG5uLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5fZWwuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLWRyYWctcGFuXCIpLHRoaXMuX3N0YXRlPVwiZW5hYmxlZFwiKTt9LG5uLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0VuYWJsZWQoKSlzd2l0Y2godGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLWRyYWctcGFuXCIpLHRoaXMuX3N0YXRlKXtjYXNlXCJhY3RpdmVcIjp0aGlzLl9zdGF0ZT1cImRpc2FibGVkXCIsdGhpcy5fdW5iaW5kKCksdGhpcy5fZGVhY3RpdmF0ZSgpLHRoaXMuX2ZpcmVFdmVudChcImRyYWdlbmRcIiksdGhpcy5fZmlyZUV2ZW50KFwibW92ZWVuZFwiKTticmVhaztjYXNlXCJwZW5kaW5nXCI6dGhpcy5fc3RhdGU9XCJkaXNhYmxlZFwiLHRoaXMuX3VuYmluZCgpO2JyZWFrO2RlZmF1bHQ6dGhpcy5fc3RhdGU9XCJkaXNhYmxlZFwiO319LG5uLnByb3RvdHlwZS5vbk1vdXNlRG93bj1mdW5jdGlvbihlKXtcImVuYWJsZWRcIj09PXRoaXMuX3N0YXRlJiYoZS5jdHJsS2V5fHwwIT09aS5tb3VzZUJ1dHRvbihlKXx8KGkuYWRkRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCxcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSx7Y2FwdHVyZTohMH0pLGkuYWRkRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCxcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlVXApLHRoaXMuX3N0YXJ0KGUpKSk7fSxubi5wcm90b3R5cGUub25Ub3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe1wiZW5hYmxlZFwiPT09dGhpcy5fc3RhdGUmJihlLnRvdWNoZXMubGVuZ3RoPjF8fChpLmFkZEV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUse2NhcHR1cmU6ITAscGFzc2l2ZTohMX0pLGkuYWRkRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCxcInRvdWNoZW5kXCIsdGhpcy5fb25Ub3VjaEVuZCksdGhpcy5fc3RhcnQoZSkpKTt9LG5uLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oZSl7dC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLl9vbkJsdXIpLHRoaXMuX3N0YXRlPVwicGVuZGluZ1wiLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX21vdXNlRG93blBvcz10aGlzLl9sYXN0UG9zPWkubW91c2VQb3ModGhpcy5fZWwsZSksdGhpcy5faW5lcnRpYT1bW3QuYnJvd3Nlci5ub3coKSx0aGlzLl9zdGFydFBvc11dO30sbm4ucHJvdG90eXBlLl9vbk1vdmU9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPWkubW91c2VQb3ModGhpcy5fZWwsZSk7dGhpcy5fbGFzdFBvcy5lcXVhbHMobil8fFwicGVuZGluZ1wiPT09dGhpcy5fc3RhdGUmJm4uZGlzdCh0aGlzLl9tb3VzZURvd25Qb3MpPHRoaXMuX2NsaWNrVG9sZXJhbmNlfHwodGhpcy5fbGFzdE1vdmVFdmVudD1lLHRoaXMuX2xhc3RQb3M9bix0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhLnB1c2goW3QuYnJvd3Nlci5ub3coKSx0aGlzLl9sYXN0UG9zXSksXCJwZW5kaW5nXCI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPVwiYWN0aXZlXCIsdGhpcy5fZmlyZUV2ZW50KFwiZHJhZ3N0YXJ0XCIsZSksdGhpcy5fZmlyZUV2ZW50KFwibW92ZXN0YXJ0XCIsZSkpLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPXRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uRHJhZ0ZyYW1lKSkpO30sbm4ucHJvdG90eXBlLl9vbkRyYWdGcmFtZT1mdW5jdGlvbigpe3RoaXMuX2ZyYW1lSWQ9bnVsbDt2YXIgdD10aGlzLl9sYXN0TW92ZUV2ZW50O2lmKHQpe3ZhciBlPXRoaXMuX21hcC50cmFuc2Zvcm07ZS5zZXRMb2NhdGlvbkF0UG9pbnQoZS5wb2ludExvY2F0aW9uKHRoaXMuX3N0YXJ0UG9zKSx0aGlzLl9sYXN0UG9zKSx0aGlzLl9maXJlRXZlbnQoXCJkcmFnXCIsdCksdGhpcy5fZmlyZUV2ZW50KFwibW92ZVwiLHQpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX2xhc3RQb3MsZGVsZXRlIHRoaXMuX2xhc3RNb3ZlRXZlbnQ7fX0sbm4ucHJvdG90eXBlLl9vbk1vdXNlVXA9ZnVuY3Rpb24odCl7aWYoMD09PWkubW91c2VCdXR0b24odCkpc3dpdGNoKHRoaXMuX3N0YXRlKXtjYXNlXCJhY3RpdmVcIjp0aGlzLl9zdGF0ZT1cImVuYWJsZWRcIixpLnN1cHByZXNzQ2xpY2soKSx0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5faW5lcnRpYWxQYW4odCk7YnJlYWs7Y2FzZVwicGVuZGluZ1wiOnRoaXMuX3N0YXRlPVwiZW5hYmxlZFwiLHRoaXMuX3VuYmluZCgpO319LG5uLnByb3RvdHlwZS5fb25Ub3VjaEVuZD1mdW5jdGlvbih0KXtzd2l0Y2godGhpcy5fc3RhdGUpe2Nhc2VcImFjdGl2ZVwiOnRoaXMuX3N0YXRlPVwiZW5hYmxlZFwiLHRoaXMuX3VuYmluZCgpLHRoaXMuX2RlYWN0aXZhdGUoKSx0aGlzLl9pbmVydGlhbFBhbih0KTticmVhaztjYXNlXCJwZW5kaW5nXCI6dGhpcy5fc3RhdGU9XCJlbmFibGVkXCIsdGhpcy5fdW5iaW5kKCk7fX0sbm4ucHJvdG90eXBlLl9vbkJsdXI9ZnVuY3Rpb24odCl7c3dpdGNoKHRoaXMuX3N0YXRlKXtjYXNlXCJhY3RpdmVcIjp0aGlzLl9zdGF0ZT1cImVuYWJsZWRcIix0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5fZmlyZUV2ZW50KFwiZHJhZ2VuZFwiLHQpLHRoaXMuX2ZpcmVFdmVudChcIm1vdmVlbmRcIix0KTticmVhaztjYXNlXCJwZW5kaW5nXCI6dGhpcy5fc3RhdGU9XCJlbmFibGVkXCIsdGhpcy5fdW5iaW5kKCk7fX0sbm4ucHJvdG90eXBlLl91bmJpbmQ9ZnVuY3Rpb24oKXtpLnJlbW92ZUV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUse2NhcHR1cmU6ITAscGFzc2l2ZTohMX0pLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCxcInRvdWNoZW5kXCIsdGhpcy5fb25Ub3VjaEVuZCksaS5yZW1vdmVFdmVudExpc3RlbmVyKHQud2luZG93LmRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlLHtjYXB0dXJlOiEwfSksaS5yZW1vdmVFdmVudExpc3RlbmVyKHQud2luZG93LmRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcCksaS5yZW1vdmVFdmVudExpc3RlbmVyKHQud2luZG93LFwiYmx1clwiLHRoaXMuX29uQmx1cik7fSxubi5wcm90b3R5cGUuX2RlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLl9mcmFtZUlkJiYodGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKSx0aGlzLl9mcmFtZUlkPW51bGwpLGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50LGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fbW91c2VEb3duUG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zO30sbm4ucHJvdG90eXBlLl9pbmVydGlhbFBhbj1mdW5jdGlvbih0KXt0aGlzLl9maXJlRXZlbnQoXCJkcmFnZW5kXCIsdCksdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7dmFyIGU9dGhpcy5faW5lcnRpYTtpZihlLmxlbmd0aDwyKXRoaXMuX2ZpcmVFdmVudChcIm1vdmVlbmRcIix0KTtlbHNle3ZhciBpPWVbZS5sZW5ndGgtMV0sbj1lWzBdLG89aVsxXS5zdWIoblsxXSkscj0oaVswXS1uWzBdKS8xZTM7aWYoMD09PXJ8fGlbMV0uZXF1YWxzKG5bMV0pKXRoaXMuX2ZpcmVFdmVudChcIm1vdmVlbmRcIix0KTtlbHNle3ZhciBhPW8ubXVsdCguMy9yKSxzPWEubWFnKCk7cz4xNDAwJiYocz0xNDAwLGEuX3VuaXQoKS5fbXVsdChzKSk7dmFyIGw9cy83NTAsYz1hLm11bHQoLWwvMik7dGhpcy5fbWFwLnBhbkJ5KGMse2R1cmF0aW9uOjFlMypsLGVhc2luZzplbixub01vdmVTdGFydDohMH0se29yaWdpbmFsRXZlbnQ6dH0pO319fSxubi5wcm90b3R5cGUuX2ZpcmVFdmVudD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChlLGk/e29yaWdpbmFsRXZlbnQ6aX06e30pKX0sbm4ucHJvdG90eXBlLl9kcmFpbkluZXJ0aWFCdWZmZXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5faW5lcnRpYSxpPXQuYnJvd3Nlci5ub3coKTtlLmxlbmd0aD4wJiZpLWVbMF1bMF0+MTYwOyllLnNoaWZ0KCk7fTt2YXIgb249ZnVuY3Rpb24oZSl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0LmJpbmRBbGwoW1wiX29uS2V5RG93blwiXSx0aGlzKTt9O2Z1bmN0aW9uIHJuKHQpe3JldHVybiB0KigyLXQpfW9uLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfSxvbi5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duLCExKSx0aGlzLl9lbmFibGVkPSEwKTt9LG9uLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duKSx0aGlzLl9lbmFibGVkPSExKTt9LG9uLnByb3RvdHlwZS5fb25LZXlEb3duPWZ1bmN0aW9uKHQpe2lmKCEodC5hbHRLZXl8fHQuY3RybEtleXx8dC5tZXRhS2V5KSl7dmFyIGU9MCxpPTAsbj0wLG89MCxyPTA7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA2MTpjYXNlIDEwNzpjYXNlIDE3MTpjYXNlIDE4NzplPTE7YnJlYWs7Y2FzZSAxODk6Y2FzZSAxMDk6Y2FzZSAxNzM6ZT0tMTticmVhaztjYXNlIDM3OnQuc2hpZnRLZXk/aT0tMToodC5wcmV2ZW50RGVmYXVsdCgpLG89LTEpO2JyZWFrO2Nhc2UgMzk6dC5zaGlmdEtleT9pPTE6KHQucHJldmVudERlZmF1bHQoKSxvPTEpO2JyZWFrO2Nhc2UgMzg6dC5zaGlmdEtleT9uPTE6KHQucHJldmVudERlZmF1bHQoKSxyPS0xKTticmVhaztjYXNlIDQwOnQuc2hpZnRLZXk/bj0tMToocj0xLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIGE9dGhpcy5fbWFwLHM9YS5nZXRab29tKCksbD17ZHVyYXRpb246MzAwLGRlbGF5RW5kRXZlbnRzOjUwMCxlYXNpbmc6cm4sem9vbTplP01hdGgucm91bmQocykrZSoodC5zaGlmdEtleT8yOjEpOnMsYmVhcmluZzphLmdldEJlYXJpbmcoKSsxNSppLHBpdGNoOmEuZ2V0UGl0Y2goKSsxMCpuLG9mZnNldDpbMTAwKi1vLDEwMCotcl0sY2VudGVyOmEuZ2V0Q2VudGVyKCl9O2EuZWFzZVRvKGwse29yaWdpbmFsRXZlbnQ6dH0pO319O3ZhciBhbj1mdW5jdGlvbihlKXt0aGlzLl9tYXA9ZSx0LmJpbmRBbGwoW1wiX29uRGJsQ2xpY2tcIixcIl9vblpvb21FbmRcIl0sdGhpcyk7fTthbi5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZW5hYmxlZH0sYW4ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfSxhbi5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO30sYW4ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSk7fSxhbi5wcm90b3R5cGUub25Ub3VjaFN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5pc0VuYWJsZWQoKSYmKHQucG9pbnRzLmxlbmd0aD4xfHwodGhpcy5fdGFwcGVkPyhjbGVhclRpbWVvdXQodGhpcy5fdGFwcGVkKSx0aGlzLl90YXBwZWQ9bnVsbCx0aGlzLl96b29tKHQpKTp0aGlzLl90YXBwZWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuX3RhcHBlZD1udWxsO30sMzAwKSkpO30sYW4ucHJvdG90eXBlLm9uRGJsQ2xpY2s9ZnVuY3Rpb24odCl7dGhpcy5pc0VuYWJsZWQoKSYmKHQub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3pvb20odCkpO30sYW4ucHJvdG90eXBlLl96b29tPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZT0hMCx0aGlzLl9tYXAub24oXCJ6b29tZW5kXCIsdGhpcy5fb25ab29tRW5kKSx0aGlzLl9tYXAuem9vbVRvKHRoaXMuX21hcC5nZXRab29tKCkrKHQub3JpZ2luYWxFdmVudC5zaGlmdEtleT8tMToxKSx7YXJvdW5kOnQubG5nTGF0fSx0KTt9LGFuLnByb3RvdHlwZS5fb25ab29tRW5kPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX21hcC5vZmYoXCJ6b29tZW5kXCIsdGhpcy5fb25ab29tRW5kKTt9O3ZhciBzbj10LmJlemllcigwLDAsLjE1LDEpLGxuPWZ1bmN0aW9uKGUpe3RoaXMuX21hcD1lLHRoaXMuX2VsPWUuZ2V0Q2FudmFzQ29udGFpbmVyKCksdC5iaW5kQWxsKFtcIl9vbk1vdmVcIixcIl9vbkVuZFwiLFwiX29uVG91Y2hGcmFtZVwiXSx0aGlzKTt9O2xuLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfSxsbi5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKHQpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGVcIiksdGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISF0JiZcImNlbnRlclwiPT09dC5hcm91bmQpO30sbG4ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlXCIpLHRoaXMuX2VuYWJsZWQ9ITEpO30sbG4ucHJvdG90eXBlLmRpc2FibGVSb3RhdGlvbj1mdW5jdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITA7fSxsbi5wcm90b3R5cGUuZW5hYmxlUm90YXRpb249ZnVuY3Rpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExO30sbG4ucHJvdG90eXBlLm9uU3RhcnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0VuYWJsZWQoKSYmMj09PWUudG91Y2hlcy5sZW5ndGgpe3ZhciBuPWkubW91c2VQb3ModGhpcy5fZWwsZS50b3VjaGVzWzBdKSxvPWkubW91c2VQb3ModGhpcy5fZWwsZS50b3VjaGVzWzFdKSxyPW4uYWRkKG8pLmRpdigyKTt0aGlzLl9zdGFydFZlYz1uLnN1YihvKSx0aGlzLl9zdGFydEFyb3VuZD10aGlzLl9tYXAudHJhbnNmb3JtLnBvaW50TG9jYXRpb24ociksdGhpcy5fZ2VzdHVyZUludGVudD12b2lkIDAsdGhpcy5faW5lcnRpYT1bXSxpLmFkZEV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUse3Bhc3NpdmU6ITF9KSxpLmFkZEV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLHRoaXMuX29uRW5kKTt9fSxsbi5wcm90b3R5cGUuX2dldFRvdWNoRXZlbnREYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPWkubW91c2VQb3ModGhpcy5fZWwsdC50b3VjaGVzWzBdKSxuPWkubW91c2VQb3ModGhpcy5fZWwsdC50b3VjaGVzWzFdKSxvPWUuc3ViKG4pO3JldHVybiB7dmVjOm8sY2VudGVyOmUuYWRkKG4pLmRpdigyKSxzY2FsZTpvLm1hZygpL3RoaXMuX3N0YXJ0VmVjLm1hZygpLGJlYXJpbmc6dGhpcy5fcm90YXRpb25EaXNhYmxlZD8wOjE4MCpvLmFuZ2xlV2l0aCh0aGlzLl9zdGFydFZlYykvTWF0aC5QSX19LGxuLnByb3RvdHlwZS5fb25Nb3ZlPWZ1bmN0aW9uKGUpe2lmKDI9PT1lLnRvdWNoZXMubGVuZ3RoKXt2YXIgaT10aGlzLl9nZXRUb3VjaEV2ZW50RGF0YShlKSxuPWkudmVjLG89aS5zY2FsZSxyPWkuYmVhcmluZztpZighdGhpcy5fZ2VzdHVyZUludGVudCl7dmFyIGE9TWF0aC5hYnMoMS1vKT4uMTU7TWF0aC5hYnMocik+MTA/dGhpcy5fZ2VzdHVyZUludGVudD1cInJvdGF0ZVwiOmEmJih0aGlzLl9nZXN0dXJlSW50ZW50PVwiem9vbVwiKSx0aGlzLl9nZXN0dXJlSW50ZW50JiYodGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQodGhpcy5fZ2VzdHVyZUludGVudCtcInN0YXJ0XCIse29yaWdpbmFsRXZlbnQ6ZX0pKSx0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChcIm1vdmVzdGFydFwiLHtvcmlnaW5hbEV2ZW50OmV9KSksdGhpcy5fc3RhcnRWZWM9bik7fXRoaXMuX2xhc3RUb3VjaEV2ZW50PWUsdGhpcy5fZnJhbWVJZHx8KHRoaXMuX2ZyYW1lSWQ9dGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25Ub3VjaEZyYW1lKSksZS5wcmV2ZW50RGVmYXVsdCgpO319LGxuLnByb3RvdHlwZS5fb25Ub3VjaEZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVJZD1udWxsO3ZhciBlPXRoaXMuX2dlc3R1cmVJbnRlbnQ7aWYoZSl7dmFyIGk9dGhpcy5fbWFwLnRyYW5zZm9ybTt0aGlzLl9zdGFydFNjYWxlfHwodGhpcy5fc3RhcnRTY2FsZT1pLnNjYWxlLHRoaXMuX3N0YXJ0QmVhcmluZz1pLmJlYXJpbmcpO3ZhciBuPXRoaXMuX2dldFRvdWNoRXZlbnREYXRhKHRoaXMuX2xhc3RUb3VjaEV2ZW50KSxvPW4uY2VudGVyLHI9bi5iZWFyaW5nLGE9bi5zY2FsZSxzPWkucG9pbnRMb2NhdGlvbihvKSxsPWkubG9jYXRpb25Qb2ludChzKTtcInJvdGF0ZVwiPT09ZSYmKGkuYmVhcmluZz10aGlzLl9zdGFydEJlYXJpbmcrciksaS56b29tPWkuc2NhbGVab29tKHRoaXMuX3N0YXJ0U2NhbGUqYSksaS5zZXRMb2NhdGlvbkF0UG9pbnQodGhpcy5fc3RhcnRBcm91bmQsbCksdGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoZSx7b3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0VG91Y2hFdmVudH0pKSx0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChcIm1vdmVcIix7b3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0VG91Y2hFdmVudH0pKSx0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhLnB1c2goW3QuYnJvd3Nlci5ub3coKSxhLG9dKTt9fSxsbi5wcm90b3R5cGUuX29uRW5kPWZ1bmN0aW9uKGUpe2kucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCxcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSx7cGFzc2l2ZTohMX0pLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCxcInRvdWNoZW5kXCIsdGhpcy5fb25FbmQpO3ZhciBuPXRoaXMuX2dlc3R1cmVJbnRlbnQsbz10aGlzLl9zdGFydFNjYWxlO2lmKHRoaXMuX2ZyYW1lSWQmJih0aGlzLl9tYXAuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2ZyYW1lSWQpLHRoaXMuX2ZyYW1lSWQ9bnVsbCksZGVsZXRlIHRoaXMuX2dlc3R1cmVJbnRlbnQsZGVsZXRlIHRoaXMuX3N0YXJ0U2NhbGUsZGVsZXRlIHRoaXMuX3N0YXJ0QmVhcmluZyxkZWxldGUgdGhpcy5fbGFzdFRvdWNoRXZlbnQsbil7dGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQobitcImVuZFwiLHtvcmlnaW5hbEV2ZW50OmV9KSksdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7dmFyIHI9dGhpcy5faW5lcnRpYSxhPXRoaXMuX21hcDtpZihyLmxlbmd0aDwyKWEuc25hcFRvTm9ydGgoe30se29yaWdpbmFsRXZlbnQ6ZX0pO2Vsc2V7dmFyIHM9cltyLmxlbmd0aC0xXSxsPXJbMF0sYz1hLnRyYW5zZm9ybS5zY2FsZVpvb20obypzWzFdKSxoPWEudHJhbnNmb3JtLnNjYWxlWm9vbShvKmxbMV0pLHU9Yy1oLHA9KHNbMF0tbFswXSkvMWUzLGQ9c1syXTtpZigwIT09cCYmYyE9PWgpe3ZhciBfPS4xNSp1L3A7TWF0aC5hYnMoXyk+Mi41JiYoXz1fPjA/Mi41Oi0yLjUpO3ZhciBmPTFlMypNYXRoLmFicyhfLygxMiouMTUpKSxtPWMrXypmLzJlMzttPDAmJihtPTApLGEuZWFzZVRvKHt6b29tOm0sZHVyYXRpb246ZixlYXNpbmc6c24sYXJvdW5kOnRoaXMuX2Fyb3VuZENlbnRlcj9hLmdldENlbnRlcigpOmEudW5wcm9qZWN0KGQpLG5vTW92ZVN0YXJ0OiEwfSx7b3JpZ2luYWxFdmVudDplfSk7fWVsc2UgYS5zbmFwVG9Ob3J0aCh7fSx7b3JpZ2luYWxFdmVudDplfSk7fX19LGxuLnByb3RvdHlwZS5fZHJhaW5JbmVydGlhQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2luZXJ0aWEsaT10LmJyb3dzZXIubm93KCk7ZS5sZW5ndGg+MiYmaS1lWzBdWzBdPjE2MDspZS5zaGlmdCgpO307dmFyIGNuPXtzY3JvbGxab29tOkppLGJveFpvb206UWksZHJhZ1JvdGF0ZTp0bixkcmFnUGFuOm5uLGtleWJvYXJkOm9uLGRvdWJsZUNsaWNrWm9vbTphbix0b3VjaFpvb21Sb3RhdGU6bG59O3ZhciBobj1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbil7ZS5jYWxsKHRoaXMpLHRoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMudHJhbnNmb3JtPWksdGhpcy5fYmVhcmluZ1NuYXA9bi5iZWFyaW5nU25hcCx0LmJpbmRBbGwoW1wiX3JlbmRlckZyYW1lQ2FsbGJhY2tcIl0sdGhpcyk7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uY2VudGVyfSxpLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qdW1wVG8oe2NlbnRlcjp0fSxlKX0saS5wcm90b3R5cGUucGFuQnk9ZnVuY3Rpb24oZSxpLG4pe3JldHVybiBlPXQuUG9pbnQuY29udmVydChlKS5tdWx0KC0xKSx0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcix0LmV4dGVuZCh7b2Zmc2V0OmV9LGkpLG4pfSxpLnByb3RvdHlwZS5wYW5Ubz1mdW5jdGlvbihlLGksbil7cmV0dXJuIHRoaXMuZWFzZVRvKHQuZXh0ZW5kKHtjZW50ZXI6ZX0saSksbil9LGkucHJvdG90eXBlLmdldFpvb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uem9vbX0saS5wcm90b3R5cGUuc2V0Wm9vbT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmp1bXBUbyh7em9vbTp0fSxlKSx0aGlzfSxpLnByb3RvdHlwZS56b29tVG89ZnVuY3Rpb24oZSxpLG4pe3JldHVybiB0aGlzLmVhc2VUbyh0LmV4dGVuZCh7em9vbTplfSxpKSxuKX0saS5wcm90b3R5cGUuem9vbUluPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpKzEsdCxlKSx0aGlzfSxpLnByb3RvdHlwZS56b29tT3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEsdCxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRCZWFyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmd9LGkucHJvdG90eXBlLnNldEJlYXJpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qdW1wVG8oe2JlYXJpbmc6dH0sZSksdGhpc30saS5wcm90b3R5cGUucm90YXRlVG89ZnVuY3Rpb24oZSxpLG4pe3JldHVybiB0aGlzLmVhc2VUbyh0LmV4dGVuZCh7YmVhcmluZzplfSxpKSxuKX0saS5wcm90b3R5cGUucmVzZXROb3J0aD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLnJvdGF0ZVRvKDAsdC5leHRlbmQoe2R1cmF0aW9uOjFlM30sZSksaSksdGhpc30saS5wcm90b3R5cGUuc25hcFRvTm9ydGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hYnModGhpcy5nZXRCZWFyaW5nKCkpPHRoaXMuX2JlYXJpbmdTbmFwP3RoaXMucmVzZXROb3J0aCh0LGUpOnRoaXN9LGkucHJvdG90eXBlLmdldFBpdGNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdGNofSxpLnByb3RvdHlwZS5zZXRQaXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmp1bXBUbyh7cGl0Y2g6dH0sZSksdGhpc30saS5wcm90b3R5cGUuY2FtZXJhRm9yQm91bmRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9Ti5jb252ZXJ0KHQpLHRoaXMuX2NhbWVyYUZvckJveEFuZEJlYXJpbmcodC5nZXROb3J0aFdlc3QoKSx0LmdldFNvdXRoRWFzdCgpLDAsZSl9LGkucHJvdG90eXBlLl9jYW1lcmFGb3JCb3hBbmRCZWFyaW5nPWZ1bmN0aW9uKGUsaSxuLG8pe2lmKFwibnVtYmVyXCI9PXR5cGVvZihvPXQuZXh0ZW5kKHtwYWRkaW5nOnt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH0sb2Zmc2V0OlswLDBdLG1heFpvb206dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbX0sbykpLnBhZGRpbmcpe3ZhciByPW8ucGFkZGluZztvLnBhZGRpbmc9e3RvcDpyLGJvdHRvbTpyLHJpZ2h0OnIsbGVmdDpyfTt9aWYodC5kZWVwRXF1YWwoT2JqZWN0LmtleXMoby5wYWRkaW5nKS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfSksW1wiYm90dG9tXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwidG9wXCJdKSl7dmFyIGE9WyhvLnBhZGRpbmcubGVmdC1vLnBhZGRpbmcucmlnaHQpLzIsKG8ucGFkZGluZy50b3Atby5wYWRkaW5nLmJvdHRvbSkvMl0scz1NYXRoLm1pbihvLnBhZGRpbmcucmlnaHQsby5wYWRkaW5nLmxlZnQpLGw9TWF0aC5taW4oby5wYWRkaW5nLnRvcCxvLnBhZGRpbmcuYm90dG9tKTtvLm9mZnNldD1bby5vZmZzZXRbMF0rYVswXSxvLm9mZnNldFsxXSthWzFdXTt2YXIgYz10aGlzLnRyYW5zZm9ybSxoPWMucHJvamVjdChVLmNvbnZlcnQoZSkpLHU9Yy5wcm9qZWN0KFUuY29udmVydChpKSkscD1oLnJvdGF0ZSgtbipNYXRoLlBJLzE4MCksZD11LnJvdGF0ZSgtbipNYXRoLlBJLzE4MCksXz1uZXcgdC5Qb2ludChNYXRoLm1heChwLngsZC54KSxNYXRoLm1heChwLnksZC55KSksZj1uZXcgdC5Qb2ludChNYXRoLm1pbihwLngsZC54KSxNYXRoLm1pbihwLnksZC55KSksbT10LlBvaW50LmNvbnZlcnQoby5vZmZzZXQpLGc9Xy5zdWIoZiksdj0oYy53aWR0aC0yKnMtMipNYXRoLmFicyhtLngpKS9nLngseT0oYy5oZWlnaHQtMipsLTIqTWF0aC5hYnMobS55KSkvZy55O2lmKCEoeTwwfHx2PDApKXJldHVybiBvLmNlbnRlcj1jLnVucHJvamVjdChoLmFkZCh1KS5kaXYoMikpLG8uem9vbT1NYXRoLm1pbihjLnNjYWxlWm9vbShjLnNjYWxlKk1hdGgubWluKHYseSkpLG8ubWF4Wm9vbSksby5iZWFyaW5nPW4sbzt0Lndhcm5PbmNlKFwiTWFwIGNhbm5vdCBmaXQgd2l0aGluIGNhbnZhcyB3aXRoIHRoZSBnaXZlbiBib3VuZHMsIHBhZGRpbmcsIGFuZC9vciBvZmZzZXQuXCIpO31lbHNlIHQud2Fybk9uY2UoXCJvcHRpb25zLnBhZGRpbmcgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciwgb3IgYW4gT2JqZWN0IHdpdGgga2V5cyAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAndG9wJ1wiKTt9LGkucHJvdG90eXBlLmZpdEJvdW5kcz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKHRoaXMuY2FtZXJhRm9yQm91bmRzKHQsZSksZSxpKX0saS5wcm90b3R5cGUuZml0U2NyZWVuQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSxpLG4sbyxyKXtyZXR1cm4gdGhpcy5fZml0SW50ZXJuYWwodGhpcy5fY2FtZXJhRm9yQm94QW5kQmVhcmluZyh0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKHQuUG9pbnQuY29udmVydChlKSksdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbih0LlBvaW50LmNvbnZlcnQoaSkpLG4sbyksbyxyKX0saS5wcm90b3R5cGUuX2ZpdEludGVybmFsPWZ1bmN0aW9uKGUsaSxuKXtyZXR1cm4gZT8oaT10LmV4dGVuZChlLGkpKS5saW5lYXI/dGhpcy5lYXNlVG8oaSxuKTp0aGlzLmZseVRvKGksbik6dGhpc30saS5wcm90b3R5cGUuanVtcFRvPWZ1bmN0aW9uKGUsaSl7dGhpcy5zdG9wKCk7dmFyIG49dGhpcy50cmFuc2Zvcm0sbz0hMSxyPSExLGE9ITE7cmV0dXJuIFwiem9vbVwiaW4gZSYmbi56b29tIT09K2Uuem9vbSYmKG89ITAsbi56b29tPStlLnpvb20pLHZvaWQgMCE9PWUuY2VudGVyJiYobi5jZW50ZXI9VS5jb252ZXJ0KGUuY2VudGVyKSksXCJiZWFyaW5nXCJpbiBlJiZuLmJlYXJpbmchPT0rZS5iZWFyaW5nJiYocj0hMCxuLmJlYXJpbmc9K2UuYmVhcmluZyksXCJwaXRjaFwiaW4gZSYmbi5waXRjaCE9PStlLnBpdGNoJiYoYT0hMCxuLnBpdGNoPStlLnBpdGNoKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJtb3Zlc3RhcnRcIixpKSkuZmlyZShuZXcgdC5FdmVudChcIm1vdmVcIixpKSksbyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwiem9vbXN0YXJ0XCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoXCJ6b29tXCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoXCJ6b29tZW5kXCIsaSkpLHImJnRoaXMuZmlyZShuZXcgdC5FdmVudChcInJvdGF0ZXN0YXJ0XCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoXCJyb3RhdGVcIixpKSkuZmlyZShuZXcgdC5FdmVudChcInJvdGF0ZWVuZFwiLGkpKSxhJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJwaXRjaHN0YXJ0XCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoXCJwaXRjaFwiLGkpKS5maXJlKG5ldyB0LkV2ZW50KFwicGl0Y2hlbmRcIixpKSksdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwibW92ZWVuZFwiLGkpKX0saS5wcm90b3R5cGUuZWFzZVRvPWZ1bmN0aW9uKGUsaSl7dmFyIG49dGhpczt0aGlzLnN0b3AoKSwhMT09PShlPXQuZXh0ZW5kKHtvZmZzZXQ6WzAsMF0sZHVyYXRpb246NTAwLGVhc2luZzp0LmVhc2V9LGUpKS5hbmltYXRlJiYoZS5kdXJhdGlvbj0wKTt2YXIgbz10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLGE9dGhpcy5nZXRCZWFyaW5nKCkscz10aGlzLmdldFBpdGNoKCksbD1cInpvb21cImluIGU/K2Uuem9vbTpyLGM9XCJiZWFyaW5nXCJpbiBlP3RoaXMuX25vcm1hbGl6ZUJlYXJpbmcoZS5iZWFyaW5nLGEpOmEsaD1cInBpdGNoXCJpbiBlPytlLnBpdGNoOnMsdT1vLmNlbnRlclBvaW50LmFkZCh0LlBvaW50LmNvbnZlcnQoZS5vZmZzZXQpKSxwPW8ucG9pbnRMb2NhdGlvbih1KSxkPVUuY29udmVydChlLmNlbnRlcnx8cCk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKGQpO3ZhciBfLGYsbT1vLnByb2plY3QocCksZz1vLnByb2plY3QoZCkuc3ViKG0pLHY9by56b29tU2NhbGUobC1yKTtyZXR1cm4gZS5hcm91bmQmJihfPVUuY29udmVydChlLmFyb3VuZCksZj1vLmxvY2F0aW9uUG9pbnQoXykpLHRoaXMuX3pvb21pbmc9bCE9PXIsdGhpcy5fcm90YXRpbmc9YSE9PWMsdGhpcy5fcGl0Y2hpbmc9aCE9PXMsdGhpcy5fcHJlcGFyZUVhc2UoaSxlLm5vTW92ZVN0YXJ0KSxjbGVhclRpbWVvdXQodGhpcy5fZWFzZUVuZFRpbWVvdXRJRCksdGhpcy5fZWFzZShmdW5jdGlvbihlKXtpZihuLl96b29taW5nJiYoby56b29tPXQubnVtYmVyKHIsbCxlKSksbi5fcm90YXRpbmcmJihvLmJlYXJpbmc9dC5udW1iZXIoYSxjLGUpKSxuLl9waXRjaGluZyYmKG8ucGl0Y2g9dC5udW1iZXIocyxoLGUpKSxfKW8uc2V0TG9jYXRpb25BdFBvaW50KF8sZik7ZWxzZXt2YXIgcD1vLnpvb21TY2FsZShvLnpvb20tciksZD1sPnI/TWF0aC5taW4oMix2KTpNYXRoLm1heCguNSx2KSx5PU1hdGgucG93KGQsMS1lKSx4PW8udW5wcm9qZWN0KG0uYWRkKGcubXVsdChlKnkpKS5tdWx0KHApKTtvLnNldExvY2F0aW9uQXRQb2ludChvLnJlbmRlcldvcmxkQ29waWVzP3gud3JhcCgpOngsdSk7fW4uX2ZpcmVNb3ZlRXZlbnRzKGkpO30sZnVuY3Rpb24oKXtlLmRlbGF5RW5kRXZlbnRzP24uX2Vhc2VFbmRUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBuLl9hZnRlckVhc2UoaSl9LGUuZGVsYXlFbmRFdmVudHMpOm4uX2FmdGVyRWFzZShpKTt9LGUpLHRoaXN9LGkucHJvdG90eXBlLl9wcmVwYXJlRWFzZT1mdW5jdGlvbihlLGkpe3RoaXMuX21vdmluZz0hMCxpfHx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJtb3Zlc3RhcnRcIixlKSksdGhpcy5fem9vbWluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwiem9vbXN0YXJ0XCIsZSkpLHRoaXMuX3JvdGF0aW5nJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJyb3RhdGVzdGFydFwiLGUpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwicGl0Y2hzdGFydFwiLGUpKTt9LGkucHJvdG90eXBlLl9maXJlTW92ZUV2ZW50cz1mdW5jdGlvbihlKXt0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJtb3ZlXCIsZSkpLHRoaXMuX3pvb21pbmcmJnRoaXMuZmlyZShuZXcgdC5FdmVudChcInpvb21cIixlKSksdGhpcy5fcm90YXRpbmcmJnRoaXMuZmlyZShuZXcgdC5FdmVudChcInJvdGF0ZVwiLGUpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwicGl0Y2hcIixlKSk7fSxpLnByb3RvdHlwZS5fYWZ0ZXJFYXNlPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX3pvb21pbmcsbj10aGlzLl9yb3RhdGluZyxvPXRoaXMuX3BpdGNoaW5nO3RoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMuX3JvdGF0aW5nPSExLHRoaXMuX3BpdGNoaW5nPSExLGkmJnRoaXMuZmlyZShuZXcgdC5FdmVudChcInpvb21lbmRcIixlKSksbiYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwicm90YXRlZW5kXCIsZSkpLG8mJnRoaXMuZmlyZShuZXcgdC5FdmVudChcInBpdGNoZW5kXCIsZSkpLHRoaXMuZmlyZShuZXcgdC5FdmVudChcIm1vdmVlbmRcIixlKSk7fSxpLnByb3RvdHlwZS5mbHlUbz1mdW5jdGlvbihlLGkpe3ZhciBuPXRoaXM7dGhpcy5zdG9wKCksZT10LmV4dGVuZCh7b2Zmc2V0OlswLDBdLHNwZWVkOjEuMixjdXJ2ZToxLjQyLGVhc2luZzp0LmVhc2V9LGUpO3ZhciBvPXRoaXMudHJhbnNmb3JtLHI9dGhpcy5nZXRab29tKCksYT10aGlzLmdldEJlYXJpbmcoKSxzPXRoaXMuZ2V0UGl0Y2goKSxsPVwiem9vbVwiaW4gZT90LmNsYW1wKCtlLnpvb20sby5taW5ab29tLG8ubWF4Wm9vbSk6cixjPVwiYmVhcmluZ1wiaW4gZT90aGlzLl9ub3JtYWxpemVCZWFyaW5nKGUuYmVhcmluZyxhKTphLGg9XCJwaXRjaFwiaW4gZT8rZS5waXRjaDpzLHU9by56b29tU2NhbGUobC1yKSxwPW8uY2VudGVyUG9pbnQuYWRkKHQuUG9pbnQuY29udmVydChlLm9mZnNldCkpLGQ9by5wb2ludExvY2F0aW9uKHApLF89VS5jb252ZXJ0KGUuY2VudGVyfHxkKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIoXyk7dmFyIGY9by5wcm9qZWN0KGQpLG09by5wcm9qZWN0KF8pLnN1YihmKSxnPWUuY3VydmUsdj1NYXRoLm1heChvLndpZHRoLG8uaGVpZ2h0KSx5PXYvdSx4PW0ubWFnKCk7aWYoXCJtaW5ab29tXCJpbiBlKXt2YXIgYj10LmNsYW1wKE1hdGgubWluKGUubWluWm9vbSxyLGwpLG8ubWluWm9vbSxvLm1heFpvb20pLHc9di9vLnpvb21TY2FsZShiLXIpO2c9TWF0aC5zcXJ0KHcveCoyKTt9dmFyIEU9ZypnO2Z1bmN0aW9uIFQodCl7dmFyIGU9KHkqeS12KnYrKHQ/LTE6MSkqRSpFKngqeCkvKDIqKHQ/eTp2KSpFKngpO3JldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoZSplKzEpLWUpfWZ1bmN0aW9uIFModCl7cmV0dXJuIChNYXRoLmV4cCh0KS1NYXRoLmV4cCgtdCkpLzJ9ZnVuY3Rpb24gSSh0KXtyZXR1cm4gKE1hdGguZXhwKHQpK01hdGguZXhwKC10KSkvMn12YXIgQz1UKDApLHo9ZnVuY3Rpb24odCl7cmV0dXJuIEkoQykvSShDK2cqdCl9LFA9ZnVuY3Rpb24odCl7cmV0dXJuIHYqKChJKEMpKihTKGU9QytnKnQpL0koZSkpLVMoQykpL0UpL3g7dmFyIGU7fSxSPShUKDEpLUMpL2c7aWYoTWF0aC5hYnMoeCk8MWUtNnx8IWlzRmluaXRlKFIpKXtpZihNYXRoLmFicyh2LXkpPDFlLTYpcmV0dXJuIHRoaXMuZWFzZVRvKGUsaSk7dmFyIEE9eTx2Py0xOjE7Uj1NYXRoLmFicyhNYXRoLmxvZyh5L3YpKS9nLFA9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sej1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5leHAoQSpnKnQpfTt9aWYoXCJkdXJhdGlvblwiaW4gZSllLmR1cmF0aW9uPStlLmR1cmF0aW9uO2Vsc2V7dmFyIEw9XCJzY3JlZW5TcGVlZFwiaW4gZT8rZS5zY3JlZW5TcGVlZC9nOitlLnNwZWVkO2UuZHVyYXRpb249MWUzKlIvTDt9cmV0dXJuIGUubWF4RHVyYXRpb24mJmUuZHVyYXRpb24+ZS5tYXhEdXJhdGlvbiYmKGUuZHVyYXRpb249MCksdGhpcy5fem9vbWluZz0hMCx0aGlzLl9yb3RhdGluZz1hIT09Yyx0aGlzLl9waXRjaGluZz1oIT09cyx0aGlzLl9wcmVwYXJlRWFzZShpLCExKSx0aGlzLl9lYXNlKGZ1bmN0aW9uKGUpe3ZhciB1PWUqUixkPTEveih1KTtvLnpvb209MT09PWU/bDpyK28uc2NhbGVab29tKGQpLG4uX3JvdGF0aW5nJiYoby5iZWFyaW5nPXQubnVtYmVyKGEsYyxlKSksbi5fcGl0Y2hpbmcmJihvLnBpdGNoPXQubnVtYmVyKHMsaCxlKSk7dmFyIGc9MT09PWU/XzpvLnVucHJvamVjdChmLmFkZChtLm11bHQoUCh1KSkpLm11bHQoZCkpO28uc2V0TG9jYXRpb25BdFBvaW50KG8ucmVuZGVyV29ybGRDb3BpZXM/Zy53cmFwKCk6ZyxwKSxuLl9maXJlTW92ZUV2ZW50cyhpKTt9LGZ1bmN0aW9uKCl7cmV0dXJuIG4uX2FmdGVyRWFzZShpKX0sZSksdGhpc30saS5wcm90b3R5cGUuaXNFYXNpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9lYXNlRnJhbWVJZH0saS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe2lmKHRoaXMuX2Vhc2VGcmFtZUlkJiYodGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpLGRlbGV0ZSB0aGlzLl9lYXNlRnJhbWVJZCxkZWxldGUgdGhpcy5fb25FYXNlRnJhbWUpLHRoaXMuX29uRWFzZUVuZCl7dmFyIHQ9dGhpcy5fb25FYXNlRW5kO2RlbGV0ZSB0aGlzLl9vbkVhc2VFbmQsdC5jYWxsKHRoaXMpO31yZXR1cm4gdGhpc30saS5wcm90b3R5cGUuX2Vhc2U9ZnVuY3Rpb24oZSxpLG4peyExPT09bi5hbmltYXRlfHwwPT09bi5kdXJhdGlvbj8oZSgxKSxpKCkpOih0aGlzLl9lYXNlU3RhcnQ9dC5icm93c2VyLm5vdygpLHRoaXMuX2Vhc2VPcHRpb25zPW4sdGhpcy5fb25FYXNlRnJhbWU9ZSx0aGlzLl9vbkVhc2VFbmQ9aSx0aGlzLl9lYXNlRnJhbWVJZD10aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjaykpO30saS5wcm90b3R5cGUuX3JlbmRlckZyYW1lQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLm1pbigodC5icm93c2VyLm5vdygpLXRoaXMuX2Vhc2VTdGFydCkvdGhpcy5fZWFzZU9wdGlvbnMuZHVyYXRpb24sMSk7dGhpcy5fb25FYXNlRnJhbWUodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKGUpKSxlPDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpO30saS5wcm90b3R5cGUuX25vcm1hbGl6ZUJlYXJpbmc9ZnVuY3Rpb24oZSxpKXtlPXQud3JhcChlLC0xODAsMTgwKTt2YXIgbj1NYXRoLmFicyhlLWkpO3JldHVybiBNYXRoLmFicyhlLTM2MC1pKTxuJiYoZS09MzYwKSxNYXRoLmFicyhlKzM2MC1pKTxuJiYoZSs9MzYwKSxlfSxpLnByb3RvdHlwZS5fbm9ybWFsaXplQ2VudGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNmb3JtO2lmKGUucmVuZGVyV29ybGRDb3BpZXMmJiFlLmxuZ1JhbmdlKXt2YXIgaT10LmxuZy1lLmNlbnRlci5sbmc7dC5sbmcrPWk+MTgwPy0zNjA6aTwtMTgwPzM2MDowO319LGl9KHQuRXZlbnRlZCksdW49ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9e30pLHRoaXMub3B0aW9ucz1lLHQuYmluZEFsbChbXCJfdXBkYXRlRWRpdExpbmtcIixcIl91cGRhdGVEYXRhXCIsXCJfdXBkYXRlQ29tcGFjdFwiXSx0aGlzKTt9O3VuLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gXCJib3R0b20tcmlnaHRcIn0sdW4ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmNvbXBhY3Q7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZShcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYlwiKSxlJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3RcIiksdGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCksdGhpcy5fdXBkYXRlRWRpdExpbmsoKSx0aGlzLl9tYXAub24oXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9uKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx2b2lkIDA9PT1lJiYodGhpcy5fbWFwLm9uKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fdXBkYXRlQ29tcGFjdCgpKSx0aGlzLl9jb250YWluZXJ9LHVuLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe2kucmVtb3ZlKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fbWFwPXZvaWQgMDt9LHVuLnByb3RvdHlwZS5fdXBkYXRlRWRpdExpbms9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9lZGl0TGluazt0fHwodD10aGlzLl9lZGl0TGluaz10aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tYXBib3gtaW1wcm92ZS1tYXBcIikpO3ZhciBlPVt7a2V5Olwib3duZXJcIix2YWx1ZTp0aGlzLnN0eWxlT3duZXJ9LHtrZXk6XCJpZFwiLHZhbHVlOnRoaXMuc3R5bGVJZH0se2tleTpcImFjY2Vzc190b2tlblwiLHZhbHVlOnUuQUNDRVNTX1RPS0VOfV07aWYodCl7dmFyIGk9ZS5yZWR1Y2UoZnVuY3Rpb24odCxpLG4pe3JldHVybiBpLnZhbHVlJiYodCs9aS5rZXkrXCI9XCIraS52YWx1ZSsobjxlLmxlbmd0aC0xP1wiJlwiOlwiXCIpKSx0fSxcIj9cIik7dC5ocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9mZWVkYmFjay9cIitpKyh0aGlzLl9tYXAuX2hhc2g/dGhpcy5fbWFwLl9oYXNoLmdldEhhc2hTdHJpbmcoITApOlwiXCIpO319LHVuLnByb3RvdHlwZS5fdXBkYXRlRGF0YT1mdW5jdGlvbih0KXt0JiZcIm1ldGFkYXRhXCI9PT10LnNvdXJjZURhdGFUeXBlJiYodGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCksdGhpcy5fdXBkYXRlRWRpdExpbmsoKSk7fSx1bi5wcm90b3R5cGUuX3VwZGF0ZUF0dHJpYnV0aW9ucz1mdW5jdGlvbigpe2lmKHRoaXMuX21hcC5zdHlsZSl7dmFyIHQ9W107aWYodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uJiYoQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pP3Q9dC5jb25jYXQodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKTpcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uJiZ0LnB1c2godGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKSksdGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQpe3ZhciBlPXRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0O3RoaXMuc3R5bGVPd25lcj1lLm93bmVyLHRoaXMuc3R5bGVJZD1lLmlkO312YXIgaT10aGlzLl9tYXAuc3R5bGUuc291cmNlQ2FjaGVzO2Zvcih2YXIgbiBpbiBpKXt2YXIgbz1pW25dLmdldFNvdXJjZSgpO28uYXR0cmlidXRpb24mJnQuaW5kZXhPZihvLmF0dHJpYnV0aW9uKTwwJiZ0LnB1c2goby5hdHRyaWJ1dGlvbik7fXQuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0Lmxlbmd0aC1lLmxlbmd0aH0pLCh0PXQuZmlsdGVyKGZ1bmN0aW9uKGUsaSl7Zm9yKHZhciBuPWkrMTtuPHQubGVuZ3RoO24rKylpZih0W25dLmluZGV4T2YoZSk+PTApcmV0dXJuICExO3JldHVybiAhMH0pKS5sZW5ndGg/KHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUw9dC5qb2luKFwiIHwgXCIpLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtYXR0cmliLWVtcHR5XCIpKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWF0dHJpYi1lbXB0eVwiKSx0aGlzLl9lZGl0TGluaz1udWxsO319LHVuLnByb3RvdHlwZS5fdXBkYXRlQ29tcGFjdD1mdW5jdGlvbigpe3RoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDw9NjQwP3RoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3RcIik7fTt2YXIgcG49ZnVuY3Rpb24oKXt0LmJpbmRBbGwoW1wiX3VwZGF0ZUxvZ29cIl0sdGhpcyksdC5iaW5kQWxsKFtcIl91cGRhdGVDb21wYWN0XCJdLHRoaXMpO307cG4ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZShcImRpdlwiLFwibWFwYm94Z2wtY3RybFwiKTt2YXIgZT1pLmNyZWF0ZShcImFcIixcIm1hcGJveGdsLWN0cmwtbG9nb1wiKTtyZXR1cm4gZS50YXJnZXQ9XCJfYmxhbmtcIixlLmhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL1wiLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiTWFwYm94IGxvZ29cIiksZS5zZXRBdHRyaWJ1dGUoXCJyZWxcIixcIm5vb3BlbmVyXCIpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZChlKSx0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLl9tYXAub24oXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fdXBkYXRlTG9nbygpLHRoaXMuX21hcC5vbihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSx0aGlzLl9jb250YWluZXJ9LHBuLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe2kucmVtb3ZlKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCk7fSxwbi5wcm90b3R5cGUuZ2V0RGVmYXVsdFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIFwiYm90dG9tLWxlZnRcIn0scG4ucHJvdG90eXBlLl91cGRhdGVMb2dvPWZ1bmN0aW9uKHQpe3QmJlwibWV0YWRhdGFcIiE9PXQuc291cmNlRGF0YVR5cGV8fCh0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT10aGlzLl9sb2dvUmVxdWlyZWQoKT9cImJsb2NrXCI6XCJub25lXCIpO30scG4ucHJvdG90eXBlLl9sb2dvUmVxdWlyZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9tYXAuc3R5bGUpe3ZhciB0PXRoaXMuX21hcC5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBlIGluIHQpe2lmKHRbZV0uZ2V0U291cmNlKCkubWFwYm94X2xvZ28pcmV0dXJuICEwfXJldHVybiAhMX19LHBuLnByb3RvdHlwZS5fdXBkYXRlQ29tcGFjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRhaW5lci5jaGlsZHJlbjtpZih0Lmxlbmd0aCl7dmFyIGU9dFswXTt0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGg8MjUwP2UuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3RcIik6ZS5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdFwiKTt9fTt2YXIgZG49ZnVuY3Rpb24oKXt0aGlzLl9xdWV1ZT1bXSx0aGlzLl9pZD0wLHRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMTt9O2RuLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9Kyt0aGlzLl9pZDtyZXR1cm4gdGhpcy5fcXVldWUucHVzaCh7Y2FsbGJhY2s6dCxpZDplLGNhbmNlbGxlZDohMX0pLGV9LGRuLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2N1cnJlbnRseVJ1bm5pbmcsaT0wLG49ZT90aGlzLl9xdWV1ZS5jb25jYXQoZSk6dGhpcy5fcXVldWU7aTxuLmxlbmd0aDtpKz0xKXt2YXIgbz1uW2ldO2lmKG8uaWQ9PT10KXJldHVybiB2b2lkKG8uY2FuY2VsbGVkPSEwKX19LGRuLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jdXJyZW50bHlSdW5uaW5nPXRoaXMuX3F1ZXVlO3RoaXMuX3F1ZXVlPVtdO2Zvcih2YXIgZT0wLGk9dDtlPGkubGVuZ3RoO2UrPTEpe3ZhciBuPWlbZV07aWYoIW4uY2FuY2VsbGVkJiYobi5jYWxsYmFjaygpLHRoaXMuX2NsZWFyZWQpKWJyZWFrfXRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMTt9LGRuLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRseVJ1bm5pbmcmJih0aGlzLl9jbGVhcmVkPSEwKSx0aGlzLl9xdWV1ZT1bXTt9O3ZhciBfbj10LndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50LGZuPXQud2luZG93LkhUTUxFbGVtZW50LG1uPXtjZW50ZXI6WzAsMF0sem9vbTowLGJlYXJpbmc6MCxwaXRjaDowLG1pblpvb206MCxtYXhab29tOjIyLGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCxiZWFyaW5nU25hcDo3LGNsaWNrVG9sZXJhbmNlOjMsaGFzaDohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITEsdHJhY2tSZXNpemU6ITAscmVuZGVyV29ybGRDb3BpZXM6ITAscmVmcmVzaEV4cGlyZWRUaWxlczohMCxtYXhUaWxlQ2FjaGVTaXplOm51bGwsdHJhbnNmb3JtUmVxdWVzdDpudWxsLGZhZGVEdXJhdGlvbjozMDAsY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiEwfSxnbj1mdW5jdGlvbihuKXtmdW5jdGlvbiBvKGUpe3ZhciBvPXRoaXM7aWYobnVsbCE9KGU9dC5leHRlbmQoe30sbW4sZSkpLm1pblpvb20mJm51bGwhPWUubWF4Wm9vbSYmZS5taW5ab29tPmUubWF4Wm9vbSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG1pblpvb21cIik7dmFyIHI9bmV3IEdpKGUubWluWm9vbSxlLm1heFpvb20sZS5yZW5kZXJXb3JsZENvcGllcyk7bi5jYWxsKHRoaXMscixlKSx0aGlzLl9pbnRlcmFjdGl2ZT1lLmludGVyYWN0aXZlLHRoaXMuX21heFRpbGVDYWNoZVNpemU9ZS5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcj1lLnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLl90cmFja1Jlc2l6ZT1lLnRyYWNrUmVzaXplLHRoaXMuX2JlYXJpbmdTbmFwPWUuYmVhcmluZ1NuYXAsdGhpcy5fcmVmcmVzaEV4cGlyZWRUaWxlcz1lLnJlZnJlc2hFeHBpcmVkVGlsZXMsdGhpcy5fZmFkZUR1cmF0aW9uPWUuZmFkZUR1cmF0aW9uLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucz1lLmNyb3NzU291cmNlQ29sbGlzaW9ucyx0aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcj0xLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz1lLmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLl9yZW5kZXJUYXNrUXVldWU9bmV3IGRuLHRoaXMuX2NvbnRyb2xzPVtdO3ZhciBhPWUudHJhbnNmb3JtUmVxdWVzdDtpZih0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0PWE/ZnVuY3Rpb24odCxlKXtyZXR1cm4gYSh0LGUpfHx7dXJsOnR9fTpmdW5jdGlvbih0KXtyZXR1cm4ge3VybDp0fX0sXCJzdHJpbmdcIj09dHlwZW9mIGUuY29udGFpbmVyKXtpZih0aGlzLl9jb250YWluZXI9dC53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5jb250YWluZXIpLCF0aGlzLl9jb250YWluZXIpdGhyb3cgbmV3IEVycm9yKFwiQ29udGFpbmVyICdcIitlLmNvbnRhaW5lcitcIicgbm90IGZvdW5kLlwiKX1lbHNle2lmKCEoZS5jb250YWluZXIgaW5zdGFuY2VvZiBmbikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0eXBlOiAnY29udGFpbmVyJyBtdXN0IGJlIGEgU3RyaW5nIG9yIEhUTUxFbGVtZW50LlwiKTt0aGlzLl9jb250YWluZXI9ZS5jb250YWluZXI7fWlmKGUubWF4Qm91bmRzJiZ0aGlzLnNldE1heEJvdW5kcyhlLm1heEJvdW5kcyksdC5iaW5kQWxsKFtcIl9vbldpbmRvd09ubGluZVwiLFwiX29uV2luZG93UmVzaXplXCIsXCJfY29udGV4dExvc3RcIixcIl9jb250ZXh0UmVzdG9yZWRcIl0sdGhpcyksdGhpcy5fc2V0dXBDb250YWluZXIoKSx0aGlzLl9zZXR1cFBhaW50ZXIoKSx2b2lkIDA9PT10aGlzLnBhaW50ZXIpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0wuXCIpO3RoaXMub24oXCJtb3ZlXCIsZnVuY3Rpb24oKXtyZXR1cm4gby5fdXBkYXRlKCExKX0pLHRoaXMub24oXCJ6b29tXCIsZnVuY3Rpb24oKXtyZXR1cm4gby5fdXBkYXRlKCEwKX0pLHZvaWQgMCE9PXQud2luZG93JiYodC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSx0LndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpKSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCksbz1udWxsLHI9ITEsYT1udWxsO2Zvcih2YXIgcyBpbiBjbil0W3NdPW5ldyBjbltzXSh0LGUpLGUuaW50ZXJhY3RpdmUmJmVbc10mJnRbc10uZW5hYmxlKGVbc10pO2kuYWRkRXZlbnRMaXN0ZW5lcihuLFwibW91c2VvdXRcIixmdW5jdGlvbihlKXt0LmZpcmUobmV3IEhpKFwibW91c2VvdXRcIix0LGUpKTt9KSxpLmFkZEV2ZW50TGlzdGVuZXIobixcIm1vdXNlZG93blwiLGZ1bmN0aW9uKG8pe3I9ITAsYT1pLm1vdXNlUG9zKG4sbyk7dmFyIHM9bmV3IEhpKFwibW91c2Vkb3duXCIsdCxvKTt0LmZpcmUocykscy5kZWZhdWx0UHJldmVudGVkfHwoZS5pbnRlcmFjdGl2ZSYmIXQuZG91YmxlQ2xpY2tab29tLmlzQWN0aXZlKCkmJnQuc3RvcCgpLHQuYm94Wm9vbS5vbk1vdXNlRG93bihvKSx0LmJveFpvb20uaXNBY3RpdmUoKXx8dC5kcmFnUGFuLmlzQWN0aXZlKCl8fHQuZHJhZ1JvdGF0ZS5vbk1vdXNlRG93bihvKSx0LmJveFpvb20uaXNBY3RpdmUoKXx8dC5kcmFnUm90YXRlLmlzQWN0aXZlKCl8fHQuZHJhZ1Bhbi5vbk1vdXNlRG93bihvKSk7fSksaS5hZGRFdmVudExpc3RlbmVyKG4sXCJtb3VzZXVwXCIsZnVuY3Rpb24oZSl7dmFyIGk9dC5kcmFnUm90YXRlLmlzQWN0aXZlKCk7byYmIWkmJnQuZmlyZShuZXcgSGkoXCJjb250ZXh0bWVudVwiLHQsbykpLG89bnVsbCxyPSExLHQuZmlyZShuZXcgSGkoXCJtb3VzZXVwXCIsdCxlKSk7fSksaS5hZGRFdmVudExpc3RlbmVyKG4sXCJtb3VzZW1vdmVcIixmdW5jdGlvbihlKXtpZighdC5kcmFnUGFuLmlzQWN0aXZlKCkmJiF0LmRyYWdSb3RhdGUuaXNBY3RpdmUoKSl7Zm9yKHZhciBpPWUudGFyZ2V0O2kmJmkhPT1uOylpPWkucGFyZW50Tm9kZTtpPT09biYmdC5maXJlKG5ldyBIaShcIm1vdXNlbW92ZVwiLHQsZSkpO319KSxpLmFkZEV2ZW50TGlzdGVuZXIobixcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1lLnRhcmdldDtpJiZpIT09bjspaT1pLnBhcmVudE5vZGU7aT09PW4mJnQuZmlyZShuZXcgSGkoXCJtb3VzZW92ZXJcIix0LGUpKTt9KSxpLmFkZEV2ZW50TGlzdGVuZXIobixcInRvdWNoc3RhcnRcIixmdW5jdGlvbihpKXt2YXIgbj1uZXcgS2koXCJ0b3VjaHN0YXJ0XCIsdCxpKTt0LmZpcmUobiksbi5kZWZhdWx0UHJldmVudGVkfHwoZS5pbnRlcmFjdGl2ZSYmdC5zdG9wKCksdC5ib3hab29tLmlzQWN0aXZlKCl8fHQuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpfHx0LmRyYWdQYW4ub25Ub3VjaFN0YXJ0KGkpLHQudG91Y2hab29tUm90YXRlLm9uU3RhcnQoaSksdC5kb3VibGVDbGlja1pvb20ub25Ub3VjaFN0YXJ0KG4pKTt9LHtwYXNzaXZlOiExfSksaS5hZGRFdmVudExpc3RlbmVyKG4sXCJ0b3VjaG1vdmVcIixmdW5jdGlvbihlKXt0LmZpcmUobmV3IEtpKFwidG91Y2htb3ZlXCIsdCxlKSk7fSx7cGFzc2l2ZTohMX0pLGkuYWRkRXZlbnRMaXN0ZW5lcihuLFwidG91Y2hlbmRcIixmdW5jdGlvbihlKXt0LmZpcmUobmV3IEtpKFwidG91Y2hlbmRcIix0LGUpKTt9KSxpLmFkZEV2ZW50TGlzdGVuZXIobixcInRvdWNoY2FuY2VsXCIsZnVuY3Rpb24oZSl7dC5maXJlKG5ldyBLaShcInRvdWNoY2FuY2VsXCIsdCxlKSk7fSksaS5hZGRFdmVudExpc3RlbmVyKG4sXCJjbGlja1wiLGZ1bmN0aW9uKG8pe3ZhciByPWkubW91c2VQb3MobixvKTsoci5lcXVhbHMoYSl8fHIuZGlzdChhKTxlLmNsaWNrVG9sZXJhbmNlKSYmdC5maXJlKG5ldyBIaShcImNsaWNrXCIsdCxvKSk7fSksaS5hZGRFdmVudExpc3RlbmVyKG4sXCJkYmxjbGlja1wiLGZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBIaShcImRibGNsaWNrXCIsdCxlKTt0LmZpcmUoaSksaS5kZWZhdWx0UHJldmVudGVkfHx0LmRvdWJsZUNsaWNrWm9vbS5vbkRibENsaWNrKGkpO30pLGkuYWRkRXZlbnRMaXN0ZW5lcihuLFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihlKXt2YXIgaT10LmRyYWdSb3RhdGUuaXNBY3RpdmUoKTtyfHxpP3ImJihvPWUpOnQuZmlyZShuZXcgSGkoXCJjb250ZXh0bWVudVwiLHQsZSkpLGUucHJldmVudERlZmF1bHQoKTt9KSxpLmFkZEV2ZW50TGlzdGVuZXIobixcIndoZWVsXCIsZnVuY3Rpb24oaSl7ZS5pbnRlcmFjdGl2ZSYmdC5zdG9wKCk7dmFyIG49bmV3IFlpKFwid2hlZWxcIix0LGkpO3QuZmlyZShuKSxuLmRlZmF1bHRQcmV2ZW50ZWR8fHQuc2Nyb2xsWm9vbS5vbldoZWVsKGkpO30se3Bhc3NpdmU6ITF9KTt9KHRoaXMsZSksdGhpcy5faGFzaD1lLmhhc2gmJihuZXcgWGkpLmFkZFRvKHRoaXMpLHRoaXMuX2hhc2gmJnRoaXMuX2hhc2guX29uSGFzaENoYW5nZSgpfHx0aGlzLmp1bXBUbyh7Y2VudGVyOmUuY2VudGVyLHpvb206ZS56b29tLGJlYXJpbmc6ZS5iZWFyaW5nLHBpdGNoOmUucGl0Y2h9KSx0aGlzLnJlc2l6ZSgpLGUuc3R5bGUmJnRoaXMuc2V0U3R5bGUoZS5zdHlsZSx7bG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OmUubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5fSksZS5hdHRyaWJ1dGlvbkNvbnRyb2wmJnRoaXMuYWRkQ29udHJvbChuZXcgdW4oe2N1c3RvbUF0dHJpYnV0aW9uOmUuY3VzdG9tQXR0cmlidXRpb259KSksdGhpcy5hZGRDb250cm9sKG5ldyBwbixlLmxvZ29Qb3NpdGlvbiksdGhpcy5vbihcInN0eWxlLmxvYWRcIixmdW5jdGlvbigpe28udHJhbnNmb3JtLnVubW9kaWZpZWQmJm8uanVtcFRvKG8uc3R5bGUuc3R5bGVzaGVldCk7fSksdGhpcy5vbihcImRhdGFcIixmdW5jdGlvbihlKXtvLl91cGRhdGUoXCJzdHlsZVwiPT09ZS5kYXRhVHlwZSksby5maXJlKG5ldyB0LkV2ZW50KGUuZGF0YVR5cGUrXCJkYXRhXCIsZSkpO30pLHRoaXMub24oXCJkYXRhbG9hZGluZ1wiLGZ1bmN0aW9uKGUpe28uZmlyZShuZXcgdC5FdmVudChlLmRhdGFUeXBlK1wiZGF0YWxvYWRpbmdcIixlKSk7fSk7fW4mJihvLl9fcHJvdG9fXz1uKSxvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4mJm4ucHJvdG90eXBlKSxvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1vO3ZhciByPXtzaG93VGlsZUJvdW5kYXJpZXM6e2NvbmZpZ3VyYWJsZTohMH0sc2hvd0NvbGxpc2lvbkJveGVzOntjb25maWd1cmFibGU6ITB9LHNob3dPdmVyZHJhd0luc3BlY3Rvcjp7Y29uZmlndXJhYmxlOiEwfSxyZXBhaW50Ontjb25maWd1cmFibGU6ITB9LHZlcnRpY2VzOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gby5wcm90b3R5cGUuYWRkQ29udHJvbD1mdW5jdGlvbihlLGkpe2lmKHZvaWQgMD09PWkmJmUuZ2V0RGVmYXVsdFBvc2l0aW9uJiYoaT1lLmdldERlZmF1bHRQb3NpdGlvbigpKSx2b2lkIDA9PT1pJiYoaT1cInRvcC1yaWdodFwiKSwhZXx8IWUub25BZGQpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLmFkZENvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy5cIikpKTt2YXIgbj1lLm9uQWRkKHRoaXMpO3RoaXMuX2NvbnRyb2xzLnB1c2goZSk7dmFyIG89dGhpcy5fY29udHJvbFBvc2l0aW9uc1tpXTtyZXR1cm4gLTEhPT1pLmluZGV4T2YoXCJib3R0b21cIik/by5pbnNlcnRCZWZvcmUobixvLmZpcnN0Q2hpbGQpOm8uYXBwZW5kQ2hpbGQobiksdGhpc30sby5wcm90b3R5cGUucmVtb3ZlQ29udHJvbD1mdW5jdGlvbihlKXtpZighZXx8IWUub25SZW1vdmUpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLnJlbW92ZUNvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy5cIikpKTt2YXIgaT10aGlzLl9jb250cm9scy5pbmRleE9mKGUpO3JldHVybiBpPi0xJiZ0aGlzLl9jb250cm9scy5zcGxpY2UoaSwxKSxlLm9uUmVtb3ZlKHRoaXMpLHRoaXN9LG8ucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzLl9jb250YWluZXJEaW1lbnNpb25zKCksbj1pWzBdLG89aVsxXTtyZXR1cm4gdGhpcy5fcmVzaXplQ2FudmFzKG4sbyksdGhpcy50cmFuc2Zvcm0ucmVzaXplKG4sbyksdGhpcy5wYWludGVyLnJlc2l6ZShuLG8pLHRoaXMuZmlyZShuZXcgdC5FdmVudChcIm1vdmVzdGFydFwiLGUpKS5maXJlKG5ldyB0LkV2ZW50KFwibW92ZVwiLGUpKS5maXJlKG5ldyB0LkV2ZW50KFwicmVzaXplXCIsZSkpLmZpcmUobmV3IHQuRXZlbnQoXCJtb3ZlZW5kXCIsZSkpLHRoaXN9LG8ucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5nZXRCb3VuZHMoKX0sby5wcm90b3R5cGUuZ2V0TWF4Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldE1heEJvdW5kcygpfSxvLnByb3RvdHlwZS5zZXRNYXhCb3VuZHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnNldE1heEJvdW5kcyhOLmNvbnZlcnQodCkpLHRoaXMuX3VwZGF0ZSgpfSxvLnByb3RvdHlwZS5zZXRNaW5ab29tPWZ1bmN0aW9uKHQpe2lmKCh0PW51bGw9PXQ/MDp0KT49MCYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPHQmJnRoaXMuc2V0Wm9vbSh0KSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblpvb20gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIHRoZSBjdXJyZW50IG1heFpvb20sIGluY2x1c2l2ZVwiKX0sby5wcm90b3R5cGUuZ2V0TWluWm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tfSxvLnByb3RvdHlwZS5zZXRNYXhab29tPWZ1bmN0aW9uKHQpe2lmKCh0PW51bGw9PXQ/MjI6dCk+PXRoaXMudHJhbnNmb3JtLm1pblpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKT50JiZ0aGlzLnNldFpvb20odCksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb21cIil9LG8ucHJvdG90eXBlLmdldFJlbmRlcldvcmxkQ29waWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzfSxvLnByb3RvdHlwZS5zZXRSZW5kZXJXb3JsZENvcGllcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXM9dCx0aGlzLl91cGRhdGUoKX0sby5wcm90b3R5cGUuZ2V0TWF4Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfSxvLnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhdGlvblBvaW50KFUuY29udmVydCh0KSl9LG8ucHJvdG90eXBlLnVucHJvamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbih0LlBvaW50LmNvbnZlcnQoZSkpfSxvLnByb3RvdHlwZS5pc01vdmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3Zpbmd8fHRoaXMuZHJhZ1Bhbi5pc0FjdGl2ZSgpfHx0aGlzLmRyYWdSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5zY3JvbGxab29tLmlzQWN0aXZlKCl9LG8ucHJvdG90eXBlLmlzWm9vbWluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29taW5nfHx0aGlzLnNjcm9sbFpvb20uaXNBY3RpdmUoKX0sby5wcm90b3R5cGUuaXNSb3RhdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGluZ3x8dGhpcy5kcmFnUm90YXRlLmlzQWN0aXZlKCl9LG8ucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxyPXRoaXM7aWYodm9pZCAwPT09aSlyZXR1cm4gbi5wcm90b3R5cGUub24uY2FsbCh0aGlzLHQsZSk7dmFyIGE9ZnVuY3Rpb24oKXtpZihcIm1vdXNlZW50ZXJcIj09PXR8fFwibW91c2VvdmVyXCI9PT10KXt2YXIgbj0hMTtyZXR1cm4ge2xheWVyOmUsbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6e21vdXNlbW92ZTpmdW5jdGlvbihvKXt2YXIgYT1yLmdldExheWVyKGUpP3IucXVlcnlSZW5kZXJlZEZlYXR1cmVzKG8ucG9pbnQse2xheWVyczpbZV19KTpbXTthLmxlbmd0aD9ufHwobj0hMCxpLmNhbGwocixuZXcgSGkodCxyLG8ub3JpZ2luYWxFdmVudCx7ZmVhdHVyZXM6YX0pKSk6bj0hMTt9LG1vdXNlb3V0OmZ1bmN0aW9uKCl7bj0hMTt9fX19aWYoXCJtb3VzZWxlYXZlXCI9PT10fHxcIm1vdXNlb3V0XCI9PT10KXt2YXIgYT0hMTtyZXR1cm4ge2xheWVyOmUsbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6e21vdXNlbW92ZTpmdW5jdGlvbihuKXsoci5nZXRMYXllcihlKT9yLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhuLnBvaW50LHtsYXllcnM6W2VdfSk6W10pLmxlbmd0aD9hPSEwOmEmJihhPSExLGkuY2FsbChyLG5ldyBIaSh0LHIsbi5vcmlnaW5hbEV2ZW50KSkpO30sbW91c2VvdXQ6ZnVuY3Rpb24oZSl7YSYmKGE9ITEsaS5jYWxsKHIsbmV3IEhpKHQscixlLm9yaWdpbmFsRXZlbnQpKSk7fX19fXJldHVybiB7bGF5ZXI6ZSxsaXN0ZW5lcjppLGRlbGVnYXRlczoobz17fSxvW3RdPWZ1bmN0aW9uKHQpe3ZhciBuPXIuZ2V0TGF5ZXIoZSk/ci5xdWVyeVJlbmRlcmVkRmVhdHVyZXModC5wb2ludCx7bGF5ZXJzOltlXX0pOltdO24ubGVuZ3RoJiYodC5mZWF0dXJlcz1uLGkuY2FsbChyLHQpLGRlbGV0ZSB0LmZlYXR1cmVzKTt9LG8pfX0oKTtmb3IodmFyIHMgaW4gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc3x8e30sdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3RdPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0XXx8W10sdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3RdLnB1c2goYSksYS5kZWxlZ2F0ZXMpci5vbihzLGEuZGVsZWdhdGVzW3NdKTtyZXR1cm4gdGhpc30sby5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pKXJldHVybiBuLnByb3RvdHlwZS5vZmYuY2FsbCh0aGlzLHQsZSk7aWYodGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzJiZ0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdF0pZm9yKHZhciBvPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0XSxyPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBhPW9bcl07aWYoYS5sYXllcj09PWUmJmEubGlzdGVuZXI9PT1pKXtmb3IodmFyIHMgaW4gYS5kZWxlZ2F0ZXMpdGhpcy5vZmYocyxhLmRlbGVnYXRlc1tzXSk7cmV0dXJuIG8uc3BsaWNlKHIsMSksdGhpc319cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcz1mdW5jdGlvbihlLGkpe2lmKCF0aGlzLnN0eWxlKXJldHVybiBbXTt2YXIgbjtpZih2b2lkIDAhPT1pfHx2b2lkIDA9PT1lfHxlIGluc3RhbmNlb2YgdC5Qb2ludHx8QXJyYXkuaXNBcnJheShlKXx8KGk9ZSxlPXZvaWQgMCksaT1pfHx7fSwoZT1lfHxbWzAsMF0sW3RoaXMudHJhbnNmb3JtLndpZHRoLHRoaXMudHJhbnNmb3JtLmhlaWdodF1dKWluc3RhbmNlb2YgdC5Qb2ludHx8XCJudW1iZXJcIj09dHlwZW9mIGVbMF0pbj1bdC5Qb2ludC5jb252ZXJ0KGUpXTtlbHNle3ZhciBvPXQuUG9pbnQuY29udmVydChlWzBdKSxyPXQuUG9pbnQuY29udmVydChlWzFdKTtuPVtvLG5ldyB0LlBvaW50KHIueCxvLnkpLHIsbmV3IHQuUG9pbnQoby54LHIueSksb107fXJldHVybiB0aGlzLnN0eWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhuLGksdGhpcy50cmFuc2Zvcm0pfSxvLnByb3RvdHlwZS5xdWVyeVNvdXJjZUZlYXR1cmVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUucXVlcnlTb3VyY2VGZWF0dXJlcyh0LGUpfSxvLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihlLGkpe2lmKCghaXx8ITEhPT1pLmRpZmYmJiFpLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSkmJnRoaXMuc3R5bGUmJmUmJlwib2JqZWN0XCI9PXR5cGVvZiBlKXRyeXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRTdGF0ZShlKSYmdGhpcy5fdXBkYXRlKCEwKSx0aGlzfWNhdGNoKGUpe3Qud2Fybk9uY2UoXCJVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiBcIisoZS5tZXNzYWdlfHxlLmVycm9yfHxlKStcIi4gIFJlYnVpbGRpbmcgdGhlIHN0eWxlIGZyb20gc2NyYXRjaC5cIik7fXJldHVybiB0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc3R5bGUuX3JlbW92ZSgpKSxlPyh0aGlzLnN0eWxlPW5ldyBWZSh0aGlzLGl8fHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuc3R5bGUubG9hZFVSTChlKTp0aGlzLnN0eWxlLmxvYWRKU09OKGUpLHRoaXMpOihkZWxldGUgdGhpcy5zdHlsZSx0aGlzKX0sby5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24oKXtpZih0aGlzLnN0eWxlKXJldHVybiB0aGlzLnN0eWxlLnNlcmlhbGl6ZSgpfSxvLnByb3RvdHlwZS5pc1N0eWxlTG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5sb2FkZWQoKTp0Lndhcm5PbmNlKFwiVGhlcmUgaXMgbm8gc3R5bGUgYWRkZWQgdG8gdGhlIG1hcC5cIil9LG8ucHJvdG90eXBlLmFkZFNvdXJjZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLmFkZFNvdXJjZSh0LGUpLHRoaXMuX3VwZGF0ZSghMCl9LG8ucHJvdG90eXBlLmlzU291cmNlTG9hZGVkPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2VdO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGkubG9hZGVkKCk7dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggSUQgJ1wiK2UrXCInXCIpKSk7fSxvLnByb3RvdHlwZS5hcmVUaWxlc0xvYWRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuc291cmNlQ2FjaGVzO2Zvcih2YXIgZSBpbiB0KXt2YXIgaT10W2VdLl90aWxlcztmb3IodmFyIG4gaW4gaSl7dmFyIG89aVtuXTtpZihcImxvYWRlZFwiIT09by5zdGF0ZSYmXCJlcnJvcmVkXCIhPT1vLnN0YXRlKXJldHVybiAhMX19cmV0dXJuICEwfSxvLnByb3RvdHlwZS5hZGRTb3VyY2VUeXBlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5zdHlsZS5hZGRTb3VyY2VUeXBlKHQsZSxpKX0sby5wcm90b3R5cGUucmVtb3ZlU291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZVNvdXJjZSh0KSx0aGlzLl91cGRhdGUoITApfSxvLnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0U291cmNlKHQpfSxvLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbihlLGksbil7dm9pZCAwPT09biYmKG49e30pO3ZhciBvPW4ucGl4ZWxSYXRpbzt2b2lkIDA9PT1vJiYobz0xKTt2YXIgcj1uLnNkZjtpZih2b2lkIDA9PT1yJiYocj0hMSksaSBpbnN0YW5jZW9mIF9uKXt2YXIgYT10LmJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGkpLHM9YS53aWR0aCxsPWEuaGVpZ2h0LGM9YS5kYXRhO3RoaXMuc3R5bGUuYWRkSW1hZ2UoZSx7ZGF0YTpuZXcgdC5SR0JBSW1hZ2Uoe3dpZHRoOnMsaGVpZ2h0Omx9LGMpLHBpeGVsUmF0aW86byxzZGY6cn0pO31lbHNle2lmKHZvaWQgMD09PWkud2lkdGh8fHZvaWQgMD09PWkuaGVpZ2h0KXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAuYWRkSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWBcIikpKTt2YXIgaD1pLndpZHRoLHU9aS5oZWlnaHQscD1pLmRhdGE7dGhpcy5zdHlsZS5hZGRJbWFnZShlLHtkYXRhOm5ldyB0LlJHQkFJbWFnZSh7d2lkdGg6aCxoZWlnaHQ6dX0sbmV3IFVpbnQ4QXJyYXkocCkpLHBpeGVsUmF0aW86byxzZGY6cn0pO319LG8ucHJvdG90eXBlLmhhc0ltYWdlPWZ1bmN0aW9uKGUpe3JldHVybiBlPyEhdGhpcy5zdHlsZS5nZXRJbWFnZShlKToodGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZFwiKSkpLCExKX0sby5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24odCl7dGhpcy5zdHlsZS5yZW1vdmVJbWFnZSh0KTt9LG8ucHJvdG90eXBlLmxvYWRJbWFnZT1mdW5jdGlvbihlLGkpe3QuZ2V0SW1hZ2UodGhpcy5fdHJhbnNmb3JtUmVxdWVzdChlLHQuUmVzb3VyY2VUeXBlLkltYWdlKSxpKTt9LG8ucHJvdG90eXBlLmxpc3RJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCl9LG8ucHJvdG90eXBlLmFkZExheWVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuYWRkTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoITApfSxvLnByb3RvdHlwZS5tb3ZlTGF5ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5tb3ZlTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoITApfSxvLnByb3RvdHlwZS5yZW1vdmVMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVMYXllcih0KSx0aGlzLl91cGRhdGUoITApfSxvLnByb3RvdHlwZS5nZXRMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXllcih0KX0sby5wcm90b3R5cGUuc2V0RmlsdGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0RmlsdGVyKHQsZSksdGhpcy5fdXBkYXRlKCEwKX0sby5wcm90b3R5cGUuc2V0TGF5ZXJab29tUmFuZ2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKHQsZSxpKSx0aGlzLl91cGRhdGUoITApfSxvLnByb3RvdHlwZS5nZXRGaWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0RmlsdGVyKHQpfSxvLnByb3RvdHlwZS5zZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRQYWludFByb3BlcnR5KHQsZSxpKSx0aGlzLl91cGRhdGUoITApfSxvLnByb3RvdHlwZS5nZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eSh0LGUpfSxvLnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0TGF5b3V0UHJvcGVydHkodCxlLGkpLHRoaXMuX3VwZGF0ZSghMCl9LG8ucHJvdG90eXBlLmdldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkodCxlKX0sby5wcm90b3R5cGUuc2V0TGlnaHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0TGlnaHQodCksdGhpcy5fdXBkYXRlKCEwKX0sby5wcm90b3R5cGUuZ2V0TGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMaWdodCgpfSxvLnByb3RvdHlwZS5zZXRGZWF0dXJlU3RhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRGZWF0dXJlU3RhdGUodCxlKSx0aGlzLl91cGRhdGUoKX0sby5wcm90b3R5cGUuZ2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZSh0KX0sby5wcm90b3R5cGUuZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn0sby5wcm90b3R5cGUuZ2V0Q2FudmFzQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbnZhc0NvbnRhaW5lcn0sby5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbnZhc30sby5wcm90b3R5cGUuX2NvbnRhaW5lckRpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgdD0wLGU9MDtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiYodD10aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGh8fDQwMCxlPXRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHR8fDMwMCksW3QsZV19LG8ucHJvdG90eXBlLl9kZXRlY3RNaXNzaW5nQ1NTPWZ1bmN0aW9uKCl7XCJyZ2IoMjUwLCAxMjgsIDExNClcIiE9PXQud2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSkuZ2V0UHJvcGVydHlWYWx1ZShcImJhY2tncm91bmQtY29sb3JcIikmJnQud2Fybk9uY2UoXCJUaGlzIHBhZ2UgYXBwZWFycyB0byBiZSBtaXNzaW5nIENTUyBkZWNsYXJhdGlvbnMgZm9yIE1hcGJveCBHTCBKUywgd2hpY2ggbWF5IGNhdXNlIHRoZSBtYXAgdG8gZGlzcGxheSBpbmNvcnJlY3RseS4gUGxlYXNlIGVuc3VyZSB5b3VyIHBhZ2UgaW5jbHVkZXMgbWFwYm94LWdsLmNzcywgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8uXCIpO30sby5wcm90b3R5cGUuX3NldHVwQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyO3QuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLW1hcFwiKSwodGhpcy5fbWlzc2luZ0NTU0NhbmFyeT1pLmNyZWF0ZShcImRpdlwiLFwibWFwYm94Z2wtY2FuYXJ5XCIsdCkpLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLl9kZXRlY3RNaXNzaW5nQ1NTKCk7dmFyIGU9dGhpcy5fY2FudmFzQ29udGFpbmVyPWkuY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1jYW52YXMtY29udGFpbmVyXCIsdCk7dGhpcy5faW50ZXJhY3RpdmUmJmUuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWludGVyYWN0aXZlXCIpLHRoaXMuX2NhbnZhcz1pLmNyZWF0ZShcImNhbnZhc1wiLFwibWFwYm94Z2wtY2FudmFzXCIsZSksdGhpcy5fY2FudmFzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLl9jb250ZXh0TG9zdCwhMSksdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHRoaXMuX2NvbnRleHRSZXN0b3JlZCwhMSksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJNYXBcIik7dmFyIG49dGhpcy5fY29udGFpbmVyRGltZW5zaW9ucygpO3RoaXMuX3Jlc2l6ZUNhbnZhcyhuWzBdLG5bMV0pO3ZhciBvPXRoaXMuX2NvbnRyb2xDb250YWluZXI9aS5jcmVhdGUoXCJkaXZcIixcIm1hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyXCIsdCkscj10aGlzLl9jb250cm9sUG9zaXRpb25zPXt9O1tcInRvcC1sZWZ0XCIsXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1sZWZ0XCIsXCJib3R0b20tcmlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbih0KXtyW3RdPWkuY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsLVwiK3Qsbyk7fSk7fSxvLnByb3RvdHlwZS5fcmVzaXplQ2FudmFzPWZ1bmN0aW9uKGUsaSl7dmFyIG49dC53aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MTt0aGlzLl9jYW52YXMud2lkdGg9biplLHRoaXMuX2NhbnZhcy5oZWlnaHQ9bippLHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aD1lK1wicHhcIix0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0PWkrXCJweFwiO30sby5wcm90b3R5cGUuX3NldHVwUGFpbnRlcj1mdW5jdGlvbigpe3ZhciBpPXQuZXh0ZW5kKHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OnRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQscHJlc2VydmVEcmF3aW5nQnVmZmVyOnRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcn0sZS53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKSxuPXRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIixpKXx8dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixpKTtuP3RoaXMucGFpbnRlcj1uZXcgWmkobix0aGlzLnRyYW5zZm9ybSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0xcIikpKTt9LG8ucHJvdG90eXBlLl9jb250ZXh0TG9zdD1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJ3ZWJnbGNvbnRleHRsb3N0XCIse29yaWdpbmFsRXZlbnQ6ZX0pKTt9LG8ucHJvdG90eXBlLl9jb250ZXh0UmVzdG9yZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fc2V0dXBQYWludGVyKCksdGhpcy5yZXNpemUoKSx0aGlzLl91cGRhdGUoKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHtvcmlnaW5hbEV2ZW50OmV9KSk7fSxvLnByb3RvdHlwZS5sb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMuX3N0eWxlRGlydHkmJiF0aGlzLl9zb3VyY2VzRGlydHkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5sb2FkZWQoKX0sby5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZT8odGhpcy5fc3R5bGVEaXJ0eT10aGlzLl9zdHlsZURpcnR5fHx0LHRoaXMuX3NvdXJjZXNEaXJ0eT0hMCx0aGlzLl9yZXJlbmRlcigpLHRoaXMpOnRoaXN9LG8ucHJvdG90eXBlLl9yZXF1ZXN0UmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQodCl9LG8ucHJvdG90eXBlLl9jYW5jZWxSZW5kZXJGcmFtZT1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJUYXNrUXVldWUucmVtb3ZlKHQpO30sby5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbigpe3RoaXMuX3JlbmRlclRhc2tRdWV1ZS5ydW4oKTt2YXIgZT0hMTtpZih0aGlzLnN0eWxlJiZ0aGlzLl9zdHlsZURpcnR5KXt0aGlzLl9zdHlsZURpcnR5PSExO3ZhciBpPXRoaXMudHJhbnNmb3JtLnpvb20sbj10LmJyb3dzZXIubm93KCk7dGhpcy5zdHlsZS56b29tSGlzdG9yeS51cGRhdGUoaSxuKTt2YXIgbz1uZXcgdC5FdmFsdWF0aW9uUGFyYW1ldGVycyhpLHtub3c6bixmYWRlRHVyYXRpb246dGhpcy5fZmFkZUR1cmF0aW9uLHpvb21IaXN0b3J5OnRoaXMuc3R5bGUuem9vbUhpc3RvcnksdHJhbnNpdGlvbjp0aGlzLnN0eWxlLmdldFRyYW5zaXRpb24oKX0pLHI9by5jcm9zc0ZhZGluZ0ZhY3RvcigpOzE9PT1yJiZyPT09dGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3J8fChlPSEwLHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yPXIpLHRoaXMuc3R5bGUudXBkYXRlKG8pO31yZXR1cm4gdGhpcy5zdHlsZSYmdGhpcy5fc291cmNlc0RpcnR5JiYodGhpcy5fc291cmNlc0RpcnR5PSExLHRoaXMuc3R5bGUuX3VwZGF0ZVNvdXJjZXModGhpcy50cmFuc2Zvcm0pKSx0aGlzLl9wbGFjZW1lbnREaXJ0eT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl91cGRhdGVQbGFjZW1lbnQodGhpcy5wYWludGVyLnRyYW5zZm9ybSx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyx0aGlzLl9mYWRlRHVyYXRpb24sdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zKSx0aGlzLnBhaW50ZXIucmVuZGVyKHRoaXMuc3R5bGUse3Nob3dUaWxlQm91bmRhcmllczp0aGlzLnNob3dUaWxlQm91bmRhcmllcyxzaG93T3ZlcmRyYXdJbnNwZWN0b3I6dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yLHJvdGF0aW5nOnRoaXMuaXNSb3RhdGluZygpLHpvb21pbmc6dGhpcy5pc1pvb21pbmcoKSxmYWRlRHVyYXRpb246dGhpcy5fZmFkZUR1cmF0aW9ufSksdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwicmVuZGVyXCIpKSx0aGlzLmxvYWRlZCgpJiYhdGhpcy5fbG9hZGVkJiYodGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudChcImxvYWRcIikpKSx0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5oYXNUcmFuc2l0aW9ucygpfHxlKSYmKHRoaXMuX3N0eWxlRGlydHk9ITApLHRoaXMuc3R5bGUmJiF0aGlzLl9wbGFjZW1lbnREaXJ0eSYmdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpLCh0aGlzLl9zb3VyY2VzRGlydHl8fHRoaXMuX3JlcGFpbnR8fHRoaXMuX3N0eWxlRGlydHl8fHRoaXMuX3BsYWNlbWVudERpcnR5KSYmdGhpcy5fcmVyZW5kZXIoKSx0aGlzfSxvLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLnJlbW92ZSgpLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5zZXRTdHlsZShudWxsKSx2b2lkIDAhPT10LndpbmRvdyYmKHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksdC53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSk7Zm9yKHZhciBlPTAsaT10aGlzLl9jb250cm9scztlPGkubGVuZ3RoO2UrPTEpe2lbZV0ub25SZW1vdmUodGhpcyk7fXRoaXMuX2NvbnRyb2xzPVtdO3ZhciBuPXRoaXMucGFpbnRlci5jb250ZXh0LmdsLmdldEV4dGVuc2lvbihcIldFQkdMX2xvc2VfY29udGV4dFwiKTtuJiZuLmxvc2VDb250ZXh0KCksdm4odGhpcy5fY2FudmFzQ29udGFpbmVyKSx2bih0aGlzLl9jb250cm9sQ29udGFpbmVyKSx2bih0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5KSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLW1hcFwiKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJyZW1vdmVcIikpO30sby5wcm90b3R5cGUuX3JlcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnN0eWxlJiYhdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZT10LmJyb3dzZXIuZnJhbWUoZnVuY3Rpb24oKXtlLl9mcmFtZT1udWxsLGUuX3JlbmRlcigpO30pKTt9LG8ucHJvdG90eXBlLl9vbldpbmRvd09ubGluZT1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZSgpO30sby5wcm90b3R5cGUuX29uV2luZG93UmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5fdHJhY2tSZXNpemUmJnRoaXMucmVzaXplKCkuX3VwZGF0ZSgpO30sci5zaG93VGlsZUJvdW5kYXJpZXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzfSxyLnNob3dUaWxlQm91bmRhcmllcy5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzIT09dCYmKHRoaXMuX3Nob3dUaWxlQm91bmRhcmllcz10LHRoaXMuX3VwZGF0ZSgpKTt9LHIuc2hvd0NvbGxpc2lvbkJveGVzLmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc30sci5zaG93Q29sbGlzaW9uQm94ZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PXQmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9dCx0P3RoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTp0aGlzLl91cGRhdGUoKSk7fSxyLnNob3dPdmVyZHJhd0luc3BlY3Rvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3J9LHIuc2hvd092ZXJkcmF3SW5zcGVjdG9yLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IhPT10JiYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPXQsdGhpcy5fdXBkYXRlKCkpO30sci5yZXBhaW50LmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3JlcGFpbnR9LHIucmVwYWludC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fcmVwYWludD10LHRoaXMuX3VwZGF0ZSgpO30sci52ZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl92ZXJ0aWNlc30sci52ZXJ0aWNlcy5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fdmVydGljZXM9dCx0aGlzLl91cGRhdGUoKTt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8ucHJvdG90eXBlLHIpLG99KGhuKTtmdW5jdGlvbiB2bih0KXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt9dmFyIHluPXtzaG93Q29tcGFzczohMCxzaG93Wm9vbTohMH0seG49ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLm9wdGlvbnM9dC5leHRlbmQoe30seW4sZSksdGhpcy5fY29udGFpbmVyPWkuY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJih0aGlzLl96b29tSW5CdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC1pY29uIG1hcGJveGdsLWN0cmwtem9vbS1pblwiLFwiWm9vbSBJblwiLGZ1bmN0aW9uKCl7cmV0dXJuIG4uX21hcC56b29tSW4oKX0pLHRoaXMuX3pvb21PdXRCdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC1pY29uIG1hcGJveGdsLWN0cmwtem9vbS1vdXRcIixcIlpvb20gT3V0XCIsZnVuY3Rpb24oKXtyZXR1cm4gbi5fbWFwLnpvb21PdXQoKX0pKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0LmJpbmRBbGwoW1wiX3JvdGF0ZUNvbXBhc3NBcnJvd1wiXSx0aGlzKSx0aGlzLl9jb21wYXNzPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtaWNvbiBtYXBib3hnbC1jdHJsLWNvbXBhc3NcIixcIlJlc2V0IE5vcnRoXCIsZnVuY3Rpb24oKXtyZXR1cm4gbi5fbWFwLnJlc2V0Tm9ydGgoKX0pLHRoaXMuX2NvbXBhc3NBcnJvdz1pLmNyZWF0ZShcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtY29tcGFzcy1hcnJvd1wiLHRoaXMuX2NvbXBhc3MpKTt9O2Z1bmN0aW9uIGJuKHQsZSxpKXtpZih0PW5ldyBVKHQubG5nLHQubGF0KSxlKXt2YXIgbj1uZXcgVSh0LmxuZy0zNjAsdC5sYXQpLG89bmV3IFUodC5sbmcrMzYwLHQubGF0KSxyPWkubG9jYXRpb25Qb2ludCh0KS5kaXN0U3FyKGUpO2kubG9jYXRpb25Qb2ludChuKS5kaXN0U3FyKGUpPHI/dD1uOmkubG9jYXRpb25Qb2ludChvKS5kaXN0U3FyKGUpPHImJih0PW8pO31mb3IoO01hdGguYWJzKHQubG5nLWkuY2VudGVyLmxuZyk+MTgwOyl7dmFyIGE9aS5sb2NhdGlvblBvaW50KHQpO2lmKGEueD49MCYmYS55Pj0wJiZhLng8PWkud2lkdGgmJmEueTw9aS5oZWlnaHQpYnJlYWs7dC5sbmc+aS5jZW50ZXIubG5nP3QubG5nLT0zNjA6dC5sbmcrPTM2MDt9cmV0dXJuIHR9eG4ucHJvdG90eXBlLl9yb3RhdGVDb21wYXNzQXJyb3c9ZnVuY3Rpb24oKXt2YXIgdD1cInJvdGF0ZShcIit0aGlzLl9tYXAudHJhbnNmb3JtLmFuZ2xlKigxODAvTWF0aC5QSSkrXCJkZWcpXCI7dGhpcy5fY29tcGFzc0Fycm93LnN0eWxlLnRyYW5zZm9ybT10O30seG4ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tYXA9dCx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLl9tYXAub24oXCJyb3RhdGVcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdygpLHRoaXMuX2hhbmRsZXI9bmV3IHRuKHQse2J1dHRvbjpcImxlZnRcIixlbGVtZW50OnRoaXMuX2NvbXBhc3N9KSxpLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fY29tcGFzcyxcIm1vdXNlZG93blwiLHRoaXMuX2hhbmRsZXIub25Nb3VzZURvd24pLHRoaXMuX2hhbmRsZXIuZW5hYmxlKCkpLHRoaXMuX2NvbnRhaW5lcn0seG4ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLl9tYXAub2ZmKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fY29tcGFzcyxcIm1vdXNlZG93blwiLHRoaXMuX2hhbmRsZXIub25Nb3VzZURvd24pLHRoaXMuX2hhbmRsZXIuZGlzYWJsZSgpLGRlbGV0ZSB0aGlzLl9oYW5kbGVyKSxkZWxldGUgdGhpcy5fbWFwO30seG4ucHJvdG90eXBlLl9jcmVhdGVCdXR0b249ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWkuY3JlYXRlKFwiYnV0dG9uXCIsdCx0aGlzLl9jb250YWluZXIpO3JldHVybiBvLnR5cGU9XCJidXR0b25cIixvLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG4pLG99O3ZhciB3bj17Y2VudGVyOlwidHJhbnNsYXRlKC01MCUsLTUwJSlcIix0b3A6XCJ0cmFuc2xhdGUoLTUwJSwwKVwiLFwidG9wLWxlZnRcIjpcInRyYW5zbGF0ZSgwLDApXCIsXCJ0b3AtcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwwKVwiLGJvdHRvbTpcInRyYW5zbGF0ZSgtNTAlLC0xMDAlKVwiLFwiYm90dG9tLWxlZnRcIjpcInRyYW5zbGF0ZSgwLC0xMDAlKVwiLFwiYm90dG9tLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsLTEwMCUpXCIsbGVmdDpcInRyYW5zbGF0ZSgwLC01MCUpXCIscmlnaHQ6XCJ0cmFuc2xhdGUoLTEwMCUsLTUwJSlcIn07ZnVuY3Rpb24gRW4odCxlLGkpe3ZhciBuPXQuY2xhc3NMaXN0O2Zvcih2YXIgbyBpbiB3biluLnJlbW92ZShcIm1hcGJveGdsLVwiK2krXCItYW5jaG9yLVwiK28pO24uYWRkKFwibWFwYm94Z2wtXCIraStcIi1hbmNob3ItXCIrZSk7fXZhciBUbixTbj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKG4pe2lmKGUuY2FsbCh0aGlzKSwoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0LndpbmRvdy5IVE1MRWxlbWVudHx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpJiYobj10LmV4dGVuZCh7ZWxlbWVudDpufSxhcmd1bWVudHNbMV0pKSx0LmJpbmRBbGwoW1wiX3VwZGF0ZVwiLFwiX29uTW92ZVwiLFwiX29uVXBcIixcIl9hZGREcmFnSGFuZGxlclwiLFwiX29uTWFwQ2xpY2tcIl0sdGhpcyksdGhpcy5fYW5jaG9yPW4mJm4uYW5jaG9yfHxcImNlbnRlclwiLHRoaXMuX2NvbG9yPW4mJm4uY29sb3J8fFwiIzNGQjFDRVwiLHRoaXMuX2RyYWdnYWJsZT1uJiZuLmRyYWdnYWJsZXx8ITEsdGhpcy5fc3RhdGU9XCJpbmFjdGl2ZVwiLG4mJm4uZWxlbWVudCl0aGlzLl9lbGVtZW50PW4uZWxlbWVudCx0aGlzLl9vZmZzZXQ9dC5Qb2ludC5jb252ZXJ0KG4mJm4ub2Zmc2V0fHxbMCwwXSk7ZWxzZXt0aGlzLl9kZWZhdWx0TWFya2VyPSEwLHRoaXMuX2VsZW1lbnQ9aS5jcmVhdGUoXCJkaXZcIik7dmFyIG89aS5jcmVhdGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJzdmdcIik7by5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsXCI0MXB4XCIpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsXCIyN3B4XCIpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcInZpZXdCb3hcIixcIjAgMCAyNyA0MVwiKTt2YXIgcj1pLmNyZWF0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcImdcIik7ci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsXCJub25lXCIpLHIuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS13aWR0aFwiLFwiMVwiKSxyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCJub25lXCIpLHIuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGwtcnVsZVwiLFwiZXZlbm9kZFwiKTt2YXIgYT1pLmNyZWF0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcImdcIik7YS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbC1ydWxlXCIsXCJub256ZXJvXCIpO3ZhciBzPWkuY3JlYXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiZ1wiKTtzLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgzLjAsIDI5LjApXCIpLHMuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixcIiMwMDAwMDBcIik7Zm9yKHZhciBsPTAsYz1be3J4OlwiMTAuNVwiLHJ5OlwiNS4yNTAwMjI3M1wifSx7cng6XCIxMC41XCIscnk6XCI1LjI1MDAyMjczXCJ9LHtyeDpcIjkuNVwiLHJ5OlwiNC43NzI3NTAwN1wifSx7cng6XCI4LjVcIixyeTpcIjQuMjk1NDk5MzZcIn0se3J4OlwiNy41XCIscnk6XCIzLjgxODIyMzA4XCJ9LHtyeDpcIjYuNVwiLHJ5OlwiMy4zNDA5NDY3OVwifSx7cng6XCI1LjVcIixyeTpcIjIuODYzNjcwNTFcIn0se3J4OlwiNC41XCIscnk6XCIyLjM4NjM2ODY0XCJ9XTtsPGMubGVuZ3RoO2wrPTEpe3ZhciBoPWNbbF0sdT1pLmNyZWF0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcImVsbGlwc2VcIik7dS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwib3BhY2l0eVwiLFwiMC4wNFwiKSx1LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjeFwiLFwiMTAuNVwiKSx1LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjeVwiLFwiNS44MDAyOTAwOFwiKSx1LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJyeFwiLGgucngpLHUuc2V0QXR0cmlidXRlTlMobnVsbCxcInJ5XCIsaC5yeSkscy5hcHBlbmRDaGlsZCh1KTt9dmFyIHA9aS5jcmVhdGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJnXCIpO3Auc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIix0aGlzLl9jb2xvcik7dmFyIGQ9aS5jcmVhdGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJwYXRoXCIpO2Quc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0yNywxMy41IEMyNywxOS4wNzQ2NDQgMjAuMjUwMDAxLDI3LjAwMDAwMiAxNC43NSwzNC41MDAwMDIgQzE0LjAxNjY2NSwzNS41MDAwMDQgMTIuOTgzMzM1LDM1LjUwMDAwNCAxMi4yNSwzNC41MDAwMDIgQzYuNzQ5OTk5MywyNy4wMDAwMDIgMCwxOS4yMjI1NjIgMCwxMy41IEMwLDYuMDQ0MTU1OSA2LjA0NDE1NTksMCAxMy41LDAgQzIwLjk1NTg0NCwwIDI3LDYuMDQ0MTU1OSAyNywxMy41IFpcIikscC5hcHBlbmRDaGlsZChkKTt2YXIgXz1pLmNyZWF0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcImdcIik7Xy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwib3BhY2l0eVwiLFwiMC4yNVwiKSxfLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCIjMDAwMDAwXCIpO3ZhciBmPWkuY3JlYXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwicGF0aFwiKTtmLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNMTMuNSwwIEM2LjA0NDE1NTksMCAwLDYuMDQ0MTU1OSAwLDEzLjUgQzAsMTkuMjIyNTYyIDYuNzQ5OTk5MywyNyAxMi4yNSwzNC41IEMxMywzNS41MjI3MjcgMTQuMDE2NjY0LDM1LjUwMDAwNCAxNC43NSwzNC41IEMyMC4yNTAwMDEsMjcgMjcsMTkuMDc0NjQ0IDI3LDEzLjUgQzI3LDYuMDQ0MTU1OSAyMC45NTU4NDQsMCAxMy41LDAgWiBNMTMuNSwxIEMyMC40MTU0MDQsMSAyNiw2LjU4NDU5NiAyNiwxMy41IEMyNiwxNS44OTg2NTcgMjQuNDk1NTg0LDE5LjE4MTQzMSAyMi4yMjA3MDMsMjIuNzM4MjgxIEMxOS45NDU4MjMsMjYuMjk1MTMyIDE2LjcwNTExOSwzMC4xNDIxNjcgMTMuOTQzMzU5LDMzLjkwODIwMyBDMTMuNzQzNDQ1LDM0LjE4MDgxNCAxMy42MTI3MTUsMzQuMzIyNzM4IDEzLjUsMzQuNDQxNDA2IEMxMy4zODcyODUsMzQuMzIyNzM4IDEzLjI1NjU1NSwzNC4xODA4MTQgMTMuMDU2NjQxLDMzLjkwODIwMyBDMTAuMjg0NDgxLDMwLjEyNzk4NSA3LjQxNDg2ODQsMjYuMzE0MTU5IDUuMDE1NjI1LDIyLjc3MzQzOCBDMi42MTYzODE2LDE5LjIzMjcxNSAxLDE1Ljk1MzUzOCAxLDEzLjUgQzEsNi41ODQ1OTYgNi41ODQ1OTYsMSAxMy41LDEgWlwiKSxfLmFwcGVuZENoaWxkKGYpO3ZhciBtPWkuY3JlYXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiZ1wiKTttLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSg2LjAsIDcuMClcIiksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLFwiI0ZGRkZGRlwiKTt2YXIgZz1pLmNyZWF0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcImdcIik7Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoOC4wLCA4LjApXCIpO3ZhciB2PWkuY3JlYXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiY2lyY2xlXCIpO3Yuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixcIiMwMDAwMDBcIiksdi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwib3BhY2l0eVwiLFwiMC4yNVwiKSx2LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjeFwiLFwiNS41XCIpLHYuc2V0QXR0cmlidXRlTlMobnVsbCxcImN5XCIsXCI1LjVcIiksdi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiclwiLFwiNS40OTk5OTYyXCIpO3ZhciB5PWkuY3JlYXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiY2lyY2xlXCIpO3kuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixcIiNGRkZGRkZcIikseS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY3hcIixcIjUuNVwiKSx5LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjeVwiLFwiNS41XCIpLHkuc2V0QXR0cmlidXRlTlMobnVsbCxcInJcIixcIjUuNDk5OTk2MlwiKSxnLmFwcGVuZENoaWxkKHYpLGcuYXBwZW5kQ2hpbGQoeSksYS5hcHBlbmRDaGlsZChzKSxhLmFwcGVuZENoaWxkKHApLGEuYXBwZW5kQ2hpbGQoXyksYS5hcHBlbmRDaGlsZChtKSxhLmFwcGVuZENoaWxkKGcpLG8uYXBwZW5kQ2hpbGQoYSksdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZChvKSx0aGlzLl9vZmZzZXQ9dC5Qb2ludC5jb252ZXJ0KG4mJm4ub2Zmc2V0fHxbMCwtMTRdKTt9dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFya2VyXCIpLHRoaXMuX3BvcHVwPW51bGw7fXJldHVybiBlJiYobi5fX3Byb3RvX189ZSksbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSksbi5wcm90b3R5cGUuY29uc3RydWN0b3I9bixuLnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9dCx0LmdldENhbnZhc0NvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpLHQub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0Lm9uKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZSksdGhpcy5zZXREcmFnZ2FibGUodGhpcy5fZHJhZ2dhYmxlKSx0aGlzLl91cGRhdGUoKSx0aGlzLl9tYXAub24oXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spLHRoaXN9LG4ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKFwiY2xpY2tcIix0aGlzLl9vbk1hcENsaWNrKSx0aGlzLl9tYXAub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vZmYoXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdGhpcy5fbWFwLm9mZihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlciksZGVsZXRlIHRoaXMuX21hcCksaS5yZW1vdmUodGhpcy5fZWxlbWVudCksdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXN9LG4ucHJvdG90eXBlLmdldExuZ0xhdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sbmdMYXR9LG4ucHJvdG90eXBlLnNldExuZ0xhdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbG5nTGF0PVUuY29udmVydCh0KSx0aGlzLl9wb3M9bnVsbCx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fdXBkYXRlKCksdGhpc30sbi5wcm90b3R5cGUuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbGVtZW50fSxuLnByb3RvdHlwZS5zZXRQb3B1cD1mdW5jdGlvbih0KXtpZih0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXMuX3BvcHVwPW51bGwpLHQpe2lmKCEoXCJvZmZzZXRcImluIHQub3B0aW9ucykpe3ZhciBlPU1hdGguc3FydChNYXRoLnBvdygxMy41LDIpLzIpO3Qub3B0aW9ucy5vZmZzZXQ9dGhpcy5fZGVmYXVsdE1hcmtlcj97dG9wOlswLDBdLFwidG9wLWxlZnRcIjpbMCwwXSxcInRvcC1yaWdodFwiOlswLDBdLGJvdHRvbTpbMCwtMzguMV0sXCJib3R0b20tbGVmdFwiOltlLC0xKigyNC42K2UpXSxcImJvdHRvbS1yaWdodFwiOlstZSwtMSooMjQuNitlKV0sbGVmdDpbMTMuNSwtMjQuNl0scmlnaHQ6Wy0xMy41LC0yNC42XX06dGhpcy5fb2Zmc2V0O310aGlzLl9wb3B1cD10LHRoaXMuX2xuZ0xhdCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCk7fXJldHVybiB0aGlzfSxuLnByb3RvdHlwZS5fb25NYXBDbGljaz1mdW5jdGlvbih0KXt2YXIgZT10Lm9yaWdpbmFsRXZlbnQudGFyZ2V0LGk9dGhpcy5fZWxlbWVudDt0aGlzLl9wb3B1cCYmKGU9PT1pfHxpLmNvbnRhaW5zKGUpKSYmdGhpcy50b2dnbGVQb3B1cCgpO30sbi5wcm90b3R5cGUuZ2V0UG9wdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXB9LG4ucHJvdG90eXBlLnRvZ2dsZVBvcHVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcG9wdXA7cmV0dXJuIHQ/KHQuaXNPcGVuKCk/dC5yZW1vdmUoKTp0LmFkZFRvKHRoaXMuX21hcCksdGhpcyk6dGhpc30sbi5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9tYXAmJih0aGlzLl9tYXAudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzJiYodGhpcy5fbG5nTGF0PWJuKHRoaXMuX2xuZ0xhdCx0aGlzLl9wb3MsdGhpcy5fbWFwLnRyYW5zZm9ybSkpLHRoaXMuX3Bvcz10aGlzLl9tYXAucHJvamVjdCh0aGlzLl9sbmdMYXQpLl9hZGQodGhpcy5fb2Zmc2V0KSx0JiZcIm1vdmVlbmRcIiE9PXQudHlwZXx8KHRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSksaS5zZXRUcmFuc2Zvcm0odGhpcy5fZWxlbWVudCx3blt0aGlzLl9hbmNob3JdK1wiIHRyYW5zbGF0ZShcIit0aGlzLl9wb3MueCtcInB4LCBcIit0aGlzLl9wb3MueStcInB4KVwiKSxFbih0aGlzLl9lbGVtZW50LHRoaXMuX2FuY2hvcixcIm1hcmtlclwiKSk7fSxuLnByb3RvdHlwZS5nZXRPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2Zmc2V0fSxuLnByb3RvdHlwZS5zZXRPZmZzZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29mZnNldD10LlBvaW50LmNvbnZlcnQoZSksdGhpcy5fdXBkYXRlKCksdGhpc30sbi5wcm90b3R5cGUuX29uTW92ZT1mdW5jdGlvbihlKXt0aGlzLl9wb3M9ZS5wb2ludC5zdWIodGhpcy5fcG9zaXRpb25EZWx0YSksdGhpcy5fbG5nTGF0PXRoaXMuX21hcC51bnByb2plY3QodGhpcy5fcG9zKSx0aGlzLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIixcInBlbmRpbmdcIj09PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9XCJhY3RpdmVcIix0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkcmFnc3RhcnRcIikpKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJkcmFnXCIpKTt9LG4ucHJvdG90eXBlLl9vblVwPWZ1bmN0aW9uKCl7dGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPVwiYXV0b1wiLHRoaXMuX3Bvc2l0aW9uRGVsdGE9bnVsbCx0aGlzLl9tYXAub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSx0aGlzLl9tYXAub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSxcImFjdGl2ZVwiPT09dGhpcy5fc3RhdGUmJnRoaXMuZmlyZShuZXcgdC5FdmVudChcImRyYWdlbmRcIikpLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIjt9LG4ucHJvdG90eXBlLl9hZGREcmFnSGFuZGxlcj1mdW5jdGlvbih0KXt0aGlzLl9lbGVtZW50LmNvbnRhaW5zKHQub3JpZ2luYWxFdmVudC50YXJnZXQpJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3Bvc2l0aW9uRGVsdGE9dC5wb2ludC5zdWIodGhpcy5fcG9zKS5hZGQodGhpcy5fb2Zmc2V0KSx0aGlzLl9zdGF0ZT1cInBlbmRpbmdcIix0aGlzLl9tYXAub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLHRoaXMuX21hcC5vbihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksdGhpcy5fbWFwLm9uY2UoXCJtb3VzZXVwXCIsdGhpcy5fb25VcCksdGhpcy5fbWFwLm9uY2UoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXApKTt9LG4ucHJvdG90eXBlLnNldERyYWdnYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlPSEhdCx0aGlzLl9tYXAmJih0Pyh0aGlzLl9tYXAub24oXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdGhpcy5fbWFwLm9uKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSk6KHRoaXMuX21hcC5vZmYoXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdGhpcy5fbWFwLm9mZihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlcikpKSx0aGlzfSxuLnByb3RvdHlwZS5pc0RyYWdnYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2FibGV9LG59KHQuRXZlbnRlZCksSW49e3Bvc2l0aW9uT3B0aW9uczp7ZW5hYmxlSGlnaEFjY3VyYWN5OiExLG1heGltdW1BZ2U6MCx0aW1lb3V0OjZlM30sZml0Qm91bmRzT3B0aW9uczp7bWF4Wm9vbToxNX0sdHJhY2tVc2VyTG9jYXRpb246ITEsc2hvd1VzZXJMb2NhdGlvbjohMH07dmFyIENuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oaSl7ZS5jYWxsKHRoaXMpLHRoaXMub3B0aW9ucz10LmV4dGVuZCh7fSxJbixpKSx0LmJpbmRBbGwoW1wiX29uU3VjY2Vzc1wiLFwiX29uRXJyb3JcIixcIl9maW5pc2hcIixcIl9zZXR1cFVJXCIsXCJfdXBkYXRlQ2FtZXJhXCIsXCJfdXBkYXRlTWFya2VyXCJdLHRoaXMpO31yZXR1cm4gZSYmKG4uX19wcm90b19fPWUpLG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW4sbi5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZShcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwXCIpLG49dGhpcy5fc2V0dXBVSSx2b2lkIDAhPT1Ubj9uKFRuKTp2b2lkIDAhPT10LndpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnM/dC53aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOlwiZ2VvbG9jYXRpb25cIn0pLnRoZW4oZnVuY3Rpb24odCl7VG49XCJkZW5pZWRcIiE9PXQuc3RhdGUsbihUbik7fSk6KFRuPSEhdC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLG4oVG4pKSx0aGlzLl9jb250YWluZXJ9LG4ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiYodC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksaS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXA9dm9pZCAwO30sbi5wcm90b3R5cGUuX29uU3VjY2Vzcz1mdW5jdGlvbihlKXtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pc3dpdGNoKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uPWUsdGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfTE9DS1wiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIik7fXRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZcIk9GRlwiIT09dGhpcy5fd2F0Y2hTdGF0ZSYmdGhpcy5fdXBkYXRlTWFya2VyKGUpLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmXCJBQ1RJVkVfTE9DS1wiIT09dGhpcy5fd2F0Y2hTdGF0ZXx8dGhpcy5fdXBkYXRlQ2FtZXJhKGUpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZVwiKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJnZW9sb2NhdGVcIixlKSksdGhpcy5fZmluaXNoKCk7fSxuLnByb3RvdHlwZS5fdXBkYXRlQ2FtZXJhPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBVKHQuY29vcmRzLmxvbmdpdHVkZSx0LmNvb3Jkcy5sYXRpdHVkZSksaT10LmNvb3Jkcy5hY2N1cmFjeTt0aGlzLl9tYXAuZml0Qm91bmRzKGUudG9Cb3VuZHMoaSksdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMse2dlb2xvY2F0ZVNvdXJjZTohMH0pO30sbi5wcm90b3R5cGUuX3VwZGF0ZU1hcmtlcj1mdW5jdGlvbih0KXt0P3RoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRMbmdMYXQoW3QuY29vcmRzLmxvbmdpdHVkZSx0LmNvb3Jkcy5sYXRpdHVkZV0pLmFkZFRvKHRoaXMuX21hcCk6dGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpO30sbi5wcm90b3R5cGUuX29uRXJyb3I9ZnVuY3Rpb24oZSl7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKWlmKDE9PT1lLmNvZGUpdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCYmdGhpcy5fY2xlYXJXYXRjaCgpO2Vsc2Ugc3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKTt9XCJPRkZcIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZVwiKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJlcnJvclwiLGUpKSx0aGlzLl9maW5pc2goKTt9LG4ucHJvdG90eXBlLl9maW5pc2g9ZnVuY3Rpb24oKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDA7fSxuLnByb3RvdHlwZS5fc2V0dXBVST1mdW5jdGlvbihlKXt2YXIgbj10aGlzOyExIT09ZT8odGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLl9nZW9sb2NhdGVCdXR0b249aS5jcmVhdGUoXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtaWNvbiBtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZVwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnR5cGU9XCJidXR0b25cIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiR2VvbG9jYXRlXCIpLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJih0aGlzLl9kb3RFbGVtZW50PWkuY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdFwiKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXI9bmV3IFNuKHRoaXMuX2RvdEVsZW1lbnQpLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIikpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSksdGhpcy5fc2V0dXA9ITAsdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZ0aGlzLl9tYXAub24oXCJtb3Zlc3RhcnRcIixmdW5jdGlvbihlKXtlLmdlb2xvY2F0ZVNvdXJjZXx8XCJBQ1RJVkVfTE9DS1wiIT09bi5fd2F0Y2hTdGF0ZXx8KG4uX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EXCIsbi5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLG4uX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLG4uZmlyZShuZXcgdC5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uZW5kXCIpKSk7fSkpOnQud2Fybk9uY2UoXCJHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUsIHRoZSBHZW9sb2NhdGVDb250cm9sIHdpbGwgbm90IGJlIHZpc2libGUuXCIpO30sbi5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbigpe2lmKCF0aGlzLl9zZXR1cClyZXR1cm4gdC53YXJuT25jZShcIkdlb2xvY2F0ZSBjb250cm9sIHRyaWdnZXJlZCBiZWZvcmUgYWRkZWQgdG8gYSBtYXBcIiksITE7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKXtzd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiT0ZGXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIldBSVRJTkdfQUNUSVZFXCIsdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSk7YnJlYWs7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOmNhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIiksdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0xPQ0tcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fbGFzdEtub3duUG9zaXRpb24mJnRoaXMuX3VwZGF0ZUNhbWVyYSh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiksdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSk7fXN3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJBQ1RJVkVfTE9DS1wiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9FUlJPUlwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpO31cIk9GRlwiPT09dGhpcy5fd2F0Y2hTdGF0ZSYmdm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEP3RoaXMuX2NsZWFyV2F0Y2goKTp2b2lkIDA9PT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJih0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwidHJ1ZVwiKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsdGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucykpO31lbHNlIHQud2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsdGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyksdGhpcy5fdGltZW91dElkPXNldFRpbWVvdXQodGhpcy5fZmluaXNoLDFlNCk7cmV0dXJuICEwfSxuLnByb3RvdHlwZS5fY2xlYXJXYXRjaD1mdW5jdGlvbigpe3Qud2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCksdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEPXZvaWQgMCx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwiZmFsc2VcIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX3VwZGF0ZU1hcmtlcihudWxsKTt9LG59KHQuRXZlbnRlZCksem49e21heFdpZHRoOjEwMCx1bml0OlwibWV0cmljXCJ9LFBuPWZ1bmN0aW9uKGUpe3RoaXMub3B0aW9ucz10LmV4dGVuZCh7fSx6bixlKSx0LmJpbmRBbGwoW1wiX29uTW92ZVwiLFwic2V0VW5pdFwiXSx0aGlzKTt9O2Z1bmN0aW9uIFJuKHQsZSxpKXt2YXIgbixvLHIsYSxzLGwsYz1pJiZpLm1heFdpZHRofHwxMDAsaD10Ll9jb250YWluZXIuY2xpZW50SGVpZ2h0LzIsdT0obj10LnVucHJvamVjdChbMCxoXSksbz10LnVucHJvamVjdChbYyxoXSkscj1NYXRoLlBJLzE4MCxhPW4ubGF0KnIscz1vLmxhdCpyLGw9TWF0aC5zaW4oYSkqTWF0aC5zaW4ocykrTWF0aC5jb3MoYSkqTWF0aC5jb3MocykqTWF0aC5jb3MoKG8ubG5nLW4ubG5nKSpyKSw2MzcxZTMqTWF0aC5hY29zKE1hdGgubWluKGwsMSkpKTtpZihpJiZcImltcGVyaWFsXCI9PT1pLnVuaXQpe3ZhciBwPTMuMjgwOCp1O2lmKHA+NTI4MClBbihlLGMscC81MjgwLFwibWlcIik7ZWxzZSBBbihlLGMscCxcImZ0XCIpO31lbHNlIGlmKGkmJlwibmF1dGljYWxcIj09PWkudW5pdCl7QW4oZSxjLHUvMTg1MixcIm5tXCIpO31lbHNlIEFuKGUsYyx1LFwibVwiKTt9ZnVuY3Rpb24gQW4odCxlLGksbil7dmFyIG8scixhLHM9KG89aSwocj1NYXRoLnBvdygxMCwoXCJcIitNYXRoLmZsb29yKG8pKS5sZW5ndGgtMSkpKihhPShhPW8vcik+PTEwPzEwOmE+PTU/NTphPj0zPzM6YT49Mj8yOjEpKSxsPXMvaTtcIm1cIj09PW4mJnM+PTFlMyYmKHMvPTFlMyxuPVwia21cIiksdC5zdHlsZS53aWR0aD1lKmwrXCJweFwiLHQuaW5uZXJIVE1MPXMrbjt9UG4ucHJvdG90eXBlLmdldERlZmF1bHRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiBcImJvdHRvbS1sZWZ0XCJ9LFBuLnByb3RvdHlwZS5fb25Nb3ZlPWZ1bmN0aW9uKCl7Um4odGhpcy5fbWFwLHRoaXMuX2NvbnRhaW5lcix0aGlzLm9wdGlvbnMpO30sUG4ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXI9aS5jcmVhdGUoXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZVwiLHQuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX21hcC5vbihcIm1vdmVcIix0aGlzLl9vbk1vdmUpLHRoaXMuX29uTW92ZSgpLHRoaXMuX2NvbnRhaW5lcn0sUG4ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAub2ZmKFwibW92ZVwiLHRoaXMuX29uTW92ZSksdGhpcy5fbWFwPXZvaWQgMDt9LFBuLnByb3RvdHlwZS5zZXRVbml0PWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy51bml0PXQsUm4odGhpcy5fbWFwLHRoaXMuX2NvbnRhaW5lcix0aGlzLm9wdGlvbnMpO307dmFyIExuPWZ1bmN0aW9uKCl7dGhpcy5fZnVsbHNjcmVlbj0hMSx0LmJpbmRBbGwoW1wiX29uQ2xpY2tGdWxsc2NyZWVuXCIsXCJfY2hhbmdlSWNvblwiXSx0aGlzKSxcIm9uZnVsbHNjcmVlbmNoYW5nZVwiaW4gdC53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cImZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ubW96ZnVsbHNjcmVlbmNoYW5nZVwiaW4gdC53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiaW4gdC53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ubXNmdWxsc2NyZWVuY2hhbmdlXCJpbiB0LndpbmRvdy5kb2N1bWVudCYmKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9XCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIiksdGhpcy5fY2xhc3NOYW1lPVwibWFwYm94Z2wtY3RybFwiO307TG4ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9tYXBDb250YWluZXI9dGhpcy5fbWFwLmdldENvbnRhaW5lcigpLHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZShcImRpdlwiLHRoaXMuX2NsYXNzTmFtZStcIiBtYXBib3hnbC1jdHJsLWdyb3VwXCIpLHRoaXMuX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKT90aGlzLl9zZXR1cFVJKCk6KHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHQud2Fybk9uY2UoXCJUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS5cIikpLHRoaXMuX2NvbnRhaW5lcn0sTG4ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXA9bnVsbCx0LndpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsdGhpcy5fY2hhbmdlSWNvbik7fSxMbi5wcm90b3R5cGUuX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gISEodC53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWR8fHQud2luZG93LmRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbmFibGVkfHx0LndpbmRvdy5kb2N1bWVudC5tc0Z1bGxzY3JlZW5FbmFibGVkfHx0LndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCl9LExuLnByb3RvdHlwZS5fc2V0dXBVST1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2Z1bGxzY3JlZW5CdXR0b249aS5jcmVhdGUoXCJidXR0b25cIix0aGlzLl9jbGFzc05hbWUrXCItaWNvbiBcIit0aGlzLl9jbGFzc05hbWUrXCItZnVsbHNjcmVlblwiLHRoaXMuX2NvbnRhaW5lcik7ZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJUb2dnbGUgZnVsbHNjcmVlblwiKSxlLnR5cGU9XCJidXR0b25cIix0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2tGdWxsc2NyZWVuKSx0LndpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsdGhpcy5fY2hhbmdlSWNvbik7fSxMbi5wcm90b3R5cGUuX2lzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdWxsc2NyZWVufSxMbi5wcm90b3R5cGUuX2NoYW5nZUljb249ZnVuY3Rpb24oKXsodC53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fHQud2luZG93LmRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHx0LndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8dC53aW5kb3cuZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCk9PT10aGlzLl9tYXBDb250YWluZXIhPT10aGlzLl9mdWxsc2NyZWVuJiYodGhpcy5fZnVsbHNjcmVlbj0hdGhpcy5fZnVsbHNjcmVlbix0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUodGhpcy5fY2xhc3NOYW1lK1wiLXNocmlua1wiKSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUodGhpcy5fY2xhc3NOYW1lK1wiLWZ1bGxzY3JlZW5cIikpO30sTG4ucHJvdG90eXBlLl9vbkNsaWNrRnVsbHNjcmVlbj1mdW5jdGlvbigpe3RoaXMuX2lzRnVsbHNjcmVlbigpP3Qud2luZG93LmRvY3VtZW50LmV4aXRGdWxsc2NyZWVuP3Qud2luZG93LmRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk6dC53aW5kb3cuZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbj90LndpbmRvdy5kb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk6dC53aW5kb3cuZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbj90LndpbmRvdy5kb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk6dC53aW5kb3cuZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbiYmdC53aW5kb3cuZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpOnRoaXMuX21hcENvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbj90aGlzLl9tYXBDb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4oKTp0aGlzLl9tYXBDb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4/dGhpcy5fbWFwQ29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKCk6dGhpcy5fbWFwQ29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fbWFwQ29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTp0aGlzLl9tYXBDb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4mJnRoaXMuX21hcENvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO307dmFyIERuPXtjbG9zZUJ1dHRvbjohMCxjbG9zZU9uQ2xpY2s6ITAsY2xhc3NOYW1lOlwiXCJ9LE1uPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oaSl7ZS5jYWxsKHRoaXMpLHRoaXMub3B0aW9ucz10LmV4dGVuZChPYmplY3QuY3JlYXRlKERuKSxpKSx0LmJpbmRBbGwoW1wiX3VwZGF0ZVwiLFwiX29uQ2xpY2tDbG9zZVwiXSx0aGlzKTt9cmV0dXJuIGUmJihuLl9fcHJvdG9fXz1lKSxuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1uLG4ucHJvdG90eXBlLmFkZFRvPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9tYXAub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrJiZ0aGlzLl9tYXAub24oXCJjbGlja1wiLHRoaXMuX29uQ2xpY2tDbG9zZSksdGhpcy5fdXBkYXRlKCksdGhpcy5maXJlKG5ldyB0LkV2ZW50KFwib3BlblwiKSksdGhpc30sbi5wcm90b3R5cGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fbWFwfSxuLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudCYmaS5yZW1vdmUodGhpcy5fY29udGVudCksdGhpcy5fY29udGFpbmVyJiYoaS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSxkZWxldGUgdGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwLm9mZihcImNsaWNrXCIsdGhpcy5fb25DbGlja0Nsb3NlKSxkZWxldGUgdGhpcy5fbWFwKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoXCJjbG9zZVwiKSksdGhpc30sbi5wcm90b3R5cGUuZ2V0TG5nTGF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xuZ0xhdH0sbi5wcm90b3R5cGUuc2V0TG5nTGF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sbmdMYXQ9VS5jb252ZXJ0KHQpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3VwZGF0ZSgpLHRoaXN9LG4ucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0RE9NQ29udGVudCh0LndpbmRvdy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSl9LG4ucHJvdG90eXBlLnNldEhUTUw9ZnVuY3Rpb24oZSl7dmFyIGksbj10LndpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz10LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtmb3Ioby5pbm5lckhUTUw9ZTtpPW8uZmlyc3RDaGlsZDspbi5hcHBlbmRDaGlsZChpKTtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KG4pfSxuLnByb3RvdHlwZS5zZXRET01Db250ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jcmVhdGVDb250ZW50KCksdGhpcy5fY29udGVudC5hcHBlbmRDaGlsZCh0KSx0aGlzLl91cGRhdGUoKSx0aGlzfSxuLnByb3RvdHlwZS5fY3JlYXRlQ29udGVudD1mdW5jdGlvbigpe3RoaXMuX2NvbnRlbnQmJmkucmVtb3ZlKHRoaXMuX2NvbnRlbnQpLHRoaXMuX2NvbnRlbnQ9aS5jcmVhdGUoXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwLWNvbnRlbnRcIix0aGlzLl9jb250YWluZXIpLHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbiYmKHRoaXMuX2Nsb3NlQnV0dG9uPWkuY3JlYXRlKFwiYnV0dG9uXCIsXCJtYXBib3hnbC1wb3B1cC1jbG9zZS1idXR0b25cIix0aGlzLl9jb250ZW50KSx0aGlzLl9jbG9zZUJ1dHRvbi50eXBlPVwiYnV0dG9uXCIsdGhpcy5fY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiQ2xvc2UgcG9wdXBcIiksdGhpcy5fY2xvc2VCdXR0b24uaW5uZXJIVE1MPVwiJiMyMTU7XCIsdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGlja0Nsb3NlKSk7fSxuLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLl9tYXAmJnRoaXMuX2xuZ0xhdCYmdGhpcy5fY29udGVudCl7dGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPWkuY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cFwiLHRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fdGlwPWkuY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cC10aXBcIix0aGlzLl9jb250YWluZXIpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9jb250ZW50KSx0aGlzLm9wdGlvbnMuY2xhc3NOYW1lJiZ0aGlzLm9wdGlvbnMuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCh0KX0pKSx0aGlzLl9tYXAudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzJiYodGhpcy5fbG5nTGF0PWJuKHRoaXMuX2xuZ0xhdCx0aGlzLl9wb3MsdGhpcy5fbWFwLnRyYW5zZm9ybSkpO3ZhciBuPXRoaXMuX3Bvcz10aGlzLl9tYXAucHJvamVjdCh0aGlzLl9sbmdMYXQpLG89dGhpcy5vcHRpb25zLmFuY2hvcixyPWZ1bmN0aW9uIGUoaSl7aWYoaSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGkpe3ZhciBuPU1hdGgucm91bmQoTWF0aC5zcXJ0KC41Kk1hdGgucG93KGksMikpKTtyZXR1cm4ge2NlbnRlcjpuZXcgdC5Qb2ludCgwLDApLHRvcDpuZXcgdC5Qb2ludCgwLGkpLFwidG9wLWxlZnRcIjpuZXcgdC5Qb2ludChuLG4pLFwidG9wLXJpZ2h0XCI6bmV3IHQuUG9pbnQoLW4sbiksYm90dG9tOm5ldyB0LlBvaW50KDAsLWkpLFwiYm90dG9tLWxlZnRcIjpuZXcgdC5Qb2ludChuLC1uKSxcImJvdHRvbS1yaWdodFwiOm5ldyB0LlBvaW50KC1uLC1uKSxsZWZ0Om5ldyB0LlBvaW50KGksMCkscmlnaHQ6bmV3IHQuUG9pbnQoLWksMCl9fWlmKGkgaW5zdGFuY2VvZiB0LlBvaW50fHxBcnJheS5pc0FycmF5KGkpKXt2YXIgbz10LlBvaW50LmNvbnZlcnQoaSk7cmV0dXJuIHtjZW50ZXI6byx0b3A6byxcInRvcC1sZWZ0XCI6byxcInRvcC1yaWdodFwiOm8sYm90dG9tOm8sXCJib3R0b20tbGVmdFwiOm8sXCJib3R0b20tcmlnaHRcIjpvLGxlZnQ6byxyaWdodDpvfX1yZXR1cm4ge2NlbnRlcjp0LlBvaW50LmNvbnZlcnQoaS5jZW50ZXJ8fFswLDBdKSx0b3A6dC5Qb2ludC5jb252ZXJ0KGkudG9wfHxbMCwwXSksXCJ0b3AtbGVmdFwiOnQuUG9pbnQuY29udmVydChpW1widG9wLWxlZnRcIl18fFswLDBdKSxcInRvcC1yaWdodFwiOnQuUG9pbnQuY29udmVydChpW1widG9wLXJpZ2h0XCJdfHxbMCwwXSksYm90dG9tOnQuUG9pbnQuY29udmVydChpLmJvdHRvbXx8WzAsMF0pLFwiYm90dG9tLWxlZnRcIjp0LlBvaW50LmNvbnZlcnQoaVtcImJvdHRvbS1sZWZ0XCJdfHxbMCwwXSksXCJib3R0b20tcmlnaHRcIjp0LlBvaW50LmNvbnZlcnQoaVtcImJvdHRvbS1yaWdodFwiXXx8WzAsMF0pLGxlZnQ6dC5Qb2ludC5jb252ZXJ0KGkubGVmdHx8WzAsMF0pLHJpZ2h0OnQuUG9pbnQuY29udmVydChpLnJpZ2h0fHxbMCwwXSl9fXJldHVybiBlKG5ldyB0LlBvaW50KDAsMCkpfSh0aGlzLm9wdGlvbnMub2Zmc2V0KTtpZighbyl7dmFyIGEscz10aGlzLl9jb250YWluZXIub2Zmc2V0V2lkdGgsbD10aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0O2E9bi55K3IuYm90dG9tLnk8bD9bXCJ0b3BcIl06bi55PnRoaXMuX21hcC50cmFuc2Zvcm0uaGVpZ2h0LWw/W1wiYm90dG9tXCJdOltdLG4ueDxzLzI/YS5wdXNoKFwibGVmdFwiKTpuLng+dGhpcy5fbWFwLnRyYW5zZm9ybS53aWR0aC1zLzImJmEucHVzaChcInJpZ2h0XCIpLG89MD09PWEubGVuZ3RoP1wiYm90dG9tXCI6YS5qb2luKFwiLVwiKTt9dmFyIGM9bi5hZGQocltvXSkucm91bmQoKTtpLnNldFRyYW5zZm9ybSh0aGlzLl9jb250YWluZXIsd25bb10rXCIgdHJhbnNsYXRlKFwiK2MueCtcInB4LFwiK2MueStcInB4KVwiKSxFbih0aGlzLl9jb250YWluZXIsbyxcInBvcHVwXCIpO319LG4ucHJvdG90eXBlLl9vbkNsaWNrQ2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpO30sbn0odC5FdmVudGVkKTt2YXIga249e3ZlcnNpb246XCIwLjQ5LjBcIixzdXBwb3J0ZWQ6ZSxzZXRSVExUZXh0UGx1Z2luOnQuc2V0UlRMVGV4dFBsdWdpbixNYXA6Z24sTmF2aWdhdGlvbkNvbnRyb2w6eG4sR2VvbG9jYXRlQ29udHJvbDpDbixBdHRyaWJ1dGlvbkNvbnRyb2w6dW4sU2NhbGVDb250cm9sOlBuLEZ1bGxzY3JlZW5Db250cm9sOkxuLFBvcHVwOk1uLE1hcmtlcjpTbixTdHlsZTpWZSxMbmdMYXQ6VSxMbmdMYXRCb3VuZHM6TixQb2ludDp0LlBvaW50LEV2ZW50ZWQ6dC5FdmVudGVkLGNvbmZpZzp1LGdldCBhY2Nlc3NUb2tlbigpe3JldHVybiB1LkFDQ0VTU19UT0tFTn0sc2V0IGFjY2Vzc1Rva2VuKHQpe3UuQUNDRVNTX1RPS0VOPXQ7fSxnZXQgd29ya2VyQ291bnQoKXtyZXR1cm4gVnQud29ya2VyQ291bnR9LHNldCB3b3JrZXJDb3VudCh0KXtWdC53b3JrZXJDb3VudD10O30sd29ya2VyVXJsOlwiXCJ9O3JldHVybiBrbn0pO1xuXG4vL1xuXG5yZXR1cm4gbWFwYm94Z2w7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBib3gtZ2wuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLFNBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},
/*!******************************************!*\
  !*** ./node_modules/deep-equal/index.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval("var pSlice = Array.prototype.slice;\nvar objectKeys = __webpack_require__(/*! ./lib/keys.js */ 26);\nvar isArguments = __webpack_require__(/*! ./lib/is_arguments.js */ 27);\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2luZGV4LmpzPzdmYWUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBvYmplY3RLZXlzID0gcmVxdWlyZSgnLi9saWIva2V5cy5qcycpO1xudmFyIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9saWIvaXNfYXJndW1lbnRzLmpzJyk7XG5cbnZhciBkZWVwRXF1YWwgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKSB7XG4gIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICAvLyA3LjEuIEFsbCBpZGVudGljYWwgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcblxuICB9IGVsc2UgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIERhdGUgJiYgZXhwZWN0ZWQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5nZXRUaW1lKCkgPT09IGV4cGVjdGVkLmdldFRpbWUoKTtcblxuICAvLyA3LjMuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG4gIC8vIGVxdWl2YWxlbmNlIGlzIGRldGVybWluZWQgYnkgPT0uXG4gIH0gZWxzZSBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQgfHwgdHlwZW9mIGFjdHVhbCAhPSAnb2JqZWN0JyAmJiB0eXBlb2YgZXhwZWN0ZWQgIT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb3B0cy5zdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXG4gIC8vIDcuNC4gRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpc1xuICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWRcbiAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5c1xuICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5XG4gIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzXG4gIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKHgpIHtcbiAgaWYgKCF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgeC5sZW5ndGggIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgeC5jb3B5ICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB4LnNsaWNlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh4Lmxlbmd0aCA+IDAgJiYgdHlwZW9mIHhbMF0gIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBvYmpFcXVpdihhLCBiLCBvcHRzKSB7XG4gIHZhciBpLCBrZXk7XG4gIGlmIChpc1VuZGVmaW5lZE9yTnVsbChhKSB8fCBpc1VuZGVmaW5lZE9yTnVsbChiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS5cbiAgaWYgKGEucHJvdG90eXBlICE9PSBiLnByb3RvdHlwZSkgcmV0dXJuIGZhbHNlO1xuICAvL35+fkkndmUgbWFuYWdlZCB0byBicmVhayBPYmplY3Qua2V5cyB0aHJvdWdoIHNjcmV3eSBhcmd1bWVudHMgcGFzc2luZy5cbiAgLy8gICBDb252ZXJ0aW5nIHRvIGFycmF5IHNvbHZlcyB0aGUgcHJvYmxlbS5cbiAgaWYgKGlzQXJndW1lbnRzKGEpKSB7XG4gICAgaWYgKCFpc0FyZ3VtZW50cyhiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG4gICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuICAgIHJldHVybiBkZWVwRXF1YWwoYSwgYiwgb3B0cyk7XG4gIH1cbiAgaWYgKGlzQnVmZmVyKGEpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIGthID0gb2JqZWN0S2V5cyhhKSxcbiAgICAgICAga2IgPSBvYmplY3RLZXlzKGIpO1xuICB9IGNhdGNoIChlKSB7Ly9oYXBwZW5zIHdoZW4gb25lIGlzIGEgc3RyaW5nIGxpdGVyYWwgYW5kIHRoZSBvdGhlciBpc24ndFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzXG4gIC8vIGhhc093blByb3BlcnR5KVxuICBpZiAoa2EubGVuZ3RoICE9IGtiLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vdGhlIHNhbWUgc2V0IG9mIGtleXMgKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksXG4gIGthLnNvcnQoKTtcbiAga2Iuc29ydCgpO1xuICAvL35+fmNoZWFwIGtleSB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKGthW2ldICE9IGtiW2ldKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcbiAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAga2V5ID0ga2FbaV07XG4gICAgaWYgKCFkZWVwRXF1YWwoYVtrZXldLCBiW2tleV0sIG9wdHMpKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBhID09PSB0eXBlb2YgYjtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n")},
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn "@media " + item[2] + "{" + content + "}";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || \'\';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === \'function\') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn \'/*# sourceURL=\' + cssMapping.sourceRoot + source + \' */\'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n\t}\n\n\treturn [content].join(\'\\n\');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = \'sourceMappingURL=data:application/json;charset=utf-8;base64,\' + base64;\n\n\treturn \'/*# \' + data + \' */\';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcz8yMzUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve "head" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }\n                // }\n                if (typeof target === \'function\') {\n                        return target();\n                }\n                if (typeof memo[target] === "undefined") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(/*! ./urls */ 14);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === "object" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = "head";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error("Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === "top") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === "bottom") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === "object" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error("[Style Loader]\\n\\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\\n Must be \'top\', \'bottom\', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement("style");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement("link");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\toptions.attrs.rel = "stylesheet";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === \'function\'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don\'t add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute("media", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn\'t defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcz82ODQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdCA/IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpIFxuXHRcdCA6IG9wdGlvbnMudHJhbnNmb3JtLmRlZmF1bHQob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},
/*!*******************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/util/diff.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar diff = function (obj1, obj2) {\n    var toMutate = {};\n    Array.from(new Set(Object.keys(obj1).concat(Object.keys(obj2)))).map(function (key) {\n        if (obj1[key] !== obj2[key]) {\n            toMutate[key] = obj2[key];\n        }\n    });\n    return toMutate;\n};\nexports.default = diff;\n//# sourceMappingURL=diff.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbGliL3V0aWwvZGlmZi5qcz9iZDQ0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRpZmYgPSBmdW5jdGlvbiAob2JqMSwgb2JqMikge1xuICAgIHZhciB0b011dGF0ZSA9IHt9O1xuICAgIEFycmF5LmZyb20obmV3IFNldChPYmplY3Qua2V5cyhvYmoxKS5jb25jYXQoT2JqZWN0LmtleXMob2JqMikpKSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKG9iajFba2V5XSAhPT0gb2JqMltrZXldKSB7XG4gICAgICAgICAgICB0b011dGF0ZVtrZXldID0gb2JqMltrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvTXV0YXRlO1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRpZmY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWZmLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n')},
/*!******************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/util/uid.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar index = 0;\nexports.generateID = function () {\n    return (index += 1);\n};\n//# sourceMappingURL=uid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbGliL3V0aWwvdWlkLmpzP2Q0NTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaW5kZXggPSAwO1xuZXhwb3J0cy5nZW5lcmF0ZUlEID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoaW5kZXggKz0gMSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dWlkLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n')},
/*!*************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/projected-layer.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar overlays_1 = __webpack_require__(/*! ./util/overlays */ 34);\nvar defaultStyle = {\n    zIndex: 3\n};\nvar ProjectedLayer = (function (_super) {\n    __extends(ProjectedLayer, _super);\n    function ProjectedLayer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.prevent = false;\n        _this.state = {};\n        _this.setContainer = function (el) {\n            if (el) {\n                _this.container = el;\n            }\n        };\n        _this.handleMapMove = function () {\n            if (!_this.prevent) {\n                _this.setState(overlays_1.overlayState(_this.props, _this.context.map, _this.container));\n            }\n        };\n        return _this;\n    }\n    ProjectedLayer.prototype.componentDidMount = function () {\n        var map = this.context.map;\n        map.on('move', this.handleMapMove);\n        this.handleMapMove();\n    };\n    ProjectedLayer.prototype.havePropsChanged = function (props, nextProps) {\n        return (props.coordinates[0] !== nextProps.coordinates[0] ||\n            props.coordinates[1] !== nextProps.coordinates[1] ||\n            props.offset !== nextProps.offset ||\n            props.anchor !== nextProps.anchor);\n    };\n    ProjectedLayer.prototype.componentWillReceiveProps = function (nextProps) {\n        if (this.havePropsChanged(this.props, nextProps)) {\n            this.setState(overlays_1.overlayState(nextProps, this.context.map, this.container));\n        }\n    };\n    ProjectedLayer.prototype.componentWillUnmount = function () {\n        var map = this.context.map;\n        this.prevent = true;\n        map.off('move', this.handleMapMove);\n    };\n    ProjectedLayer.prototype.render = function () {\n        var _a = this.props, style = _a.style, children = _a.children, className = _a.className, onClick = _a.onClick, onDoubleClick = _a.onDoubleClick, onMouseEnter = _a.onMouseEnter, onMouseLeave = _a.onMouseLeave, onScroll = _a.onScroll, onWheel = _a.onWheel, type = _a.type, tabIndex = _a.tabIndex;\n        var anchor = this.state.anchor;\n        var finalStyle = __assign({}, defaultStyle, style, { transform: overlays_1.overlayTransform(this.state).join(' ') });\n        var anchorClassname = anchor && type === 'popup' ? \"mapboxgl-popup-anchor-\" + anchor : '';\n        return (React.createElement(\"div\", { className: className + \" \" + anchorClassname, onClick: onClick, onDoubleClick: onDoubleClick, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, onScroll: onScroll, onWheel: onWheel, style: finalStyle, ref: this.setContainer, tabIndex: tabIndex }, children));\n    };\n    ProjectedLayer.contextTypes = {\n        map: PropTypes.object\n    };\n    ProjectedLayer.defaultProps = {\n        offset: 0,\n        onClick: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return args;\n        }\n    };\n    return ProjectedLayer;\n}(React.Component));\nexports.default = ProjectedLayer;\n//# sourceMappingURL=projected-layer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbGliL3Byb2plY3RlZC1sYXllci5qcz9hYmQxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBQcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlc1wiKTtcbnZhciBvdmVybGF5c18xID0gcmVxdWlyZShcIi4vdXRpbC9vdmVybGF5c1wiKTtcbnZhciBkZWZhdWx0U3R5bGUgPSB7XG4gICAgekluZGV4OiAzXG59O1xudmFyIFByb2plY3RlZExheWVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJvamVjdGVkTGF5ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJvamVjdGVkTGF5ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmV2ZW50ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgICAgIF90aGlzLnNldENvbnRhaW5lciA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29udGFpbmVyID0gZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZU1hcE1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnByZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShvdmVybGF5c18xLm92ZXJsYXlTdGF0ZShfdGhpcy5wcm9wcywgX3RoaXMuY29udGV4dC5tYXAsIF90aGlzLmNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb2plY3RlZExheWVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuY29udGV4dC5tYXA7XG4gICAgICAgIG1hcC5vbignbW92ZScsIHRoaXMuaGFuZGxlTWFwTW92ZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlTWFwTW92ZSgpO1xuICAgIH07XG4gICAgUHJvamVjdGVkTGF5ZXIucHJvdG90eXBlLmhhdmVQcm9wc0NoYW5nZWQgPSBmdW5jdGlvbiAocHJvcHMsIG5leHRQcm9wcykge1xuICAgICAgICByZXR1cm4gKHByb3BzLmNvb3JkaW5hdGVzWzBdICE9PSBuZXh0UHJvcHMuY29vcmRpbmF0ZXNbMF0gfHxcbiAgICAgICAgICAgIHByb3BzLmNvb3JkaW5hdGVzWzFdICE9PSBuZXh0UHJvcHMuY29vcmRpbmF0ZXNbMV0gfHxcbiAgICAgICAgICAgIHByb3BzLm9mZnNldCAhPT0gbmV4dFByb3BzLm9mZnNldCB8fFxuICAgICAgICAgICAgcHJvcHMuYW5jaG9yICE9PSBuZXh0UHJvcHMuYW5jaG9yKTtcbiAgICB9O1xuICAgIFByb2plY3RlZExheWVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgICAgICBpZiAodGhpcy5oYXZlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMsIG5leHRQcm9wcykpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUob3ZlcmxheXNfMS5vdmVybGF5U3RhdGUobmV4dFByb3BzLCB0aGlzLmNvbnRleHQubWFwLCB0aGlzLmNvbnRhaW5lcikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcm9qZWN0ZWRMYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmNvbnRleHQubWFwO1xuICAgICAgICB0aGlzLnByZXZlbnQgPSB0cnVlO1xuICAgICAgICBtYXAub2ZmKCdtb3ZlJywgdGhpcy5oYW5kbGVNYXBNb3ZlKTtcbiAgICB9O1xuICAgIFByb2plY3RlZExheWVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHN0eWxlID0gX2Euc3R5bGUsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSwgb25DbGljayA9IF9hLm9uQ2xpY2ssIG9uRG91YmxlQ2xpY2sgPSBfYS5vbkRvdWJsZUNsaWNrLCBvbk1vdXNlRW50ZXIgPSBfYS5vbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZSA9IF9hLm9uTW91c2VMZWF2ZSwgb25TY3JvbGwgPSBfYS5vblNjcm9sbCwgb25XaGVlbCA9IF9hLm9uV2hlZWwsIHR5cGUgPSBfYS50eXBlLCB0YWJJbmRleCA9IF9hLnRhYkluZGV4O1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5zdGF0ZS5hbmNob3I7XG4gICAgICAgIHZhciBmaW5hbFN0eWxlID0gX19hc3NpZ24oe30sIGRlZmF1bHRTdHlsZSwgc3R5bGUsIHsgdHJhbnNmb3JtOiBvdmVybGF5c18xLm92ZXJsYXlUcmFuc2Zvcm0odGhpcy5zdGF0ZSkuam9pbignICcpIH0pO1xuICAgICAgICB2YXIgYW5jaG9yQ2xhc3NuYW1lID0gYW5jaG9yICYmIHR5cGUgPT09ICdwb3B1cCcgPyBcIm1hcGJveGdsLXBvcHVwLWFuY2hvci1cIiArIGFuY2hvciA6ICcnO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSArIFwiIFwiICsgYW5jaG9yQ2xhc3NuYW1lLCBvbkNsaWNrOiBvbkNsaWNrLCBvbkRvdWJsZUNsaWNrOiBvbkRvdWJsZUNsaWNrLCBvbk1vdXNlRW50ZXI6IG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmUsIG9uU2Nyb2xsOiBvblNjcm9sbCwgb25XaGVlbDogb25XaGVlbCwgc3R5bGU6IGZpbmFsU3R5bGUsIHJlZjogdGhpcy5zZXRDb250YWluZXIsIHRhYkluZGV4OiB0YWJJbmRleCB9LCBjaGlsZHJlbikpO1xuICAgIH07XG4gICAgUHJvamVjdGVkTGF5ZXIuY29udGV4dFR5cGVzID0ge1xuICAgICAgICBtYXA6IFByb3BUeXBlcy5vYmplY3RcbiAgICB9O1xuICAgIFByb2plY3RlZExheWVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFByb2plY3RlZExheWVyO1xufShSZWFjdC5Db21wb25lbnQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFByb2plY3RlZExheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvamVjdGVkLWxheWVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n")},
/*!************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/util/classname.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getClassName = function (defaultClassName, className) {\n    return className\n        ? className\n            .split(' ')\n            .concat(defaultClassName)\n            .join(' ')\n        : defaultClassName.join(' ');\n};\n//# sourceMappingURL=classname.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXBib3gtZ2wvbGliL3V0aWwvY2xhc3NuYW1lLmpzPzY2NmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldENsYXNzTmFtZSA9IGZ1bmN0aW9uIChkZWZhdWx0Q2xhc3NOYW1lLCBjbGFzc05hbWUpIHtcbiAgICByZXR1cm4gY2xhc3NOYW1lXG4gICAgICAgID8gY2xhc3NOYW1lXG4gICAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgICAgLmNvbmNhdChkZWZhdWx0Q2xhc3NOYW1lKVxuICAgICAgICAgICAgLmpvaW4oJyAnKVxuICAgICAgICA6IGRlZmF1bHRDbGFzc05hbWUuam9pbignICcpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsYXNzbmFtZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n")},
/*!********************************************!*\
  !*** multi ./client/src/components/app.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,l){t.exports=l(/*! ./client/src/components/app.js */11)},
/*!**************************************!*\
  !*** ./client/src/components/app.js ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _style = __webpack_require__(/*! ../scss/style.scss */ 12);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _utils = __webpack_require__(/*! ../services/utils.js */ 15);\n\nvar _PathWidget = __webpack_require__(/*! ../components/PathWidget */ 16);\n\nvar _PathWidget2 = _interopRequireDefault(_PathWidget);\n\nvar _RecordingsList = __webpack_require__(/*! ./RecordingsList */ 48);\n\nvar _RecordingsList2 = _interopRequireDefault(_RecordingsList);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// create namespaced object for storing my react elements\nvar ns = (0, _utils.createNameSpace)('NT.PathsService');\n\nvar SERVICE_HOSTS = {};\n\nif (true) {\n  SERVICE_HOSTS = {\n    trails: 'http://trail-env.8jhbbn2nrv.us-west-2.elasticbeanstalk.com/',\n    profile: '',\n    photos: 'http://trail-photos-service-dev.us-west-1.elasticbeanstalk.com',\n    reviews: 'http://trail-photos-service-dev.us-west-1.elasticbeanstalk.com',\n    paths: 'http://ec2-54-172-80-40.compute-1.amazonaws.com'\n  };\n} else {}\n\n// canonical path react widget\nns.CanonicalPath = function (_React$Component) {\n  _inherits(CanonicalPath, _React$Component);\n\n  function CanonicalPath(props) {\n    _classCallCheck(this, CanonicalPath);\n\n    var _this = _possibleConstructorReturn(this, (CanonicalPath.__proto__ || Object.getPrototypeOf(CanonicalPath)).call(this));\n\n    _this.state = {\n      trailId: (0, _utils.getTrailIdFromUrl)()\n    };\n    return _this;\n  }\n\n  _createClass(CanonicalPath, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(\n        'div',\n        { className: 'col-12' },\n        React.createElement(\n          'h1',\n          null,\n          'Canonical Path Widget'\n        ),\n        React.createElement(\n          'p',\n          { className: _style2.default.test },\n          'This will ',\n          React.createElement(\n            'span',\n            { className: _style2.default.red },\n            'be'\n          ),\n          ' the main path widget of the page'\n        ),\n        React.createElement(_PathWidget2.default, { trailId: this.state.trailId, serviceHosts: SERVICE_HOSTS })\n      );\n    }\n  }]);\n\n  return CanonicalPath;\n}(React.Component);\n\n// recording widget\nns.Recordings = function (_React$Component2) {\n  _inherits(Recordings, _React$Component2);\n\n  function Recordings(props) {\n    _classCallCheck(this, Recordings);\n\n    var _this2 = _possibleConstructorReturn(this, (Recordings.__proto__ || Object.getPrototypeOf(Recordings)).call(this, props));\n\n    _this2.state = {\n      trailId: (0, _utils.getTrailIdFromUrl)()\n    };\n    return _this2;\n  }\n\n  _createClass(Recordings, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'h1',\n          null,\n          'Recordings Widget'\n        ),\n        React.createElement(_RecordingsList2.default, { trailId: this.state.trailId, serviceHosts: SERVICE_HOSTS })\n      );\n    }\n  }]);\n\n  return Recordings;\n}(React.Component);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9jb21wb25lbnRzL2FwcC5qcz8zMjljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdHlsZSBmcm9tICcuLi9zY3NzL3N0eWxlLnNjc3MnO1xuaW1wb3J0IHtjcmVhdGVOYW1lU3BhY2UsIGdldFRyYWlsSWRGcm9tVXJsfSBmcm9tICcuLi9zZXJ2aWNlcy91dGlscy5qcyc7XG5pbXBvcnQgUGF0aFdpZGdldCBmcm9tICcuLi9jb21wb25lbnRzL1BhdGhXaWRnZXQnO1xuaW1wb3J0IFJlY29yZGluZ3NMaXN0IGZyb20gJy4vUmVjb3JkaW5nc0xpc3QnO1xuXG4vLyBjcmVhdGUgbmFtZXNwYWNlZCBvYmplY3QgZm9yIHN0b3JpbmcgbXkgcmVhY3QgZWxlbWVudHNcbmNvbnN0IG5zID0gY3JlYXRlTmFtZVNwYWNlKCdOVC5QYXRoc1NlcnZpY2UnKTtcblxubGV0IFNFUlZJQ0VfSE9TVFMgPSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgU0VSVklDRV9IT1NUUyA9IHtcbiAgICB0cmFpbHM6ICdodHRwOi8vdHJhaWwtZW52LjhqaGJibjJucnYudXMtd2VzdC0yLmVsYXN0aWNiZWFuc3RhbGsuY29tLycsXG4gICAgcHJvZmlsZTogJycsXG4gICAgcGhvdG9zOiAnaHR0cDovL3RyYWlsLXBob3Rvcy1zZXJ2aWNlLWRldi51cy13ZXN0LTEuZWxhc3RpY2JlYW5zdGFsay5jb20nLFxuICAgIHJldmlld3M6ICdodHRwOi8vdHJhaWwtcGhvdG9zLXNlcnZpY2UtZGV2LnVzLXdlc3QtMS5lbGFzdGljYmVhbnN0YWxrLmNvbScsXG4gICAgcGF0aHM6ICdodHRwOi8vZWMyLTU0LTE3Mi04MC00MC5jb21wdXRlLTEuYW1hem9uYXdzLmNvbScsXG4gIH07XG59IGVsc2Uge1xuICBTRVJWSUNFX0hPU1RTID0ge1xuICAgIHRyYWlsczogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMScsXG4gICAgcHJvZmlsZTogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMicsXG4gICAgcGhvdG9zOiAnaHR0cDovL2xvY2FsaG9zdDozMDAzJyxcbiAgICByZXZpZXdzOiAnaHR0cDovL2xvY2FsaG9zdDozMDA0JyxcbiAgICBwYXRoczogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwNScsXG4gIH07XG59XG5cblxuLy8gY2Fub25pY2FsIHBhdGggcmVhY3Qgd2lkZ2V0XG5ucy5DYW5vbmljYWxQYXRoID0gY2xhc3MgQ2Fub25pY2FsUGF0aCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB0cmFpbElkOiBnZXRUcmFpbElkRnJvbVVybCgpXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC0xMic+XG4gICAgICAgIDxoMT5DYW5vbmljYWwgUGF0aCBXaWRnZXQ8L2gxPlxuICAgICAgICA8cCBjbGFzc05hbWU9e3N0eWxlLnRlc3R9PlRoaXMgd2lsbCA8c3BhbiBjbGFzc05hbWU9e3N0eWxlLnJlZH0+YmU8L3NwYW4+IHRoZSBtYWluIHBhdGggd2lkZ2V0IG9mIHRoZSBwYWdlPC9wPlxuICAgICAgICA8UGF0aFdpZGdldCB0cmFpbElkPXt0aGlzLnN0YXRlLnRyYWlsSWR9IHNlcnZpY2VIb3N0cz17U0VSVklDRV9IT1NUU30gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbiAgICBcbn07XG5cbi8vIHJlY29yZGluZyB3aWRnZXRcbm5zLlJlY29yZGluZ3MgPSBjbGFzcyBSZWNvcmRpbmdzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdHJhaWxJZDogZ2V0VHJhaWxJZEZyb21VcmwoKVxuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMT5SZWNvcmRpbmdzIFdpZGdldDwvaDE+XG4gICAgICAgIDxSZWNvcmRpbmdzTGlzdCB0cmFpbElkPXt0aGlzLnN0YXRlLnRyYWlsSWR9IHNlcnZpY2VIb3N0cz17U0VSVklDRV9IT1NUU30gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn07XG5cblxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQSxTQVFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFGQTtBQUtBO0FBQ0E7QUFSQTtBQUFBO0FBQUE7QUFVQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSEE7QUFNQTtBQWpCQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBb0JBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBS0E7QUFDQTtBQVJBO0FBQUE7QUFBQTtBQVVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBS0E7QUFoQkE7QUFDQTtBQURBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n")},
/*!************************************!*\
  !*** ./client/src/scss/style.scss ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval("\nvar content = __webpack_require__(/*! !../../../node_modules/css-loader??ref--5-1!../../../node_modules/sass-loader/lib/loader.js!./style.scss */ 13);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ 5)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL3Njc3Mvc3R5bGUuc2Nzcz9hN2RlIl0sInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS01LTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zdHlsZS5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS01LTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zdHlsZS5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n")},
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/css-loader??ref--5-1!./node_modules/sass-loader/lib/loader.js!./client/src/scss/style.scss ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ 4)(false);\n// imports\n\n\n// module\nexports.push([module.i, ".style__test___1jLUF .style__red___3gQTu {\\n  color: red;\\n  font-weight: bold; }\\n", ""]);\n\n// exports\nexports.locals = {\n\t"test": "style__test___1jLUF",\n\t"red": "style__red___3gQTu"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL3Njc3Mvc3R5bGUuc2Nzcz9jMTZhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnN0eWxlX190ZXN0X19fMWpMVUYgLnN0eWxlX19yZWRfX18zZ1FUdSB7XFxuICBjb2xvcjogcmVkO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7IH1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJ0ZXN0XCI6IFwic3R5bGVfX3Rlc3RfX18xakxVRlwiLFxuXHRcInJlZFwiOiBcInN0eWxlX19yZWRfX18zZ1FUdVwiXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n')},
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports){eval('\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function "fixes" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== "undefined" && window.location;\n\n  if (!location) {\n    throw new Error("fixUrls requires window.location");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== "string") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + "//" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, "/");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word "url" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn\'t a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn\'t a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn\'t a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^"(.*)"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^\'(.*)\'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf("//") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf("/") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with \'/\'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, ""); // Strip leading \'./\'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn "url(" + JSON.stringify(newUrl) + ")";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzP2Y2ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n')},
/*!**************************************!*\
  !*** ./client/src/services/utils.js ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nmodule.exports = {\n  createNameSpace: function createNameSpace(ns) {\n    var pathPieces = ns.split('.').reverse();\n    var piece = void 0;\n    var varString = '';\n    var currValue = window;\n    while (currValue && pathPieces.length) {\n      piece = pathPieces.pop();\n      if (currValue[piece] === undefined) {\n        currValue[piece] = {};\n      }\n      currValue = currValue[piece];\n    }\n    return currValue;\n  },\n  getTrailIdFromUrl: function getTrailIdFromUrl() {\n    var trailId = parseInt(location.href.split('/').pop()) || 1;\n    return trailId;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9zZXJ2aWNlcy91dGlscy5qcz9mNWRjIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVOYW1lU3BhY2U6IChucykgPT4ge1xuICAgIGNvbnN0IHBhdGhQaWVjZXMgPSBucy5zcGxpdCgnLicpLnJldmVyc2UoKTtcbiAgICBsZXQgcGllY2U7XG4gICAgbGV0IHZhclN0cmluZyA9ICcnO1xuICAgIGxldCBjdXJyVmFsdWUgPSB3aW5kb3c7XG4gICAgd2hpbGUgKGN1cnJWYWx1ZSAmJiBwYXRoUGllY2VzLmxlbmd0aCkge1xuICAgICAgcGllY2UgPSBwYXRoUGllY2VzLnBvcCgpO1xuICAgICAgaWYgKGN1cnJWYWx1ZVtwaWVjZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXJyVmFsdWVbcGllY2VdID0ge307XG4gICAgICBcbiAgICAgIH0gXG4gICAgICBjdXJyVmFsdWUgPSBjdXJyVmFsdWVbcGllY2VdO1xuICAgIH1cbiAgICByZXR1cm4gY3VyclZhbHVlO1xuICB9LFxuICBnZXRUcmFpbElkRnJvbVVybDogKCkgPT4ge1xuICAgIGNvbnN0IHRyYWlsSWQgPSBwYXJzZUludChsb2NhdGlvbi5ocmVmLnNwbGl0KCcvJykucG9wKCkpIHx8IDE7XG4gICAgcmV0dXJuIHRyYWlsSWQ7XG4gIH1cbn07Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n")},
/*!*********************************************!*\
  !*** ./client/src/components/PathWidget.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactMapboxGl = __webpack_require__(/*! react-mapbox-gl */ 17);\n\nvar _reactMapboxGl2 = _interopRequireDefault(_reactMapboxGl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ES6\n\n\nvar geoJSON = {\n  'type': 'FeatureCollection',\n  'features': [{\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: []\n    }\n  }]\n};\n\nvar geoJSONPt = {\n  'type': 'FeatureCollection',\n  'features': [{\n    'type': 'Feature',\n    'geometry': {\n      'type': 'Point',\n      'coordinates': [0, 0]\n    }\n  }]\n};\n\nvar PathWidget = function (_React$Component) {\n  _inherits(PathWidget, _React$Component);\n\n  function PathWidget(props) {\n    _classCallCheck(this, PathWidget);\n\n    var _this = _possibleConstructorReturn(this, (PathWidget.__proto__ || Object.getPrototypeOf(PathWidget)).call(this, props));\n\n    _this.state = {\n      geoJSON: null,\n      bounds: null,\n      geoJSONPt: [],\n      loading: true\n    };\n    _this.onMapHover = _this.onMapHover.bind(_this);\n    return _this;\n  }\n\n  _createClass(PathWidget, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(this.props.serviceHosts.paths + '/' + this.props.trailId + '/heroPath').then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        var points = json.data[0].gpx_data.points.map(function (_ref) {\n          var lat = _ref.lat,\n              lon = _ref.lon;\n\n          return [parseFloat(lon), parseFloat(lat)];\n        });\n        var bounds = json.data[0].gpx_data.bounds;\n\n        geoJSON.features[0].geometry.coordinates = points;\n        _this2.setState({\n          geoJSON: geoJSON,\n          loading: false,\n          bounds: [[bounds.minlon, bounds.minlat], [bounds.maxlon, bounds.maxlat]].map(function (group) {\n            return group.map(function (item) {\n              return parseFloat(item);\n            });\n          })\n        });\n      }).catch(function (error) {\n        console.log('error', error);\n      });\n    }\n  }, {\n    key: 'onMapHover',\n    value: function onMapHover(map, e) {\n      if (!map.getSource('point')) {\n        map.addSource('point', {\n          'type': 'geojson',\n          'data': geoJSONPt\n        });\n        map.addLayer({\n          'id': 'hover_pt',\n          'type': 'circle',\n          afterLayerId: 'geojson-1-line',\n          'source': 'point',\n          'paint': {\n            'circle-radius': 30,\n            'circle-opacity': 0.5,\n            'circle-color': '#ff0000'\n          }\n        });\n      }\n      map.moveLayer('geojson-1-line', 'hover_pt');\n      var lnglat = e.lngLat;\n      var tol = 4;\n      var geoJSONFeatures = map.queryRenderedFeatures([[e.point.x - tol, e.point.y - tol], [e.point.x + tol, e.point.y + tol]]).filter(function (feature) {\n\n        return feature.source.toLowerCase().indexOf('geojson') !== -1;\n      });\n      if (geoJSONFeatures.length) {\n        var geoJSONFeature = geoJSONFeatures[0];\n        geoJSONPt.features[0].geometry.coordinates = [lnglat.lng, lnglat.lat];\n        map.getSource('point').setData(geoJSONPt);\n      } else {\n        geoJSONPt.features[0].geometry.coordinates = [];\n        map.getSource('point').setData(geoJSONPt);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var Map = (0, _reactMapboxGl2.default)({\n        accessToken: 'pk.eyJ1IjoiY2ptNzcxIiwiYSI6ImNqOG92Z3YyYjA5Y3EzMnBjZTdoZnN0a3YifQ.7ff2wUzKItFMviEA60OcFA',\n        attributionControl: false\n      });\n\n      return this.state.loading ? React.createElement('div', { className: 'loading' }) : React.createElement(\n        Map,\n        {\n          style: 'mapbox://styles/cjm771/cjpjymsoc0nsz2slnpyrkxdol',\n          onMouseMove: this.onMapHover,\n          onDataLoading: this.onDataLoading,\n          fitBounds: this.state.bounds,\n          fitBoundsOptions: { padding: 50 },\n          containerStyle: {\n            height: '400px',\n            width: '100%'\n          }\n        },\n        React.createElement(_reactMapboxGl.GeoJSONLayer, {\n          data: this.state.geoJSON,\n          lineLayout: {\n            'line-join': 'round',\n            'line-cap': 'round'\n          },\n          linePaint: {\n            'line-color': '#888',\n            'line-width': 3\n          }\n        })\n      );\n    }\n  }]);\n\n  return PathWidget;\n}(React.Component);\n\n// in render()\n\n\nexports.default = PathWidget;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9jb21wb25lbnRzL1BhdGhXaWRnZXQuanM/NDBjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFUzZcbmltcG9ydCBSZWFjdE1hcGJveEdsLCB7IEdlb0pTT05MYXllciwgTWFya2VyIH0gZnJvbSAncmVhY3QtbWFwYm94LWdsJztcblxuY29uc3QgZ2VvSlNPTiA9IHtcbiAgJ3R5cGUnOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAnZmVhdHVyZXMnOiBbXG4gICAge1xuICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgcHJvcGVydGllczoge30sXG4gICAgICBnZW9tZXRyeToge1xuICAgICAgICB0eXBlOiAnTGluZVN0cmluZycsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBbXVxuICAgICAgfVxuICAgIH1cbiAgXVxufTtcblxudmFyIGdlb0pTT05QdCA9IHtcbiAgJ3R5cGUnOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAnZmVhdHVyZXMnOiBbe1xuICAgICd0eXBlJzogJ0ZlYXR1cmUnLFxuICAgICdnZW9tZXRyeSc6IHtcbiAgICAgICd0eXBlJzogJ1BvaW50JyxcbiAgICAgICdjb29yZGluYXRlcyc6IFswLCAwXVxuICAgIH1cbiAgfV1cbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF0aFdpZGdldCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBnZW9KU09OOiBudWxsLFxuICAgICAgYm91bmRzOiBudWxsLFxuICAgICAgZ2VvSlNPTlB0OiBbXSxcbiAgICAgIGxvYWRpbmc6IHRydWVcbiAgICB9O1xuICAgIHRoaXMub25NYXBIb3ZlciA9IHRoaXMub25NYXBIb3Zlci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgZmV0Y2goYCR7dGhpcy5wcm9wcy5zZXJ2aWNlSG9zdHMucGF0aHN9LyR7dGhpcy5wcm9wcy50cmFpbElkfS9oZXJvUGF0aGApXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGpzb24uZGF0YVswXS5ncHhfZGF0YS5wb2ludHMubWFwKCh7IGxhdCwgbG9uIH0pID0+IHtcbiAgICAgICAgICByZXR1cm4gW3BhcnNlRmxvYXQobG9uKSwgcGFyc2VGbG9hdChsYXQpXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGpzb24uZGF0YVswXS5ncHhfZGF0YS5ib3VuZHM7XG5cbiAgICAgICAgZ2VvSlNPTi5mZWF0dXJlc1swXS5nZW9tZXRyeS5jb29yZGluYXRlcyA9IHBvaW50cztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZ2VvSlNPTixcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBib3VuZHM6IFtcbiAgICAgICAgICAgIFtib3VuZHMubWlubG9uLCBib3VuZHMubWlubGF0XSxcbiAgICAgICAgICAgIFtib3VuZHMubWF4bG9uLCBib3VuZHMubWF4bGF0XVxuICAgICAgICAgIF0ubWFwKGdyb3VwID0+IHtcbiAgICAgICAgICAgIHJldHVybiBncm91cC5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cblxuICBvbk1hcEhvdmVyKG1hcCwgZSkge1xuICAgIGlmICghbWFwLmdldFNvdXJjZSgncG9pbnQnKSkge1xuICAgICAgbWFwLmFkZFNvdXJjZSgncG9pbnQnLCB7XG4gICAgICAgICd0eXBlJzogJ2dlb2pzb24nLFxuICAgICAgICAnZGF0YSc6IGdlb0pTT05QdFxuICAgICAgfSk7XG4gICAgICBtYXAuYWRkTGF5ZXIoe1xuICAgICAgICAnaWQnOiAnaG92ZXJfcHQnLFxuICAgICAgICAndHlwZSc6ICdjaXJjbGUnLFxuICAgICAgICBhZnRlckxheWVySWQ6ICdnZW9qc29uLTEtbGluZScsXG4gICAgICAgICdzb3VyY2UnOiAncG9pbnQnLFxuICAgICAgICAncGFpbnQnOiB7XG4gICAgICAgICAgJ2NpcmNsZS1yYWRpdXMnOiAzMCxcbiAgICAgICAgICAnY2lyY2xlLW9wYWNpdHknOiAwLjUsXG4gICAgICAgICAgJ2NpcmNsZS1jb2xvcic6ICcjZmYwMDAwJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgIH1cbiAgICBtYXAubW92ZUxheWVyKCdnZW9qc29uLTEtbGluZScsICdob3Zlcl9wdCcpO1xuICAgIGNvbnN0IGxuZ2xhdCA9IGUubG5nTGF0O1xuICAgIGNvbnN0IHRvbCA9IDQ7XG4gICAgY29uc3QgZ2VvSlNPTkZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhbW2UucG9pbnQueCAtIHRvbCwgZS5wb2ludC55IC0gdG9sXSwgW2UucG9pbnQueCArIHRvbCwgZS5wb2ludC55ICsgdG9sXV0pLmZpbHRlcigoZmVhdHVyZSkgPT4ge1xuICAgIFxuICAgICAgcmV0dXJuIChmZWF0dXJlLnNvdXJjZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2dlb2pzb24nKSAhPT0gLTEpO1xuICAgIH0pO1xuICAgIGlmIChnZW9KU09ORmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBnZW9KU09ORmVhdHVyZSA9IGdlb0pTT05GZWF0dXJlc1swXTtcbiAgICAgIGdlb0pTT05QdC5mZWF0dXJlc1swXS5nZW9tZXRyeS5jb29yZGluYXRlcyA9IFtsbmdsYXQubG5nLCBsbmdsYXQubGF0XTtcbiAgICAgIG1hcC5nZXRTb3VyY2UoJ3BvaW50Jykuc2V0RGF0YShnZW9KU09OUHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW9KU09OUHQuZmVhdHVyZXNbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgIG1hcC5nZXRTb3VyY2UoJ3BvaW50Jykuc2V0RGF0YShnZW9KU09OUHQpO1xuICAgIH1cbiAgfVxuICBcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IE1hcCA9IFJlYWN0TWFwYm94R2woe1xuICAgICAgYWNjZXNzVG9rZW46XG4gICAgICAgICdway5leUoxSWpvaVkycHROemN4SWl3aVlTSTZJbU5xT0c5MlozWXlZakE1WTNFek1uQmpaVGRvWm5OMGEzWWlmUS43ZmYyd1V6S0l0Rk12aUVBNjBPY0ZBJyxcbiAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogZmFsc2VcbiAgICB9KTtcblxuICAgIHJldHVybiAodGhpcy5zdGF0ZS5sb2FkaW5nKSA/ICg8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZyc+PC9kaXY+KSA6IChcbiAgICAgIDxNYXBcbiAgICAgICAgc3R5bGU9XCJtYXBib3g6Ly9zdHlsZXMvY2ptNzcxL2NqcGp5bXNvYzBuc3oyc2xucHlya3hkb2xcIlxuICAgICAgICBvbk1vdXNlTW92ZT17dGhpcy5vbk1hcEhvdmVyfVxuICAgICAgICBvbkRhdGFMb2FkaW5nPXt0aGlzLm9uRGF0YUxvYWRpbmd9XG4gICAgICAgIGZpdEJvdW5kcz17dGhpcy5zdGF0ZS5ib3VuZHN9XG4gICAgICAgIGZpdEJvdW5kc09wdGlvbnM9e3twYWRkaW5nOiA1MH19XG4gICAgICAgIGNvbnRhaW5lclN0eWxlPXt7XG4gICAgICAgICAgaGVpZ2h0OiAnNDAwcHgnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPEdlb0pTT05MYXllclxuICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUuZ2VvSlNPTn1cbiAgICAgICAgICBsaW5lTGF5b3V0PXt7XG4gICAgICAgICAgICAnbGluZS1qb2luJzogJ3JvdW5kJyxcbiAgICAgICAgICAgICdsaW5lLWNhcCc6ICdyb3VuZCdcbiAgICAgICAgICB9fVxuICAgICAgICAgIGxpbmVQYWludD17e1xuICAgICAgICAgICAgJ2xpbmUtY29sb3InOiAnIzg4OCcsXG4gICAgICAgICAgICAnbGluZS13aWR0aCc6IDNcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9NYXA+XG4gICAgKTtcbiAgfVxufVxuXG4vLyBpbiByZW5kZXIoKVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBQ0E7Ozs7Ozs7OztBQUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUhBO0FBSEE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQUZBO0FBQ0E7QUFXQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBUkE7QUFTQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFMQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQU5BO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFOQTtBQVhBO0FBd0JBOzs7O0FBOUdBO0FBQ0E7QUFnSEE7QUFDQTtBQUNBO0FBbkhBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n")},
/*!***************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/index.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar map_1 = __webpack_require__(/*! ./map */ 18);\nexports.Map = map_1.default;\nvar layer_1 = __webpack_require__(/*! ./layer */ 28);\nvar layer_events_hoc_1 = __webpack_require__(/*! ./layer-events-hoc */ 29);\nvar geojson_layer_1 = __webpack_require__(/*! ./geojson-layer */ 30);\nexports.GeoJSONLayer = geojson_layer_1.default;\nvar feature_1 = __webpack_require__(/*! ./feature */ 31);\nexports.Feature = feature_1.default;\nvar zoom_control_1 = __webpack_require__(/*! ./zoom-control */ 32);\nexports.ZoomControl = zoom_control_1.default;\nvar popup_1 = __webpack_require__(/*! ./popup */ 33);\nexports.Popup = popup_1.default;\nvar scale_control_1 = __webpack_require__(/*! ./scale-control */ 35);\nexports.ScaleControl = scale_control_1.default;\nvar marker_1 = __webpack_require__(/*! ./marker */ 36);\nexports.Marker = marker_1.default;\nvar source_1 = __webpack_require__(/*! ./source */ 37);\nexports.Source = source_1.default;\nvar cluster_1 = __webpack_require__(/*! ./cluster */ 38);\nexports.Cluster = cluster_1.default;\nvar rotation_control_1 = __webpack_require__(/*! ./rotation-control */ 47);\nexports.RotationControl = rotation_control_1.default;\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nexports.PropTypesAlias = PropTypes;\nvar Layer = layer_events_hoc_1.default(layer_1.default);\nexports.Layer = Layer;\nexports.default = map_1.default;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9pbmRleC5qcz8yZjNkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1hcF8xID0gcmVxdWlyZShcIi4vbWFwXCIpO1xuZXhwb3J0cy5NYXAgPSBtYXBfMS5kZWZhdWx0O1xudmFyIGxheWVyXzEgPSByZXF1aXJlKFwiLi9sYXllclwiKTtcbnZhciBsYXllcl9ldmVudHNfaG9jXzEgPSByZXF1aXJlKFwiLi9sYXllci1ldmVudHMtaG9jXCIpO1xudmFyIGdlb2pzb25fbGF5ZXJfMSA9IHJlcXVpcmUoXCIuL2dlb2pzb24tbGF5ZXJcIik7XG5leHBvcnRzLkdlb0pTT05MYXllciA9IGdlb2pzb25fbGF5ZXJfMS5kZWZhdWx0O1xudmFyIGZlYXR1cmVfMSA9IHJlcXVpcmUoXCIuL2ZlYXR1cmVcIik7XG5leHBvcnRzLkZlYXR1cmUgPSBmZWF0dXJlXzEuZGVmYXVsdDtcbnZhciB6b29tX2NvbnRyb2xfMSA9IHJlcXVpcmUoXCIuL3pvb20tY29udHJvbFwiKTtcbmV4cG9ydHMuWm9vbUNvbnRyb2wgPSB6b29tX2NvbnRyb2xfMS5kZWZhdWx0O1xudmFyIHBvcHVwXzEgPSByZXF1aXJlKFwiLi9wb3B1cFwiKTtcbmV4cG9ydHMuUG9wdXAgPSBwb3B1cF8xLmRlZmF1bHQ7XG52YXIgc2NhbGVfY29udHJvbF8xID0gcmVxdWlyZShcIi4vc2NhbGUtY29udHJvbFwiKTtcbmV4cG9ydHMuU2NhbGVDb250cm9sID0gc2NhbGVfY29udHJvbF8xLmRlZmF1bHQ7XG52YXIgbWFya2VyXzEgPSByZXF1aXJlKFwiLi9tYXJrZXJcIik7XG5leHBvcnRzLk1hcmtlciA9IG1hcmtlcl8xLmRlZmF1bHQ7XG52YXIgc291cmNlXzEgPSByZXF1aXJlKFwiLi9zb3VyY2VcIik7XG5leHBvcnRzLlNvdXJjZSA9IHNvdXJjZV8xLmRlZmF1bHQ7XG52YXIgY2x1c3Rlcl8xID0gcmVxdWlyZShcIi4vY2x1c3RlclwiKTtcbmV4cG9ydHMuQ2x1c3RlciA9IGNsdXN0ZXJfMS5kZWZhdWx0O1xudmFyIHJvdGF0aW9uX2NvbnRyb2xfMSA9IHJlcXVpcmUoXCIuL3JvdGF0aW9uLWNvbnRyb2xcIik7XG5leHBvcnRzLlJvdGF0aW9uQ29udHJvbCA9IHJvdGF0aW9uX2NvbnRyb2xfMS5kZWZhdWx0O1xudmFyIFByb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xuZXhwb3J0cy5Qcm9wVHlwZXNBbGlhcyA9IFByb3BUeXBlcztcbnZhciBMYXllciA9IGxheWVyX2V2ZW50c19ob2NfMS5kZWZhdWx0KGxheWVyXzEuZGVmYXVsdCk7XG5leHBvcnRzLkxheWVyID0gTGF5ZXI7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBfMS5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n')},
/*!*************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/map.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MapboxGl = __webpack_require__(/*! mapbox-gl */ 2);\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar inject_css_1 = __webpack_require__(/*! ./util/inject-css */ 23);\nvar map_events_1 = __webpack_require__(/*! ./map-events */ 25);\nvar isEqual = __webpack_require__(/*! deep-equal */ 3);\nvar defaultZoom = [11];\nvar defaultMovingMethod = 'flyTo';\nvar defaultCenter = [-0.2416815, 51.5285582];\nvar defaultContainerStyle = {\n    textAlign: 'left'\n};\nvar ReactMapboxFactory = function (_a) {\n    var accessToken = _a.accessToken, apiUrl = _a.apiUrl, _b = _a.minZoom, minZoom = _b === void 0 ? 0 : _b, _c = _a.maxZoom, maxZoom = _c === void 0 ? 20 : _c, _d = _a.hash, hash = _d === void 0 ? false : _d, _e = _a.preserveDrawingBuffer, preserveDrawingBuffer = _e === void 0 ? false : _e, _f = _a.scrollZoom, scrollZoom = _f === void 0 ? true : _f, _g = _a.interactive, interactive = _g === void 0 ? true : _g, _h = _a.dragRotate, dragRotate = _h === void 0 ? true : _h, _j = _a.attributionControl, attributionControl = _j === void 0 ? true : _j, customAttribution = _a.customAttribution, _k = _a.logoPosition, logoPosition = _k === void 0 ? 'bottom-left' : _k, _l = _a.renderWorldCopies, renderWorldCopies = _l === void 0 ? true : _l, _m = _a.trackResize, trackResize = _m === void 0 ? true : _m, _o = _a.touchZoomRotate, touchZoomRotate = _o === void 0 ? true : _o, _p = _a.doubleClickZoom, doubleClickZoom = _p === void 0 ? true : _p, _q = _a.keyboard, keyboard = _q === void 0 ? true : _q, _r = _a.dragPan, dragPan = _r === void 0 ? true : _r, _s = _a.boxZoom, boxZoom = _s === void 0 ? true : _s, _t = _a.refreshExpiredTiles, refreshExpiredTiles = _t === void 0 ? true : _t, _u = _a.failIfMajorPerformanceCaveat, failIfMajorPerformanceCaveat = _u === void 0 ? false : _u, _v = _a.bearingSnap, bearingSnap = _v === void 0 ? 7 : _v, _w = _a.injectCss, injectCss = _w === void 0 ? true : _w, transformRequest = _a.transformRequest;\n    if (injectCss) {\n        inject_css_1.default(window);\n    }\n    return _x = (function (_super) {\n            __extends(ReactMapboxGl, _super);\n            function ReactMapboxGl() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.state = {\n                    map: undefined,\n                    ready: false\n                };\n                _this.listeners = {};\n                _this._isMounted = true;\n                _this.getChildContext = function () { return ({\n                    map: _this.state.map\n                }); };\n                _this.calcCenter = function (bounds) { return [\n                    (bounds[0][0] + bounds[1][0]) / 2,\n                    (bounds[0][1] + bounds[1][1]) / 2\n                ]; };\n                _this.setRef = function (x) {\n                    _this.container = x;\n                };\n                return _this;\n            }\n            ReactMapboxGl.prototype.componentDidMount = function () {\n                var _this = this;\n                var _a = this.props, style = _a.style, onStyleLoad = _a.onStyleLoad, center = _a.center, pitch = _a.pitch, zoom = _a.zoom, fitBounds = _a.fitBounds, fitBoundsOptions = _a.fitBoundsOptions, bearing = _a.bearing, maxBounds = _a.maxBounds;\n                MapboxGl.accessToken = accessToken;\n                if (apiUrl) {\n                    MapboxGl.config.API_URL = apiUrl;\n                }\n                if (!Array.isArray(zoom)) {\n                    throw new Error('zoom need to be an array type of length 1 for reliable update');\n                }\n                var opts = {\n                    preserveDrawingBuffer: preserveDrawingBuffer,\n                    hash: hash,\n                    zoom: zoom[0],\n                    minZoom: minZoom,\n                    maxZoom: maxZoom,\n                    maxBounds: maxBounds,\n                    container: this.container,\n                    center: fitBounds && center === defaultCenter\n                        ? this.calcCenter(fitBounds)\n                        : center,\n                    style: style,\n                    scrollZoom: scrollZoom,\n                    attributionControl: attributionControl,\n                    customAttribution: customAttribution,\n                    interactive: interactive,\n                    dragRotate: dragRotate,\n                    renderWorldCopies: renderWorldCopies,\n                    trackResize: trackResize,\n                    touchZoomRotate: touchZoomRotate,\n                    doubleClickZoom: doubleClickZoom,\n                    keyboard: keyboard,\n                    dragPan: dragPan,\n                    boxZoom: boxZoom,\n                    refreshExpiredTiles: refreshExpiredTiles,\n                    logoPosition: logoPosition,\n                    bearingSnap: bearingSnap,\n                    failIfMajorPerformanceCaveat: failIfMajorPerformanceCaveat,\n                    transformRequest: transformRequest\n                };\n                if (bearing) {\n                    if (!Array.isArray(bearing)) {\n                        throw new Error('bearing need to be an array type of length 1 for reliable update');\n                    }\n                    opts.bearing = bearing[0];\n                }\n                if (pitch) {\n                    if (!Array.isArray(pitch)) {\n                        throw new Error('pitch need to be an array type of length 1 for reliable update');\n                    }\n                    opts.pitch = pitch[0];\n                }\n                var map = new MapboxGl.Map(opts);\n                this.setState({ map: map });\n                if (fitBounds) {\n                    map.fitBounds(fitBounds, fitBoundsOptions);\n                }\n                map.on('load', function (evt) {\n                    if (_this._isMounted) {\n                        _this.setState({ ready: true });\n                    }\n                    if (onStyleLoad) {\n                        onStyleLoad(map, evt);\n                    }\n                });\n                this.listeners = map_events_1.listenEvents(map_events_1.events, this.props, map);\n            };\n            ReactMapboxGl.prototype.componentWillUnmount = function () {\n                var map = this.state.map;\n                this._isMounted = false;\n                if (map) {\n                    map.remove();\n                }\n            };\n            ReactMapboxGl.prototype.componentWillReceiveProps = function (nextProps) {\n                var map = this.state.map;\n                if (!map) {\n                    return null;\n                }\n                this.listeners = map_events_1.updateEvents(this.listeners, nextProps, map);\n                var center = map.getCenter();\n                var zoom = map.getZoom();\n                var bearing = map.getBearing();\n                var pitch = map.getPitch();\n                var didZoomUpdate = this.props.zoom !== nextProps.zoom &&\n                    (nextProps.zoom && nextProps.zoom[0]) !== zoom;\n                var didCenterUpdate = this.props.center !== nextProps.center &&\n                    ((nextProps.center && nextProps.center[0]) !== center.lng ||\n                        (nextProps.center && nextProps.center[1]) !== center.lat);\n                var didBearingUpdate = this.props.bearing !== nextProps.bearing &&\n                    (nextProps.bearing && nextProps.bearing[0]) !== bearing;\n                var didPitchUpdate = this.props.pitch !== nextProps.pitch &&\n                    (nextProps.pitch && nextProps.pitch[0]) !== pitch;\n                if (nextProps.maxBounds) {\n                    var didMaxBoundsUpdate = this.props.maxBounds !== nextProps.maxBounds;\n                    if (didMaxBoundsUpdate) {\n                        map.setMaxBounds(nextProps.maxBounds);\n                    }\n                }\n                if (nextProps.fitBounds) {\n                    var fitBounds = this.props.fitBounds;\n                    var didFitBoundsUpdate = fitBounds !== nextProps.fitBounds ||\n                        nextProps.fitBounds.length !== (fitBounds && fitBounds.length) ||\n                        !!fitBounds.filter(function (c, i) {\n                            var nc = nextProps.fitBounds && nextProps.fitBounds[i];\n                            return c[0] !== (nc && nc[0]) || c[1] !== (nc && nc[1]);\n                        })[0];\n                    if (didFitBoundsUpdate ||\n                        !isEqual(this.props.fitBoundsOptions, nextProps.fitBoundsOptions)) {\n                        map.fitBounds(nextProps.fitBounds, nextProps.fitBoundsOptions);\n                    }\n                }\n                if (didZoomUpdate ||\n                    didCenterUpdate ||\n                    didBearingUpdate ||\n                    didPitchUpdate) {\n                    var mm = nextProps.movingMethod || defaultMovingMethod;\n                    var flyToOptions = nextProps.flyToOptions, animationOptions = nextProps.animationOptions;\n                    map[mm](__assign({}, animationOptions, flyToOptions, { zoom: didZoomUpdate && nextProps.zoom ? nextProps.zoom[0] : zoom, center: didCenterUpdate ? nextProps.center : center, bearing: didBearingUpdate ? nextProps.bearing : bearing, pitch: didPitchUpdate ? nextProps.pitch : pitch }));\n                }\n                if (!isEqual(this.props.style, nextProps.style)) {\n                    map.setStyle(nextProps.style);\n                }\n                return null;\n            };\n            ReactMapboxGl.prototype.render = function () {\n                var _a = this.props, containerStyle = _a.containerStyle, className = _a.className, children = _a.children;\n                var ready = this.state.ready;\n                return (React.createElement(\"div\", { ref: this.setRef, className: className, style: __assign({}, containerStyle, defaultContainerStyle) }, ready && children));\n            };\n            return ReactMapboxGl;\n        }(React.Component)),\n        _x.defaultProps = {\n            onStyleLoad: function (map, evt) { return null; },\n            center: defaultCenter,\n            zoom: defaultZoom,\n            bearing: 0,\n            movingMethod: defaultMovingMethod,\n            pitch: 0\n        },\n        _x.childContextTypes = {\n            map: PropTypes.object\n        },\n        _x;\n    var _x;\n};\nexports.default = ReactMapboxFactory;\n//# sourceMappingURL=map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9tYXAuanM/MzU0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTWFwYm94R2wgPSByZXF1aXJlKFwibWFwYm94LWdsXCIpO1xudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIFByb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xudmFyIGluamVjdF9jc3NfMSA9IHJlcXVpcmUoXCIuL3V0aWwvaW5qZWN0LWNzc1wiKTtcbnZhciBtYXBfZXZlbnRzXzEgPSByZXF1aXJlKFwiLi9tYXAtZXZlbnRzXCIpO1xudmFyIGlzRXF1YWwgPSByZXF1aXJlKCdkZWVwLWVxdWFsJyk7XG52YXIgZGVmYXVsdFpvb20gPSBbMTFdO1xudmFyIGRlZmF1bHRNb3ZpbmdNZXRob2QgPSAnZmx5VG8nO1xudmFyIGRlZmF1bHRDZW50ZXIgPSBbLTAuMjQxNjgxNSwgNTEuNTI4NTU4Ml07XG52YXIgZGVmYXVsdENvbnRhaW5lclN0eWxlID0ge1xuICAgIHRleHRBbGlnbjogJ2xlZnQnXG59O1xudmFyIFJlYWN0TWFwYm94RmFjdG9yeSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhY2Nlc3NUb2tlbiA9IF9hLmFjY2Vzc1Rva2VuLCBhcGlVcmwgPSBfYS5hcGlVcmwsIF9iID0gX2EubWluWm9vbSwgbWluWm9vbSA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsIF9jID0gX2EubWF4Wm9vbSwgbWF4Wm9vbSA9IF9jID09PSB2b2lkIDAgPyAyMCA6IF9jLCBfZCA9IF9hLmhhc2gsIGhhc2ggPSBfZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZCwgX2UgPSBfYS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsIHByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IF9lID09PSB2b2lkIDAgPyBmYWxzZSA6IF9lLCBfZiA9IF9hLnNjcm9sbFpvb20sIHNjcm9sbFpvb20gPSBfZiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9mLCBfZyA9IF9hLmludGVyYWN0aXZlLCBpbnRlcmFjdGl2ZSA9IF9nID09PSB2b2lkIDAgPyB0cnVlIDogX2csIF9oID0gX2EuZHJhZ1JvdGF0ZSwgZHJhZ1JvdGF0ZSA9IF9oID09PSB2b2lkIDAgPyB0cnVlIDogX2gsIF9qID0gX2EuYXR0cmlidXRpb25Db250cm9sLCBhdHRyaWJ1dGlvbkNvbnRyb2wgPSBfaiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9qLCBjdXN0b21BdHRyaWJ1dGlvbiA9IF9hLmN1c3RvbUF0dHJpYnV0aW9uLCBfayA9IF9hLmxvZ29Qb3NpdGlvbiwgbG9nb1Bvc2l0aW9uID0gX2sgPT09IHZvaWQgMCA/ICdib3R0b20tbGVmdCcgOiBfaywgX2wgPSBfYS5yZW5kZXJXb3JsZENvcGllcywgcmVuZGVyV29ybGRDb3BpZXMgPSBfbCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9sLCBfbSA9IF9hLnRyYWNrUmVzaXplLCB0cmFja1Jlc2l6ZSA9IF9tID09PSB2b2lkIDAgPyB0cnVlIDogX20sIF9vID0gX2EudG91Y2hab29tUm90YXRlLCB0b3VjaFpvb21Sb3RhdGUgPSBfbyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vLCBfcCA9IF9hLmRvdWJsZUNsaWNrWm9vbSwgZG91YmxlQ2xpY2tab29tID0gX3AgPT09IHZvaWQgMCA/IHRydWUgOiBfcCwgX3EgPSBfYS5rZXlib2FyZCwga2V5Ym9hcmQgPSBfcSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9xLCBfciA9IF9hLmRyYWdQYW4sIGRyYWdQYW4gPSBfciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yLCBfcyA9IF9hLmJveFpvb20sIGJveFpvb20gPSBfcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9zLCBfdCA9IF9hLnJlZnJlc2hFeHBpcmVkVGlsZXMsIHJlZnJlc2hFeHBpcmVkVGlsZXMgPSBfdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF90LCBfdSA9IF9hLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQsIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQgPSBfdSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfdSwgX3YgPSBfYS5iZWFyaW5nU25hcCwgYmVhcmluZ1NuYXAgPSBfdiA9PT0gdm9pZCAwID8gNyA6IF92LCBfdyA9IF9hLmluamVjdENzcywgaW5qZWN0Q3NzID0gX3cgPT09IHZvaWQgMCA/IHRydWUgOiBfdywgdHJhbnNmb3JtUmVxdWVzdCA9IF9hLnRyYW5zZm9ybVJlcXVlc3Q7XG4gICAgaWYgKGluamVjdENzcykge1xuICAgICAgICBpbmplY3RfY3NzXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIH1cbiAgICByZXR1cm4gX3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICAgICAgX19leHRlbmRzKFJlYWN0TWFwYm94R2wsIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBSZWFjdE1hcGJveEdsKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBtYXA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcmVhZHk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpcy5saXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICBtYXA6IF90aGlzLnN0YXRlLm1hcFxuICAgICAgICAgICAgICAgIH0pOyB9O1xuICAgICAgICAgICAgICAgIF90aGlzLmNhbGNDZW50ZXIgPSBmdW5jdGlvbiAoYm91bmRzKSB7IHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIChib3VuZHNbMF1bMF0gKyBib3VuZHNbMV1bMF0pIC8gMixcbiAgICAgICAgICAgICAgICAgICAgKGJvdW5kc1swXVsxXSArIGJvdW5kc1sxXVsxXSkgLyAyXG4gICAgICAgICAgICAgICAgXTsgfTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRSZWYgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250YWluZXIgPSB4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUmVhY3RNYXBib3hHbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBzdHlsZSA9IF9hLnN0eWxlLCBvblN0eWxlTG9hZCA9IF9hLm9uU3R5bGVMb2FkLCBjZW50ZXIgPSBfYS5jZW50ZXIsIHBpdGNoID0gX2EucGl0Y2gsIHpvb20gPSBfYS56b29tLCBmaXRCb3VuZHMgPSBfYS5maXRCb3VuZHMsIGZpdEJvdW5kc09wdGlvbnMgPSBfYS5maXRCb3VuZHNPcHRpb25zLCBiZWFyaW5nID0gX2EuYmVhcmluZywgbWF4Qm91bmRzID0gX2EubWF4Qm91bmRzO1xuICAgICAgICAgICAgICAgIE1hcGJveEdsLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47XG4gICAgICAgICAgICAgICAgaWYgKGFwaVVybCkge1xuICAgICAgICAgICAgICAgICAgICBNYXBib3hHbC5jb25maWcuQVBJX1VSTCA9IGFwaVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHpvb20pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignem9vbSBuZWVkIHRvIGJlIGFuIGFycmF5IHR5cGUgb2YgbGVuZ3RoIDEgZm9yIHJlbGlhYmxlIHVwZGF0ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgICAgIGhhc2g6IGhhc2gsXG4gICAgICAgICAgICAgICAgICAgIHpvb206IHpvb21bMF0sXG4gICAgICAgICAgICAgICAgICAgIG1pblpvb206IG1pblpvb20sXG4gICAgICAgICAgICAgICAgICAgIG1heFpvb206IG1heFpvb20sXG4gICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogbWF4Qm91bmRzLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGZpdEJvdW5kcyAmJiBjZW50ZXIgPT09IGRlZmF1bHRDZW50ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5jYWxjQ2VudGVyKGZpdEJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2VudGVyLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFpvb206IHNjcm9sbFpvb20sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogYXR0cmlidXRpb25Db250cm9sLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGlvbjogY3VzdG9tQXR0cmlidXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ1JvdGF0ZTogZHJhZ1JvdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyV29ybGRDb3BpZXM6IHJlbmRlcldvcmxkQ29waWVzLFxuICAgICAgICAgICAgICAgICAgICB0cmFja1Jlc2l6ZTogdHJhY2tSZXNpemUsXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoWm9vbVJvdGF0ZTogdG91Y2hab29tUm90YXRlLFxuICAgICAgICAgICAgICAgICAgICBkb3VibGVDbGlja1pvb206IGRvdWJsZUNsaWNrWm9vbSxcbiAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGtleWJvYXJkLFxuICAgICAgICAgICAgICAgICAgICBkcmFnUGFuOiBkcmFnUGFuLFxuICAgICAgICAgICAgICAgICAgICBib3hab29tOiBib3hab29tLFxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoRXhwaXJlZFRpbGVzOiByZWZyZXNoRXhwaXJlZFRpbGVzLFxuICAgICAgICAgICAgICAgICAgICBsb2dvUG9zaXRpb246IGxvZ29Qb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYmVhcmluZ1NuYXA6IGJlYXJpbmdTbmFwLFxuICAgICAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiB0cmFuc2Zvcm1SZXF1ZXN0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoYmVhcmluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYmVhcmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmVhcmluZyBuZWVkIHRvIGJlIGFuIGFycmF5IHR5cGUgb2YgbGVuZ3RoIDEgZm9yIHJlbGlhYmxlIHVwZGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wdHMuYmVhcmluZyA9IGJlYXJpbmdbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwaXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGl0Y2gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BpdGNoIG5lZWQgdG8gYmUgYW4gYXJyYXkgdHlwZSBvZiBsZW5ndGggMSBmb3IgcmVsaWFibGUgdXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0cy5waXRjaCA9IHBpdGNoWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbmV3IE1hcGJveEdsLk1hcChvcHRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbWFwOiBtYXAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGZpdEJvdW5kcykge1xuICAgICAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGZpdEJvdW5kcywgZml0Qm91bmRzT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcC5vbignbG9hZCcsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgcmVhZHk6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uU3R5bGVMb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN0eWxlTG9hZChtYXAsIGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG1hcF9ldmVudHNfMS5saXN0ZW5FdmVudHMobWFwX2V2ZW50c18xLmV2ZW50cywgdGhpcy5wcm9wcywgbWFwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSZWFjdE1hcGJveEdsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5zdGF0ZS5tYXA7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFJlYWN0TWFwYm94R2wucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuc3RhdGUubWFwO1xuICAgICAgICAgICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG1hcF9ldmVudHNfMS51cGRhdGVFdmVudHModGhpcy5saXN0ZW5lcnMsIG5leHRQcm9wcywgbWFwKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gbWFwLmdldENlbnRlcigpO1xuICAgICAgICAgICAgICAgIHZhciB6b29tID0gbWFwLmdldFpvb20oKTtcbiAgICAgICAgICAgICAgICB2YXIgYmVhcmluZyA9IG1hcC5nZXRCZWFyaW5nKCk7XG4gICAgICAgICAgICAgICAgdmFyIHBpdGNoID0gbWFwLmdldFBpdGNoKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRpZFpvb21VcGRhdGUgPSB0aGlzLnByb3BzLnpvb20gIT09IG5leHRQcm9wcy56b29tICYmXG4gICAgICAgICAgICAgICAgICAgIChuZXh0UHJvcHMuem9vbSAmJiBuZXh0UHJvcHMuem9vbVswXSkgIT09IHpvb207XG4gICAgICAgICAgICAgICAgdmFyIGRpZENlbnRlclVwZGF0ZSA9IHRoaXMucHJvcHMuY2VudGVyICE9PSBuZXh0UHJvcHMuY2VudGVyICYmXG4gICAgICAgICAgICAgICAgICAgICgobmV4dFByb3BzLmNlbnRlciAmJiBuZXh0UHJvcHMuY2VudGVyWzBdKSAhPT0gY2VudGVyLmxuZyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKG5leHRQcm9wcy5jZW50ZXIgJiYgbmV4dFByb3BzLmNlbnRlclsxXSkgIT09IGNlbnRlci5sYXQpO1xuICAgICAgICAgICAgICAgIHZhciBkaWRCZWFyaW5nVXBkYXRlID0gdGhpcy5wcm9wcy5iZWFyaW5nICE9PSBuZXh0UHJvcHMuYmVhcmluZyAmJlxuICAgICAgICAgICAgICAgICAgICAobmV4dFByb3BzLmJlYXJpbmcgJiYgbmV4dFByb3BzLmJlYXJpbmdbMF0pICE9PSBiZWFyaW5nO1xuICAgICAgICAgICAgICAgIHZhciBkaWRQaXRjaFVwZGF0ZSA9IHRoaXMucHJvcHMucGl0Y2ggIT09IG5leHRQcm9wcy5waXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAobmV4dFByb3BzLnBpdGNoICYmIG5leHRQcm9wcy5waXRjaFswXSkgIT09IHBpdGNoO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0UHJvcHMubWF4Qm91bmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWRNYXhCb3VuZHNVcGRhdGUgPSB0aGlzLnByb3BzLm1heEJvdW5kcyAhPT0gbmV4dFByb3BzLm1heEJvdW5kcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZE1heEJvdW5kc1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldE1heEJvdW5kcyhuZXh0UHJvcHMubWF4Qm91bmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV4dFByb3BzLmZpdEJvdW5kcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZml0Qm91bmRzID0gdGhpcy5wcm9wcy5maXRCb3VuZHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWRGaXRCb3VuZHNVcGRhdGUgPSBmaXRCb3VuZHMgIT09IG5leHRQcm9wcy5maXRCb3VuZHMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcy5maXRCb3VuZHMubGVuZ3RoICE9PSAoZml0Qm91bmRzICYmIGZpdEJvdW5kcy5sZW5ndGgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhIWZpdEJvdW5kcy5maWx0ZXIoZnVuY3Rpb24gKGMsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmMgPSBuZXh0UHJvcHMuZml0Qm91bmRzICYmIG5leHRQcm9wcy5maXRCb3VuZHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNbMF0gIT09IChuYyAmJiBuY1swXSkgfHwgY1sxXSAhPT0gKG5jICYmIG5jWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlkRml0Qm91bmRzVXBkYXRlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNFcXVhbCh0aGlzLnByb3BzLmZpdEJvdW5kc09wdGlvbnMsIG5leHRQcm9wcy5maXRCb3VuZHNPcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhuZXh0UHJvcHMuZml0Qm91bmRzLCBuZXh0UHJvcHMuZml0Qm91bmRzT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpZFpvb21VcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkQ2VudGVyVXBkYXRlIHx8XG4gICAgICAgICAgICAgICAgICAgIGRpZEJlYXJpbmdVcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkUGl0Y2hVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1tID0gbmV4dFByb3BzLm1vdmluZ01ldGhvZCB8fCBkZWZhdWx0TW92aW5nTWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmx5VG9PcHRpb25zID0gbmV4dFByb3BzLmZseVRvT3B0aW9ucywgYW5pbWF0aW9uT3B0aW9ucyA9IG5leHRQcm9wcy5hbmltYXRpb25PcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBtYXBbbW1dKF9fYXNzaWduKHt9LCBhbmltYXRpb25PcHRpb25zLCBmbHlUb09wdGlvbnMsIHsgem9vbTogZGlkWm9vbVVwZGF0ZSAmJiBuZXh0UHJvcHMuem9vbSA/IG5leHRQcm9wcy56b29tWzBdIDogem9vbSwgY2VudGVyOiBkaWRDZW50ZXJVcGRhdGUgPyBuZXh0UHJvcHMuY2VudGVyIDogY2VudGVyLCBiZWFyaW5nOiBkaWRCZWFyaW5nVXBkYXRlID8gbmV4dFByb3BzLmJlYXJpbmcgOiBiZWFyaW5nLCBwaXRjaDogZGlkUGl0Y2hVcGRhdGUgPyBuZXh0UHJvcHMucGl0Y2ggOiBwaXRjaCB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaXNFcXVhbCh0aGlzLnByb3BzLnN0eWxlLCBuZXh0UHJvcHMuc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXRTdHlsZShuZXh0UHJvcHMuc3R5bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSZWFjdE1hcGJveEdsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgY29udGFpbmVyU3R5bGUgPSBfYS5jb250YWluZXJTdHlsZSwgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIHZhciByZWFkeSA9IHRoaXMuc3RhdGUucmVhZHk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiB0aGlzLnNldFJlZiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBfX2Fzc2lnbih7fSwgY29udGFpbmVyU3R5bGUsIGRlZmF1bHRDb250YWluZXJTdHlsZSkgfSwgcmVhZHkgJiYgY2hpbGRyZW4pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gUmVhY3RNYXBib3hHbDtcbiAgICAgICAgfShSZWFjdC5Db21wb25lbnQpKSxcbiAgICAgICAgX3guZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAgICAgb25TdHlsZUxvYWQ6IGZ1bmN0aW9uIChtYXAsIGV2dCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgIGNlbnRlcjogZGVmYXVsdENlbnRlcixcbiAgICAgICAgICAgIHpvb206IGRlZmF1bHRab29tLFxuICAgICAgICAgICAgYmVhcmluZzogMCxcbiAgICAgICAgICAgIG1vdmluZ01ldGhvZDogZGVmYXVsdE1vdmluZ01ldGhvZCxcbiAgICAgICAgICAgIHBpdGNoOiAwXG4gICAgICAgIH0sXG4gICAgICAgIF94LmNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgICAgICAgICAgbWFwOiBQcm9wVHlwZXMub2JqZWN0XG4gICAgICAgIH0sXG4gICAgICAgIF94O1xuICAgIHZhciBfeDtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBSZWFjdE1hcGJveEZhY3Rvcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n")},
/*!********************************************************!*\
  !*** ./node_modules/react/cjs/react.production.min.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval('/** @license React v16.5.2\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar m=__webpack_require__(/*! object-assign */ 20),n="function"===typeof Symbol&&Symbol.for,p=n?Symbol.for("react.element"):60103,q=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,t=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,v=n?Symbol.for("react.provider"):60109,w=n?Symbol.for("react.context"):60110,x=n?Symbol.for("react.async_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112;n&&Symbol.for("react.placeholder");\nvar z="function"===typeof Symbol&&Symbol.iterator;function A(a,b,d,c,e,g,h,f){if(!a){a=void 0;if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,c,e,g,h,f],l=0;a=Error(b.replace(/%s/g,function(){return k[l++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}}\nfunction B(a){for(var b=arguments.length-1,d="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=0;c<b;c++)d+="&args[]="+encodeURIComponent(arguments[c+1]);A(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",d)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};\nfunction E(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}E.prototype.isReactComponent={};E.prototype.setState=function(a,b){"object"!==typeof a&&"function"!==typeof a&&null!=a?B("85"):void 0;this.updater.enqueueSetState(this,a,b,"setState")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E.prototype;function G(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}var H=G.prototype=new F;\nH.constructor=G;m(H,E.prototype);H.isPureReactComponent=!0;var I={current:null,currentDispatcher:null},J=Object.prototype.hasOwnProperty,K={key:!0,ref:!0,__self:!0,__source:!0};\nfunction L(a,b,d){var c=void 0,e={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=""+b.key),b)J.call(b,c)&&!K.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(1<f){for(var k=Array(f),l=0;l<f;l++)k[l]=arguments[l+2];e.children=k}if(a&&a.defaultProps)for(c in f=a.defaultProps,f)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:h,props:e,_owner:I.current}}\nfunction M(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function N(a){return"object"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}var O=/\\/+/g,P=[];function Q(a,b,d,c){if(P.length){var e=P.pop();e.result=a;e.keyPrefix=b;e.func=d;e.context=c;e.count=0;return e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}\nfunction R(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>P.length&&P.push(a)}\nfunction S(a,b,d,c){var e=typeof a;if("undefined"===e||"boolean"===e)a=null;var g=!1;if(null===a)g=!0;else switch(e){case "string":case "number":g=!0;break;case "object":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,""===b?"."+T(a,0):b),1;g=0;b=""===b?".":b+":";if(Array.isArray(a))for(var h=0;h<a.length;h++){e=a[h];var f=b+T(e,h);g+=S(e,f,d,c)}else if(null===a||"object"!==typeof a?f=null:(f=z&&a[z]||a["@@iterator"],f="function"===typeof f?f:null),"function"===typeof f)for(a=f.call(a),h=\n0;!(e=a.next()).done;)e=e.value,f=b+T(e,h++),g+=S(e,f,d,c);else"object"===e&&(d=""+a,B("31","[object Object]"===d?"object with keys {"+Object.keys(a).join(", ")+"}":d,""));return g}function U(a,b,d){return null==a?0:S(a,"",b,d)}function T(a,b){return"object"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function V(a,b){a.func.call(a.context,b,a.count++)}\nfunction aa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?W(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=M(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+d)),c.push(a))}function W(a,b,d,c,e){var g="";null!=d&&(g=(""+d).replace(O,"$&/")+"/");b=Q(b,g,c,e);U(a,aa,b);R(b)}function ba(a,b){var d=I.currentDispatcher;null===d?B("277"):void 0;return d.readContext(a,b)}\nvar X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];W(a,c,null,b,d);return c},forEach:function(a,b,d){if(null==a)return a;b=Q(null,null,b,d);U(a,V,b);R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];W(a,b,null,function(a){return a});return b},only:function(a){N(a)?void 0:B("143");return a}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,\n_currentValue:a,_currentValue2:a,Provider:null,Consumer:null,unstable_read:null};a.Provider={$$typeof:v,_context:a};a.Consumer=a;a.unstable_read=ba.bind(null,a);return a},forwardRef:function(a){return{$$typeof:y,render:a}},Fragment:r,StrictMode:t,unstable_AsyncMode:x,unstable_Profiler:u,createElement:L,cloneElement:function(a,b,d){null===a||void 0===a?B("267",a):void 0;var c=void 0,e=m({},a.props),g=a.key,h=a.ref,f=a._owner;if(null!=b){void 0!==b.ref&&(h=b.ref,f=I.current);void 0!==b.key&&(g=""+b.key);\nvar k=void 0;a.type&&a.type.defaultProps&&(k=a.type.defaultProps);for(c in b)J.call(b,c)&&!K.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==k?k[c]:b[c])}c=arguments.length-2;if(1===c)e.children=d;else if(1<c){k=Array(c);for(var l=0;l<c;l++)k[l]=arguments[l+2];e.children=k}return{$$typeof:p,type:a.type,key:g,ref:h,props:e,_owner:f}},createFactory:function(a){var b=L.bind(null,a);b.type=a;return b},isValidElement:N,version:"16.5.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:I,\nassign:m}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzP2JlMjQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNi41LjJcbiAqIHJlYWN0LnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO3ZhciBtPXJlcXVpcmUoXCJvYmplY3QtYXNzaWduXCIpLG49XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixwPW4/U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIik6NjAxMDMscT1uP1N5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIik6NjAxMDYscj1uP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyx0PW4/U3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpOjYwMTA4LHU9bj9TeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik6NjAxMTQsdj1uP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSx3PW4/U3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIik6NjAxMTAseD1uP1N5bWJvbC5mb3IoXCJyZWFjdC5hc3luY19tb2RlXCIpOjYwMTExLHk9bj9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTI7biYmU3ltYm9sLmZvcihcInJlYWN0LnBsYWNlaG9sZGVyXCIpO1xudmFyIHo9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yO2Z1bmN0aW9uIEEoYSxiLGQsYyxlLGcsaCxmKXtpZighYSl7YT12b2lkIDA7aWYodm9pZCAwPT09YilhPUVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgaz1bZCxjLGUsZyxoLGZdLGw9MDthPUVycm9yKGIucmVwbGFjZSgvJXMvZyxmdW5jdGlvbigpe3JldHVybiBrW2wrK119KSk7YS5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwifWEuZnJhbWVzVG9Qb3A9MTt0aHJvdyBhO319XG5mdW5jdGlvbiBCKGEpe2Zvcih2YXIgYj1hcmd1bWVudHMubGVuZ3RoLTEsZD1cImh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50PVwiK2EsYz0wO2M8YjtjKyspZCs9XCImYXJnc1tdPVwiK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbYysxXSk7QSghMSxcIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIithK1wiOyB2aXNpdCAlcyBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuIFwiLGQpfXZhciBDPXtpc01vdW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlU2V0U3RhdGU6ZnVuY3Rpb24oKXt9fSxEPXt9O1xuZnVuY3Rpb24gRShhLGIsZCl7dGhpcy5wcm9wcz1hO3RoaXMuY29udGV4dD1iO3RoaXMucmVmcz1EO3RoaXMudXBkYXRlcj1kfHxDfUUucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9e307RS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiIT09dHlwZW9mIGEmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhJiZudWxsIT1hP0IoXCI4NVwiKTp2b2lkIDA7dGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLGEsYixcInNldFN0YXRlXCIpfTtFLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihhKXt0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsYSxcImZvcmNlVXBkYXRlXCIpfTtmdW5jdGlvbiBGKCl7fUYucHJvdG90eXBlPUUucHJvdG90eXBlO2Z1bmN0aW9uIEcoYSxiLGQpe3RoaXMucHJvcHM9YTt0aGlzLmNvbnRleHQ9Yjt0aGlzLnJlZnM9RDt0aGlzLnVwZGF0ZXI9ZHx8Q312YXIgSD1HLnByb3RvdHlwZT1uZXcgRjtcbkguY29uc3RydWN0b3I9RzttKEgsRS5wcm90b3R5cGUpO0guaXNQdXJlUmVhY3RDb21wb25lbnQ9ITA7dmFyIEk9e2N1cnJlbnQ6bnVsbCxjdXJyZW50RGlzcGF0Y2hlcjpudWxsfSxKPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksSz17a2V5OiEwLHJlZjohMCxfX3NlbGY6ITAsX19zb3VyY2U6ITB9O1xuZnVuY3Rpb24gTChhLGIsZCl7dmFyIGM9dm9pZCAwLGU9e30sZz1udWxsLGg9bnVsbDtpZihudWxsIT1iKWZvcihjIGluIHZvaWQgMCE9PWIucmVmJiYoaD1iLnJlZiksdm9pZCAwIT09Yi5rZXkmJihnPVwiXCIrYi5rZXkpLGIpSi5jYWxsKGIsYykmJiFLLmhhc093blByb3BlcnR5KGMpJiYoZVtjXT1iW2NdKTt2YXIgZj1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PWYpZS5jaGlsZHJlbj1kO2Vsc2UgaWYoMTxmKXtmb3IodmFyIGs9QXJyYXkoZiksbD0wO2w8ZjtsKyspa1tsXT1hcmd1bWVudHNbbCsyXTtlLmNoaWxkcmVuPWt9aWYoYSYmYS5kZWZhdWx0UHJvcHMpZm9yKGMgaW4gZj1hLmRlZmF1bHRQcm9wcyxmKXZvaWQgMD09PWVbY10mJihlW2NdPWZbY10pO3JldHVybnskJHR5cGVvZjpwLHR5cGU6YSxrZXk6ZyxyZWY6aCxwcm9wczplLF9vd25lcjpJLmN1cnJlbnR9fVxuZnVuY3Rpb24gTShhLGIpe3JldHVybnskJHR5cGVvZjpwLHR5cGU6YS50eXBlLGtleTpiLHJlZjphLnJlZixwcm9wczphLnByb3BzLF9vd25lcjphLl9vd25lcn19ZnVuY3Rpb24gTihhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZhLiQkdHlwZW9mPT09cH1mdW5jdGlvbiBlc2NhcGUoYSl7dmFyIGI9e1wiPVwiOlwiPTBcIixcIjpcIjpcIj0yXCJ9O3JldHVyblwiJFwiKyhcIlwiK2EpLnJlcGxhY2UoL1s9Ol0vZyxmdW5jdGlvbihhKXtyZXR1cm4gYlthXX0pfXZhciBPPS9cXC8rL2csUD1bXTtmdW5jdGlvbiBRKGEsYixkLGMpe2lmKFAubGVuZ3RoKXt2YXIgZT1QLnBvcCgpO2UucmVzdWx0PWE7ZS5rZXlQcmVmaXg9YjtlLmZ1bmM9ZDtlLmNvbnRleHQ9YztlLmNvdW50PTA7cmV0dXJuIGV9cmV0dXJue3Jlc3VsdDphLGtleVByZWZpeDpiLGZ1bmM6ZCxjb250ZXh0OmMsY291bnQ6MH19XG5mdW5jdGlvbiBSKGEpe2EucmVzdWx0PW51bGw7YS5rZXlQcmVmaXg9bnVsbDthLmZ1bmM9bnVsbDthLmNvbnRleHQ9bnVsbDthLmNvdW50PTA7MTA+UC5sZW5ndGgmJlAucHVzaChhKX1cbmZ1bmN0aW9uIFMoYSxiLGQsYyl7dmFyIGU9dHlwZW9mIGE7aWYoXCJ1bmRlZmluZWRcIj09PWV8fFwiYm9vbGVhblwiPT09ZSlhPW51bGw7dmFyIGc9ITE7aWYobnVsbD09PWEpZz0hMDtlbHNlIHN3aXRjaChlKXtjYXNlIFwic3RyaW5nXCI6Y2FzZSBcIm51bWJlclwiOmc9ITA7YnJlYWs7Y2FzZSBcIm9iamVjdFwiOnN3aXRjaChhLiQkdHlwZW9mKXtjYXNlIHA6Y2FzZSBxOmc9ITB9fWlmKGcpcmV0dXJuIGQoYyxhLFwiXCI9PT1iP1wiLlwiK1QoYSwwKTpiKSwxO2c9MDtiPVwiXCI9PT1iP1wiLlwiOmIrXCI6XCI7aWYoQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIGg9MDtoPGEubGVuZ3RoO2grKyl7ZT1hW2hdO3ZhciBmPWIrVChlLGgpO2crPVMoZSxmLGQsYyl9ZWxzZSBpZihudWxsPT09YXx8XCJvYmplY3RcIiE9PXR5cGVvZiBhP2Y9bnVsbDooZj16JiZhW3pdfHxhW1wiQEBpdGVyYXRvclwiXSxmPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBmP2Y6bnVsbCksXCJmdW5jdGlvblwiPT09dHlwZW9mIGYpZm9yKGE9Zi5jYWxsKGEpLGg9XG4wOyEoZT1hLm5leHQoKSkuZG9uZTspZT1lLnZhbHVlLGY9YitUKGUsaCsrKSxnKz1TKGUsZixkLGMpO2Vsc2VcIm9iamVjdFwiPT09ZSYmKGQ9XCJcIithLEIoXCIzMVwiLFwiW29iamVjdCBPYmplY3RdXCI9PT1kP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoYSkuam9pbihcIiwgXCIpK1wifVwiOmQsXCJcIikpO3JldHVybiBnfWZ1bmN0aW9uIFUoYSxiLGQpe3JldHVybiBudWxsPT1hPzA6UyhhLFwiXCIsYixkKX1mdW5jdGlvbiBUKGEsYil7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmbnVsbCE9YS5rZXk/ZXNjYXBlKGEua2V5KTpiLnRvU3RyaW5nKDM2KX1mdW5jdGlvbiBWKGEsYil7YS5mdW5jLmNhbGwoYS5jb250ZXh0LGIsYS5jb3VudCsrKX1cbmZ1bmN0aW9uIGFhKGEsYixkKXt2YXIgYz1hLnJlc3VsdCxlPWEua2V5UHJlZml4O2E9YS5mdW5jLmNhbGwoYS5jb250ZXh0LGIsYS5jb3VudCsrKTtBcnJheS5pc0FycmF5KGEpP1coYSxjLGQsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTpudWxsIT1hJiYoTihhKSYmKGE9TShhLGUrKCFhLmtleXx8YiYmYi5rZXk9PT1hLmtleT9cIlwiOihcIlwiK2Eua2V5KS5yZXBsYWNlKE8sXCIkJi9cIikrXCIvXCIpK2QpKSxjLnB1c2goYSkpfWZ1bmN0aW9uIFcoYSxiLGQsYyxlKXt2YXIgZz1cIlwiO251bGwhPWQmJihnPShcIlwiK2QpLnJlcGxhY2UoTyxcIiQmL1wiKStcIi9cIik7Yj1RKGIsZyxjLGUpO1UoYSxhYSxiKTtSKGIpfWZ1bmN0aW9uIGJhKGEsYil7dmFyIGQ9SS5jdXJyZW50RGlzcGF0Y2hlcjtudWxsPT09ZD9CKFwiMjc3XCIpOnZvaWQgMDtyZXR1cm4gZC5yZWFkQ29udGV4dChhLGIpfVxudmFyIFg9e0NoaWxkcmVuOnttYXA6ZnVuY3Rpb24oYSxiLGQpe2lmKG51bGw9PWEpcmV0dXJuIGE7dmFyIGM9W107VyhhLGMsbnVsbCxiLGQpO3JldHVybiBjfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYixkKXtpZihudWxsPT1hKXJldHVybiBhO2I9UShudWxsLG51bGwsYixkKTtVKGEsVixiKTtSKGIpfSxjb3VudDpmdW5jdGlvbihhKXtyZXR1cm4gVShhLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LG51bGwpfSx0b0FycmF5OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO1coYSxiLG51bGwsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtyZXR1cm4gYn0sb25seTpmdW5jdGlvbihhKXtOKGEpP3ZvaWQgMDpCKFwiMTQzXCIpO3JldHVybiBhfX0sY3JlYXRlUmVmOmZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19LENvbXBvbmVudDpFLFB1cmVDb21wb25lbnQ6RyxjcmVhdGVDb250ZXh0OmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9bnVsbCk7YT17JCR0eXBlb2Y6dyxfY2FsY3VsYXRlQ2hhbmdlZEJpdHM6Yixcbl9jdXJyZW50VmFsdWU6YSxfY3VycmVudFZhbHVlMjphLFByb3ZpZGVyOm51bGwsQ29uc3VtZXI6bnVsbCx1bnN0YWJsZV9yZWFkOm51bGx9O2EuUHJvdmlkZXI9eyQkdHlwZW9mOnYsX2NvbnRleHQ6YX07YS5Db25zdW1lcj1hO2EudW5zdGFibGVfcmVhZD1iYS5iaW5kKG51bGwsYSk7cmV0dXJuIGF9LGZvcndhcmRSZWY6ZnVuY3Rpb24oYSl7cmV0dXJueyQkdHlwZW9mOnkscmVuZGVyOmF9fSxGcmFnbWVudDpyLFN0cmljdE1vZGU6dCx1bnN0YWJsZV9Bc3luY01vZGU6eCx1bnN0YWJsZV9Qcm9maWxlcjp1LGNyZWF0ZUVsZW1lbnQ6TCxjbG9uZUVsZW1lbnQ6ZnVuY3Rpb24oYSxiLGQpe251bGw9PT1hfHx2b2lkIDA9PT1hP0IoXCIyNjdcIixhKTp2b2lkIDA7dmFyIGM9dm9pZCAwLGU9bSh7fSxhLnByb3BzKSxnPWEua2V5LGg9YS5yZWYsZj1hLl9vd25lcjtpZihudWxsIT1iKXt2b2lkIDAhPT1iLnJlZiYmKGg9Yi5yZWYsZj1JLmN1cnJlbnQpO3ZvaWQgMCE9PWIua2V5JiYoZz1cIlwiK2Iua2V5KTtcbnZhciBrPXZvaWQgMDthLnR5cGUmJmEudHlwZS5kZWZhdWx0UHJvcHMmJihrPWEudHlwZS5kZWZhdWx0UHJvcHMpO2ZvcihjIGluIGIpSi5jYWxsKGIsYykmJiFLLmhhc093blByb3BlcnR5KGMpJiYoZVtjXT12b2lkIDA9PT1iW2NdJiZ2b2lkIDAhPT1rP2tbY106YltjXSl9Yz1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PWMpZS5jaGlsZHJlbj1kO2Vsc2UgaWYoMTxjKXtrPUFycmF5KGMpO2Zvcih2YXIgbD0wO2w8YztsKyspa1tsXT1hcmd1bWVudHNbbCsyXTtlLmNoaWxkcmVuPWt9cmV0dXJueyQkdHlwZW9mOnAsdHlwZTphLnR5cGUsa2V5OmcscmVmOmgscHJvcHM6ZSxfb3duZXI6Zn19LGNyZWF0ZUZhY3Rvcnk6ZnVuY3Rpb24oYSl7dmFyIGI9TC5iaW5kKG51bGwsYSk7Yi50eXBlPWE7cmV0dXJuIGJ9LGlzVmFsaWRFbGVtZW50Ok4sdmVyc2lvbjpcIjE2LjUuMlwiLF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOntSZWFjdEN1cnJlbnRPd25lcjpJLFxuYXNzaWduOm19fSxZPXtkZWZhdWx0Olh9LFo9WSYmWHx8WTttb2R1bGUuZXhwb3J0cz1aLmRlZmF1bHR8fFo7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n')},
/*!*********************************************!*\
  !*** ./node_modules/object-assign/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcz8zMjBjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n")},
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/factoryWithThrowingShims.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ 22);\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanM/ZDdhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB0aHJvdyBlcnI7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n")},
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanM/NTliMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n")},
/*!*************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/util/inject-css.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar css_1 = __webpack_require__(/*! ../constants/css */ 24);\nvar injectCSS = function (window) {\n    if (window && typeof window === 'object' && window.document) {\n        var document_1 = window.document;\n        var head = document_1.head || document_1.getElementsByTagName('head')[0];\n        var styleElement = document_1.createElement('style');\n        styleElement.innerHTML = css_1.default;\n        head.appendChild(styleElement);\n    }\n};\nexports.default = injectCSS;\n//# sourceMappingURL=inject-css.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi91dGlsL2luamVjdC1jc3MuanM/NDI2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjc3NfMSA9IHJlcXVpcmUoXCIuLi9jb25zdGFudHMvY3NzXCIpO1xudmFyIGluamVjdENTUyA9IGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICBpZiAod2luZG93ICYmIHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICB2YXIgZG9jdW1lbnRfMSA9IHdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudF8xLmhlYWQgfHwgZG9jdW1lbnRfMS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgICAgICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnRfMS5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZUVsZW1lbnQuaW5uZXJIVE1MID0gY3NzXzEuZGVmYXVsdDtcbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBpbmplY3RDU1M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmplY3QtY3NzLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///23\n")},
/*!***********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/constants/css.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.default = "\\n.mapboxgl-map {\\n  font: 12px/20px \'Helvetica Neue\', Arial, Helvetica, sans-serif;\\n  overflow: hidden;\\n  position: relative;\\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\\n}\\n\\n.mapboxgl-missing-css {\\n  display: none;\\n}\\n\\n.mapboxgl-canvas-container.mapboxgl-interactive,\\n.mapboxgl-ctrl-nav-compass {\\n  cursor: -webkit-grab;\\n  cursor: -moz-grab;\\n  cursor: grab;\\n}\\n.mapboxgl-canvas-container.mapboxgl-interactive:active,\\n.mapboxgl-ctrl-nav-compass:active {\\n  cursor: -webkit-grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: grabbing;\\n}\\n\\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate {\\n  -ms-touch-action: pan-x pan-y;\\n  touch-action: pan-x pan-y;\\n}\\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan {\\n  -ms-touch-action: pinch-zoom;\\n}\\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan {\\n  -ms-touch-action: none;\\n  touch-action: none;\\n}\\n.mapboxgl-ctrl-top-left,\\n.mapboxgl-ctrl-top-right,\\n.mapboxgl-ctrl-bottom-left,\\n.mapboxgl-ctrl-bottom-right  { position:absolute; pointer-events:none; z-index:2; }\\n.mapboxgl-ctrl-top-left      { top:0; left:0; }\\n.mapboxgl-ctrl-top-right     { top:0; right:0; }\\n.mapboxgl-ctrl-bottom-left   { bottom:0; left:0; }\\n.mapboxgl-ctrl-bottom-right  { right:0; bottom:0; }\\n\\n.mapboxgl-ctrl { clear:both; pointer-events:auto }\\n.mapboxgl-ctrl-top-left .mapboxgl-ctrl { margin:10px 0 0 10px; float:left; }\\n.mapboxgl-ctrl-top-right .mapboxgl-ctrl{ margin:10px 10px 0 0; float:right; }\\n.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl { margin:0 0 10px 10px; float:left; }\\n.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl { margin:0 10px 10px 0; float:right; }\\n\\n.mapboxgl-ctrl-group {\\n  border-radius: 4px;\\n  -moz-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);\\n  -webkit-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);\\n  box-shadow: 0px 0px 0px 2px rgba(0,0,0,0.1);\\n  overflow: hidden;\\n  background: #fff;\\n}\\n.mapboxgl-ctrl-group > button {\\n  width: 30px;\\n  height: 30px;\\n  display: block;\\n  padding: 0;\\n  outline: none;\\n  border: none;\\n  border-bottom: 1px solid #ddd;\\n  box-sizing: border-box;\\n  background-color: rgba(0,0,0,0);\\n  cursor: pointer;\\n}\\n/* https://bugzilla.mozilla.org/show_bug.cgi?id=140562 */\\n.mapboxgl-ctrl > button::-moz-focus-inner {\\n  border: 0;\\n  padding: 0;\\n}\\n.mapboxgl-ctrl > button:last-child {\\n  border-bottom: 0;\\n}\\n.mapboxgl-ctrl > button:hover {\\n  background-color: rgba(0,0,0,0.05);\\n}\\n.mapboxgl-ctrl-icon,\\n.mapboxgl-ctrl-icon > .mapboxgl-ctrl-compass-arrow {\\n  speak: none;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.mapboxgl-ctrl-icon {\\n  padding: 5px;\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out {\\n  background-image: url(\\"data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27m%207%2C9%20c%20-0.554%2C0%20-1%2C0.446%20-1%2C1%200%2C0.554%200.446%2C1%201%2C1%20l%206%2C0%20c%200.554%2C0%201%2C-0.446%201%2C-1%200%2C-0.554%20-0.446%2C-1%20-1%2C-1%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in {\\n  background-image: url(\\"data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27M%2010%206%20C%209.446%206%209%206.4459904%209%207%20L%209%209%20L%207%209%20C%206.446%209%206%209.446%206%2010%20C%206%2010.554%206.446%2011%207%2011%20L%209%2011%20L%209%2013%20C%209%2013.55401%209.446%2014%2010%2014%20C%2010.554%2014%2011%2013.55401%2011%2013%20L%2011%2011%20L%2013%2011%20C%2013.554%2011%2014%2010.554%2014%2010%20C%2014%209.446%2013.554%209%2013%209%20L%2011%209%20L%2011%207%20C%2011%206.4459904%2010.554%206%2010%206%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate {\\n  background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%23333%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled {\\n  background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%23aaa%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active {\\n  background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%2333b5e5%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error {\\n  background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%23e58978%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background {\\n  background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%2333b5e5%3B%27%20d%3D%27M%2010%2C4%20C%209%2C4%209%2C5%209%2C5%20L%209%2C5.1%20C%207.0357113%2C5.5006048%205.5006048%2C7.0357113%205.1%2C9%20L%205%2C9%20c%200%2C0%20-1%2C0%20-1%2C1%200%2C1%201%2C1%201%2C1%20l%200.1%2C0%20c%200.4006048%2C1.964289%201.9357113%2C3.499395%203.9%2C3.9%20L%209%2C15%20c%200%2C0%200%2C1%201%2C1%201%2C0%201%2C-1%201%2C-1%20l%200%2C-0.1%20c%201.964289%2C-0.400605%203.499395%2C-1.935711%203.9%2C-3.9%20l%200.1%2C0%20c%200%2C0%201%2C0%201%2C-1%20C%2016%2C9%2015%2C9%2015%2C9%20L%2014.9%2C9%20C%2014.499395%2C7.0357113%2012.964289%2C5.5006048%2011%2C5.1%20L%2011%2C5%20c%200%2C0%200%2C-1%20-1%2C-1%20z%20m%200%2C2.5%20c%201.932997%2C0%203.5%2C1.5670034%203.5%2C3.5%200%2C1.932997%20-1.567003%2C3.5%20-3.5%2C3.5%20C%208.0670034%2C13.5%206.5%2C11.932997%206.5%2C10%206.5%2C8.0670034%208.0670034%2C6.5%2010%2C6.5%20Z%27%20%2F%3E%0A%3C%2Fsvg%3E\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error {\\n  background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23e54e33%3B%27%20d%3D%27M%2010%2C4%20C%209%2C4%209%2C5%209%2C5%20L%209%2C5.1%20C%207.0357113%2C5.5006048%205.5006048%2C7.0357113%205.1%2C9%20L%205%2C9%20c%200%2C0%20-1%2C0%20-1%2C1%200%2C1%201%2C1%201%2C1%20l%200.1%2C0%20c%200.4006048%2C1.964289%201.9357113%2C3.499395%203.9%2C3.9%20L%209%2C15%20c%200%2C0%200%2C1%201%2C1%201%2C0%201%2C-1%201%2C-1%20l%200%2C-0.1%20c%201.964289%2C-0.400605%203.499395%2C-1.935711%203.9%2C-3.9%20l%200.1%2C0%20c%200%2C0%201%2C0%201%2C-1%20C%2016%2C9%2015%2C9%2015%2C9%20L%2014.9%2C9%20C%2014.499395%2C7.0357113%2012.964289%2C5.5006048%2011%2C5.1%20L%2011%2C5%20c%200%2C0%200%2C-1%20-1%2C-1%20z%20m%200%2C2.5%20c%201.932997%2C0%203.5%2C1.5670034%203.5%2C3.5%200%2C1.932997%20-1.567003%2C3.5%20-3.5%2C3.5%20C%208.0670034%2C13.5%206.5%2C11.932997%206.5%2C10%206.5%2C8.0670034%208.0670034%2C6.5%2010%2C6.5%20Z%27%20%2F%3E%0A%3C%2Fsvg%3E\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting {\\n  -webkit-animation: mapboxgl-spin 2s infinite linear;\\n  -moz-animation: mapboxgl-spin 2s infinite linear;\\n  -o-animation: mapboxgl-spin 2s infinite linear;\\n  -ms-animation: mapboxgl-spin 2s infinite linear;\\n  animation: mapboxgl-spin 2s infinite linear;\\n}\\n\\n@-webkit-keyframes mapboxgl-spin {\\n  0% { -webkit-transform: rotate(0deg); }\\n  100% { -webkit-transform: rotate(360deg); }\\n}\\n@-moz-keyframes mapboxgl-spin {\\n  0% { -moz-transform: rotate(0deg); }\\n  100% { -moz-transform: rotate(360deg); }\\n}\\n@-o-keyframes mapboxgl-spin {\\n  0% { -o-transform: rotate(0deg); }\\n  100% { -o-transform: rotate(360deg); }\\n}\\n@-ms-keyframes mapboxgl-spin {\\n  0% { -ms-transform: rotate(0deg); }\\n  100% { -ms-transform: rotate(360deg); }\\n}\\n@keyframes mapboxgl-spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen  {\\n  background-image: url(\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iZnVsbHNjcmVlbi5zdmciPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQxODUiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnM0MTgzIiAvPjxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTQ3MSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI2OTUiCiAgICAgaWQ9Im5hbWVkdmlldzQxODEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjExLjMxMzcwOCIKICAgICBpbmtzY2FwZTpjeD0iMTQuNjk4MjgiCiAgICAgaW5rc2NhcGU6Y3k9IjEwLjUyNjY4OSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iNjk3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyOTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNjA3NiIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIGQ9Ik0gNSA0IEMgNC41IDQgNCA0LjUgNCA1IEwgNCA2IEwgNCA5IEwgNC41IDkgTCA1Ljc3NzM0MzggNy4yOTY4NzUgQyA2Ljc3NzEzMTkgOC4wNjAyMTMxIDcuODM1NzY1IDguOTU2NTcyOCA4Ljg5MDYyNSAxMCBDIDcuODI1NzEyMSAxMS4wNjMzIDYuNzc2MTc5MSAxMS45NTE2NzUgNS43ODEyNSAxMi43MDcwMzEgTCA0LjUgMTEgTCA0IDExIEwgNCAxNSBDIDQgMTUuNSA0LjUgMTYgNSAxNiBMIDkgMTYgTCA5IDE1LjUgTCA3LjI3MzQzNzUgMTQuMjA1MDc4IEMgOC4wNDI4OTMxIDEzLjE4Nzg4NiA4LjkzOTU0NDEgMTIuMTMzNDgxIDkuOTYwOTM3NSAxMS4wNjgzNTkgQyAxMS4wNDIzNzEgMTIuMTQ2OTkgMTEuOTQyMDkzIDEzLjIxMTIgMTIuNzA3MDMxIDE0LjIxODc1IEwgMTEgMTUuNSBMIDExIDE2IEwgMTQgMTYgTCAxNSAxNiBDIDE1LjUgMTYgMTYgMTUuNSAxNiAxNSBMIDE2IDE0IEwgMTYgMTEgTCAxNS41IDExIEwgMTQuMjA1MDc4IDEyLjcyNjU2MiBDIDEzLjE3Nzk4NSAxMS45NDk2MTcgMTIuMTEyNzE4IDExLjA0MzU3NyAxMS4wMzcxMDkgMTAuMDA5NzY2IEMgMTIuMTUxODU2IDguOTgxMDYxIDEzLjIyNDM0NSA4LjA3OTg2MjQgMTQuMjI4NTE2IDcuMzA0Njg3NSBMIDE1LjUgOSBMIDE2IDkgTCAxNiA1IEMgMTYgNC41IDE1LjUgNCAxNSA0IEwgMTEgNCBMIDExIDQuNSBMIDEyLjcwMzEyNSA1Ljc3NzM0MzggQyAxMS45MzI2NDcgNi43ODY0ODM0IDExLjAyNjY5MyA3Ljg1NTQ3MTIgOS45NzA3MDMxIDguOTE5OTIxOSBDIDguOTU4NDczOSA3LjgyMDQ5NDMgOC4wNjk4NzY3IDYuNzYyNzE4OCA3LjMwNDY4NzUgNS43NzE0ODQ0IEwgOSA0LjUgTCA5IDQgTCA2IDQgTCA1IDQgeiAiCiAgICAgaWQ9InBhdGg0MTY5IiAvPjwvc3ZnPg==\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink  {\\n  background-image: url(\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0ic2hyaW5rLnN2ZyI+PG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTkiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnMxNyIgLz48c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjIwMjEiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTA4IgogICAgIGlkPSJuYW1lZHZpZXcxNSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMSIKICAgICBpbmtzY2FwZTpjeD0iNC45NTAxMDgyIgogICAgIGlua3NjYXBlOmN5PSIxMC44NTQ3NDciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1lZGdlLW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6b2JqZWN0LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNDE0NyIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIHN0eWxlPSJmaWxsOiMwMDAwMDAiCiAgICAgZD0iTSA0LjI0MjE4NzUgMy40OTIxODc1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMy43MTg3NSA0Ljc4MTI1IEwgNS45NjQ4NDM4IDcuMDI3MzQzOCBMIDQgOC41IEwgNCA5IEwgOCA5IEMgOC41MDAwMDEgOC45OTk5OTg4IDkgOC40OTk5OTkyIDkgOCBMIDkgNCBMIDguNSA0IEwgNy4wMTc1NzgxIDUuOTU1MDc4MSBMIDQuNzgxMjUgMy43MTg3NSBBIDAuNzUwMDc1IDAuNzUwMDc1IDAgMCAwIDQuMjQyMTg3NSAzLjQ5MjE4NzUgeiBNIDE1LjczNDM3NSAzLjQ5MjE4NzUgQSAwLjc1MDA3NSAwLjc1MDA3NSAwIDAgMCAxNS4yMTg3NSAzLjcxODc1IEwgMTIuOTg0Mzc1IDUuOTUzMTI1IEwgMTEuNSA0IEwgMTEgNCBMIDExIDggQyAxMSA4LjQ5OTk5OTIgMTEuNDk5OTk5IDguOTk5OTk4OCAxMiA5IEwgMTYgOSBMIDE2IDguNSBMIDE0LjAzNTE1NiA3LjAyNzM0MzggTCAxNi4yODEyNSA0Ljc4MTI1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMTUuNzM0Mzc1IDMuNDkyMTg3NSB6IE0gNCAxMSBMIDQgMTEuNSBMIDUuOTY0ODQzOCAxMi45NzI2NTYgTCAzLjcxODc1IDE1LjIxODc1IEEgMC43NTEzMDA5NiAwLjc1MTMwMDk2IDAgMSAwIDQuNzgxMjUgMTYuMjgxMjUgTCA3LjAyNzM0MzggMTQuMDM1MTU2IEwgOC41IDE2IEwgOSAxNiBMIDkgMTIgQyA5IDExLjUwMDAwMSA4LjUwMDAwMSAxMS4wMDAwMDEgOCAxMSBMIDQgMTEgeiBNIDEyIDExIEMgMTEuNDk5OTk5IDExLjAwMDAwMSAxMSAxMS41MDAwMDEgMTEgMTIgTCAxMSAxNiBMIDExLjUgMTYgTCAxMi45NzI2NTYgMTQuMDM1MTU2IEwgMTUuMjE4NzUgMTYuMjgxMjUgQSAwLjc1MTMwMDk2IDAuNzUxMzAwOTYgMCAxIDAgMTYuMjgxMjUgMTUuMjE4NzUgTCAxNC4wMzUxNTYgMTIuOTcyNjU2IEwgMTYgMTEuNSBMIDE2IDExIEwgMTIgMTEgeiAiCiAgICAgaWQ9InBhdGg3IiAvPjwvc3ZnPg==\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass > .mapboxgl-ctrl-compass-arrow {\\n  width: 20px;\\n  height: 20px;\\n  margin: 5px;\\n  background-image: url(\\"data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2020%2020%27%3E%0A%09%3Cpolygon%20fill%3D%27%23333333%27%20points%3D%276%2C9%2010%2C1%2014%2C9%27%2F%3E%0A%09%3Cpolygon%20fill%3D%27%23CCCCCC%27%20points%3D%276%2C11%2010%2C19%2014%2C11%20%27%2F%3E%0A%3C%2Fsvg%3E\\");\\n  background-repeat: no-repeat;\\n  display: inline-block;\\n}\\n\\na.mapboxgl-ctrl-logo {\\n  width: 85px;\\n  height: 21px;\\n  margin: 0 0 -3px -3px;\\n  display: block;\\n  background-repeat: no-repeat;\\n  cursor: pointer;\\n  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiAgIHZpZXdCb3g9IjAgMCA4NC40OSAyMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgODQuNDkgMjE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik04My4yNSwxNC4yNmMwLDAuMTItMC4wOSwwLjIxLTAuMjEsMC4yMWgtMS42MWMtMC4xMywwLTAuMjQtMC4wNi0wLjMtMC4xN2wtMS40NC0yLjM5bC0xLjQ0LDIuMzkgICAgYy0wLjA2LDAuMTEtMC4xOCwwLjE3LTAuMywwLjE3aC0xLjYxYy0wLjA0LDAtMC4wOC0wLjAxLTAuMTItMC4wM2MtMC4wOS0wLjA2LTAuMTMtMC4xOS0wLjA2LTAuMjhsMCwwbDIuNDMtMy42OEw3Ni4yLDYuODQgICAgYy0wLjAyLTAuMDMtMC4wMy0wLjA3LTAuMDMtMC4xMmMwLTAuMTIsMC4wOS0wLjIxLDAuMjEtMC4yMWgxLjYxYzAuMTMsMCwwLjI0LDAuMDYsMC4zLDAuMTdsMS40MSwyLjM2bDEuNC0yLjM1ICAgIGMwLjA2LTAuMTEsMC4xOC0wLjE3LDAuMy0wLjE3SDgzYzAuMDQsMCwwLjA4LDAuMDEsMC4xMiwwLjAzYzAuMDksMC4wNiwwLjEzLDAuMTksMC4wNiwwLjI4bDAsMGwtMi4zNywzLjYzbDIuNDMsMy42NyAgICBDODMuMjQsMTQuMTgsODMuMjUsMTQuMjIsODMuMjUsMTQuMjZ6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNjYuMjQsOS41OWMtMC4zOS0xLjg4LTEuOTYtMy4yOC0zLjg0LTMuMjhjLTEuMDMsMC0yLjAzLDAuNDItMi43MywxLjE4VjMuNTFjMC0wLjEzLTAuMS0wLjIzLTAuMjMtMC4yM2gtMS40ICAgIGMtMC4xMywwLTAuMjMsMC4xMS0wLjIzLDAuMjN2MTAuNzJjMCwwLjEzLDAuMSwwLjIzLDAuMjMsMC4yM2gxLjRjMC4xMywwLDAuMjMtMC4xMSwwLjIzLTAuMjNWMTMuNWMwLjcxLDAuNzUsMS43LDEuMTgsMi43MywxLjE4ICAgIGMxLjg4LDAsMy40NS0xLjQxLDMuODQtMy4yOUM2Ni4zNywxMC43OSw2Ni4zNywxMC4xOCw2Ni4yNCw5LjU5TDY2LjI0LDkuNTl6IE02Mi4wOCwxM2MtMS4zMiwwLTIuMzktMS4xMS0yLjQxLTIuNDh2LTAuMDYgICAgYzAuMDItMS4zOCwxLjA5LTIuNDgsMi40MS0yLjQ4czIuNDIsMS4xMiwyLjQyLDIuNTFTNjMuNDEsMTMsNjIuMDgsMTN6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNzEuNjcsNi4zMmMtMS45OC0wLjAxLTMuNzIsMS4zNS00LjE2LDMuMjljLTAuMTMsMC41OS0wLjEzLDEuMTksMCwxLjc3YzAuNDQsMS45NCwyLjE3LDMuMzIsNC4xNywzLjMgICAgYzIuMzUsMCw0LjI2LTEuODcsNC4yNi00LjE5Uzc0LjA0LDYuMzIsNzEuNjcsNi4zMnogTTcxLjY1LDEzLjAxYy0xLjMzLDAtMi40Mi0xLjEyLTIuNDItMi41MXMxLjA4LTIuNTIsMi40Mi0yLjUyICAgIGMxLjMzLDAsMi40MiwxLjEyLDIuNDIsMi41MVM3Mi45OSwxMyw3MS42NSwxMy4wMUw3MS42NSwxMy4wMXoiLz4gIDxwYXRoIGNsYXNzPSJzdDEiIHN0eWxlPSJvcGFjaXR5OjAuMzU7IGVuYWJsZS1iYWNrZ3JvdW5kOm5ldzsiIGQ9Ik02Mi4wOCw3Ljk4Yy0xLjMyLDAtMi4zOSwxLjExLTIuNDEsMi40OHYwLjA2QzU5LjY4LDExLjksNjAuNzUsMTMsNjIuMDgsMTNzMi40Mi0xLjEyLDIuNDItMi41MSAgICBTNjMuNDEsNy45OCw2Mi4wOCw3Ljk4eiBNNjIuMDgsMTEuNzZjLTAuNjMsMC0xLjE0LTAuNTYtMS4xNy0xLjI1di0wLjA0YzAuMDEtMC42OSwwLjU0LTEuMjUsMS4xNy0xLjI1ICAgIGMwLjYzLDAsMS4xNywwLjU3LDEuMTcsMS4yN0M2My4yNCwxMS4yLDYyLjczLDExLjc2LDYyLjA4LDExLjc2eiIvPiAgPHBhdGggY2xhc3M9InN0MSIgc3R5bGU9Im9wYWNpdHk6MC4zNTsgZW5hYmxlLWJhY2tncm91bmQ6bmV3OyIgZD0iTTcxLjY1LDcuOThjLTEuMzMsMC0yLjQyLDEuMTItMi40MiwyLjUxUzcwLjMyLDEzLDcxLjY1LDEzczIuNDItMS4xMiwyLjQyLTIuNTFTNzIuOTksNy45OCw3MS42NSw3Ljk4eiAgICAgTTcxLjY1LDExLjc2Yy0wLjY0LDAtMS4xNy0wLjU3LTEuMTctMS4yN2MwLTAuNywwLjUzLTEuMjYsMS4xNy0xLjI2czEuMTcsMC41NywxLjE3LDEuMjdDNzIuODIsMTEuMjEsNzIuMjksMTEuNzYsNzEuNjUsMTEuNzZ6IiAgICAvPiAgPHBhdGggY2xhc3M9InN0MCIgc3R5bGU9Im9wYWNpdHk6MC45OyBmaWxsOiAjRkZGRkZGOyBlbmFibGUtYmFja2dyb3VuZDogbmV3OyIgZD0iTTQ1Ljc0LDYuNTNoLTEuNGMtMC4xMywwLTAuMjMsMC4xMS0wLjIzLDAuMjN2MC43M2MtMC43MS0wLjc1LTEuNy0xLjE4LTIuNzMtMS4xOCAgICBjLTIuMTcsMC0zLjk0LDEuODctMy45NCw0LjE5czEuNzcsNC4xOSwzLjk0LDQuMTljMS4wNCwwLDIuMDMtMC40MywyLjczLTEuMTl2MC43M2MwLDAuMTMsMC4xLDAuMjMsMC4yMywwLjIzaDEuNCAgICBjMC4xMywwLDAuMjMtMC4xMSwwLjIzLTAuMjNWNi43NGMwLTAuMTItMC4wOS0wLjIyLTAuMjItMC4yMkM0NS43NSw2LjUzLDQ1Ljc1LDYuNTMsNDUuNzQsNi41M3ogTTQ0LjEyLDEwLjUzICAgIEM0NC4xMSwxMS45LDQzLjAzLDEzLDQxLjcxLDEzcy0yLjQyLTEuMTItMi40Mi0yLjUxczEuMDgtMi41MiwyLjQtMi41MmMxLjMzLDAsMi4zOSwxLjExLDIuNDEsMi40OEw0NC4xMiwxMC41M3oiLz4gIDxwYXRoIGNsYXNzPSJzdDEiIHN0eWxlPSJvcGFjaXR5OjAuMzU7IGVuYWJsZS1iYWNrZ3JvdW5kOm5ldzsiIGQ9Ik00MS43MSw3Ljk4Yy0xLjMzLDAtMi40MiwxLjEyLTIuNDIsMi41MVM0MC4zNywxMyw0MS43MSwxM3MyLjM5LTEuMTEsMi40MS0yLjQ4di0wLjA2ICAgIEM0NC4xLDkuMDksNDMuMDMsNy45OCw0MS43MSw3Ljk4eiBNNDAuNTUsMTAuNDljMC0wLjcsMC41Mi0xLjI3LDEuMTctMS4yN2MwLjY0LDAsMS4xNCwwLjU2LDEuMTcsMS4yNXYwLjA0ICAgIGMtMC4wMSwwLjY4LTAuNTMsMS4yNC0xLjE3LDEuMjRDNDEuMDgsMTEuNzUsNDAuNTUsMTEuMTksNDAuNTUsMTAuNDl6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNTIuNDEsNi4zMmMtMS4wMywwLTIuMDMsMC40Mi0yLjczLDEuMThWNi43NWMwLTAuMTMtMC4xLTAuMjMtMC4yMy0wLjIzaC0xLjRjLTAuMTMsMC0wLjIzLDAuMTEtMC4yMywwLjIzICAgIHYxMC43MmMwLDAuMTMsMC4xLDAuMjMsMC4yMywwLjIzaDEuNGMwLjEzLDAsMC4yMy0wLjEsMC4yMy0wLjIzVjEzLjVjMC43MSwwLjc1LDEuNywxLjE4LDIuNzQsMS4xOGMyLjE3LDAsMy45NC0xLjg3LDMuOTQtNC4xOSAgICBTNTQuNTgsNi4zMiw1Mi40MSw2LjMyeiBNNTIuMDgsMTMuMDFjLTEuMzIsMC0yLjM5LTEuMTEtMi40Mi0yLjQ4di0wLjA3YzAuMDItMS4zOCwxLjA5LTIuNDksMi40LTIuNDljMS4zMiwwLDIuNDEsMS4xMiwyLjQxLDIuNTEgICAgUzUzLjQsMTMsNTIuMDgsMTMuMDFMNTIuMDgsMTMuMDF6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNNTIuMDgsNy45OGMtMS4zMiwwLTIuMzksMS4xMS0yLjQyLDIuNDh2MC4wNmMwLjAzLDEuMzgsMS4xLDIuNDgsMi40MiwyLjQ4czIuNDEtMS4xMiwyLjQxLTIuNTEgICAgUzUzLjQsNy45OCw1Mi4wOCw3Ljk4eiBNNTIuMDgsMTEuNzZjLTAuNjMsMC0xLjE0LTAuNTYtMS4xNy0xLjI1di0wLjA0YzAuMDEtMC42OSwwLjU0LTEuMjUsMS4xNy0xLjI1YzAuNjMsMCwxLjE3LDAuNTgsMS4xNywxLjI3ICAgIFM1Mi43MiwxMS43Niw1Mi4wOCwxMS43NnoiLz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik0zNi4wOCwxNC4yNGMwLDAuMTMtMC4xLDAuMjMtMC4yMywwLjIzaC0xLjQxYy0wLjEzLDAtMC4yMy0wLjExLTAuMjMtMC4yM1Y5LjY4YzAtMC45OC0wLjc0LTEuNzEtMS42Mi0xLjcxICAgIGMtMC44LDAtMS40NiwwLjctMS41OSwxLjYybDAuMDEsNC42NmMwLDAuMTMtMC4xMSwwLjIzLTAuMjMsMC4yM2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWOS42OCAgICBjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuODUsMC0xLjU0LDAuNzktMS42LDEuOHY0LjQ4YzAsMC4xMy0wLjEsMC4yMy0wLjIzLDAuMjNoLTEuNGMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWNi43NCAgICBjMC4wMS0wLjEzLDAuMS0wLjIyLDAuMjMtMC4yMmgxLjRjMC4xMywwLDAuMjIsMC4xMSwwLjIzLDAuMjJWNy40YzAuNS0wLjY4LDEuMy0xLjA5LDIuMTYtMS4xaDAuMDNjMS4wOSwwLDIuMDksMC42LDIuNiwxLjU1ICAgIGMwLjQ1LTAuOTUsMS40LTEuNTUsMi40NC0xLjU2YzEuNjIsMCwyLjkzLDEuMjUsMi45LDIuNzhMMzYuMDgsMTQuMjR6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNODQuMzQsMTMuNTlsLTAuMDctMC4xM2wtMS45Ni0yLjk5bDEuOTQtMi45NWMwLjQ0LTAuNjcsMC4yNi0xLjU2LTAuNDEtMi4wMmMtMC4wMiwwLTAuMDMsMC0wLjA0LTAuMDEgICAgYy0wLjIzLTAuMTUtMC41LTAuMjItMC43OC0wLjIyaC0xLjYxYy0wLjU2LDAtMS4wOCwwLjI5LTEuMzcsMC43OEw3OS43Miw2LjZsLTAuMzQtMC41NkM3OS4wOSw1LjU2LDc4LjU3LDUuMjcsNzgsNS4yN2gtMS42ICAgIGMtMC42LDAtMS4xMywwLjM3LTEuMzUsMC45MmMtMi4xOS0xLjY2LTUuMjgtMS40Ny03LjI2LDAuNDVjLTAuMzUsMC4zNC0wLjY1LDAuNzItMC44OSwxLjE0Yy0wLjktMS42Mi0yLjU4LTIuNzItNC41LTIuNzIgICAgYy0wLjUsMC0xLjAxLDAuMDctMS40OCwwLjIzVjMuNTFjMC0wLjgyLTAuNjYtMS40OC0xLjQ3LTEuNDhoLTEuNGMtMC44MSwwLTEuNDcsMC42Ni0xLjQ3LDEuNDd2My43NSAgICBjLTAuOTUtMS4zNi0yLjUtMi4xOC00LjE3LTIuMTljLTAuNzQsMC0xLjQ2LDAuMTYtMi4xMiwwLjQ3Yy0wLjI0LTAuMTctMC41NC0wLjI2LTAuODQtMC4yNmgtMS40Yy0wLjQ1LDAtMC44NywwLjIxLTEuMTUsMC41NiAgICBjLTAuMDItMC4wMy0wLjA0LTAuMDUtMC4wNy0wLjA4Yy0wLjI4LTAuMy0wLjY4LTAuNDctMS4wOS0wLjQ3aC0xLjM5Yy0wLjMsMC0wLjYsMC4wOS0wLjg0LDAuMjZjLTAuNjctMC4zLTEuMzktMC40Ni0yLjEyLTAuNDYgICAgYy0xLjgzLDAtMy40MywxLTQuMzcsMi41Yy0wLjItMC40Ni0wLjQ4LTAuODktMC44My0xLjI1Yy0wLjgtMC44MS0xLjg5LTEuMjUtMy4wMi0xLjI1aC0wLjAxYy0wLjg5LDAuMDEtMS43NSwwLjMzLTIuNDYsMC44OCAgICBjLTAuNzQtMC41Ny0xLjY0LTAuODgtMi41Ny0wLjg4SDI4LjFjLTAuMjksMC0wLjU4LDAuMDMtMC44NiwwLjExYy0wLjI4LDAuMDYtMC41NiwwLjE2LTAuODIsMC4yOGMtMC4yMS0wLjEyLTAuNDUtMC4xOC0wLjctMC4xOCAgICBoLTEuNGMtMC44MiwwLTEuNDcsMC42Ni0xLjQ3LDEuNDd2Ny41YzAsMC44MiwwLjY2LDEuNDcsMS40NywxLjQ3aDEuNGMwLjgyLDAsMS40OC0wLjY2LDEuNDgtMS40OGwwLDBWOS43OSAgICBjMC4wMy0wLjM2LDAuMjMtMC41OSwwLjM2LTAuNTljMC4xOCwwLDAuMzgsMC4xOCwwLjM4LDAuNDd2NC41N2MwLDAuODIsMC42NiwxLjQ3LDEuNDcsMS40N2gxLjQxYzAuODIsMCwxLjQ3LTAuNjYsMS40Ny0xLjQ3ICAgIGwtMC4wMS00LjU3YzAuMDYtMC4zMiwwLjI1LTAuNDcsMC4zNS0wLjQ3YzAuMTgsMCwwLjM4LDAuMTgsMC4zOCwwLjQ3djQuNTdjMCwwLjgyLDAuNjYsMS40NywxLjQ3LDEuNDdoMS40MSAgICBjMC44MiwwLDEuNDctMC42NiwxLjQ3LTEuNDd2LTAuMzhjMC45NiwxLjI5LDIuNDYsMi4wNiw0LjA2LDIuMDZjMC43NCwwLDEuNDYtMC4xNiwyLjEyLTAuNDdjMC4yNCwwLjE3LDAuNTQsMC4yNiwwLjg0LDAuMjZoMS4zOSAgICBjMC4zLDAsMC42LTAuMDksMC44NC0wLjI2djIuMDFjMCwwLjgyLDAuNjYsMS40NywxLjQ3LDEuNDdoMS40YzAuODIsMCwxLjQ3LTAuNjYsMS40Ny0xLjQ3di0xLjc3YzAuNDgsMC4xNSwwLjk5LDAuMjMsMS40OSwwLjIyICAgIGMxLjcsMCwzLjIyLTAuODcsNC4xNy0yLjJ2MC41MmMwLDAuODIsMC42NiwxLjQ3LDEuNDcsMS40N2gxLjRjMC4zLDAsMC42LTAuMDksMC44NC0wLjI2YzAuNjYsMC4zMSwxLjM5LDAuNDcsMi4xMiwwLjQ3ICAgIGMxLjkyLDAsMy42LTEuMSw0LjQ5LTIuNzNjMS41NCwyLjY1LDQuOTUsMy41Myw3LjU4LDEuOThjMC4xOC0wLjExLDAuMzYtMC4yMiwwLjUzLTAuMzZjMC4yMiwwLjU1LDAuNzYsMC45MSwxLjM1LDAuOUg3OCAgICBjMC41NiwwLDEuMDgtMC4yOSwxLjM3LTAuNzhsMC4zNy0wLjYxbDAuMzcsMC42MWMwLjI5LDAuNDgsMC44MSwwLjc4LDEuMzgsMC43OGgxLjZjMC44MSwwLDEuNDYtMC42NiwxLjQ1LTEuNDYgICAgQzg0LjQ5LDE0LjAyLDg0LjQ0LDEzLjgsODQuMzQsMTMuNTlMODQuMzQsMTMuNTl6IE0zNS44NiwxNC40N2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWOS42OCAgICBjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuOCwwLTEuNDYsMC43LTEuNTksMS42MmwwLjAxLDQuNjZjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjMgICAgVjkuNjhjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuODUsMC0xLjU0LDAuNzktMS42LDEuOHY0LjQ4YzAsMC4xMy0wLjEsMC4yMy0wLjIzLDAuMjNoLTEuNGMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjMgICAgVjYuNzRjMC4wMS0wLjEzLDAuMTEtMC4yMiwwLjIzLTAuMjJoMS40YzAuMTMsMCwwLjIyLDAuMTEsMC4yMywwLjIyVjcuNGMwLjUtMC42OCwxLjMtMS4wOSwyLjE2LTEuMWgwLjAzICAgIGMxLjA5LDAsMi4wOSwwLjYsMi42LDEuNTVjMC40NS0wLjk1LDEuNC0xLjU1LDIuNDQtMS41NmMxLjYyLDAsMi45MywxLjI1LDIuOSwyLjc4bDAuMDEsNS4xNkMzNi4wOSwxNC4zNiwzNS45OCwxNC40NiwzNS44NiwxNC40NyAgICBMMzUuODYsMTQuNDd6IE00NS45NywxNC4yNGMwLDAuMTMtMC4xLDAuMjMtMC4yMywwLjIzaC0xLjRjLTAuMTMsMC0wLjIzLTAuMTEtMC4yMy0wLjIzVjEzLjVjLTAuNywwLjc2LTEuNjksMS4xOC0yLjcyLDEuMTggICAgYy0yLjE3LDAtMy45NC0xLjg3LTMuOTQtNC4xOXMxLjc3LTQuMTksMy45NC00LjE5YzEuMDMsMCwyLjAyLDAuNDMsMi43MywxLjE4VjYuNzRjMC0wLjEzLDAuMS0wLjIzLDAuMjMtMC4yM2gxLjQgICAgYzAuMTItMC4wMSwwLjIyLDAuMDgsMC4yMywwLjIxYzAsMC4wMSwwLDAuMDEsMCwwLjAydjcuNTFoLTAuMDFWMTQuMjR6IE01Mi40MSwxNC42N2MtMS4wMywwLTIuMDItMC40My0yLjczLTEuMTh2My45NyAgICBjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40Yy0wLjEzLDAtMC4yMy0wLjEtMC4yMy0wLjIzVjYuNzVjMC0wLjEzLDAuMS0wLjIyLDAuMjMtMC4yMmgxLjRjMC4xMywwLDAuMjMsMC4xMSwwLjIzLDAuMjN2MC43MyAgICBjMC43MS0wLjc2LDEuNy0xLjE4LDIuNzMtMS4xOGMyLjE3LDAsMy45NCwxLjg2LDMuOTQsNC4xOFM1NC41OCwxNC42Nyw1Mi40MSwxNC42N3ogTTY2LjI0LDExLjM5Yy0wLjM5LDEuODctMS45NiwzLjI5LTMuODQsMy4yOSAgICBjLTEuMDMsMC0yLjAyLTAuNDMtMi43My0xLjE4djAuNzNjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40Yy0wLjEzLDAtMC4yMy0wLjExLTAuMjMtMC4yM1YzLjUxYzAtMC4xMywwLjEtMC4yMywwLjIzLTAuMjMgICAgaDEuNGMwLjEzLDAsMC4yMywwLjExLDAuMjMsMC4yM3YzLjk3YzAuNzEtMC43NSwxLjctMS4xOCwyLjczLTEuMTdjMS44OCwwLDMuNDUsMS40LDMuODQsMy4yOEM2Ni4zNywxMC4xOSw2Ni4zNywxMC44LDY2LjI0LDExLjM5ICAgIEw2Ni4yNCwxMS4zOUw2Ni4yNCwxMS4zOXogTTcxLjY3LDE0LjY4Yy0yLDAuMDEtMy43My0xLjM1LTQuMTctMy4zYy0wLjEzLTAuNTktMC4xMy0xLjE5LDAtMS43N2MwLjQ0LTEuOTQsMi4xNy0zLjMxLDQuMTctMy4zICAgIGMyLjM2LDAsNC4yNiwxLjg3LDQuMjYsNC4xOVM3NC4wMywxNC42OCw3MS42NywxNC42OEw3MS42NywxNC42OHogTTgzLjA0LDE0LjQ3aC0xLjYxYy0wLjEzLDAtMC4yNC0wLjA2LTAuMy0wLjE3bC0xLjQ0LTIuMzkgICAgbC0xLjQ0LDIuMzljLTAuMDYsMC4xMS0wLjE4LDAuMTctMC4zLDAuMTdoLTEuNjFjLTAuMDQsMC0wLjA4LTAuMDEtMC4xMi0wLjAzYy0wLjA5LTAuMDYtMC4xMy0wLjE5LTAuMDYtMC4yOGwwLDBsMi40My0zLjY4ICAgIEw3Ni4yLDYuODRjLTAuMDItMC4wMy0wLjAzLTAuMDctMC4wMy0wLjEyYzAtMC4xMiwwLjA5LTAuMjEsMC4yMS0wLjIxaDEuNjFjMC4xMywwLDAuMjQsMC4wNiwwLjMsMC4xN2wxLjQxLDIuMzZsMS40MS0yLjM2ICAgIGMwLjA2LTAuMTEsMC4xOC0wLjE3LDAuMy0wLjE3aDEuNjFjMC4wNCwwLDAuMDgsMC4wMSwwLjEyLDAuMDNjMC4wOSwwLjA2LDAuMTMsMC4xOSwwLjA2LDAuMjhsMCwwbC0yLjM4LDMuNjRsMi40MywzLjY3ICAgIGMwLjAyLDAuMDMsMC4wMywwLjA3LDAuMDMsMC4xMkM4My4yNSwxNC4zOCw4My4xNiwxNC40Nyw4My4wNCwxNC40N0w4My4wNCwxNC40N0w4My4wNCwxNC40N3oiLz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik0xMC41LDEuMjRjLTUuMTEsMC05LjI1LDQuMTUtOS4yNSw5LjI1czQuMTUsOS4yNSw5LjI1LDkuMjVzOS4yNS00LjE1LDkuMjUtOS4yNSAgICBDMTkuNzUsNS4zOCwxNS42MSwxLjI0LDEwLjUsMS4yNHogTTE0Ljg5LDEyLjc3Yy0xLjkzLDEuOTMtNC43OCwyLjMxLTYuNywyLjMxYy0wLjcsMC0xLjQxLTAuMDUtMi4xLTAuMTZjMCwwLTEuMDItNS42NCwyLjE0LTguODEgICAgYzAuODMtMC44MywxLjk1LTEuMjgsMy4xMy0xLjI4YzEuMjcsMCwyLjQ5LDAuNTEsMy4zOSwxLjQyQzE2LjU5LDguMDksMTYuNjQsMTEsMTQuODksMTIuNzd6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNMTAuNS0wLjAxQzQuNy0wLjAxLDAsNC43LDAsMTAuNDlzNC43LDEwLjUsMTAuNSwxMC41UzIxLDE2LjI5LDIxLDEwLjQ5QzIwLjk5LDQuNywxNi4zLTAuMDEsMTAuNS0wLjAxeiAgICAgTTEwLjUsMTkuNzRjLTUuMTEsMC05LjI1LTQuMTUtOS4yNS05LjI1czQuMTQtOS4yNiw5LjI1LTkuMjZzOS4yNSw0LjE1LDkuMjUsOS4yNUMxOS43NSwxNS42MSwxNS42MSwxOS43NCwxMC41LDE5Ljc0eiIvPiAgPHBhdGggY2xhc3M9InN0MSIgc3R5bGU9Im9wYWNpdHk6MC4zNTsgZW5hYmxlLWJhY2tncm91bmQ6bmV3OyIgZD0iTTE0Ljc0LDYuMjVDMTIuOSw0LjQxLDkuOTgsNC4zNSw4LjIzLDYuMWMtMy4xNiwzLjE3LTIuMTQsOC44MS0yLjE0LDguODFzNS42NCwxLjAyLDguODEtMi4xNCAgICBDMTYuNjQsMTEsMTYuNTksOC4wOSwxNC43NCw2LjI1eiBNMTIuNDcsMTAuMzRsLTAuOTEsMS44N2wtMC45LTEuODdMOC44LDkuNDNsMS44Ni0wLjlsMC45LTEuODdsMC45MSwxLjg3bDEuODYsMC45TDEyLjQ3LDEwLjM0eiIgICAgLz4gIDxwb2x5Z29uIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIHBvaW50cz0iMTQuMzMsOS40MyAxMi40NywxMC4zNCAxMS41NiwxMi4yMSAxMC42NiwxMC4zNCA4LjgsOS40MyAxMC42Niw4LjUzIDExLjU2LDYuNjYgMTIuNDcsOC41MyAgICIvPjwvZz48L3N2Zz4=);\\n}\\n\\n.mapboxgl-ctrl.mapboxgl-ctrl-attrib {\\n  padding: 0 5px;\\n  background-color: rgba(255, 255, 255, .5);\\n  margin: 0;\\n}\\n.mapboxgl-ctrl-attrib.mapboxgl-compact {\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n  margin: 0 10px 10px 10px;\\n  position: relative;\\n  padding-right: 24px;\\n  background-color: #fff;\\n  border-radius: 3px 12px 12px 3px;\\n  visibility: hidden;\\n}\\n.mapboxgl-ctrl-attrib.mapboxgl-compact:hover {\\n  visibility: visible;\\n}\\n.mapboxgl-ctrl-attrib.mapboxgl-compact:after {\\n  content: \'\';\\n  cursor: pointer;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%09%3Cpath%20fill%3D%27%23333333%27%20fill-rule%3D%27evenodd%27%20d%3D%27M4%2C10a6%2C6%200%201%2C0%2012%2C0a6%2C6%200%201%2C0%20-12%2C0%20M9%2C7a1%2C1%200%201%2C0%202%2C0a1%2C1%200%201%2C0%20-2%2C0%20M9%2C10a1%2C1%200%201%2C1%202%2C0l0%2C3a1%2C1%200%201%2C1%20-2%2C0%27%20%2F%3E%0D%0A%3C%2Fsvg%3E\\");\\n  background-color: rgba(255, 255, 255, .5);\\n  width: 24px;\\n  height: 24px;\\n  box-sizing: border-box;\\n  visibility: visible;\\n  border-radius: 12px;\\n}\\n.mapboxgl-ctrl-attrib a {\\n  color: rgba(0,0,0,0.75);\\n  text-decoration: none;\\n}\\n.mapboxgl-ctrl-attrib a:hover {\\n  color: inherit;\\n  text-decoration: underline;\\n}\\n/* stylelint-disable */\\n.mapboxgl-ctrl-attrib .mapbox-improve-map {\\n  font-weight: bold;\\n  margin-left: 2px;\\n}\\n/*stylelint-enable*/\\n.mapboxgl-ctrl-scale {\\n  background-color: rgba(255,255,255,0.75);\\n  font-size: 10px;\\n  border-width: medium 2px 2px;\\n  border-style: none solid solid;\\n  border-color: #333;\\n  padding: 0 5px;\\n  color: #333;\\n}\\n\\n.mapboxgl-popup {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  display: -webkit-flex;\\n  display: flex;\\n  will-change: transform;\\n  pointer-events: none;\\n}\\n.mapboxgl-popup-anchor-top,\\n.mapboxgl-popup-anchor-top-left,\\n.mapboxgl-popup-anchor-top-right {\\n  -webkit-flex-direction: column;\\n  flex-direction: column;\\n}\\n.mapboxgl-popup-anchor-bottom,\\n.mapboxgl-popup-anchor-bottom-left,\\n.mapboxgl-popup-anchor-bottom-right {\\n  -webkit-flex-direction: column-reverse;\\n  flex-direction: column-reverse;\\n}\\n.mapboxgl-popup-anchor-left {\\n  -webkit-flex-direction: row;\\n  flex-direction: row;\\n}\\n.mapboxgl-popup-anchor-right {\\n  -webkit-flex-direction: row-reverse;\\n  flex-direction: row-reverse;\\n}\\n.mapboxgl-popup-tip {\\n  width: 0;\\n  height: 0;\\n  border: 10px solid transparent;\\n  z-index: 1;\\n}\\n.mapboxgl-popup-anchor-top .mapboxgl-popup-tip {\\n  -webkit-align-self: center;\\n  align-self: center;\\n  border-top: none;\\n  border-bottom-color: #fff;\\n}\\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip {\\n  -webkit-align-self: flex-start;\\n  align-self: flex-start;\\n  border-top: none;\\n  border-left: none;\\n  border-bottom-color: #fff;\\n}\\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\\n  -webkit-align-self: flex-end;\\n  align-self: flex-end;\\n  border-top: none;\\n  border-right: none;\\n  border-bottom-color: #fff;\\n}\\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {\\n  -webkit-align-self: center;\\n  align-self: center;\\n  border-bottom: none;\\n  border-top-color: #fff;\\n}\\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip {\\n  -webkit-align-self: flex-start;\\n  align-self: flex-start;\\n  border-bottom: none;\\n  border-left: none;\\n  border-top-color: #fff;\\n}\\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\\n  -webkit-align-self: flex-end;\\n  align-self: flex-end;\\n  border-bottom: none;\\n  border-right: none;\\n  border-top-color: #fff;\\n}\\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\\n  -webkit-align-self: center;\\n  align-self: center;\\n  border-left: none;\\n  border-right-color: #fff;\\n}\\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\\n  -webkit-align-self: center;\\n  align-self: center;\\n  border-right: none;\\n  border-left-color: #fff;\\n}\\n.mapboxgl-popup-close-button {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  border: none;\\n  border-radius: 0 3px 0 0;\\n  cursor: pointer;\\n  background-color: rgba(0,0,0,0);\\n}\\n.mapboxgl-popup-close-button:hover {\\n  background-color: rgba(0,0,0,0.05);\\n}\\n.mapboxgl-popup-content {\\n  position: relative;\\n  background: #fff;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 2px rgba(0,0,0,0.10);\\n  padding: 10px 10px 15px;\\n  pointer-events: auto;\\n}\\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content {\\n  border-top-left-radius: 0;\\n}\\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content {\\n  border-top-right-radius: 0;\\n}\\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content {\\n  border-bottom-left-radius: 0;\\n}\\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content {\\n  border-bottom-right-radius: 0;\\n}\\n\\n.mapboxgl-marker {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  will-change: transform;\\n}\\n\\n.mapboxgl-user-location-dot {\\n  background-color: #1DA1F2;\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  box-shadow: 0 0 2px rgba(0,0,0,0.25);\\n  border: 2px solid #fff;\\n}\\n.mapboxgl-user-location-dot:after {\\n  content: \'\';\\n  display: block;\\n  box-shadow: #1DA1F2 0 0 0 2px;\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  position: relative;\\n  z-index: -1;\\n\\n  -webkit-animation: mapboxgl-user-location-dot-pulse 2s;\\n  -moz-animation: mapboxgl-user-location-dot-pulse 2s;\\n  -ms-animation: mapboxgl-user-location-dot-pulse 2s;\\n  animation: mapboxgl-user-location-dot-pulse 2s;\\n\\n  -webkit-animation-iteration-count: infinite;\\n  -moz-animation-iteration-count: infinite;\\n  -ms-animation-iteration-count: infinite;\\n  animation-iteration-count: infinite;\\n}\\n@-webkit-keyframes mapboxgl-user-location-dot-pulse {\\n  0%   {   -webkit-box-shadow: 0 0 0 0 rgba(29, 161, 242, 0.8); }\\n  70%  {   -webkit-box-shadow: 0 0 0 15px rgba(29, 161, 242, 0); }\\n  242% {   -webkit-box-shadow: 0 0 0 0 rgba(29, 161, 242, 0); }\\n}\\n@-ms-keyframes mapboxgl-user-location-dot-pulse {\\n  0%   {   -ms-box-shadow: 0 0 0 0 rgba(29, 161, 242, 0.8); }\\n  70%  {   -ms-box-shadow: 0 0 0 15px rgba(29, 161, 242, 0); }\\n  242% {   -ms-box-shadow: 0 0 0 0 rgba(29, 161, 242, 0); }\\n}\\n@keyframes mapboxgl-user-location-dot-pulse {\\n  0% {\\n      -moz-box-shadow: 0 0 0 0 rgba(29, 161, 242, 0.8);\\n           box-shadow: 0 0 0 0 rgba(29, 161, 242, 0.4);\\n  }\\n  70% {\\n      -moz-box-shadow: 0 0 0 15px rgba(29, 161, 242, 0);\\n           box-shadow: 0 0 0 15px rgba(29, 161, 242, 0);\\n  }\\n  100% {\\n      -moz-box-shadow: 0 0 0 0 rgba(29, 161, 242, 0);\\n           box-shadow: 0 0 0 0 rgba(29, 161, 242, 0);\\n  }\\n}\\n.mapboxgl-user-location-dot-stale {\\n  background-color: #aaa;\\n}\\n.mapboxgl-user-location-dot-stale:after {\\n  display: none\\n}\\n\\n.mapboxgl-crosshair,\\n.mapboxgl-crosshair .mapboxgl-interactive,\\n.mapboxgl-crosshair .mapboxgl-interactive:active {\\n  cursor: crosshair;\\n}\\n.mapboxgl-boxzoom {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 0;\\n  height: 0;\\n  background: #fff;\\n  border: 2px dotted #202020;\\n  opacity: 0.5;\\n}\\n\\n@media print {\\n/* stylelint-disable */\\n  .mapbox-improve-map {\\n      display:none;\\n  }\\n/* stylelint-enable */\\n}\\n";\n//# sourceMappingURL=css.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9jb25zdGFudHMvY3NzLmpzPzI0MGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlZmF1bHQgPSBcIlxcbi5tYXBib3hnbC1tYXAge1xcbiAgZm9udDogMTJweC8yMHB4ICdIZWx2ZXRpY2EgTmV1ZScsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbn1cXG5cXG4ubWFwYm94Z2wtbWlzc2luZy1jc3Mge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtaW50ZXJhY3RpdmUsXFxuLm1hcGJveGdsLWN0cmwtbmF2LWNvbXBhc3Mge1xcbiAgY3Vyc29yOiAtd2Via2l0LWdyYWI7XFxuICBjdXJzb3I6IC1tb3otZ3JhYjtcXG4gIGN1cnNvcjogZ3JhYjtcXG59XFxuLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtaW50ZXJhY3RpdmU6YWN0aXZlLFxcbi5tYXBib3hnbC1jdHJsLW5hdi1jb21wYXNzOmFjdGl2ZSB7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XFxuICBjdXJzb3I6IC1tb3otZ3JhYmJpbmc7XFxuICBjdXJzb3I6IGdyYWJiaW5nO1xcbn1cXG5cXG4ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZSB7XFxuICAtbXMtdG91Y2gtYWN0aW9uOiBwYW4teCBwYW4teTtcXG4gIHRvdWNoLWFjdGlvbjogcGFuLXggcGFuLXk7XFxufVxcbi5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuIHtcXG4gIC1tcy10b3VjaC1hY3Rpb246IHBpbmNoLXpvb207XFxufVxcbi5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuIHtcXG4gIC1tcy10b3VjaC1hY3Rpb246IG5vbmU7XFxuICB0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0LFxcbi5tYXBib3hnbC1jdHJsLXRvcC1yaWdodCxcXG4ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdCxcXG4ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgIHsgcG9zaXRpb246YWJzb2x1dGU7IHBvaW50ZXItZXZlbnRzOm5vbmU7IHotaW5kZXg6MjsgfVxcbi5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0ICAgICAgeyB0b3A6MDsgbGVmdDowOyB9XFxuLm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0ICAgICB7IHRvcDowOyByaWdodDowOyB9XFxuLm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQgICB7IGJvdHRvbTowOyBsZWZ0OjA7IH1cXG4ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgIHsgcmlnaHQ6MDsgYm90dG9tOjA7IH1cXG5cXG4ubWFwYm94Z2wtY3RybCB7IGNsZWFyOmJvdGg7IHBvaW50ZXItZXZlbnRzOmF1dG8gfVxcbi5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0IC5tYXBib3hnbC1jdHJsIHsgbWFyZ2luOjEwcHggMCAwIDEwcHg7IGZsb2F0OmxlZnQ7IH1cXG4ubWFwYm94Z2wtY3RybC10b3AtcmlnaHQgLm1hcGJveGdsLWN0cmx7IG1hcmdpbjoxMHB4IDEwcHggMCAwOyBmbG9hdDpyaWdodDsgfVxcbi5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1jdHJsIHsgbWFyZ2luOjAgMCAxMHB4IDEwcHg7IGZsb2F0OmxlZnQ7IH1cXG4ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgLm1hcGJveGdsLWN0cmwgeyBtYXJnaW46MCAxMHB4IDEwcHggMDsgZmxvYXQ6cmlnaHQ7IH1cXG5cXG4ubWFwYm94Z2wtY3RybC1ncm91cCB7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAtbW96LWJveC1zaGFkb3c6IDBweCAwcHggMnB4IHJnYmEoMCwwLDAsMC4xKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCAycHggcmdiYSgwLDAsMCwwLjEpO1xcbiAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggMnB4IHJnYmEoMCwwLDAsMC4xKTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1ncm91cCA+IGJ1dHRvbiB7XFxuICB3aWR0aDogMzBweDtcXG4gIGhlaWdodDogMzBweDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcGFkZGluZzogMDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4vKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDA1NjIgKi9cXG4ubWFwYm94Z2wtY3RybCA+IGJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBib3JkZXI6IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG4ubWFwYm94Z2wtY3RybCA+IGJ1dHRvbjpsYXN0LWNoaWxkIHtcXG4gIGJvcmRlci1ib3R0b206IDA7XFxufVxcbi5tYXBib3hnbC1jdHJsID4gYnV0dG9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC4wNSk7XFxufVxcbi5tYXBib3hnbC1jdHJsLWljb24sXFxuLm1hcGJveGdsLWN0cmwtaWNvbiA+IC5tYXBib3hnbC1jdHJsLWNvbXBhc3MtYXJyb3cge1xcbiAgc3BlYWs6IG5vbmU7XFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcXG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XFxufVxcbi5tYXBib3hnbC1jdHJsLWljb24ge1xcbiAgcGFkZGluZzogNXB4O1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGY4LCUzQ3N2ZyUyMHZpZXdCb3glM0QlMjcwJTIwMCUyMDIwJTIwMjAlMjclMjB4bWxucyUzRCUyN2h0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyNyUzRSUwQSUyMCUyMCUzQ3BhdGglMjBzdHlsZSUzRCUyN2ZpbGwlM0ElMjMzMzMzMzMlM0IlMjclMjBkJTNEJTI3bSUyMDclMkM5JTIwYyUyMC0wLjU1NCUyQzAlMjAtMSUyQzAuNDQ2JTIwLTElMkMxJTIwMCUyQzAuNTU0JTIwMC40NDYlMkMxJTIwMSUyQzElMjBsJTIwNiUyQzAlMjBjJTIwMC41NTQlMkMwJTIwMSUyQy0wLjQ0NiUyMDElMkMtMSUyMDAlMkMtMC41NTQlMjAtMC40NDYlMkMtMSUyMC0xJTJDLTElMjB6JTI3JTIwJTJGJTNFJTBBJTNDJTJGc3ZnJTNFJTBBXFxcIik7XFxufVxcbi5tYXBib3hnbC1jdHJsLWljb24ubWFwYm94Z2wtY3RybC16b29tLWluIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwlM0NzdmclMjB2aWV3Qm94JTNEJTI3MCUyMDAlMjAyMCUyMDIwJTI3JTIweG1sbnMlM0QlMjdodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjclM0UlMEElMjAlMjAlM0NwYXRoJTIwc3R5bGUlM0QlMjdmaWxsJTNBJTIzMzMzMzMzJTNCJTI3JTIwZCUzRCUyN00lMjAxMCUyMDYlMjBDJTIwOS40NDYlMjA2JTIwOSUyMDYuNDQ1OTkwNCUyMDklMjA3JTIwTCUyMDklMjA5JTIwTCUyMDclMjA5JTIwQyUyMDYuNDQ2JTIwOSUyMDYlMjA5LjQ0NiUyMDYlMjAxMCUyMEMlMjA2JTIwMTAuNTU0JTIwNi40NDYlMjAxMSUyMDclMjAxMSUyMEwlMjA5JTIwMTElMjBMJTIwOSUyMDEzJTIwQyUyMDklMjAxMy41NTQwMSUyMDkuNDQ2JTIwMTQlMjAxMCUyMDE0JTIwQyUyMDEwLjU1NCUyMDE0JTIwMTElMjAxMy41NTQwMSUyMDExJTIwMTMlMjBMJTIwMTElMjAxMSUyMEwlMjAxMyUyMDExJTIwQyUyMDEzLjU1NCUyMDExJTIwMTQlMjAxMC41NTQlMjAxNCUyMDEwJTIwQyUyMDE0JTIwOS40NDYlMjAxMy41NTQlMjA5JTIwMTMlMjA5JTIwTCUyMDExJTIwOSUyMEwlMjAxMSUyMDclMjBDJTIwMTElMjA2LjQ0NTk5MDQlMjAxMC41NTQlMjA2JTIwMTAlMjA2JTIweiUyNyUyMCUyRiUzRSUwQSUzQyUyRnN2ZyUzRSUwQVxcXCIpO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnJTIwdmlld0JveCUzRCUyNzAlMjAwJTIwMjAlMjAyMCUyNyUyMHhtbG5zJTNEJTI3aHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTI3JTNFJTBEJTBBJTIwJTIwJTNDcGF0aCUyMHN0eWxlJTNEJTI3ZmlsbCUzQSUyMzMzMyUzQiUyNyUyMGQlM0QlMjdNMTAlMjA0QzklMjA0JTIwOSUyMDUlMjA5JTIwNUw5JTIwNS4xQTUlMjA1JTIwMCUyMDAlMjAwJTIwNS4xJTIwOUw1JTIwOUM1JTIwOSUyMDQlMjA5JTIwNCUyMDEwJTIwNCUyMDExJTIwNSUyMDExJTIwNSUyMDExTDUuMSUyMDExQTUlMjA1JTIwMCUyMDAlMjAwJTIwOSUyMDE0LjlMOSUyMDE1QzklMjAxNSUyMDklMjAxNiUyMDEwJTIwMTYlMjAxMSUyMDE2JTIwMTElMjAxNSUyMDExJTIwMTVMMTElMjAxNC45QTUlMjA1JTIwMCUyMDAlMjAwJTIwMTQuOSUyMDExTDE1JTIwMTFDMTUlMjAxMSUyMDE2JTIwMTElMjAxNiUyMDEwJTIwMTYlMjA5JTIwMTUlMjA5JTIwMTUlMjA5TDE0LjklMjA5QTUlMjA1JTIwMCUyMDAlMjAwJTIwMTElMjA1LjFMMTElMjA1QzExJTIwNSUyMDExJTIwNCUyMDEwJTIwNHpNMTAlMjA2LjVBMy41JTIwMy41JTIwMCUyMDAlMjAxJTIwMTMuNSUyMDEwJTIwMy41JTIwMy41JTIwMCUyMDAlMjAxJTIwMTAlMjAxMy41JTIwMy41JTIwMy41JTIwMCUyMDAlMjAxJTIwNi41JTIwMTAlMjAzLjUlMjAzLjUlMjAwJTIwMCUyMDElMjAxMCUyMDYuNXpNMTAlMjA4LjNBMS44JTIwMS44JTIwMCUyMDAlMjAwJTIwOC4zJTIwMTAlMjAxLjglMjAxLjglMjAwJTIwMCUyMDAlMjAxMCUyMDExLjglMjAxLjglMjAxLjglMjAwJTIwMCUyMDAlMjAxMS44JTIwMTAlMjAxLjglMjAxLjglMjAwJTIwMCUyMDAlMjAxMCUyMDguM3olMjclMjAlMkYlM0UlMEQlMEElM0MlMkZzdmclM0VcXFwiKTtcXG59XFxuLm1hcGJveGdsLWN0cmwtaWNvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZTpkaXNhYmxlZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHZpZXdCb3glM0QlMjcwJTIwMCUyMDIwJTIwMjAlMjclMjB4bWxucyUzRCUyN2h0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyNyUzRSUwRCUwQSUyMCUyMCUzQ3BhdGglMjBzdHlsZSUzRCUyN2ZpbGwlM0ElMjNhYWElM0IlMjclMjBkJTNEJTI3TTEwJTIwNEM5JTIwNCUyMDklMjA1JTIwOSUyMDVMOSUyMDUuMUE1JTIwNSUyMDAlMjAwJTIwMCUyMDUuMSUyMDlMNSUyMDlDNSUyMDklMjA0JTIwOSUyMDQlMjAxMCUyMDQlMjAxMSUyMDUlMjAxMSUyMDUlMjAxMUw1LjElMjAxMUE1JTIwNSUyMDAlMjAwJTIwMCUyMDklMjAxNC45TDklMjAxNUM5JTIwMTUlMjA5JTIwMTYlMjAxMCUyMDE2JTIwMTElMjAxNiUyMDExJTIwMTUlMjAxMSUyMDE1TDExJTIwMTQuOUE1JTIwNSUyMDAlMjAwJTIwMCUyMDE0LjklMjAxMUwxNSUyMDExQzE1JTIwMTElMjAxNiUyMDExJTIwMTYlMjAxMCUyMDE2JTIwOSUyMDE1JTIwOSUyMDE1JTIwOUwxNC45JTIwOUE1JTIwNSUyMDAlMjAwJTIwMCUyMDExJTIwNS4xTDExJTIwNUMxMSUyMDUlMjAxMSUyMDQlMjAxMCUyMDR6TTEwJTIwNi41QTMuNSUyMDMuNSUyMDAlMjAwJTIwMSUyMDEzLjUlMjAxMCUyMDMuNSUyMDMuNSUyMDAlMjAwJTIwMSUyMDEwJTIwMTMuNSUyMDMuNSUyMDMuNSUyMDAlMjAwJTIwMSUyMDYuNSUyMDEwJTIwMy41JTIwMy41JTIwMCUyMDAlMjAxJTIwMTAlMjA2LjV6TTEwJTIwOC4zQTEuOCUyMDEuOCUyMDAlMjAwJTIwMCUyMDguMyUyMDEwJTIwMS44JTIwMS44JTIwMCUyMDAlMjAwJTIwMTAlMjAxMS44JTIwMS44JTIwMS44JTIwMCUyMDAlMjAwJTIwMTEuOCUyMDEwJTIwMS44JTIwMS44JTIwMCUyMDAlMjAwJTIwMTAlMjA4LjN6JTI3JTIwJTJGJTNFJTBEJTBBJTNDJTJGc3ZnJTNFXFxcIik7XFxufVxcbi5tYXBib3hnbC1jdHJsLWljb24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnJTIwdmlld0JveCUzRCUyNzAlMjAwJTIwMjAlMjAyMCUyNyUyMHhtbG5zJTNEJTI3aHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTI3JTNFJTBEJTBBJTIwJTIwJTNDcGF0aCUyMHN0eWxlJTNEJTI3ZmlsbCUzQSUyMzMzYjVlNSUzQiUyNyUyMGQlM0QlMjdNMTAlMjA0QzklMjA0JTIwOSUyMDUlMjA5JTIwNUw5JTIwNS4xQTUlMjA1JTIwMCUyMDAlMjAwJTIwNS4xJTIwOUw1JTIwOUM1JTIwOSUyMDQlMjA5JTIwNCUyMDEwJTIwNCUyMDExJTIwNSUyMDExJTIwNSUyMDExTDUuMSUyMDExQTUlMjA1JTIwMCUyMDAlMjAwJTIwOSUyMDE0LjlMOSUyMDE1QzklMjAxNSUyMDklMjAxNiUyMDEwJTIwMTYlMjAxMSUyMDE2JTIwMTElMjAxNSUyMDExJTIwMTVMMTElMjAxNC45QTUlMjA1JTIwMCUyMDAlMjAwJTIwMTQuOSUyMDExTDE1JTIwMTFDMTUlMjAxMSUyMDE2JTIwMTElMjAxNiUyMDEwJTIwMTYlMjA5JTIwMTUlMjA5JTIwMTUlMjA5TDE0LjklMjA5QTUlMjA1JTIwMCUyMDAlMjAwJTIwMTElMjA1LjFMMTElMjA1QzExJTIwNSUyMDExJTIwNCUyMDEwJTIwNHpNMTAlMjA2LjVBMy41JTIwMy41JTIwMCUyMDAlMjAxJTIwMTMuNSUyMDEwJTIwMy41JTIwMy41JTIwMCUyMDAlMjAxJTIwMTAlMjAxMy41JTIwMy41JTIwMy41JTIwMCUyMDAlMjAxJTIwNi41JTIwMTAlMjAzLjUlMjAzLjUlMjAwJTIwMCUyMDElMjAxMCUyMDYuNXpNMTAlMjA4LjNBMS44JTIwMS44JTIwMCUyMDAlMjAwJTIwOC4zJTIwMTAlMjAxLjglMjAxLjglMjAwJTIwMCUyMDAlMjAxMCUyMDExLjglMjAxLjglMjAxLjglMjAwJTIwMCUyMDAlMjAxMS44JTIwMTAlMjAxLjglMjAxLjglMjAwJTIwMCUyMDAlMjAxMCUyMDguM3olMjclMjAlMkYlM0UlMEQlMEElM0MlMkZzdmclM0VcXFwiKTtcXG59XFxuLm1hcGJveGdsLWN0cmwtaWNvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3Ige1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmclMjB2aWV3Qm94JTNEJTI3MCUyMDAlMjAyMCUyMDIwJTI3JTIweG1sbnMlM0QlMjdodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjclM0UlMEQlMEElMjAlMjAlM0NwYXRoJTIwc3R5bGUlM0QlMjdmaWxsJTNBJTIzZTU4OTc4JTNCJTI3JTIwZCUzRCUyN00xMCUyMDRDOSUyMDQlMjA5JTIwNSUyMDklMjA1TDklMjA1LjFBNSUyMDUlMjAwJTIwMCUyMDAlMjA1LjElMjA5TDUlMjA5QzUlMjA5JTIwNCUyMDklMjA0JTIwMTAlMjA0JTIwMTElMjA1JTIwMTElMjA1JTIwMTFMNS4xJTIwMTFBNSUyMDUlMjAwJTIwMCUyMDAlMjA5JTIwMTQuOUw5JTIwMTVDOSUyMDE1JTIwOSUyMDE2JTIwMTAlMjAxNiUyMDExJTIwMTYlMjAxMSUyMDE1JTIwMTElMjAxNUwxMSUyMDE0LjlBNSUyMDUlMjAwJTIwMCUyMDAlMjAxNC45JTIwMTFMMTUlMjAxMUMxNSUyMDExJTIwMTYlMjAxMSUyMDE2JTIwMTAlMjAxNiUyMDklMjAxNSUyMDklMjAxNSUyMDlMMTQuOSUyMDlBNSUyMDUlMjAwJTIwMCUyMDAlMjAxMSUyMDUuMUwxMSUyMDVDMTElMjA1JTIwMTElMjA0JTIwMTAlMjA0ek0xMCUyMDYuNUEzLjUlMjAzLjUlMjAwJTIwMCUyMDElMjAxMy41JTIwMTAlMjAzLjUlMjAzLjUlMjAwJTIwMCUyMDElMjAxMCUyMDEzLjUlMjAzLjUlMjAzLjUlMjAwJTIwMCUyMDElMjA2LjUlMjAxMCUyMDMuNSUyMDMuNSUyMDAlMjAwJTIwMSUyMDEwJTIwNi41ek0xMCUyMDguM0ExLjglMjAxLjglMjAwJTIwMCUyMDAlMjA4LjMlMjAxMCUyMDEuOCUyMDEuOCUyMDAlMjAwJTIwMCUyMDEwJTIwMTEuOCUyMDEuOCUyMDEuOCUyMDAlMjAwJTIwMCUyMDExLjglMjAxMCUyMDEuOCUyMDEuOCUyMDAlMjAwJTIwMCUyMDEwJTIwOC4zeiUyNyUyMCUyRiUzRSUwRCUwQSUzQyUyRnN2ZyUzRVxcXCIpO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmclMjB2aWV3Qm94JTNEJTI3MCUyMDAlMjAyMCUyMDIwJTI3JTIweG1sbnMlM0QlMjdodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjclM0UlMEElMjAlMjAlM0NwYXRoJTIwc3R5bGUlM0QlMjdmaWxsJTNBJTIzMzNiNWU1JTNCJTI3JTIwZCUzRCUyN00lMjAxMCUyQzQlMjBDJTIwOSUyQzQlMjA5JTJDNSUyMDklMkM1JTIwTCUyMDklMkM1LjElMjBDJTIwNy4wMzU3MTEzJTJDNS41MDA2MDQ4JTIwNS41MDA2MDQ4JTJDNy4wMzU3MTEzJTIwNS4xJTJDOSUyMEwlMjA1JTJDOSUyMGMlMjAwJTJDMCUyMC0xJTJDMCUyMC0xJTJDMSUyMDAlMkMxJTIwMSUyQzElMjAxJTJDMSUyMGwlMjAwLjElMkMwJTIwYyUyMDAuNDAwNjA0OCUyQzEuOTY0Mjg5JTIwMS45MzU3MTEzJTJDMy40OTkzOTUlMjAzLjklMkMzLjklMjBMJTIwOSUyQzE1JTIwYyUyMDAlMkMwJTIwMCUyQzElMjAxJTJDMSUyMDElMkMwJTIwMSUyQy0xJTIwMSUyQy0xJTIwbCUyMDAlMkMtMC4xJTIwYyUyMDEuOTY0Mjg5JTJDLTAuNDAwNjA1JTIwMy40OTkzOTUlMkMtMS45MzU3MTElMjAzLjklMkMtMy45JTIwbCUyMDAuMSUyQzAlMjBjJTIwMCUyQzAlMjAxJTJDMCUyMDElMkMtMSUyMEMlMjAxNiUyQzklMjAxNSUyQzklMjAxNSUyQzklMjBMJTIwMTQuOSUyQzklMjBDJTIwMTQuNDk5Mzk1JTJDNy4wMzU3MTEzJTIwMTIuOTY0Mjg5JTJDNS41MDA2MDQ4JTIwMTElMkM1LjElMjBMJTIwMTElMkM1JTIwYyUyMDAlMkMwJTIwMCUyQy0xJTIwLTElMkMtMSUyMHolMjBtJTIwMCUyQzIuNSUyMGMlMjAxLjkzMjk5NyUyQzAlMjAzLjUlMkMxLjU2NzAwMzQlMjAzLjUlMkMzLjUlMjAwJTJDMS45MzI5OTclMjAtMS41NjcwMDMlMkMzLjUlMjAtMy41JTJDMy41JTIwQyUyMDguMDY3MDAzNCUyQzEzLjUlMjA2LjUlMkMxMS45MzI5OTclMjA2LjUlMkMxMCUyMDYuNSUyQzguMDY3MDAzNCUyMDguMDY3MDAzNCUyQzYuNSUyMDEwJTJDNi41JTIwWiUyNyUyMCUyRiUzRSUwQSUzQyUyRnN2ZyUzRVxcXCIpO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3Ige1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmclMjB2aWV3Qm94JTNEJTI3MCUyMDAlMjAyMCUyMDIwJTI3JTIweG1sbnMlM0QlMjdodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjclM0UlMEElMjAlMjAlM0NwYXRoJTIwc3R5bGUlM0QlMjdmaWxsJTNBJTIzZTU0ZTMzJTNCJTI3JTIwZCUzRCUyN00lMjAxMCUyQzQlMjBDJTIwOSUyQzQlMjA5JTJDNSUyMDklMkM1JTIwTCUyMDklMkM1LjElMjBDJTIwNy4wMzU3MTEzJTJDNS41MDA2MDQ4JTIwNS41MDA2MDQ4JTJDNy4wMzU3MTEzJTIwNS4xJTJDOSUyMEwlMjA1JTJDOSUyMGMlMjAwJTJDMCUyMC0xJTJDMCUyMC0xJTJDMSUyMDAlMkMxJTIwMSUyQzElMjAxJTJDMSUyMGwlMjAwLjElMkMwJTIwYyUyMDAuNDAwNjA0OCUyQzEuOTY0Mjg5JTIwMS45MzU3MTEzJTJDMy40OTkzOTUlMjAzLjklMkMzLjklMjBMJTIwOSUyQzE1JTIwYyUyMDAlMkMwJTIwMCUyQzElMjAxJTJDMSUyMDElMkMwJTIwMSUyQy0xJTIwMSUyQy0xJTIwbCUyMDAlMkMtMC4xJTIwYyUyMDEuOTY0Mjg5JTJDLTAuNDAwNjA1JTIwMy40OTkzOTUlMkMtMS45MzU3MTElMjAzLjklMkMtMy45JTIwbCUyMDAuMSUyQzAlMjBjJTIwMCUyQzAlMjAxJTJDMCUyMDElMkMtMSUyMEMlMjAxNiUyQzklMjAxNSUyQzklMjAxNSUyQzklMjBMJTIwMTQuOSUyQzklMjBDJTIwMTQuNDk5Mzk1JTJDNy4wMzU3MTEzJTIwMTIuOTY0Mjg5JTJDNS41MDA2MDQ4JTIwMTElMkM1LjElMjBMJTIwMTElMkM1JTIwYyUyMDAlMkMwJTIwMCUyQy0xJTIwLTElMkMtMSUyMHolMjBtJTIwMCUyQzIuNSUyMGMlMjAxLjkzMjk5NyUyQzAlMjAzLjUlMkMxLjU2NzAwMzQlMjAzLjUlMkMzLjUlMjAwJTJDMS45MzI5OTclMjAtMS41NjcwMDMlMkMzLjUlMjAtMy41JTJDMy41JTIwQyUyMDguMDY3MDAzNCUyQzEzLjUlMjA2LjUlMkMxMS45MzI5OTclMjA2LjUlMkMxMCUyMDYuNSUyQzguMDY3MDAzNCUyMDguMDY3MDAzNCUyQzYuNSUyMDEwJTJDNi41JTIwWiUyNyUyMCUyRiUzRSUwQSUzQyUyRnN2ZyUzRVxcXCIpO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcge1xcbiAgLXdlYmtpdC1hbmltYXRpb246IG1hcGJveGdsLXNwaW4gMnMgaW5maW5pdGUgbGluZWFyO1xcbiAgLW1vei1hbmltYXRpb246IG1hcGJveGdsLXNwaW4gMnMgaW5maW5pdGUgbGluZWFyO1xcbiAgLW8tYW5pbWF0aW9uOiBtYXBib3hnbC1zcGluIDJzIGluZmluaXRlIGxpbmVhcjtcXG4gIC1tcy1hbmltYXRpb246IG1hcGJveGdsLXNwaW4gMnMgaW5maW5pdGUgbGluZWFyO1xcbiAgYW5pbWF0aW9uOiBtYXBib3hnbC1zcGluIDJzIGluZmluaXRlIGxpbmVhcjtcXG59XFxuXFxuQC13ZWJraXQta2V5ZnJhbWVzIG1hcGJveGdsLXNwaW4ge1xcbiAgMCUgeyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XFxuICAxMDAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XFxufVxcbkAtbW96LWtleWZyYW1lcyBtYXBib3hnbC1zcGluIHtcXG4gIDAlIHsgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxcbiAgMTAwJSB7IC1tb3otdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxcbn1cXG5ALW8ta2V5ZnJhbWVzIG1hcGJveGdsLXNwaW4ge1xcbiAgMCUgeyAtby10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxcbiAgMTAwJSB7IC1vLXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cXG59XFxuQC1tcy1rZXlmcmFtZXMgbWFwYm94Z2wtc3BpbiB7XFxuICAwJSB7IC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxcbiAgMTAwJSB7IC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XFxufVxcbkBrZXlmcmFtZXMgbWFwYm94Z2wtc3BpbiB7XFxuICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XFxuICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlbiAge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlWVlJHTFRnaUlITjBZVzVrWVd4dmJtVTlJbTV2SWo4K0Nqd2hMUzBnUjJWdVpYSmhkRzl5T2lCQlpHOWlaU0JKYkd4MWMzUnlZWFJ2Y2lBeE9TNHdMakVzSUZOV1J5QkZlSEJ2Y25RZ1VHeDFaeTFKYmlBdUlGTldSeUJXWlhKemFXOXVPaUEyTGpBd0lFSjFhV3hrSURBcElDQXRMVDRLQ2p4emRtY0tJQ0FnZUcxc2JuTTZaR005SW1oMGRIQTZMeTl3ZFhKc0xtOXlaeTlrWXk5bGJHVnRaVzUwY3k4eExqRXZJZ29nSUNCNGJXeHVjenBqWXowaWFIUjBjRG92TDJOeVpXRjBhWFpsWTI5dGJXOXVjeTV2Y21jdmJuTWpJZ29nSUNCNGJXeHVjenB5WkdZOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2TURJdk1qSXRjbVJtTFhONWJuUmhlQzF1Y3lNaUNpQWdJSGh0Ykc1ek9uTjJaejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpQ2lBZ0lIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJS0lDQWdlRzFzYm5NNmMyOWthWEJ2WkdrOUltaDBkSEE2THk5emIyUnBjRzlrYVM1emIzVnlZMlZtYjNKblpTNXVaWFF2UkZSRUwzTnZaR2x3YjJScExUQXVaSFJrSWdvZ0lDQjRiV3h1Y3pwcGJtdHpZMkZ3WlQwaWFIUjBjRG92TDNkM2R5NXBibXR6WTJGd1pTNXZjbWN2Ym1GdFpYTndZV05sY3k5cGJtdHpZMkZ3WlNJS0lDQWdkbVZ5YzJsdmJqMGlNUzR4SWdvZ0lDQnBaRDBpVEdGNVpYSmZNU0lLSUNBZ2VEMGlNSEI0SWdvZ0lDQjVQU0l3Y0hnaUNpQWdJSFpwWlhkQ2IzZzlJakFnTUNBeU1DQXlNQ0lLSUNBZ2MzUjViR1U5SW1WdVlXSnNaUzFpWVdOclozSnZkVzVrT201bGR5QXdJREFnTWpBZ01qQTdJZ29nSUNCNGJXdzZjM0JoWTJVOUluQnlaWE5sY25abElnb2dJQ0JwYm10elkyRndaVHAyWlhKemFXOXVQU0l3TGpreElISXhNemN5TlNJS0lDQWdjMjlrYVhCdlpHazZaRzlqYm1GdFpUMGlablZzYkhOamNtVmxiaTV6ZG1jaVBqeHRaWFJoWkdGMFlRb2dJQ0FnSUdsa1BTSnRaWFJoWkdGMFlUUXhPRFVpUGp4eVpHWTZVa1JHUGp4all6cFhiM0pyQ2lBZ0lDQWdJQ0FnSUhKa1pqcGhZbTkxZEQwaUlqNDhaR002Wm05eWJXRjBQbWx0WVdkbEwzTjJaeXQ0Yld3OEwyUmpPbVp2Y20xaGRENDhaR002ZEhsd1pRb2dJQ0FnSUNBZ0lDQWdJSEprWmpweVpYTnZkWEpqWlQwaWFIUjBjRG92TDNCMWNtd3ViM0puTDJSakwyUmpiV2wwZVhCbEwxTjBhV3hzU1cxaFoyVWlJQzgrUEdSak9uUnBkR3hsUGp3dlpHTTZkR2wwYkdVK1BDOWpZenBYYjNKclBqd3ZjbVJtT2xKRVJqNDhMMjFsZEdGa1lYUmhQanhrWldaekNpQWdJQ0FnYVdROUltUmxabk0wTVRneklpQXZQanh6YjJScGNHOWthVHB1WVcxbFpIWnBaWGNLSUNBZ0lDQndZV2RsWTI5c2IzSTlJaU5tWm1abVptWWlDaUFnSUNBZ1ltOXlaR1Z5WTI5c2IzSTlJaU0yTmpZMk5qWWlDaUFnSUNBZ1ltOXlaR1Z5YjNCaFkybDBlVDBpTVNJS0lDQWdJQ0J2WW1wbFkzUjBiMnhsY21GdVkyVTlJakV3SWdvZ0lDQWdJR2R5YVdSMGIyeGxjbUZ1WTJVOUlqRXdJZ29nSUNBZ0lHZDFhV1JsZEc5c1pYSmhibU5sUFNJeE1DSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwd1lXZGxiM0JoWTJsMGVUMGlNQ0lLSUNBZ0lDQnBibXR6WTJGd1pUcHdZV2RsYzJoaFpHOTNQU0l5SWdvZ0lDQWdJR2x1YTNOallYQmxPbmRwYm1SdmR5MTNhV1IwYUQwaU1UUTNNU0lLSUNBZ0lDQnBibXR6WTJGd1pUcDNhVzVrYjNjdGFHVnBaMmgwUFNJMk9UVWlDaUFnSUNBZ2FXUTlJbTVoYldWa2RtbGxkelF4T0RFaUNpQWdJQ0FnYzJodmQyZHlhV1E5SW1aaGJITmxJZ29nSUNBZ0lHbHVhM05qWVhCbE9ucHZiMjA5SWpFeExqTXhNemN3T0NJS0lDQWdJQ0JwYm10elkyRndaVHBqZUQwaU1UUXVOams0TWpnaUNpQWdJQ0FnYVc1cmMyTmhjR1U2WTNrOUlqRXdMalV5TmpZNE9TSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwM2FXNWtiM2N0ZUQwaU5qazNJZ29nSUNBZ0lHbHVhM05qWVhCbE9uZHBibVJ2ZHkxNVBTSXlPVGdpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZkMmx1Wkc5M0xXMWhlR2x0YVhwbFpEMGlNQ0lLSUNBZ0lDQnBibXR6WTJGd1pUcGpkWEp5Wlc1MExXeGhlV1Z5UFNKTVlYbGxjbDh4SWdvZ0lDQWdJR2x1YTNOallYQmxPbk51WVhBdFltSnZlRDBpZEhKMVpTSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwaVltOTRMWEJoZEdoelBTSjBjblZsSWdvZ0lDQWdJR2x1YTNOallYQmxPbTlpYW1WamRDMXdZWFJvY3owaWRISjFaU0lLSUNBZ0lDQnBibXR6WTJGd1pUcGlZbTk0TFc1dlpHVnpQU0owY25WbElnb2dJQ0FnSUdsdWEzTmpZWEJsT205aWFtVmpkQzF1YjJSbGN6MGlkSEoxWlNJK1BHbHVhM05qWVhCbE9tZHlhV1FLSUNBZ0lDQWdJSFI1Y0dVOUluaDVaM0pwWkNJS0lDQWdJQ0FnSUdsa1BTSm5jbWxrTmpBM05pSWdMejQ4TDNOdlpHbHdiMlJwT201aGJXVmtkbWxsZHo0OGNHRjBhQW9nSUNBZ0lHUTlJazBnTlNBMElFTWdOQzQxSURRZ05DQTBMalVnTkNBMUlFd2dOQ0EySUV3Z05DQTVJRXdnTkM0MUlEa2dUQ0ExTGpjM056TTBNemdnTnk0eU9UWTROelVnUXlBMkxqYzNOekV6TVRrZ09DNHdOakF5TVRNeElEY3VPRE0xTnpZMUlEZ3VPVFUyTlRjeU9DQTRMamc1TURZeU5TQXhNQ0JESURjdU9ESTFOekV5TVNBeE1TNHdOak16SURZdU56YzJNVGM1TVNBeE1TNDVOVEUyTnpVZ05TNDNPREV5TlNBeE1pNDNNRGN3TXpFZ1RDQTBMalVnTVRFZ1RDQTBJREV4SUV3Z05DQXhOU0JESURRZ01UVXVOU0EwTGpVZ01UWWdOU0F4TmlCTUlEa2dNVFlnVENBNUlERTFMalVnVENBM0xqSTNNelF6TnpVZ01UUXVNakExTURjNElFTWdPQzR3TkRJNE9UTXhJREV6TGpFNE56ZzROaUE0TGprek9UVTBOREVnTVRJdU1UTXpORGd4SURrdU9UWXdPVE0zTlNBeE1TNHdOamd6TlRrZ1F5QXhNUzR3TkRJek56RWdNVEl1TVRRMk9Ua2dNVEV1T1RReU1Ea3pJREV6TGpJeE1USWdNVEl1TnpBM01ETXhJREUwTGpJeE9EYzFJRXdnTVRFZ01UVXVOU0JNSURFeElERTJJRXdnTVRRZ01UWWdUQ0F4TlNBeE5pQkRJREUxTGpVZ01UWWdNVFlnTVRVdU5TQXhOaUF4TlNCTUlERTJJREUwSUV3Z01UWWdNVEVnVENBeE5TNDFJREV4SUV3Z01UUXVNakExTURjNElERXlMamN5TmpVMk1pQkRJREV6TGpFM056azROU0F4TVM0NU5EazJNVGNnTVRJdU1URXlOekU0SURFeExqQTBNelUzTnlBeE1TNHdNemN4TURrZ01UQXVNREE1TnpZMklFTWdNVEl1TVRVeE9EVTJJRGd1T1RneE1EWXhJREV6TGpJeU5ETTBOU0E0TGpBM09UZzJNalFnTVRRdU1qSTROVEUySURjdU16QTBOamczTlNCTUlERTFMalVnT1NCTUlERTJJRGtnVENBeE5pQTFJRU1nTVRZZ05DNDFJREUxTGpVZ05DQXhOU0EwSUV3Z01URWdOQ0JNSURFeElEUXVOU0JNSURFeUxqY3dNekV5TlNBMUxqYzNOek0wTXpnZ1F5QXhNUzQ1TXpJMk5EY2dOaTQzT0RZME9ETTBJREV4TGpBeU5qWTVNeUEzTGpnMU5UUTNNVElnT1M0NU56QTNNRE14SURndU9URTVPVEl4T1NCRElEZ3VPVFU0TkRjek9TQTNMamd5TURRNU5ETWdPQzR3TmprNE56WTNJRFl1TnpZeU56RTRPQ0EzTGpNd05EWTROelVnTlM0M056RTBPRFEwSUV3Z09TQTBMalVnVENBNUlEUWdUQ0EySURRZ1RDQTFJRFFnZWlBaUNpQWdJQ0FnYVdROUluQmhkR2cwTVRZNUlpQXZQand2YzNablBnPT1cXFwiKTtcXG59XFxuLm1hcGJveGdsLWN0cmwtaWNvbi5tYXBib3hnbC1jdHJsLXNocmluayAge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlWVlJHTFRnaUlITjBZVzVrWVd4dmJtVTlJbTV2SWo4K0Nqd2hMUzBnUjJWdVpYSmhkRzl5T2lCQlpHOWlaU0JKYkd4MWMzUnlZWFJ2Y2lBeE9TNHdMakVzSUZOV1J5QkZlSEJ2Y25RZ1VHeDFaeTFKYmlBdUlGTldSeUJXWlhKemFXOXVPaUEyTGpBd0lFSjFhV3hrSURBcElDQXRMVDRLQ2p4emRtY0tJQ0FnZUcxc2JuTTZaR005SW1oMGRIQTZMeTl3ZFhKc0xtOXlaeTlrWXk5bGJHVnRaVzUwY3k4eExqRXZJZ29nSUNCNGJXeHVjenBqWXowaWFIUjBjRG92TDJOeVpXRjBhWFpsWTI5dGJXOXVjeTV2Y21jdmJuTWpJZ29nSUNCNGJXeHVjenB5WkdZOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2TURJdk1qSXRjbVJtTFhONWJuUmhlQzF1Y3lNaUNpQWdJSGh0Ykc1ek9uTjJaejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpQ2lBZ0lIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJS0lDQWdlRzFzYm5NNmMyOWthWEJ2WkdrOUltaDBkSEE2THk5emIyUnBjRzlrYVM1emIzVnlZMlZtYjNKblpTNXVaWFF2UkZSRUwzTnZaR2x3YjJScExUQXVaSFJrSWdvZ0lDQjRiV3h1Y3pwcGJtdHpZMkZ3WlQwaWFIUjBjRG92TDNkM2R5NXBibXR6WTJGd1pTNXZjbWN2Ym1GdFpYTndZV05sY3k5cGJtdHpZMkZ3WlNJS0lDQWdkbVZ5YzJsdmJqMGlNUzR4SWdvZ0lDQnBaRDBpVEdGNVpYSmZNU0lLSUNBZ2VEMGlNSEI0SWdvZ0lDQjVQU0l3Y0hnaUNpQWdJSFpwWlhkQ2IzZzlJakFnTUNBeU1DQXlNQ0lLSUNBZ2MzUjViR1U5SW1WdVlXSnNaUzFpWVdOclozSnZkVzVrT201bGR5QXdJREFnTWpBZ01qQTdJZ29nSUNCNGJXdzZjM0JoWTJVOUluQnlaWE5sY25abElnb2dJQ0JwYm10elkyRndaVHAyWlhKemFXOXVQU0l3TGpreElISXhNemN5TlNJS0lDQWdjMjlrYVhCdlpHazZaRzlqYm1GdFpUMGljMmh5YVc1ckxuTjJaeUkrUEcxbGRHRmtZWFJoQ2lBZ0lDQWdhV1E5SW0xbGRHRmtZWFJoTVRraVBqeHlaR1k2VWtSR1BqeGpZenBYYjNKckNpQWdJQ0FnSUNBZ0lISmtaanBoWW05MWREMGlJajQ4WkdNNlptOXliV0YwUG1sdFlXZGxMM04yWnl0NGJXdzhMMlJqT21admNtMWhkRDQ4WkdNNmRIbHdaUW9nSUNBZ0lDQWdJQ0FnSUhKa1pqcHlaWE52ZFhKalpUMGlhSFIwY0RvdkwzQjFjbXd1YjNKbkwyUmpMMlJqYldsMGVYQmxMMU4wYVd4c1NXMWhaMlVpSUM4K1BHUmpPblJwZEd4bFBqd3ZaR002ZEdsMGJHVStQQzlqWXpwWGIzSnJQand2Y21SbU9sSkVSajQ4TDIxbGRHRmtZWFJoUGp4a1pXWnpDaUFnSUNBZ2FXUTlJbVJsWm5NeE55SWdMejQ4YzI5a2FYQnZaR2s2Ym1GdFpXUjJhV1YzQ2lBZ0lDQWdjR0ZuWldOdmJHOXlQU0lqWm1abVptWm1JZ29nSUNBZ0lHSnZjbVJsY21OdmJHOXlQU0lqTmpZMk5qWTJJZ29nSUNBZ0lHSnZjbVJsY205d1lXTnBkSGs5SWpFaUNpQWdJQ0FnYjJKcVpXTjBkRzlzWlhKaGJtTmxQU0l4TUNJS0lDQWdJQ0JuY21sa2RHOXNaWEpoYm1ObFBTSXhNQ0lLSUNBZ0lDQm5kV2xrWlhSdmJHVnlZVzVqWlQwaU1UQWlDaUFnSUNBZ2FXNXJjMk5oY0dVNmNHRm5aVzl3WVdOcGRIazlJakFpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZjR0ZuWlhOb1lXUnZkejBpTWlJS0lDQWdJQ0JwYm10elkyRndaVHAzYVc1a2IzY3RkMmxrZEdnOUlqSXdNakVpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZkMmx1Wkc5M0xXaGxhV2RvZEQwaU9UQTRJZ29nSUNBZ0lHbGtQU0p1WVcxbFpIWnBaWGN4TlNJS0lDQWdJQ0J6YUc5M1ozSnBaRDBpWm1Gc2MyVWlDaUFnSUNBZ2FXNXJjMk5oY0dVNmVtOXZiVDBpTVNJS0lDQWdJQ0JwYm10elkyRndaVHBqZUQwaU5DNDVOVEF4TURneUlnb2dJQ0FnSUdsdWEzTmpZWEJsT21ONVBTSXhNQzQ0TlRRM05EY2lDaUFnSUNBZ2FXNXJjMk5oY0dVNmQybHVaRzkzTFhnOUlqQWlDaUFnSUNBZ2FXNXJjMk5oY0dVNmQybHVaRzkzTFhrOUlqQWlDaUFnSUNBZ2FXNXJjMk5oY0dVNmQybHVaRzkzTFcxaGVHbHRhWHBsWkQwaU1DSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwamRYSnlaVzUwTFd4aGVXVnlQU0pNWVhsbGNsOHhJZ29nSUNBZ0lHbHVhM05qWVhCbE9uTnVZWEF0WW1KdmVEMGlkSEoxWlNJS0lDQWdJQ0JwYm10elkyRndaVHBpWW05NExYQmhkR2h6UFNKMGNuVmxJZ29nSUNBZ0lHbHVhM05qWVhCbE9uTnVZWEF0WW1KdmVDMWxaR2RsTFcxcFpIQnZhVzUwY3owaWRISjFaU0lLSUNBZ0lDQnBibXR6WTJGd1pUcGlZbTk0TFc1dlpHVnpQU0owY25WbElnb2dJQ0FnSUdsdWEzTmpZWEJsT25OdVlYQXRZbUp2ZUMxdGFXUndiMmx1ZEhNOUluUnlkV1VpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZiMkpxWldOMExYQmhkR2h6UFNKMGNuVmxJZ29nSUNBZ0lHbHVhM05qWVhCbE9tOWlhbVZqZEMxdWIyUmxjejBpZEhKMVpTSStQR2x1YTNOallYQmxPbWR5YVdRS0lDQWdJQ0FnSUhSNWNHVTlJbmg1WjNKcFpDSUtJQ0FnSUNBZ0lHbGtQU0puY21sa05ERTBOeUlnTHo0OEwzTnZaR2x3YjJScE9tNWhiV1ZrZG1sbGR6NDhjR0YwYUFvZ0lDQWdJSE4wZVd4bFBTSm1hV3hzT2lNd01EQXdNREFpQ2lBZ0lDQWdaRDBpVFNBMExqSTBNakU0TnpVZ015NDBPVEl4T0RjMUlFRWdNQzQzTlRBd056VWdNQzQzTlRBd056VWdNQ0F3SURBZ015NDNNVGczTlNBMExqYzRNVEkxSUV3Z05TNDVOalE0TkRNNElEY3VNREkzTXpRek9DQk1JRFFnT0M0MUlFd2dOQ0E1SUV3Z09DQTVJRU1nT0M0MU1EQXdNREVnT0M0NU9UazVPVGc0SURrZ09DNDBPVGs1T1RreUlEa2dPQ0JNSURrZ05DQk1JRGd1TlNBMElFd2dOeTR3TVRjMU56Z3hJRFV1T1RVMU1EYzRNU0JNSURRdU56Z3hNalVnTXk0M01UZzNOU0JCSURBdU56VXdNRGMxSURBdU56VXdNRGMxSURBZ01DQXdJRFF1TWpReU1UZzNOU0F6TGpRNU1qRTROelVnZWlCTklERTFMamN6TkRNM05TQXpMalE1TWpFNE56VWdRU0F3TGpjMU1EQTNOU0F3TGpjMU1EQTNOU0F3SURBZ01DQXhOUzR5TVRnM05TQXpMamN4T0RjMUlFd2dNVEl1T1RnME16YzFJRFV1T1RVek1USTFJRXdnTVRFdU5TQTBJRXdnTVRFZ05DQk1JREV4SURnZ1F5QXhNU0E0TGpRNU9UazVPVElnTVRFdU5EazVPVGs1SURndU9UazVPVGs0T0NBeE1pQTVJRXdnTVRZZ09TQk1JREUySURndU5TQk1JREUwTGpBek5URTFOaUEzTGpBeU56TTBNemdnVENBeE5pNHlPREV5TlNBMExqYzRNVEkxSUVFZ01DNDNOVEF3TnpVZ01DNDNOVEF3TnpVZ01DQXdJREFnTVRVdU56TTBNemMxSURNdU5Ea3lNVGczTlNCNklFMGdOQ0F4TVNCTUlEUWdNVEV1TlNCTUlEVXVPVFkwT0RRek9DQXhNaTQ1TnpJMk5UWWdUQ0F6TGpjeE9EYzFJREUxTGpJeE9EYzFJRUVnTUM0M05URXpNREE1TmlBd0xqYzFNVE13TURrMklEQWdNU0F3SURRdU56Z3hNalVnTVRZdU1qZ3hNalVnVENBM0xqQXlOek0wTXpnZ01UUXVNRE0xTVRVMklFd2dPQzQxSURFMklFd2dPU0F4TmlCTUlEa2dNVElnUXlBNUlERXhMalV3TURBd01TQTRMalV3TURBd01TQXhNUzR3TURBd01ERWdPQ0F4TVNCTUlEUWdNVEVnZWlCTklERXlJREV4SUVNZ01URXVORGs1T1RrNUlERXhMakF3TURBd01TQXhNU0F4TVM0MU1EQXdNREVnTVRFZ01USWdUQ0F4TVNBeE5pQk1JREV4TGpVZ01UWWdUQ0F4TWk0NU56STJOVFlnTVRRdU1ETTFNVFUySUV3Z01UVXVNakU0TnpVZ01UWXVNamd4TWpVZ1FTQXdMamMxTVRNd01EazJJREF1TnpVeE16QXdPVFlnTUNBeElEQWdNVFl1TWpneE1qVWdNVFV1TWpFNE56VWdUQ0F4TkM0d016VXhOVFlnTVRJdU9UY3lOalUySUV3Z01UWWdNVEV1TlNCTUlERTJJREV4SUV3Z01USWdNVEVnZWlBaUNpQWdJQ0FnYVdROUluQmhkR2czSWlBdlBqd3ZjM1puUGc9PVxcXCIpO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtY29tcGFzcyA+IC5tYXBib3hnbC1jdHJsLWNvbXBhc3MtYXJyb3cge1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBtYXJnaW46IDVweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwlM0NzdmclMjB4bWxucyUzRCUyN2h0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyNyUyMHZpZXdCb3glM0QlMjcwJTIwMCUyMDIwJTIwMjAlMjclM0UlMEElMDklM0Nwb2x5Z29uJTIwZmlsbCUzRCUyNyUyMzMzMzMzMyUyNyUyMHBvaW50cyUzRCUyNzYlMkM5JTIwMTAlMkMxJTIwMTQlMkM5JTI3JTJGJTNFJTBBJTA5JTNDcG9seWdvbiUyMGZpbGwlM0QlMjclMjNDQ0NDQ0MlMjclMjBwb2ludHMlM0QlMjc2JTJDMTElMjAxMCUyQzE5JTIwMTQlMkMxMSUyMCUyNyUyRiUzRSUwQSUzQyUyRnN2ZyUzRVxcXCIpO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuXFxuYS5tYXBib3hnbC1jdHJsLWxvZ28ge1xcbiAgd2lkdGg6IDg1cHg7XFxuICBoZWlnaHQ6IDIxcHg7XFxuICBtYXJnaW46IDAgMCAtM3B4IC0zcHg7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejQ4YzNabklIWmxjbk5wYjI0OUlqRXVNU0lnYVdROUlreGhlV1Z5WHpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpSUhnOUlqQndlQ0lnZVQwaU1IQjRJaUFnSUhacFpYZENiM2c5SWpBZ01DQTROQzQwT1NBeU1TSWdjM1I1YkdVOUltVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a09tNWxkeUF3SURBZ09EUXVORGtnTWpFN0lpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajQ4Wno0Z0lEeHdZWFJvSUdOc1lYTnpQU0p6ZERBaUlITjBlV3hsUFNKdmNHRmphWFI1T2pBdU9Uc2dabWxzYkRvZ0kwWkdSa1pHUmpzZ1pXNWhZbXhsTFdKaFkydG5jbTkxYm1RNklHNWxkenNpSUdROUlrMDRNeTR5TlN3eE5DNHlObU13TERBdU1USXRNQzR3T1N3d0xqSXhMVEF1TWpFc01DNHlNV2d0TVM0Mk1XTXRNQzR4TXl3d0xUQXVNalF0TUM0d05pMHdMak10TUM0eE4yd3RNUzQwTkMweUxqTTViQzB4TGpRMExESXVNemtnSUNBZ1l5MHdMakEyTERBdU1URXRNQzR4T0N3d0xqRTNMVEF1TXl3d0xqRTNhQzB4TGpZeFl5MHdMakEwTERBdE1DNHdPQzB3TGpBeExUQXVNVEl0TUM0d00yTXRNQzR3T1Mwd0xqQTJMVEF1TVRNdE1DNHhPUzB3TGpBMkxUQXVNamhzTUN3d2JESXVORE10TXk0Mk9FdzNOaTR5TERZdU9EUWdJQ0FnWXkwd0xqQXlMVEF1TURNdE1DNHdNeTB3TGpBM0xUQXVNRE10TUM0eE1tTXdMVEF1TVRJc01DNHdPUzB3TGpJeExEQXVNakV0TUM0eU1XZ3hMall4WXpBdU1UTXNNQ3d3TGpJMExEQXVNRFlzTUM0ekxEQXVNVGRzTVM0ME1Td3lMak0yYkRFdU5DMHlMak0xSUNBZ0lHTXdMakEyTFRBdU1URXNNQzR4T0Mwd0xqRTNMREF1TXkwd0xqRTNTRGd6WXpBdU1EUXNNQ3d3TGpBNExEQXVNREVzTUM0eE1pd3dMakF6WXpBdU1Ea3NNQzR3Tml3d0xqRXpMREF1TVRrc01DNHdOaXd3TGpJNGJEQXNNR3d0TWk0ek55d3pMall6YkRJdU5ETXNNeTQyTnlBZ0lDQkRPRE11TWpRc01UUXVNVGdzT0RNdU1qVXNNVFF1TWpJc09ETXVNalVzTVRRdU1qWjZJaTgrSUNBOGNHRjBhQ0JqYkdGemN6MGljM1F3SWlCemRIbHNaVDBpYjNCaFkybDBlVG93TGprN0lHWnBiR3c2SUNOR1JrWkdSa1k3SUdWdVlXSnNaUzFpWVdOclozSnZkVzVrT2lCdVpYYzdJaUJrUFNKTk5qWXVNalFzT1M0MU9XTXRNQzR6T1MweExqZzRMVEV1T1RZdE15NHlPQzB6TGpnMExUTXVNamhqTFRFdU1ETXNNQzB5TGpBekxEQXVOREl0TWk0M015d3hMakU0VmpNdU5URmpNQzB3TGpFekxUQXVNUzB3TGpJekxUQXVNak10TUM0eU0yZ3RNUzQwSUNBZ0lHTXRNQzR4TXl3d0xUQXVNak1zTUM0eE1TMHdMakl6TERBdU1qTjJNVEF1TnpKak1Dd3dMakV6TERBdU1Td3dMakl6TERBdU1qTXNNQzR5TTJneExqUmpNQzR4TXl3d0xEQXVNak10TUM0eE1Td3dMakl6TFRBdU1qTldNVE11TldNd0xqY3hMREF1TnpVc01TNDNMREV1TVRnc01pNDNNeXd4TGpFNElDQWdJR014TGpnNExEQXNNeTQwTlMweExqUXhMRE11T0RRdE15NHlPVU0yTmk0ek55d3hNQzQzT1N3Mk5pNHpOeXd4TUM0eE9DdzJOaTR5TkN3NUxqVTVURFkyTGpJMExEa3VOVGw2SUUwMk1pNHdPQ3d4TTJNdE1TNHpNaXd3TFRJdU16a3RNUzR4TVMweUxqUXhMVEl1TkRoMkxUQXVNRFlnSUNBZ1l6QXVNREl0TVM0ek9Dd3hMakE1TFRJdU5EZ3NNaTQwTVMweUxqUTRjekl1TkRJc01TNHhNaXd5TGpReUxESXVOVEZUTmpNdU5ERXNNVE1zTmpJdU1EZ3NNVE42SWk4K0lDQThjR0YwYUNCamJHRnpjejBpYzNRd0lpQnpkSGxzWlQwaWIzQmhZMmwwZVRvd0xqazdJR1pwYkd3NklDTkdSa1pHUmtZN0lHVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a09pQnVaWGM3SWlCa1BTSk5OekV1Tmpjc05pNHpNbU10TVM0NU9DMHdMakF4TFRNdU56SXNNUzR6TlMwMExqRTJMRE11TWpsakxUQXVNVE1zTUM0MU9TMHdMakV6TERFdU1Ua3NNQ3d4TGpjM1l6QXVORFFzTVM0NU5Dd3lMakUzTERNdU16SXNOQzR4Tnl3ekxqTWdJQ0FnWXpJdU16VXNNQ3cwTGpJMkxURXVPRGNzTkM0eU5pMDBMakU1VXpjMExqQTBMRFl1TXpJc056RXVOamNzTmk0ek1ub2dUVGN4TGpZMUxERXpMakF4WXkweExqTXpMREF0TWk0ME1pMHhMakV5TFRJdU5ESXRNaTQxTVhNeExqQTRMVEl1TlRJc01pNDBNaTB5TGpVeUlDQWdJR014TGpNekxEQXNNaTQwTWl3eExqRXlMREl1TkRJc01pNDFNVk0zTWk0NU9Td3hNeXczTVM0Mk5Td3hNeTR3TVV3M01TNDJOU3d4TXk0d01Yb2lMejRnSUR4d1lYUm9JR05zWVhOelBTSnpkREVpSUhOMGVXeGxQU0p2Y0dGamFYUjVPakF1TXpVN0lHVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a09tNWxkenNpSUdROUlrMDJNaTR3T0N3M0xqazRZeTB4TGpNeUxEQXRNaTR6T1N3eExqRXhMVEl1TkRFc01pNDBPSFl3TGpBMlF6VTVMalk0TERFeExqa3NOakF1TnpVc01UTXNOakl1TURnc01UTnpNaTQwTWkweExqRXlMREl1TkRJdE1pNDFNU0FnSUNCVE5qTXVOREVzTnk0NU9DdzJNaTR3T0N3M0xqazRlaUJOTmpJdU1EZ3NNVEV1TnpaakxUQXVOak1zTUMweExqRTBMVEF1TlRZdE1TNHhOeTB4TGpJMWRpMHdMakEwWXpBdU1ERXRNQzQyT1N3d0xqVTBMVEV1TWpVc01TNHhOeTB4TGpJMUlDQWdJR013TGpZekxEQXNNUzR4Tnl3d0xqVTNMREV1TVRjc01TNHlOME0yTXk0eU5Dd3hNUzR5TERZeUxqY3pMREV4TGpjMkxEWXlMakE0TERFeExqYzJlaUl2UGlBZ1BIQmhkR2dnWTJ4aGMzTTlJbk4wTVNJZ2MzUjViR1U5SW05d1lXTnBkSGs2TUM0ek5Uc2daVzVoWW14bExXSmhZMnRuY205MWJtUTZibVYzT3lJZ1pEMGlUVGN4TGpZMUxEY3VPVGhqTFRFdU16TXNNQzB5TGpReUxERXVNVEl0TWk0ME1pd3lMalV4VXpjd0xqTXlMREV6TERjeExqWTFMREV6Y3pJdU5ESXRNUzR4TWl3eUxqUXlMVEl1TlRGVE56SXVPVGtzTnk0NU9DdzNNUzQyTlN3M0xqazRlaUFnSUNBZ1RUY3hMalkxTERFeExqYzJZeTB3TGpZMExEQXRNUzR4Tnkwd0xqVTNMVEV1TVRjdE1TNHlOMk13TFRBdU55d3dMalV6TFRFdU1qWXNNUzR4TnkweExqSTJjekV1TVRjc01DNDFOeXd4TGpFM0xERXVNamRETnpJdU9ESXNNVEV1TWpFc056SXVNamtzTVRFdU56WXNOekV1TmpVc01URXVOelo2SWlBZ0lDQXZQaUFnUEhCaGRHZ2dZMnhoYzNNOUluTjBNQ0lnYzNSNWJHVTlJbTl3WVdOcGRIazZNQzQ1T3lCbWFXeHNPaUFqUmtaR1JrWkdPeUJsYm1GaWJHVXRZbUZqYTJkeWIzVnVaRG9nYm1WM095SWdaRDBpVFRRMUxqYzBMRFl1TlROb0xURXVOR010TUM0eE15d3dMVEF1TWpNc01DNHhNUzB3TGpJekxEQXVNak4yTUM0M00yTXRNQzQzTVMwd0xqYzFMVEV1TnkweExqRTRMVEl1TnpNdE1TNHhPQ0FnSUNCakxUSXVNVGNzTUMwekxqazBMREV1T0RjdE15NDVOQ3cwTGpFNWN6RXVOemNzTkM0eE9Td3pMamswTERRdU1UbGpNUzR3TkN3d0xESXVNRE10TUM0ME15d3lMamN6TFRFdU1UbDJNQzQzTTJNd0xEQXVNVE1zTUM0eExEQXVNak1zTUM0eU15d3dMakl6YURFdU5DQWdJQ0JqTUM0eE15d3dMREF1TWpNdE1DNHhNU3d3TGpJekxUQXVNak5XTmk0M05HTXdMVEF1TVRJdE1DNHdPUzB3TGpJeUxUQXVNakl0TUM0eU1rTTBOUzQzTlN3MkxqVXpMRFExTGpjMUxEWXVOVE1zTkRVdU56UXNOaTQxTTNvZ1RUUTBMakV5TERFd0xqVXpJQ0FnSUVNME5DNHhNU3d4TVM0NUxEUXpMakF6TERFekxEUXhMamN4TERFemN5MHlMalF5TFRFdU1USXRNaTQwTWkweUxqVXhjekV1TURndE1pNDFNaXd5TGpRdE1pNDFNbU14TGpNekxEQXNNaTR6T1N3eExqRXhMREl1TkRFc01pNDBPRXcwTkM0eE1pd3hNQzQxTTNvaUx6NGdJRHh3WVhSb0lHTnNZWE56UFNKemRERWlJSE4wZVd4bFBTSnZjR0ZqYVhSNU9qQXVNelU3SUdWdVlXSnNaUzFpWVdOclozSnZkVzVrT201bGR6c2lJR1E5SWswME1TNDNNU3czTGprNFl5MHhMak16TERBdE1pNDBNaXd4TGpFeUxUSXVORElzTWk0MU1WTTBNQzR6Tnl3eE15dzBNUzQzTVN3eE0zTXlMak01TFRFdU1URXNNaTQwTVMweUxqUTRkaTB3TGpBMklDQWdJRU0wTkM0eExEa3VNRGtzTkRNdU1ETXNOeTQ1T0N3ME1TNDNNU3czTGprNGVpQk5OREF1TlRVc01UQXVORGxqTUMwd0xqY3NNQzQxTWkweExqSTNMREV1TVRjdE1TNHlOMk13TGpZMExEQXNNUzR4TkN3d0xqVTJMREV1TVRjc01TNHlOWFl3TGpBMElDQWdJR010TUM0d01Td3dMalk0TFRBdU5UTXNNUzR5TkMweExqRTNMREV1TWpSRE5ERXVNRGdzTVRFdU56VXNOREF1TlRVc01URXVNVGtzTkRBdU5UVXNNVEF1TkRsNklpOCtJQ0E4Y0dGMGFDQmpiR0Z6Y3owaWMzUXdJaUJ6ZEhsc1pUMGliM0JoWTJsMGVUb3dMams3SUdacGJHdzZJQ05HUmtaR1JrWTdJR1Z1WVdKc1pTMWlZV05yWjNKdmRXNWtPaUJ1WlhjN0lpQmtQU0pOTlRJdU5ERXNOaTR6TW1NdE1TNHdNeXd3TFRJdU1ETXNNQzQwTWkweUxqY3pMREV1TVRoV05pNDNOV013TFRBdU1UTXRNQzR4TFRBdU1qTXRNQzR5TXkwd0xqSXphQzB4TGpSakxUQXVNVE1zTUMwd0xqSXpMREF1TVRFdE1DNHlNeXd3TGpJeklDQWdJSFl4TUM0M01tTXdMREF1TVRNc01DNHhMREF1TWpNc01DNHlNeXd3TGpJemFERXVOR013TGpFekxEQXNNQzR5TXkwd0xqRXNNQzR5TXkwd0xqSXpWakV6TGpWak1DNDNNU3d3TGpjMUxERXVOeXd4TGpFNExESXVOelFzTVM0eE9HTXlMakUzTERBc015NDVOQzB4TGpnM0xETXVPVFF0TkM0eE9TQWdJQ0JUTlRRdU5UZ3NOaTR6TWl3MU1pNDBNU3cyTGpNeWVpQk5OVEl1TURnc01UTXVNREZqTFRFdU16SXNNQzB5TGpNNUxURXVNVEV0TWk0ME1pMHlMalE0ZGkwd0xqQTNZekF1TURJdE1TNHpPQ3d4TGpBNUxUSXVORGtzTWk0MExUSXVORGxqTVM0ek1pd3dMREl1TkRFc01TNHhNaXd5TGpReExESXVOVEVnSUNBZ1V6VXpMalFzTVRNc05USXVNRGdzTVRNdU1ERk1OVEl1TURnc01UTXVNREY2SWk4K0lDQThjR0YwYUNCamJHRnpjejBpYzNReElpQnpkSGxzWlQwaWIzQmhZMmwwZVRvd0xqTTFPeUJsYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHB1WlhjN0lpQmtQU0pOTlRJdU1EZ3NOeTQ1T0dNdE1TNHpNaXd3TFRJdU16a3NNUzR4TVMweUxqUXlMREl1TkRoMk1DNHdObU13TGpBekxERXVNemdzTVM0eExESXVORGdzTWk0ME1pd3lMalE0Y3pJdU5ERXRNUzR4TWl3eUxqUXhMVEl1TlRFZ0lDQWdVelV6TGpRc055NDVPQ3cxTWk0d09DdzNMams0ZWlCTk5USXVNRGdzTVRFdU56WmpMVEF1TmpNc01DMHhMakUwTFRBdU5UWXRNUzR4TnkweExqSTFkaTB3TGpBMFl6QXVNREV0TUM0Mk9Td3dMalUwTFRFdU1qVXNNUzR4TnkweExqSTFZekF1TmpNc01Dd3hMakUzTERBdU5UZ3NNUzR4Tnl3eExqSTNJQ0FnSUZNMU1pNDNNaXd4TVM0M05pdzFNaTR3T0N3eE1TNDNObm9pTHo0Z0lEeHdZWFJvSUdOc1lYTnpQU0p6ZERBaUlITjBlV3hsUFNKdmNHRmphWFI1T2pBdU9Uc2dabWxzYkRvZ0kwWkdSa1pHUmpzZ1pXNWhZbXhsTFdKaFkydG5jbTkxYm1RNklHNWxkenNpSUdROUlrMHpOaTR3T0N3eE5DNHlOR013TERBdU1UTXRNQzR4TERBdU1qTXRNQzR5TXl3d0xqSXphQzB4TGpReFl5MHdMakV6TERBdE1DNHlNeTB3TGpFeExUQXVNak10TUM0eU0xWTVMalk0WXpBdE1DNDVPQzB3TGpjMExURXVOekV0TVM0Mk1pMHhMamN4SUNBZ0lHTXRNQzQ0TERBdE1TNDBOaXd3TGpjdE1TNDFPU3d4TGpZeWJEQXVNREVzTkM0Mk5tTXdMREF1TVRNdE1DNHhNU3d3TGpJekxUQXVNak1zTUM0eU0yZ3RNUzQwTVdNdE1DNHhNeXd3TFRBdU1qTXRNQzR4TVMwd0xqSXpMVEF1TWpOV09TNDJPQ0FnSUNCak1DMHdMams0TFRBdU56UXRNUzQzTVMweExqWXlMVEV1TnpGakxUQXVPRFVzTUMweExqVTBMREF1TnprdE1TNDJMREV1T0hZMExqUTRZekFzTUM0eE15MHdMakVzTUM0eU15MHdMakl6TERBdU1qTm9MVEV1TkdNdE1DNHhNeXd3TFRBdU1qTXRNQzR4TVMwd0xqSXpMVEF1TWpOV05pNDNOQ0FnSUNCak1DNHdNUzB3TGpFekxEQXVNUzB3TGpJeUxEQXVNak10TUM0eU1tZ3hMalJqTUM0eE15d3dMREF1TWpJc01DNHhNU3d3TGpJekxEQXVNakpXTnk0MFl6QXVOUzB3TGpZNExERXVNeTB4TGpBNUxESXVNVFl0TVM0eGFEQXVNRE5qTVM0d09Td3dMREl1TURrc01DNDJMREl1Tml3eExqVTFJQ0FnSUdNd0xqUTFMVEF1T1RVc01TNDBMVEV1TlRVc01pNDBOQzB4TGpVMll6RXVOaklzTUN3eUxqa3pMREV1TWpVc01pNDVMREl1TnpoTU16WXVNRGdzTVRRdU1qUjZJaTgrSUNBOGNHRjBhQ0JqYkdGemN6MGljM1F4SWlCemRIbHNaVDBpYjNCaFkybDBlVG93TGpNMU95QmxibUZpYkdVdFltRmphMmR5YjNWdVpEcHVaWGM3SWlCa1BTSk5PRFF1TXpRc01UTXVOVGxzTFRBdU1EY3RNQzR4TTJ3dE1TNDVOaTB5TGprNWJERXVPVFF0TWk0NU5XTXdMalEwTFRBdU5qY3NNQzR5TmkweExqVTJMVEF1TkRFdE1pNHdNbU10TUM0d01pd3dMVEF1TURNc01DMHdMakEwTFRBdU1ERWdJQ0FnWXkwd0xqSXpMVEF1TVRVdE1DNDFMVEF1TWpJdE1DNDNPQzB3TGpJeWFDMHhMall4WXkwd0xqVTJMREF0TVM0d09Dd3dMakk1TFRFdU16Y3NNQzQzT0V3M09TNDNNaXcyTGpac0xUQXVNelF0TUM0MU5rTTNPUzR3T1N3MUxqVTJMRGM0TGpVM0xEVXVNamNzTnpnc05TNHlOMmd0TVM0MklDQWdJR010TUM0MkxEQXRNUzR4TXl3d0xqTTNMVEV1TXpVc01DNDVNbU10TWk0eE9TMHhMalkyTFRVdU1qZ3RNUzQwTnkwM0xqSTJMREF1TkRWakxUQXVNelVzTUM0ek5DMHdMalkxTERBdU56SXRNQzQ0T1N3eExqRTBZeTB3TGprdE1TNDJNaTB5TGpVNExUSXVOekl0TkM0MUxUSXVOeklnSUNBZ1l5MHdMalVzTUMweExqQXhMREF1TURjdE1TNDBPQ3d3TGpJelZqTXVOVEZqTUMwd0xqZ3lMVEF1TmpZdE1TNDBPQzB4TGpRM0xURXVORGhvTFRFdU5HTXRNQzQ0TVN3d0xURXVORGNzTUM0Mk5pMHhMalEzTERFdU5EZDJNeTQzTlNBZ0lDQmpMVEF1T1RVdE1TNHpOaTB5TGpVdE1pNHhPQzAwTGpFM0xUSXVNVGxqTFRBdU56UXNNQzB4TGpRMkxEQXVNVFl0TWk0eE1pd3dMalEzWXkwd0xqSTBMVEF1TVRjdE1DNDFOQzB3TGpJMkxUQXVPRFF0TUM0eU5tZ3RNUzQwWXkwd0xqUTFMREF0TUM0NE55d3dMakl4TFRFdU1UVXNNQzQxTmlBZ0lDQmpMVEF1TURJdE1DNHdNeTB3TGpBMExUQXVNRFV0TUM0d055MHdMakE0WXkwd0xqSTRMVEF1TXkwd0xqWTRMVEF1TkRjdE1TNHdPUzB3TGpRM2FDMHhMak01WXkwd0xqTXNNQzB3TGpZc01DNHdPUzB3TGpnMExEQXVNalpqTFRBdU5qY3RNQzR6TFRFdU16a3RNQzQwTmkweUxqRXlMVEF1TkRZZ0lDQWdZeTB4TGpnekxEQXRNeTQwTXl3eExUUXVNemNzTWk0MVl5MHdMakl0TUM0ME5pMHdMalE0TFRBdU9Ea3RNQzQ0TXkweExqSTFZeTB3TGpndE1DNDRNUzB4TGpnNUxURXVNalV0TXk0d01pMHhMakkxYUMwd0xqQXhZeTB3TGpnNUxEQXVNREV0TVM0M05Td3dMak16TFRJdU5EWXNNQzQ0T0NBZ0lDQmpMVEF1TnpRdE1DNDFOeTB4TGpZMExUQXVPRGd0TWk0MU55MHdMamc0U0RJNExqRmpMVEF1TWprc01DMHdMalU0TERBdU1ETXRNQzQ0Tml3d0xqRXhZeTB3TGpJNExEQXVNRFl0TUM0MU5pd3dMakUyTFRBdU9ESXNNQzR5T0dNdE1DNHlNUzB3TGpFeUxUQXVORFV0TUM0eE9DMHdMamN0TUM0eE9DQWdJQ0JvTFRFdU5HTXRNQzQ0TWl3d0xURXVORGNzTUM0Mk5pMHhMalEzTERFdU5EZDJOeTQxWXpBc01DNDRNaXd3TGpZMkxERXVORGNzTVM0ME55d3hMalEzYURFdU5HTXdMamd5TERBc01TNDBPQzB3TGpZMkxERXVORGd0TVM0ME9Hd3dMREJXT1M0M09TQWdJQ0JqTUM0d015MHdMak0yTERBdU1qTXRNQzQxT1N3d0xqTTJMVEF1TlRsak1DNHhPQ3d3TERBdU16Z3NNQzR4T0N3d0xqTTRMREF1TkRkMk5DNDFOMk13TERBdU9ESXNNQzQyTml3eExqUTNMREV1TkRjc01TNDBOMmd4TGpReFl6QXVPRElzTUN3eExqUTNMVEF1TmpZc01TNDBOeTB4TGpRM0lDQWdJR3d0TUM0d01TMDBMalUzWXpBdU1EWXRNQzR6TWl3d0xqSTFMVEF1TkRjc01DNHpOUzB3TGpRM1l6QXVNVGdzTUN3d0xqTTRMREF1TVRnc01DNHpPQ3d3TGpRM2RqUXVOVGRqTUN3d0xqZ3lMREF1TmpZc01TNDBOeXd4TGpRM0xERXVORGRvTVM0ME1TQWdJQ0JqTUM0NE1pd3dMREV1TkRjdE1DNDJOaXd4TGpRM0xURXVORGQyTFRBdU16aGpNQzQ1Tml3eExqSTVMREl1TkRZc01pNHdOaXcwTGpBMkxESXVNRFpqTUM0M05Dd3dMREV1TkRZdE1DNHhOaXd5TGpFeUxUQXVORGRqTUM0eU5Dd3dMakUzTERBdU5UUXNNQzR5Tml3d0xqZzBMREF1TWpab01TNHpPU0FnSUNCak1DNHpMREFzTUM0MkxUQXVNRGtzTUM0NE5DMHdMakkyZGpJdU1ERmpNQ3d3TGpneUxEQXVOallzTVM0ME55d3hMalEzTERFdU5EZG9NUzQwWXpBdU9ESXNNQ3d4TGpRM0xUQXVOallzTVM0ME55MHhMalEzZGkweExqYzNZekF1TkRnc01DNHhOU3d3TGprNUxEQXVNak1zTVM0ME9Td3dMakl5SUNBZ0lHTXhMamNzTUN3ekxqSXlMVEF1T0Rjc05DNHhOeTB5TGpKMk1DNDFNbU13TERBdU9ESXNNQzQyTml3eExqUTNMREV1TkRjc01TNDBOMmd4TGpSak1DNHpMREFzTUM0MkxUQXVNRGtzTUM0NE5DMHdMakkyWXpBdU5qWXNNQzR6TVN3eExqTTVMREF1TkRjc01pNHhNaXd3TGpRM0lDQWdJR014TGpreUxEQXNNeTQyTFRFdU1TdzBMalE1TFRJdU56TmpNUzQxTkN3eUxqWTFMRFF1T1RVc015NDFNeXczTGpVNExERXVPVGhqTUM0eE9DMHdMakV4TERBdU16WXRNQzR5TWl3d0xqVXpMVEF1TXpaak1DNHlNaXd3TGpVMUxEQXVOellzTUM0NU1Td3hMak0xTERBdU9VZzNPQ0FnSUNCak1DNDFOaXd3TERFdU1EZ3RNQzR5T1N3eExqTTNMVEF1Tnpoc01DNHpOeTB3TGpZeGJEQXVNemNzTUM0Mk1XTXdMakk1TERBdU5EZ3NNQzQ0TVN3d0xqYzRMREV1TXpnc01DNDNPR2d4TGpaak1DNDRNU3d3TERFdU5EWXRNQzQyTml3eExqUTFMVEV1TkRZZ0lDQWdRemcwTGpRNUxERTBMakF5TERnMExqUTBMREV6TGpnc09EUXVNelFzTVRNdU5UbE1PRFF1TXpRc01UTXVOVGw2SUUwek5TNDROaXd4TkM0ME4yZ3RNUzQwTVdNdE1DNHhNeXd3TFRBdU1qTXRNQzR4TVMwd0xqSXpMVEF1TWpOV09TNDJPQ0FnSUNCak1DMHdMams0TFRBdU56UXRNUzQzTVMweExqWXlMVEV1TnpGakxUQXVPQ3d3TFRFdU5EWXNNQzQzTFRFdU5Ua3NNUzQyTW13d0xqQXhMRFF1Tmpaak1Dd3dMakV6TFRBdU1Td3dMakl6TFRBdU1qTXNNQzR5TTJndE1TNDBNV010TUM0eE15d3dMVEF1TWpNdE1DNHhNUzB3TGpJekxUQXVNak1nSUNBZ1Zqa3VOamhqTUMwd0xqazRMVEF1TnpRdE1TNDNNUzB4TGpZeUxURXVOekZqTFRBdU9EVXNNQzB4TGpVMExEQXVOemt0TVM0MkxERXVPSFkwTGpRNFl6QXNNQzR4TXkwd0xqRXNNQzR5TXkwd0xqSXpMREF1TWpOb0xURXVOR010TUM0eE15d3dMVEF1TWpNdE1DNHhNUzB3TGpJekxUQXVNak1nSUNBZ1ZqWXVOelJqTUM0d01TMHdMakV6TERBdU1URXRNQzR5TWl3d0xqSXpMVEF1TWpKb01TNDBZekF1TVRNc01Dd3dMakl5TERBdU1URXNNQzR5TXl3d0xqSXlWamN1TkdNd0xqVXRNQzQyT0N3eExqTXRNUzR3T1N3eUxqRTJMVEV1TVdnd0xqQXpJQ0FnSUdNeExqQTVMREFzTWk0d09Td3dMallzTWk0MkxERXVOVFZqTUM0ME5TMHdMamsxTERFdU5DMHhMalUxTERJdU5EUXRNUzQxTm1NeExqWXlMREFzTWk0NU15d3hMakkxTERJdU9Td3lMamM0YkRBdU1ERXNOUzR4TmtNek5pNHdPU3d4TkM0ek5pd3pOUzQ1T0N3eE5DNDBOaXd6TlM0NE5pd3hOQzQwTnlBZ0lDQk1NelV1T0RZc01UUXVORGQ2SUUwME5TNDVOeXd4TkM0eU5HTXdMREF1TVRNdE1DNHhMREF1TWpNdE1DNHlNeXd3TGpJemFDMHhMalJqTFRBdU1UTXNNQzB3TGpJekxUQXVNVEV0TUM0eU15MHdMakl6VmpFekxqVmpMVEF1Tnl3d0xqYzJMVEV1Tmprc01TNHhPQzB5TGpjeUxERXVNVGdnSUNBZ1l5MHlMakUzTERBdE15NDVOQzB4TGpnM0xUTXVPVFF0TkM0eE9YTXhMamMzTFRRdU1Ua3NNeTQ1TkMwMExqRTVZekV1TURNc01Dd3lMakF5TERBdU5ETXNNaTQzTXl3eExqRTRWall1TnpSak1DMHdMakV6TERBdU1TMHdMakl6TERBdU1qTXRNQzR5TTJneExqUWdJQ0FnWXpBdU1USXRNQzR3TVN3d0xqSXlMREF1TURnc01DNHlNeXd3TGpJeFl6QXNNQzR3TVN3d0xEQXVNREVzTUN3d0xqQXlkamN1TlRGb0xUQXVNREZXTVRRdU1qUjZJRTAxTWk0ME1Td3hOQzQyTjJNdE1TNHdNeXd3TFRJdU1ESXRNQzQwTXkweUxqY3pMVEV1TVRoMk15NDVOeUFnSUNCak1Dd3dMakV6TFRBdU1Td3dMakl6TFRBdU1qTXNNQzR5TTJndE1TNDBZeTB3TGpFekxEQXRNQzR5TXkwd0xqRXRNQzR5TXkwd0xqSXpWall1TnpWak1DMHdMakV6TERBdU1TMHdMakl5TERBdU1qTXRNQzR5TW1neExqUmpNQzR4TXl3d0xEQXVNak1zTUM0eE1Td3dMakl6TERBdU1qTjJNQzQzTXlBZ0lDQmpNQzQzTVMwd0xqYzJMREV1TnkweExqRTRMREl1TnpNdE1TNHhPR015TGpFM0xEQXNNeTQ1TkN3eExqZzJMRE11T1RRc05DNHhPRk0xTkM0MU9Dd3hOQzQyTnl3MU1pNDBNU3d4TkM0Mk4zb2dUVFkyTGpJMExERXhMak01WXkwd0xqTTVMREV1T0RjdE1TNDVOaXd6TGpJNUxUTXVPRFFzTXk0eU9TQWdJQ0JqTFRFdU1ETXNNQzB5TGpBeUxUQXVORE10TWk0M015MHhMakU0ZGpBdU56TmpNQ3d3TGpFekxUQXVNU3d3TGpJekxUQXVNak1zTUM0eU0yZ3RNUzQwWXkwd0xqRXpMREF0TUM0eU15MHdMakV4TFRBdU1qTXRNQzR5TTFZekxqVXhZekF0TUM0eE15d3dMakV0TUM0eU15d3dMakl6TFRBdU1qTWdJQ0FnYURFdU5HTXdMakV6TERBc01DNHlNeXd3TGpFeExEQXVNak1zTUM0eU0zWXpMamszWXpBdU56RXRNQzQzTlN3eExqY3RNUzR4T0N3eUxqY3pMVEV1TVRkak1TNDRPQ3d3TERNdU5EVXNNUzQwTERNdU9EUXNNeTR5T0VNMk5pNHpOeXd4TUM0eE9TdzJOaTR6Tnl3eE1DNDRMRFkyTGpJMExERXhMak01SUNBZ0lFdzJOaTR5TkN3eE1TNHpPVXcyTmk0eU5Dd3hNUzR6T1hvZ1RUY3hMalkzTERFMExqWTRZeTB5TERBdU1ERXRNeTQzTXkweExqTTFMVFF1TVRjdE15NHpZeTB3TGpFekxUQXVOVGt0TUM0eE15MHhMakU1TERBdE1TNDNOMk13TGpRMExURXVPVFFzTWk0eE55MHpMak14TERRdU1UY3RNeTR6SUNBZ0lHTXlMak0yTERBc05DNHlOaXd4TGpnM0xEUXVNallzTkM0eE9WTTNOQzR3TXl3eE5DNDJPQ3czTVM0Mk55d3hOQzQyT0V3M01TNDJOeXd4TkM0Mk9Ib2dUVGd6TGpBMExERTBMalEzYUMweExqWXhZeTB3TGpFekxEQXRNQzR5TkMwd0xqQTJMVEF1TXkwd0xqRTNiQzB4TGpRMExUSXVNemtnSUNBZ2JDMHhMalEwTERJdU16bGpMVEF1TURZc01DNHhNUzB3TGpFNExEQXVNVGN0TUM0ekxEQXVNVGRvTFRFdU5qRmpMVEF1TURRc01DMHdMakE0TFRBdU1ERXRNQzR4TWkwd0xqQXpZeTB3TGpBNUxUQXVNRFl0TUM0eE15MHdMakU1TFRBdU1EWXRNQzR5T0d3d0xEQnNNaTQwTXkwekxqWTRJQ0FnSUV3M05pNHlMRFl1T0RSakxUQXVNREl0TUM0d015MHdMakF6TFRBdU1EY3RNQzR3TXkwd0xqRXlZekF0TUM0eE1pd3dMakE1TFRBdU1qRXNNQzR5TVMwd0xqSXhhREV1TmpGak1DNHhNeXd3TERBdU1qUXNNQzR3Tml3d0xqTXNNQzR4TjJ3eExqUXhMREl1TXpac01TNDBNUzB5TGpNMklDQWdJR013TGpBMkxUQXVNVEVzTUM0eE9DMHdMakUzTERBdU15MHdMakUzYURFdU5qRmpNQzR3TkN3d0xEQXVNRGdzTUM0d01Td3dMakV5TERBdU1ETmpNQzR3T1N3d0xqQTJMREF1TVRNc01DNHhPU3d3TGpBMkxEQXVNamhzTUN3d2JDMHlMak00TERNdU5qUnNNaTQwTXl3ekxqWTNJQ0FnSUdNd0xqQXlMREF1TURNc01DNHdNeXd3TGpBM0xEQXVNRE1zTUM0eE1rTTRNeTR5TlN3eE5DNHpPQ3c0TXk0eE5pd3hOQzQwTnl3NE15NHdOQ3d4TkM0ME4wdzRNeTR3TkN3eE5DNDBOMHc0TXk0d05Dd3hOQzQwTjNvaUx6NGdJRHh3WVhSb0lHTnNZWE56UFNKemREQWlJSE4wZVd4bFBTSnZjR0ZqYVhSNU9qQXVPVHNnWm1sc2JEb2dJMFpHUmtaR1Jqc2daVzVoWW14bExXSmhZMnRuY205MWJtUTZJRzVsZHpzaUlHUTlJazB4TUM0MUxERXVNalJqTFRVdU1URXNNQzA1TGpJMUxEUXVNVFV0T1M0eU5TdzVMakkxY3pRdU1UVXNPUzR5TlN3NUxqSTFMRGt1TWpWek9TNHlOUzAwTGpFMUxEa3VNalV0T1M0eU5TQWdJQ0JETVRrdU56VXNOUzR6T0N3eE5TNDJNU3d4TGpJMExERXdMalVzTVM0eU5Ib2dUVEUwTGpnNUxERXlMamMzWXkweExqa3pMREV1T1RNdE5DNDNPQ3d5TGpNeExUWXVOeXd5TGpNeFl5MHdMamNzTUMweExqUXhMVEF1TURVdE1pNHhMVEF1TVRaak1Dd3dMVEV1TURJdE5TNDJOQ3d5TGpFMExUZ3VPREVnSUNBZ1l6QXVPRE10TUM0NE15d3hMamsxTFRFdU1qZ3NNeTR4TXkweExqSTRZekV1TWpjc01Dd3lMalE1TERBdU5URXNNeTR6T1N3eExqUXlRekUyTGpVNUxEZ3VNRGtzTVRZdU5qUXNNVEVzTVRRdU9Ea3NNVEl1TnpkNklpOCtJQ0E4Y0dGMGFDQmpiR0Z6Y3owaWMzUXhJaUJ6ZEhsc1pUMGliM0JoWTJsMGVUb3dMak0xT3lCbGJtRmliR1V0WW1GamEyZHliM1Z1WkRwdVpYYzdJaUJrUFNKTk1UQXVOUzB3TGpBeFF6UXVOeTB3TGpBeExEQXNOQzQzTERBc01UQXVORGx6TkM0M0xERXdMalVzTVRBdU5Td3hNQzQxVXpJeExERTJMakk1TERJeExERXdMalE1UXpJd0xqazVMRFF1Tnl3eE5pNHpMVEF1TURFc01UQXVOUzB3TGpBeGVpQWdJQ0FnVFRFd0xqVXNNVGt1TnpSakxUVXVNVEVzTUMwNUxqSTFMVFF1TVRVdE9TNHlOUzA1TGpJMWN6UXVNVFF0T1M0eU5pdzVMakkxTFRrdU1qWnpPUzR5TlN3MExqRTFMRGt1TWpVc09TNHlOVU14T1M0M05Td3hOUzQyTVN3eE5TNDJNU3d4T1M0M05Dd3hNQzQxTERFNUxqYzBlaUl2UGlBZ1BIQmhkR2dnWTJ4aGMzTTlJbk4wTVNJZ2MzUjViR1U5SW05d1lXTnBkSGs2TUM0ek5Uc2daVzVoWW14bExXSmhZMnRuY205MWJtUTZibVYzT3lJZ1pEMGlUVEUwTGpjMExEWXVNalZETVRJdU9TdzBMalF4TERrdU9UZ3NOQzR6TlN3NExqSXpMRFl1TVdNdE15NHhOaXd6TGpFM0xUSXVNVFFzT0M0NE1TMHlMakUwTERndU9ERnpOUzQyTkN3eExqQXlMRGd1T0RFdE1pNHhOQ0FnSUNCRE1UWXVOalFzTVRFc01UWXVOVGtzT0M0d09Td3hOQzQzTkN3MkxqSTFlaUJOTVRJdU5EY3NNVEF1TXpSc0xUQXVPVEVzTVM0NE4yd3RNQzQ1TFRFdU9EZE1PQzQ0TERrdU5ETnNNUzQ0Tmkwd0xqbHNNQzQ1TFRFdU9EZHNNQzQ1TVN3eExqZzNiREV1T0RZc01DNDVUREV5TGpRM0xERXdMak0wZWlJZ0lDQWdMejRnSUR4d2IyeDVaMjl1SUdOc1lYTnpQU0p6ZERBaUlITjBlV3hsUFNKdmNHRmphWFI1T2pBdU9Uc2dabWxzYkRvZ0kwWkdSa1pHUmpzZ1pXNWhZbXhsTFdKaFkydG5jbTkxYm1RNklHNWxkenNpSUhCdmFXNTBjejBpTVRRdU16TXNPUzQwTXlBeE1pNDBOeXd4TUM0ek5DQXhNUzQxTml3eE1pNHlNU0F4TUM0Mk5pd3hNQzR6TkNBNExqZ3NPUzQwTXlBeE1DNDJOaXc0TGpVeklERXhMalUyTERZdU5qWWdNVEl1TkRjc09DNDFNeUFnSUNJdlBqd3ZaejQ4TDNOMlp6ND0pO1xcbn1cXG5cXG4ubWFwYm94Z2wtY3RybC5tYXBib3hnbC1jdHJsLWF0dHJpYiB7XFxuICBwYWRkaW5nOiAwIDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjUpO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdCB7XFxuICBwYWRkaW5nLXRvcDogMnB4O1xcbiAgcGFkZGluZy1ib3R0b206IDJweDtcXG4gIG1hcmdpbjogMCAxMHB4IDEwcHggMTBweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHBhZGRpbmctcmlnaHQ6IDI0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4IDEycHggMTJweCAzcHg7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufVxcbi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmhvdmVyIHtcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxufVxcbi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHZpZXdCb3glM0QlMjcwJTIwMCUyMDIwJTIwMjAlMjclMjB4bWxucyUzRCUyN2h0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyNyUzRSUwRCUwQSUwOSUzQ3BhdGglMjBmaWxsJTNEJTI3JTIzMzMzMzMzJTI3JTIwZmlsbC1ydWxlJTNEJTI3ZXZlbm9kZCUyNyUyMGQlM0QlMjdNNCUyQzEwYTYlMkM2JTIwMCUyMDElMkMwJTIwMTIlMkMwYTYlMkM2JTIwMCUyMDElMkMwJTIwLTEyJTJDMCUyME05JTJDN2ExJTJDMSUyMDAlMjAxJTJDMCUyMDIlMkMwYTElMkMxJTIwMCUyMDElMkMwJTIwLTIlMkMwJTIwTTklMkMxMGExJTJDMSUyMDAlMjAxJTJDMSUyMDIlMkMwbDAlMkMzYTElMkMxJTIwMCUyMDElMkMxJTIwLTIlMkMwJTI3JTIwJTJGJTNFJTBEJTBBJTNDJTJGc3ZnJTNFXFxcIik7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC41KTtcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xcbn1cXG4ubWFwYm94Z2wtY3RybC1hdHRyaWIgYSB7XFxuICBjb2xvcjogcmdiYSgwLDAsMCwwLjc1KTtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuLm1hcGJveGdsLWN0cmwtYXR0cmliIGE6aG92ZXIge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG59XFxuLyogc3R5bGVsaW50LWRpc2FibGUgKi9cXG4ubWFwYm94Z2wtY3RybC1hdHRyaWIgLm1hcGJveC1pbXByb3ZlLW1hcCB7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIG1hcmdpbi1sZWZ0OiAycHg7XFxufVxcbi8qc3R5bGVsaW50LWVuYWJsZSovXFxuLm1hcGJveGdsLWN0cmwtc2NhbGUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjc1KTtcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIGJvcmRlci13aWR0aDogbWVkaXVtIDJweCAycHg7XFxuICBib3JkZXItc3R5bGU6IG5vbmUgc29saWQgc29saWQ7XFxuICBib3JkZXItY29sb3I6ICMzMzM7XFxuICBwYWRkaW5nOiAwIDVweDtcXG4gIGNvbG9yOiAjMzMzO1xcbn1cXG5cXG4ubWFwYm94Z2wtcG9wdXAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLFxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLWxlZnQsXFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtcmlnaHQge1xcbiAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20sXFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCxcXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1yaWdodCB7XFxuICAtd2Via2l0LWZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1sZWZ0IHtcXG4gIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItcmlnaHQge1xcbiAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XFxufVxcbi5tYXBib3hnbC1wb3B1cC10aXAge1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDA7XFxuICBib3JkZXI6IDEwcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICB6LWluZGV4OiAxO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcCAubWFwYm94Z2wtcG9wdXAtdGlwIHtcXG4gIC13ZWJraXQtYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgYm9yZGVyLXRvcDogbm9uZTtcXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZmY7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLWxlZnQgLm1hcGJveGdsLXBvcHVwLXRpcCB7XFxuICAtd2Via2l0LWFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XFxuICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xcbiAgYm9yZGVyLXRvcDogbm9uZTtcXG4gIGJvcmRlci1sZWZ0OiBub25lO1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2ZmZjtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcCB7XFxuICAtd2Via2l0LWFsaWduLXNlbGY6IGZsZXgtZW5kO1xcbiAgYWxpZ24tc2VsZjogZmxleC1lbmQ7XFxuICBib3JkZXItdG9wOiBub25lO1xcbiAgYm9yZGVyLXJpZ2h0OiBub25lO1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2ZmZjtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20gLm1hcGJveGdsLXBvcHVwLXRpcCB7XFxuICAtd2Via2l0LWFsaWduLXNlbGY6IGNlbnRlcjtcXG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gIGJvcmRlci1ib3R0b206IG5vbmU7XFxuICBib3JkZXItdG9wLWNvbG9yOiAjZmZmO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1wb3B1cC10aXAge1xcbiAgLXdlYmtpdC1hbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xcbiAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcXG4gIGJvcmRlci1ib3R0b206IG5vbmU7XFxuICBib3JkZXItbGVmdDogbm9uZTtcXG4gIGJvcmRlci10b3AtY29sb3I6ICNmZmY7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC10aXAge1xcbiAgLXdlYmtpdC1hbGlnbi1zZWxmOiBmbGV4LWVuZDtcXG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcXG4gIGJvcmRlci1yaWdodDogbm9uZTtcXG4gIGJvcmRlci10b3AtY29sb3I6ICNmZmY7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwIHtcXG4gIC13ZWJraXQtYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgYm9yZGVyLWxlZnQ6IG5vbmU7XFxuICBib3JkZXItcmlnaHQtY29sb3I6ICNmZmY7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcCB7XFxuICAtd2Via2l0LWFsaWduLXNlbGY6IGNlbnRlcjtcXG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gIGJvcmRlci1yaWdodDogbm9uZTtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiAjZmZmO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiAwO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMCAzcHggMCAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwKTtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuMDUpO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtY29udGVudCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4xMCk7XFxuICBwYWRkaW5nOiAxMHB4IDEwcHggMTVweDtcXG4gIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50IHtcXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50IHtcXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50IHtcXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50IHtcXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xcbn1cXG5cXG4ubWFwYm94Z2wtbWFya2VyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xcbn1cXG5cXG4ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFEQTFGMjtcXG4gIHdpZHRoOiAxNnB4O1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgYm94LXNoYWRvdzogMCAwIDJweCByZ2JhKDAsMCwwLDAuMjUpO1xcbiAgYm9yZGVyOiAycHggc29saWQgI2ZmZjtcXG59XFxuLm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBib3gtc2hhZG93OiAjMURBMUYyIDAgMCAwIDJweDtcXG4gIHdpZHRoOiAxNnB4O1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogLTE7XFxuXFxuICAtd2Via2l0LWFuaW1hdGlvbjogbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QtcHVsc2UgMnM7XFxuICAtbW96LWFuaW1hdGlvbjogbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QtcHVsc2UgMnM7XFxuICAtbXMtYW5pbWF0aW9uOiBtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1wdWxzZSAycztcXG4gIGFuaW1hdGlvbjogbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QtcHVsc2UgMnM7XFxuXFxuICAtd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xcbiAgLW1vei1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcXG4gIC1tcy1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcXG4gIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xcbn1cXG5ALXdlYmtpdC1rZXlmcmFtZXMgbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QtcHVsc2Uge1xcbiAgMCUgICB7ICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMjksIDE2MSwgMjQyLCAwLjgpOyB9XFxuICA3MCUgIHsgICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMCAwIDE1cHggcmdiYSgyOSwgMTYxLCAyNDIsIDApOyB9XFxuICAyNDIlIHsgICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMCAwIDAgcmdiYSgyOSwgMTYxLCAyNDIsIDApOyB9XFxufVxcbkAtbXMta2V5ZnJhbWVzIG1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXB1bHNlIHtcXG4gIDAlICAgeyAgIC1tcy1ib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMjksIDE2MSwgMjQyLCAwLjgpOyB9XFxuICA3MCUgIHsgICAtbXMtYm94LXNoYWRvdzogMCAwIDAgMTVweCByZ2JhKDI5LCAxNjEsIDI0MiwgMCk7IH1cXG4gIDI0MiUgeyAgIC1tcy1ib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMjksIDE2MSwgMjQyLCAwKTsgfVxcbn1cXG5Aa2V5ZnJhbWVzIG1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXB1bHNlIHtcXG4gIDAlIHtcXG4gICAgICAtbW96LWJveC1zaGFkb3c6IDAgMCAwIDAgcmdiYSgyOSwgMTYxLCAyNDIsIDAuOCk7XFxuICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMjksIDE2MSwgMjQyLCAwLjQpO1xcbiAgfVxcbiAgNzAlIHtcXG4gICAgICAtbW96LWJveC1zaGFkb3c6IDAgMCAwIDE1cHggcmdiYSgyOSwgMTYxLCAyNDIsIDApO1xcbiAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgMTVweCByZ2JhKDI5LCAxNjEsIDI0MiwgMCk7XFxuICB9XFxuICAxMDAlIHtcXG4gICAgICAtbW96LWJveC1zaGFkb3c6IDAgMCAwIDAgcmdiYSgyOSwgMTYxLCAyNDIsIDApO1xcbiAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgMCByZ2JhKDI5LCAxNjEsIDI0MiwgMCk7XFxuICB9XFxufVxcbi5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhO1xcbn1cXG4ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGU6YWZ0ZXIge1xcbiAgZGlzcGxheTogbm9uZVxcbn1cXG5cXG4ubWFwYm94Z2wtY3Jvc3NoYWlyLFxcbi5tYXBib3hnbC1jcm9zc2hhaXIgLm1hcGJveGdsLWludGVyYWN0aXZlLFxcbi5tYXBib3hnbC1jcm9zc2hhaXIgLm1hcGJveGdsLWludGVyYWN0aXZlOmFjdGl2ZSB7XFxuICBjdXJzb3I6IGNyb3NzaGFpcjtcXG59XFxuLm1hcGJveGdsLWJveHpvb20ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGJvcmRlcjogMnB4IGRvdHRlZCAjMjAyMDIwO1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG5AbWVkaWEgcHJpbnQge1xcbi8qIHN0eWxlbGludC1kaXNhYmxlICovXFxuICAubWFwYm94LWltcHJvdmUtbWFwIHtcXG4gICAgICBkaXNwbGF5Om5vbmU7XFxuICB9XFxuLyogc3R5bGVsaW50LWVuYWJsZSAqL1xcbn1cXG5cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n')},
/*!********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/map-events.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.events = {\n    onResize: 'resize',\n    onDblClick: 'dblclick',\n    onClick: 'click',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMoveStart: 'movestart',\n    onMove: 'move',\n    onMoveEnd: 'moveend',\n    onMouseUp: 'mouseup',\n    onMouseDown: 'mousedown',\n    onDragStart: 'dragstart',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onZoomStart: 'zoomstart',\n    onZoom: 'zoom',\n    onZoomEnd: 'zoomend',\n    onPitch: 'pitch',\n    onPitchStart: 'pitchstart',\n    onPitchEnd: 'pitchend',\n    onWebGlContextLost: 'webglcontextlost',\n    onWebGlContextRestored: 'webglcontextrestored',\n    onRemove: 'remove',\n    onContextMenu: 'contextmenu',\n    onRender: 'render',\n    onError: 'error',\n    onSourceData: 'sourcedata',\n    onDataLoading: 'dataloading',\n    onStyleDataLoading: 'styledataloading',\n    onTouchCancel: 'touchcancel',\n    onData: 'data',\n    onSourceDataLoading: 'sourcedataloading',\n    onTouchMove: 'touchmove',\n    onTouchEnd: 'touchend',\n    onTouchStart: 'touchstart',\n    onStyleData: 'styledata',\n    onBoxZoomStart: 'boxzoomstart',\n    onBoxZoomEnd: 'boxzoomend',\n    onBoxZoomCancel: 'boxzoomcancel',\n    onRotateStart: 'rotatestart',\n    onRotate: 'rotate',\n    onRotateEnd: 'rotateend'\n};\nexports.listenEvents = function (partialEvents, props, map) {\n    return Object.keys(partialEvents).reduce(function (listeners, event) {\n        var propEvent = props[event];\n        if (propEvent) {\n            var listener = function (evt) {\n                propEvent(map, evt);\n            };\n            map.on(partialEvents[event], listener);\n            listeners[event] = listener;\n        }\n        return listeners;\n    }, {});\n};\nexports.updateEvents = function (listeners, nextProps, map) {\n    var toListenOff = Object.keys(exports.events).filter(function (eventKey) { return listeners[eventKey] && typeof nextProps[eventKey] !== 'function'; });\n    toListenOff.forEach(function (key) {\n        map.off(exports.events[key], listeners[key]);\n        delete listeners[key];\n    });\n    var toListenOn = Object.keys(exports.events)\n        .filter(function (key) { return !listeners[key] && typeof nextProps[key] === 'function'; })\n        .reduce(function (acc, next) { return ((acc[next] = exports.events[next]), acc); }, {});\n    var newListeners = exports.listenEvents(toListenOn, nextProps, map);\n    return __assign({}, listeners, newListeners);\n};\n//# sourceMappingURL=map-events.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9tYXAtZXZlbnRzLmpzPzdiNjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXZlbnRzID0ge1xuICAgIG9uUmVzaXplOiAncmVzaXplJyxcbiAgICBvbkRibENsaWNrOiAnZGJsY2xpY2snLFxuICAgIG9uQ2xpY2s6ICdjbGljaycsXG4gICAgb25Nb3VzZU1vdmU6ICdtb3VzZW1vdmUnLFxuICAgIG9uTW91c2VPdXQ6ICdtb3VzZW91dCcsXG4gICAgb25Nb3ZlU3RhcnQ6ICdtb3Zlc3RhcnQnLFxuICAgIG9uTW92ZTogJ21vdmUnLFxuICAgIG9uTW92ZUVuZDogJ21vdmVlbmQnLFxuICAgIG9uTW91c2VVcDogJ21vdXNldXAnLFxuICAgIG9uTW91c2VEb3duOiAnbW91c2Vkb3duJyxcbiAgICBvbkRyYWdTdGFydDogJ2RyYWdzdGFydCcsXG4gICAgb25EcmFnOiAnZHJhZycsXG4gICAgb25EcmFnRW5kOiAnZHJhZ2VuZCcsXG4gICAgb25ab29tU3RhcnQ6ICd6b29tc3RhcnQnLFxuICAgIG9uWm9vbTogJ3pvb20nLFxuICAgIG9uWm9vbUVuZDogJ3pvb21lbmQnLFxuICAgIG9uUGl0Y2g6ICdwaXRjaCcsXG4gICAgb25QaXRjaFN0YXJ0OiAncGl0Y2hzdGFydCcsXG4gICAgb25QaXRjaEVuZDogJ3BpdGNoZW5kJyxcbiAgICBvbldlYkdsQ29udGV4dExvc3Q6ICd3ZWJnbGNvbnRleHRsb3N0JyxcbiAgICBvbldlYkdsQ29udGV4dFJlc3RvcmVkOiAnd2ViZ2xjb250ZXh0cmVzdG9yZWQnLFxuICAgIG9uUmVtb3ZlOiAncmVtb3ZlJyxcbiAgICBvbkNvbnRleHRNZW51OiAnY29udGV4dG1lbnUnLFxuICAgIG9uUmVuZGVyOiAncmVuZGVyJyxcbiAgICBvbkVycm9yOiAnZXJyb3InLFxuICAgIG9uU291cmNlRGF0YTogJ3NvdXJjZWRhdGEnLFxuICAgIG9uRGF0YUxvYWRpbmc6ICdkYXRhbG9hZGluZycsXG4gICAgb25TdHlsZURhdGFMb2FkaW5nOiAnc3R5bGVkYXRhbG9hZGluZycsXG4gICAgb25Ub3VjaENhbmNlbDogJ3RvdWNoY2FuY2VsJyxcbiAgICBvbkRhdGE6ICdkYXRhJyxcbiAgICBvblNvdXJjZURhdGFMb2FkaW5nOiAnc291cmNlZGF0YWxvYWRpbmcnLFxuICAgIG9uVG91Y2hNb3ZlOiAndG91Y2htb3ZlJyxcbiAgICBvblRvdWNoRW5kOiAndG91Y2hlbmQnLFxuICAgIG9uVG91Y2hTdGFydDogJ3RvdWNoc3RhcnQnLFxuICAgIG9uU3R5bGVEYXRhOiAnc3R5bGVkYXRhJyxcbiAgICBvbkJveFpvb21TdGFydDogJ2JveHpvb21zdGFydCcsXG4gICAgb25Cb3hab29tRW5kOiAnYm94em9vbWVuZCcsXG4gICAgb25Cb3hab29tQ2FuY2VsOiAnYm94em9vbWNhbmNlbCcsXG4gICAgb25Sb3RhdGVTdGFydDogJ3JvdGF0ZXN0YXJ0JyxcbiAgICBvblJvdGF0ZTogJ3JvdGF0ZScsXG4gICAgb25Sb3RhdGVFbmQ6ICdyb3RhdGVlbmQnXG59O1xuZXhwb3J0cy5saXN0ZW5FdmVudHMgPSBmdW5jdGlvbiAocGFydGlhbEV2ZW50cywgcHJvcHMsIG1hcCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhwYXJ0aWFsRXZlbnRzKS5yZWR1Y2UoZnVuY3Rpb24gKGxpc3RlbmVycywgZXZlbnQpIHtcbiAgICAgICAgdmFyIHByb3BFdmVudCA9IHByb3BzW2V2ZW50XTtcbiAgICAgICAgaWYgKHByb3BFdmVudCkge1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIHByb3BFdmVudChtYXAsIGV2dCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbWFwLm9uKHBhcnRpYWxFdmVudHNbZXZlbnRdLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICBsaXN0ZW5lcnNbZXZlbnRdID0gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9LCB7fSk7XG59O1xuZXhwb3J0cy51cGRhdGVFdmVudHMgPSBmdW5jdGlvbiAobGlzdGVuZXJzLCBuZXh0UHJvcHMsIG1hcCkge1xuICAgIHZhciB0b0xpc3Rlbk9mZiA9IE9iamVjdC5rZXlzKGV4cG9ydHMuZXZlbnRzKS5maWx0ZXIoZnVuY3Rpb24gKGV2ZW50S2V5KSB7IHJldHVybiBsaXN0ZW5lcnNbZXZlbnRLZXldICYmIHR5cGVvZiBuZXh0UHJvcHNbZXZlbnRLZXldICE9PSAnZnVuY3Rpb24nOyB9KTtcbiAgICB0b0xpc3Rlbk9mZi5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgbWFwLm9mZihleHBvcnRzLmV2ZW50c1trZXldLCBsaXN0ZW5lcnNba2V5XSk7XG4gICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNba2V5XTtcbiAgICB9KTtcbiAgICB2YXIgdG9MaXN0ZW5PbiA9IE9iamVjdC5rZXlzKGV4cG9ydHMuZXZlbnRzKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICFsaXN0ZW5lcnNba2V5XSAmJiB0eXBlb2YgbmV4dFByb3BzW2tleV0gPT09ICdmdW5jdGlvbic7IH0pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbmV4dCkgeyByZXR1cm4gKChhY2NbbmV4dF0gPSBleHBvcnRzLmV2ZW50c1tuZXh0XSksIGFjYyk7IH0sIHt9KTtcbiAgICB2YXIgbmV3TGlzdGVuZXJzID0gZXhwb3J0cy5saXN0ZW5FdmVudHModG9MaXN0ZW5PbiwgbmV4dFByb3BzLCBtYXApO1xuICAgIHJldHVybiBfX2Fzc2lnbih7fSwgbGlzdGVuZXJzLCBuZXdMaXN0ZW5lcnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC1ldmVudHMuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n")},
/*!*********************************************!*\
  !*** ./node_modules/deep-equal/lib/keys.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports){eval("exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVlcC1lcXVhbC9saWIva2V5cy5qcz8zMjYwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJ1xuICA/IE9iamVjdC5rZXlzIDogc2hpbTtcblxuZXhwb3J0cy5zaGltID0gc2hpbTtcbmZ1bmN0aW9uIHNoaW0gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgcmV0dXJuIGtleXM7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///26\n")},
/*!*****************************************************!*\
  !*** ./node_modules/deep-equal/lib/is_arguments.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports){eval("var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVlcC1lcXVhbC9saWIvaXNfYXJndW1lbnRzLmpzPzk5N2QiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPSAoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHMpXG59KSgpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBzdXBwb3J0c0FyZ3VtZW50c0NsYXNzID8gc3VwcG9ydGVkIDogdW5zdXBwb3J0ZWQ7XG5cbmV4cG9ydHMuc3VwcG9ydGVkID0gc3VwcG9ydGVkO1xuZnVuY3Rpb24gc3VwcG9ydGVkKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG59O1xuXG5leHBvcnRzLnVuc3VwcG9ydGVkID0gdW5zdXBwb3J0ZWQ7XG5mdW5jdGlvbiB1bnN1cHBvcnRlZChvYmplY3Qpe1xuICByZXR1cm4gb2JqZWN0ICYmXG4gICAgdHlwZW9mIG9iamVjdCA9PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBvYmplY3QubGVuZ3RoID09ICdudW1iZXInICYmXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ2NhbGxlZScpICYmXG4gICAgIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsICdjYWxsZWUnKSB8fFxuICAgIGZhbHNlO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///27\n")},
/*!***************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/layer.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar isEqual = __webpack_require__(/*! deep-equal */ 3);\nvar diff_1 = __webpack_require__(/*! ./util/diff */ 6);\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.source = __assign({ type: 'geojson' }, _this.props.geoJSONSourceOptions, { data: {\n                type: 'FeatureCollection',\n                features: []\n            } });\n        _this.geometry = function (coordinates) {\n            switch (_this.props.type) {\n                case 'symbol':\n                case 'circle':\n                    return {\n                        type: 'Point',\n                        coordinates: coordinates\n                    };\n                case 'fill':\n                    if (coordinates.length > 1) {\n                        return {\n                            type: 'MultiPolygon',\n                            coordinates: coordinates\n                        };\n                    }\n                    return {\n                        type: 'Polygon',\n                        coordinates: coordinates\n                    };\n                case 'line':\n                    return {\n                        type: 'LineString',\n                        coordinates: coordinates\n                    };\n                default:\n                    return {\n                        type: 'Point',\n                        coordinates: coordinates\n                    };\n            }\n        };\n        _this.makeFeature = function (props, id) { return ({\n            type: 'Feature',\n            geometry: _this.geometry(props.coordinates),\n            properties: __assign({}, props.properties, { id: id })\n        }); };\n        _this.initialize = function () {\n            var _a = _this.props, type = _a.type, layout = _a.layout, paint = _a.paint, sourceId = _a.sourceId, before = _a.before, images = _a.images, id = _a.id, metadata = _a.metadata, sourceLayer = _a.sourceLayer, minZoom = _a.minZoom, maxZoom = _a.maxZoom, filter = _a.filter;\n            var map = _this.context.map;\n            var layer = {\n                id: id,\n                source: sourceId || id,\n                type: type,\n                layout: layout,\n                paint: paint,\n                metadata: metadata\n            };\n            if (sourceLayer) {\n                layer['source-layer'] = sourceLayer;\n            }\n            if (minZoom) {\n                layer.minzoom = minZoom;\n            }\n            if (maxZoom) {\n                layer.maxzoom = maxZoom;\n            }\n            if (filter) {\n                layer.filter = filter;\n            }\n            if (images) {\n                var normalizedImages = !Array.isArray(images[0]) ? [images] : images;\n                normalizedImages.forEach(function (image) {\n                    map.addImage(image[0], image[1], image[2]);\n                });\n            }\n            if (!sourceId && !map.getSource(id)) {\n                map.addSource(id, _this.source);\n            }\n            if (!map.getLayer(id)) {\n                map.addLayer(layer, before);\n            }\n        };\n        _this.onStyleDataChange = function () {\n            if (!_this.context.map.getLayer(_this.props.id)) {\n                _this.initialize();\n                _this.forceUpdate();\n            }\n        };\n        _this.getChildren = function () {\n            var children = _this.props.children;\n            if (!children) {\n                return [];\n            }\n            if (Array.isArray(children)) {\n                return children.reduce(function (arr, next) { return arr.concat(next); }, []);\n            }\n            return [children];\n        };\n        return _this;\n    }\n    Layer.prototype.componentWillMount = function () {\n        var map = this.context.map;\n        this.initialize();\n        map.on('styledata', this.onStyleDataChange);\n    };\n    Layer.prototype.componentWillUnmount = function () {\n        var map = this.context.map;\n        var _a = this.props, images = _a.images, id = _a.id;\n        if (!map || !map.getStyle()) {\n            return;\n        }\n        if (map.getLayer(id)) {\n            map.removeLayer(id);\n        }\n        if (!this.props.sourceId) {\n            map.removeSource(id);\n        }\n        if (images) {\n            var normalizedImages = !Array.isArray(images[0]) ? [images] : images;\n            normalizedImages\n                .map(function (_a) {\n                var key = _a[0], rest = _a.slice(1);\n                return key;\n            })\n                .forEach(map.removeImage);\n        }\n        map.off('styledata', this.onStyleDataChange);\n    };\n    Layer.prototype.componentWillReceiveProps = function (props) {\n        var _a = this.props, paint = _a.paint, layout = _a.layout, before = _a.before, filter = _a.filter, id = _a.id, minZoom = _a.minZoom, maxZoom = _a.maxZoom;\n        var map = this.context.map;\n        if (!isEqual(props.paint, paint)) {\n            var paintDiff_1 = diff_1.default(paint, props.paint);\n            Object.keys(paintDiff_1).forEach(function (key) {\n                map.setPaintProperty(id, key, paintDiff_1[key]);\n            });\n        }\n        if (!isEqual(props.layout, layout)) {\n            var layoutDiff_1 = diff_1.default(layout, props.layout);\n            Object.keys(layoutDiff_1).forEach(function (key) {\n                map.setLayoutProperty(id, key, layoutDiff_1[key]);\n            });\n        }\n        if (props.filter && filter && !isEqual(props.filter, filter)) {\n            map.setFilter(id, props.filter || []);\n        }\n        if (before !== props.before) {\n            map.moveLayer(id, props.before);\n        }\n        if (minZoom !== props.minZoom || maxZoom !== props.maxZoom) {\n            map.setLayerZoomRange(id, props.minZoom, props.maxZoom);\n        }\n    };\n    Layer.prototype.render = function () {\n        var _this = this;\n        var map = this.context.map;\n        var _a = this.props, sourceId = _a.sourceId, draggedChildren = _a.draggedChildren;\n        var children = this.getChildren();\n        if (draggedChildren) {\n            var draggableChildrenIds_1 = draggedChildren.map(function (child) { return child.key; });\n            children = children.map(function (child) {\n                var indexChildren = draggableChildrenIds_1.indexOf(child.key);\n                if (indexChildren !== -1) {\n                    return draggedChildren[indexChildren];\n                }\n                return child;\n            });\n        }\n        var features = children\n            .map(function (_a, id) {\n            var props = _a.props;\n            return _this.makeFeature(props, id);\n        })\n            .filter(Boolean);\n        var source = map.getSource(sourceId || this.props.id);\n        if (source && !sourceId && source.setData) {\n            source.setData({\n                type: 'FeatureCollection',\n                features: features\n            });\n        }\n        return null;\n    };\n    Layer.contextTypes = {\n        map: PropTypes.object\n    };\n    Layer.defaultProps = {\n        type: 'symbol',\n        layout: {},\n        paint: {}\n    };\n    return Layer;\n}(React.Component));\nexports.default = Layer;\n//# sourceMappingURL=layer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9sYXllci5qcz9mNzQyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBQcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlc1wiKTtcbnZhciBpc0VxdWFsID0gcmVxdWlyZSgnZGVlcC1lcXVhbCcpO1xudmFyIGRpZmZfMSA9IHJlcXVpcmUoXCIuL3V0aWwvZGlmZlwiKTtcbnZhciBMYXllciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExheWVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExheWVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc291cmNlID0gX19hc3NpZ24oeyB0eXBlOiAnZ2VvanNvbicgfSwgX3RoaXMucHJvcHMuZ2VvSlNPTlNvdXJjZU9wdGlvbnMsIHsgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgZmVhdHVyZXM6IFtdXG4gICAgICAgICAgICB9IH0pO1xuICAgICAgICBfdGhpcy5nZW9tZXRyeSA9IGZ1bmN0aW9uIChjb29yZGluYXRlcykge1xuICAgICAgICAgICAgc3dpdGNoIChfdGhpcy5wcm9wcy50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjaXJjbGUnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BvaW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGwnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTXVsdGlQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0xpbmVTdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubWFrZUZlYXR1cmUgPSBmdW5jdGlvbiAocHJvcHMsIGlkKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICAgICAgZ2VvbWV0cnk6IF90aGlzLmdlb21ldHJ5KHByb3BzLmNvb3JkaW5hdGVzKSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IF9fYXNzaWduKHt9LCBwcm9wcy5wcm9wZXJ0aWVzLCB7IGlkOiBpZCB9KVxuICAgICAgICB9KTsgfTtcbiAgICAgICAgX3RoaXMuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB0eXBlID0gX2EudHlwZSwgbGF5b3V0ID0gX2EubGF5b3V0LCBwYWludCA9IF9hLnBhaW50LCBzb3VyY2VJZCA9IF9hLnNvdXJjZUlkLCBiZWZvcmUgPSBfYS5iZWZvcmUsIGltYWdlcyA9IF9hLmltYWdlcywgaWQgPSBfYS5pZCwgbWV0YWRhdGEgPSBfYS5tZXRhZGF0YSwgc291cmNlTGF5ZXIgPSBfYS5zb3VyY2VMYXllciwgbWluWm9vbSA9IF9hLm1pblpvb20sIG1heFpvb20gPSBfYS5tYXhab29tLCBmaWx0ZXIgPSBfYS5maWx0ZXI7XG4gICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMuY29udGV4dC5tYXA7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlSWQgfHwgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBsYXlvdXQ6IGxheW91dCxcbiAgICAgICAgICAgICAgICBwYWludDogcGFpbnQsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHNvdXJjZUxheWVyKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJbJ3NvdXJjZS1sYXllciddID0gc291cmNlTGF5ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWluWm9vbSkge1xuICAgICAgICAgICAgICAgIGxheWVyLm1pbnpvb20gPSBtaW5ab29tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1heFpvb20pIHtcbiAgICAgICAgICAgICAgICBsYXllci5tYXh6b29tID0gbWF4Wm9vbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICBsYXllci5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbWFnZXMgPSAhQXJyYXkuaXNBcnJheShpbWFnZXNbMF0pID8gW2ltYWdlc10gOiBpbWFnZXM7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBtYXAuYWRkSW1hZ2UoaW1hZ2VbMF0sIGltYWdlWzFdLCBpbWFnZVsyXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUlkICYmICFtYXAuZ2V0U291cmNlKGlkKSkge1xuICAgICAgICAgICAgICAgIG1hcC5hZGRTb3VyY2UoaWQsIF90aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1hcC5nZXRMYXllcihpZCkpIHtcbiAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIsIGJlZm9yZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uU3R5bGVEYXRhQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5jb250ZXh0Lm1hcC5nZXRMYXllcihfdGhpcy5wcm9wcy5pZCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0Q2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW4ucmVkdWNlKGZ1bmN0aW9uIChhcnIsIG5leHQpIHsgcmV0dXJuIGFyci5jb25jYXQobmV4dCk7IH0sIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbY2hpbGRyZW5dO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIExheWVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmNvbnRleHQubWFwO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgbWFwLm9uKCdzdHlsZWRhdGEnLCB0aGlzLm9uU3R5bGVEYXRhQ2hhbmdlKTtcbiAgICB9O1xuICAgIExheWVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuY29udGV4dC5tYXA7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGltYWdlcyA9IF9hLmltYWdlcywgaWQgPSBfYS5pZDtcbiAgICAgICAgaWYgKCFtYXAgfHwgIW1hcC5nZXRTdHlsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hcC5nZXRMYXllcihpZCkpIHtcbiAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLnNvdXJjZUlkKSB7XG4gICAgICAgICAgICBtYXAucmVtb3ZlU291cmNlKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1hZ2VzKSB7XG4gICAgICAgICAgICB2YXIgbm9ybWFsaXplZEltYWdlcyA9ICFBcnJheS5pc0FycmF5KGltYWdlc1swXSkgPyBbaW1hZ2VzXSA6IGltYWdlcztcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRJbWFnZXNcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfYVswXSwgcmVzdCA9IF9hLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKG1hcC5yZW1vdmVJbWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwLm9mZignc3R5bGVkYXRhJywgdGhpcy5vblN0eWxlRGF0YUNoYW5nZSk7XG4gICAgfTtcbiAgICBMYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBwYWludCA9IF9hLnBhaW50LCBsYXlvdXQgPSBfYS5sYXlvdXQsIGJlZm9yZSA9IF9hLmJlZm9yZSwgZmlsdGVyID0gX2EuZmlsdGVyLCBpZCA9IF9hLmlkLCBtaW5ab29tID0gX2EubWluWm9vbSwgbWF4Wm9vbSA9IF9hLm1heFpvb207XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmNvbnRleHQubWFwO1xuICAgICAgICBpZiAoIWlzRXF1YWwocHJvcHMucGFpbnQsIHBhaW50KSkge1xuICAgICAgICAgICAgdmFyIHBhaW50RGlmZl8xID0gZGlmZl8xLmRlZmF1bHQocGFpbnQsIHByb3BzLnBhaW50KTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhaW50RGlmZl8xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0UGFpbnRQcm9wZXJ0eShpZCwga2V5LCBwYWludERpZmZfMVtrZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChwcm9wcy5sYXlvdXQsIGxheW91dCkpIHtcbiAgICAgICAgICAgIHZhciBsYXlvdXREaWZmXzEgPSBkaWZmXzEuZGVmYXVsdChsYXlvdXQsIHByb3BzLmxheW91dCk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhsYXlvdXREaWZmXzEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eShpZCwga2V5LCBsYXlvdXREaWZmXzFba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMuZmlsdGVyICYmIGZpbHRlciAmJiAhaXNFcXVhbChwcm9wcy5maWx0ZXIsIGZpbHRlcikpIHtcbiAgICAgICAgICAgIG1hcC5zZXRGaWx0ZXIoaWQsIHByb3BzLmZpbHRlciB8fCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJlZm9yZSAhPT0gcHJvcHMuYmVmb3JlKSB7XG4gICAgICAgICAgICBtYXAubW92ZUxheWVyKGlkLCBwcm9wcy5iZWZvcmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaW5ab29tICE9PSBwcm9wcy5taW5ab29tIHx8IG1heFpvb20gIT09IHByb3BzLm1heFpvb20pIHtcbiAgICAgICAgICAgIG1hcC5zZXRMYXllclpvb21SYW5nZShpZCwgcHJvcHMubWluWm9vbSwgcHJvcHMubWF4Wm9vbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExheWVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmNvbnRleHQubWFwO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBzb3VyY2VJZCA9IF9hLnNvdXJjZUlkLCBkcmFnZ2VkQ2hpbGRyZW4gPSBfYS5kcmFnZ2VkQ2hpbGRyZW47XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgaWYgKGRyYWdnZWRDaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGRyYWdnYWJsZUNoaWxkcmVuSWRzXzEgPSBkcmFnZ2VkQ2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2hpbGQua2V5OyB9KTtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleENoaWxkcmVuID0gZHJhZ2dhYmxlQ2hpbGRyZW5JZHNfMS5pbmRleE9mKGNoaWxkLmtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4Q2hpbGRyZW4gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkcmFnZ2VkQ2hpbGRyZW5baW5kZXhDaGlsZHJlbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmZWF0dXJlcyA9IGNoaWxkcmVuXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfYSwgaWQpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IF9hLnByb3BzO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm1ha2VGZWF0dXJlKHByb3BzLCBpZCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICB2YXIgc291cmNlID0gbWFwLmdldFNvdXJjZShzb3VyY2VJZCB8fCB0aGlzLnByb3BzLmlkKTtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiAhc291cmNlSWQgJiYgc291cmNlLnNldERhdGEpIHtcbiAgICAgICAgICAgIHNvdXJjZS5zZXREYXRhKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgICAgIGZlYXR1cmVzOiBmZWF0dXJlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBMYXllci5jb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIG1hcDogUHJvcFR5cGVzLm9iamVjdFxuICAgIH07XG4gICAgTGF5ZXIuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICB0eXBlOiAnc3ltYm9sJyxcbiAgICAgICAgbGF5b3V0OiB7fSxcbiAgICAgICAgcGFpbnQ6IHt9XG4gICAgfTtcbiAgICByZXR1cm4gTGF5ZXI7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGF5ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXllci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///28\n")},
/*!**************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/layer-events-hoc.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar uid_1 = __webpack_require__(/*! ./util/uid */ 7);\nfunction layerMouseTouchEvents(WrappedComponent) {\n    return _a = (function (_super) {\n            __extends(EnhancedLayer, _super);\n            function EnhancedLayer() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.hover = [];\n                _this.draggedChildren = undefined;\n                _this.id = _this.props.id || \"layer-\" + uid_1.generateID();\n                _this.getChildren = function () {\n                    return []\n                        .concat(_this.props.children)\n                        .filter(function (el) {\n                        return typeof el !== 'undefined';\n                    });\n                };\n                _this.getChildFromId = function (children, id) { return children[id]; };\n                _this.areFeaturesDraggable = function (children, featureIds) {\n                    if (featureIds === void 0) { featureIds = _this.hover; }\n                    return !!featureIds\n                        .map(function (id) {\n                        return _this.getChildFromId(children, id)\n                            ? _this.getChildFromId(children, id).props.draggable\n                            : false;\n                    })\n                        .filter(Boolean).length;\n                };\n                _this.onClick = function (evt) {\n                    var features = evt.features;\n                    var children = _this.getChildren();\n                    var map = _this.context.map;\n                    if (features) {\n                        features.forEach(function (feature) {\n                            var id = feature.properties.id;\n                            if (children) {\n                                var child = _this.getChildFromId(children, id);\n                                var onClick = child && child.props.onClick;\n                                if (onClick) {\n                                    onClick(__assign({}, evt, { feature: feature, map: map }));\n                                }\n                            }\n                        });\n                    }\n                };\n                _this.onMouseEnter = function (evt) {\n                    var children = _this.getChildren();\n                    var map = _this.context.map;\n                    _this.hover = [];\n                    evt.features.forEach(function (feature) {\n                        var id = feature.properties.id;\n                        var child = _this.getChildFromId(children, id);\n                        _this.hover.push(id);\n                        var onMouseEnter = child && child.props.onMouseEnter;\n                        if (onMouseEnter) {\n                            onMouseEnter(__assign({}, evt, { feature: feature, map: map }));\n                        }\n                    });\n                    if (_this.areFeaturesDraggable(children)) {\n                        map.dragPan.disable();\n                    }\n                };\n                _this.onMouseLeave = function (evt) {\n                    var children = _this.getChildren();\n                    var map = _this.context.map;\n                    if (_this.areFeaturesDraggable(children)) {\n                        map.dragPan.enable();\n                    }\n                    _this.hover.forEach(function (id) {\n                        var child = _this.getChildFromId(children, id);\n                        var onMouseLeave = child && child.props.onMouseLeave;\n                        if (onMouseLeave) {\n                            onMouseLeave(__assign({}, evt, { map: map }));\n                        }\n                    });\n                    if (!_this.draggedChildren) {\n                        _this.hover = [];\n                    }\n                };\n                _this.onMouseDown = function () {\n                    if (_this.hover.length) {\n                        _this.onFeatureDown('mousedown');\n                    }\n                };\n                _this.onTouchStart = function (evt) {\n                    _this.hover = evt.features.map(function (feature) { return feature.properties.id; });\n                    if (_this.hover.length) {\n                        _this.onFeatureDown('touchstart');\n                    }\n                };\n                _this.onFeatureDown = function (startEvent) {\n                    var moveEvent = startEvent === 'mousedown' ? 'mousemove' : 'touchmove';\n                    var endEvent = startEvent === 'mousedown' ? 'mouseup' : 'touchend';\n                    var map = _this.context.map;\n                    map.once(moveEvent, _this.onFeatureDragStart);\n                    map.on(moveEvent, _this.onFeatureDrag);\n                    map.once(endEvent, function (evt) {\n                        map.off(moveEvent, _this.onFeatureDragStart);\n                        map.off(moveEvent, _this.onFeatureDrag);\n                        _this.onFeatureDragEnd(evt);\n                    });\n                };\n                _this.onFeatureDragStart = function (evt) {\n                    var map = _this.context.map;\n                    var children = _this.getChildren();\n                    _this.hover.forEach(function (id) {\n                        var child = _this.getChildFromId(children, id);\n                        if (child && !child.props.draggable) {\n                            return;\n                        }\n                        var onDragStart = child && child.props.onDragStart;\n                        if (onDragStart) {\n                            onDragStart(__assign({}, evt, { map: map }));\n                        }\n                    });\n                };\n                _this.onFeatureDrag = function (evt) {\n                    var children = _this.getChildren();\n                    var map = _this.context.map;\n                    var _a = evt.lngLat, lng = _a.lng, lat = _a.lat;\n                    _this.draggedChildren = [];\n                    _this.hover.forEach(function (id) {\n                        var child = _this.getChildFromId(children, id);\n                        var onDrag = child && child.props.onDrag;\n                        if (child && child.props.draggable) {\n                            _this.draggedChildren.push(React.cloneElement(child, {\n                                coordinates: [lng, lat]\n                            }));\n                            if (onDrag) {\n                                onDrag(__assign({}, evt, { map: map }));\n                            }\n                        }\n                    });\n                    _this.forceUpdate();\n                };\n                _this.onFeatureDragEnd = function (evt) {\n                    var map = _this.context.map;\n                    var children = _this.getChildren();\n                    _this.hover.forEach(function (id) {\n                        var child = _this.getChildFromId(children, id);\n                        var onDragEnd = child && child.props.onDragEnd;\n                        if (onDragEnd && child.props.draggable && _this.draggedChildren) {\n                            onDragEnd(__assign({}, evt, { map: map }));\n                        }\n                    });\n                    _this.draggedChildren = undefined;\n                };\n                return _this;\n            }\n            EnhancedLayer.prototype.componentWillMount = function () {\n                var map = this.context.map;\n                map.on('click', this.id, this.onClick);\n                map.on('mouseenter', this.id, this.onMouseEnter);\n                map.on('mouseleave', this.id, this.onMouseLeave);\n                map.on('mousedown', this.id, this.onMouseDown);\n                map.on('touchstart', this.id, this.onTouchStart);\n            };\n            EnhancedLayer.prototype.componentWillUnmount = function () {\n                var map = this.context.map;\n                map.off('click', this.onClick);\n                map.off('mouseenter', this.onMouseEnter);\n                map.off('mouseleave', this.onMouseLeave);\n                map.off('mousedown', this.onMouseDown);\n                map.off('touchstart', this.onTouchStart);\n            };\n            EnhancedLayer.prototype.render = function () {\n                return (React.createElement(WrappedComponent, __assign({}, this.props, { id: this.id, draggedChildren: this.draggedChildren })));\n            };\n            return EnhancedLayer;\n        }(React.Component)),\n        _a.contextTypes = {\n            map: PropTypes.object\n        },\n        _a;\n    var _a;\n}\nexports.default = layerMouseTouchEvents;\n//# sourceMappingURL=layer-events-hoc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9sYXllci1ldmVudHMtaG9jLmpzPzhkZTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIFByb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xudmFyIHVpZF8xID0gcmVxdWlyZShcIi4vdXRpbC91aWRcIik7XG5mdW5jdGlvbiBsYXllck1vdXNlVG91Y2hFdmVudHMoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIHJldHVybiBfYSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoRW5oYW5jZWRMYXllciwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEVuaGFuY2VkTGF5ZXIoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuaG92ZXIgPSBbXTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmFnZ2VkQ2hpbGRyZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuaWQgPSBfdGhpcy5wcm9wcy5pZCB8fCBcImxheWVyLVwiICsgdWlkXzEuZ2VuZXJhdGVJRCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdldENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoX3RoaXMucHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBlbCAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0Q2hpbGRGcm9tSWQgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIGlkKSB7IHJldHVybiBjaGlsZHJlbltpZF07IH07XG4gICAgICAgICAgICAgICAgX3RoaXMuYXJlRmVhdHVyZXNEcmFnZ2FibGUgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIGZlYXR1cmVJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVJZHMgPT09IHZvaWQgMCkgeyBmZWF0dXJlSWRzID0gX3RoaXMuaG92ZXI7IH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZmVhdHVyZUlkc1xuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRDaGlsZEZyb21JZChjaGlsZHJlbiwgaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfdGhpcy5nZXRDaGlsZEZyb21JZChjaGlsZHJlbiwgaWQpLnByb3BzLmRyYWdnYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmZWF0dXJlcyA9IGV2dC5mZWF0dXJlcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IF90aGlzLmNvbnRleHQubWFwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBmZWF0dXJlLnByb3BlcnRpZXMuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF90aGlzLmdldENoaWxkRnJvbUlkKGNoaWxkcmVuLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbkNsaWNrID0gY2hpbGQgJiYgY2hpbGQucHJvcHMub25DbGljaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2soX19hc3NpZ24oe30sIGV2dCwgeyBmZWF0dXJlOiBmZWF0dXJlLCBtYXA6IG1hcCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpcy5nZXRDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMuY29udGV4dC5tYXA7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhvdmVyID0gW107XG4gICAgICAgICAgICAgICAgICAgIGV2dC5mZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBmZWF0dXJlLnByb3BlcnRpZXMuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfdGhpcy5nZXRDaGlsZEZyb21JZChjaGlsZHJlbiwgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaG92ZXIucHVzaChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25Nb3VzZUVudGVyID0gY2hpbGQgJiYgY2hpbGQucHJvcHMub25Nb3VzZUVudGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uTW91c2VFbnRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcihfX2Fzc2lnbih7fSwgZXZ0LCB7IGZlYXR1cmU6IGZlYXR1cmUsIG1hcDogbWFwIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hcmVGZWF0dXJlc0RyYWdnYWJsZShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5kcmFnUGFuLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpcy5nZXRDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMuY29udGV4dC5tYXA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hcmVGZWF0dXJlc0RyYWdnYWJsZShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5kcmFnUGFuLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhvdmVyLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfdGhpcy5nZXRDaGlsZEZyb21JZChjaGlsZHJlbiwgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uTW91c2VMZWF2ZSA9IGNoaWxkICYmIGNoaWxkLnByb3BzLm9uTW91c2VMZWF2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbk1vdXNlTGVhdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmUoX19hc3NpZ24oe30sIGV2dCwgeyBtYXA6IG1hcCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmRyYWdnZWRDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaG92ZXIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMub25Nb3VzZURvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5ob3Zlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRmVhdHVyZURvd24oJ21vdXNlZG93bicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vblRvdWNoU3RhcnQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhvdmVyID0gZXZ0LmZlYXR1cmVzLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkgeyByZXR1cm4gZmVhdHVyZS5wcm9wZXJ0aWVzLmlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmhvdmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25GZWF0dXJlRG93bigndG91Y2hzdGFydCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkZlYXR1cmVEb3duID0gZnVuY3Rpb24gKHN0YXJ0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vdmVFdmVudCA9IHN0YXJ0RXZlbnQgPT09ICdtb3VzZWRvd24nID8gJ21vdXNlbW92ZScgOiAndG91Y2htb3ZlJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZEV2ZW50ID0gc3RhcnRFdmVudCA9PT0gJ21vdXNlZG93bicgPyAnbW91c2V1cCcgOiAndG91Y2hlbmQnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMuY29udGV4dC5tYXA7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5vbmNlKG1vdmVFdmVudCwgX3RoaXMub25GZWF0dXJlRHJhZ1N0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgbWFwLm9uKG1vdmVFdmVudCwgX3RoaXMub25GZWF0dXJlRHJhZyk7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5vbmNlKGVuZEV2ZW50LCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAub2ZmKG1vdmVFdmVudCwgX3RoaXMub25GZWF0dXJlRHJhZ1N0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5vZmYobW92ZUV2ZW50LCBfdGhpcy5vbkZlYXR1cmVEcmFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRmVhdHVyZURyYWdFbmQoZXZ0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkZlYXR1cmVEcmFnU3RhcnQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaG92ZXIuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF90aGlzLmdldENoaWxkRnJvbUlkKGNoaWxkcmVuLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQgJiYgIWNoaWxkLnByb3BzLmRyYWdnYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbkRyYWdTdGFydCA9IGNoaWxkICYmIGNoaWxkLnByb3BzLm9uRHJhZ1N0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uRHJhZ1N0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQoX19hc3NpZ24oe30sIGV2dCwgeyBtYXA6IG1hcCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMub25GZWF0dXJlRHJhZyA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IF90aGlzLmNvbnRleHQubWFwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBldnQubG5nTGF0LCBsbmcgPSBfYS5sbmcsIGxhdCA9IF9hLmxhdDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJhZ2dlZENoaWxkcmVuID0gW107XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhvdmVyLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfdGhpcy5nZXRDaGlsZEZyb21JZChjaGlsZHJlbiwgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uRHJhZyA9IGNoaWxkICYmIGNoaWxkLnByb3BzLm9uRHJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCAmJiBjaGlsZC5wcm9wcy5kcmFnZ2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kcmFnZ2VkQ2hpbGRyZW4ucHVzaChSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFtsbmcsIGxhdF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uRHJhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWcoX19hc3NpZ24oe30sIGV2dCwgeyBtYXA6IG1hcCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzLm9uRmVhdHVyZURyYWdFbmQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMuZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaG92ZXIuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF90aGlzLmdldENoaWxkRnJvbUlkKGNoaWxkcmVuLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25EcmFnRW5kID0gY2hpbGQgJiYgY2hpbGQucHJvcHMub25EcmFnRW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uRHJhZ0VuZCAmJiBjaGlsZC5wcm9wcy5kcmFnZ2FibGUgJiYgX3RoaXMuZHJhZ2dlZENoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kKF9fYXNzaWduKHt9LCBldnQsIHsgbWFwOiBtYXAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJhZ2dlZENoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRW5oYW5jZWRMYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBtYXAgPSB0aGlzLmNvbnRleHQubWFwO1xuICAgICAgICAgICAgICAgIG1hcC5vbignY2xpY2snLCB0aGlzLmlkLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICAgICAgICAgIG1hcC5vbignbW91c2VlbnRlcicsIHRoaXMuaWQsIHRoaXMub25Nb3VzZUVudGVyKTtcbiAgICAgICAgICAgICAgICBtYXAub24oJ21vdXNlbGVhdmUnLCB0aGlzLmlkLCB0aGlzLm9uTW91c2VMZWF2ZSk7XG4gICAgICAgICAgICAgICAgbWFwLm9uKCdtb3VzZWRvd24nLCB0aGlzLmlkLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgICAgICAgICAgICAgICBtYXAub24oJ3RvdWNoc3RhcnQnLCB0aGlzLmlkLCB0aGlzLm9uVG91Y2hTdGFydCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRW5oYW5jZWRMYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuY29udGV4dC5tYXA7XG4gICAgICAgICAgICAgICAgbWFwLm9mZignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICAgICAgICAgIG1hcC5vZmYoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VFbnRlcik7XG4gICAgICAgICAgICAgICAgbWFwLm9mZignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlKTtcbiAgICAgICAgICAgICAgICBtYXAub2ZmKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgICAgICAgICAgICAgICBtYXAub2ZmKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWNoU3RhcnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIEVuaGFuY2VkTGF5ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgX19hc3NpZ24oe30sIHRoaXMucHJvcHMsIHsgaWQ6IHRoaXMuaWQsIGRyYWdnZWRDaGlsZHJlbjogdGhpcy5kcmFnZ2VkQ2hpbGRyZW4gfSkpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gRW5oYW5jZWRMYXllcjtcbiAgICAgICAgfShSZWFjdC5Db21wb25lbnQpKSxcbiAgICAgICAgX2EuY29udGV4dFR5cGVzID0ge1xuICAgICAgICAgICAgbWFwOiBQcm9wVHlwZXMub2JqZWN0XG4gICAgICAgIH0sXG4gICAgICAgIF9hO1xuICAgIHZhciBfYTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGxheWVyTW91c2VUb3VjaEV2ZW50cztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxheWVyLWV2ZW50cy1ob2MuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///29\n")},
/*!***********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/geojson-layer.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar isEqual = __webpack_require__(/*! deep-equal */ 3);\nvar diff_1 = __webpack_require__(/*! ./util/diff */ 6);\nvar uid_1 = __webpack_require__(/*! ./util/uid */ 7);\nvar types = ['symbol', 'line', 'fill', 'fill-extrusion', 'circle'];\nvar toCamelCase = function (str) {\n    return str\n        .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (letter, index) {\n        return index === 0 ? letter.toLowerCase() : letter.toUpperCase();\n    })\n        .replace(/[\\s+]|-/g, '');\n};\nvar eventToHandler = {\n    mousemove: 'OnMouseMove',\n    mouseenter: 'OnMouseEnter',\n    mouseleave: 'OnMouseLeave',\n    mousedown: 'OnMouseDown',\n    mouseup: 'OnMouseUp',\n    click: 'OnClick'\n};\nvar GeoJSONLayer = (function (_super) {\n    __extends(GeoJSONLayer, _super);\n    function GeoJSONLayer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = _this.props.id || \"geojson-\" + uid_1.generateID();\n        _this.source = __assign({ type: 'geojson' }, _this.props.sourceOptions, { data: _this.props.data });\n        _this.layerIds = [];\n        _this.buildLayerId = function (type) {\n            return _this.id + \"-\" + type;\n        };\n        _this.createLayer = function (type) {\n            var _a = _this.props, before = _a.before, layerOptions = _a.layerOptions;\n            var map = _this.context.map;\n            var layerId = _this.buildLayerId(type);\n            _this.layerIds.push(layerId);\n            var paint = _this.props[toCamelCase(type) + \"Paint\"] || {};\n            var visibility = Object.keys(paint).length ? 'visible' : 'none';\n            var layout = _this.props[toCamelCase(type) + \"Layout\"] || {\n                visibility: visibility\n            };\n            map.addLayer(__assign({ id: layerId, source: _this.id, type: type,\n                paint: paint,\n                layout: layout }, layerOptions), before);\n            _this.mapLayerMouseHandlers(type);\n        };\n        _this.mapLayerMouseHandlers = function (type) {\n            var map = _this.context.map;\n            var layerId = _this.buildLayerId(type);\n            var events = Object.keys(eventToHandler);\n            events.forEach(function (event) {\n                var handler = _this.props[\"\" + toCamelCase(type) + eventToHandler[event]] || null;\n                if (handler) {\n                    map.on(event, layerId, handler);\n                }\n            });\n        };\n        _this.onStyleDataChange = function () {\n            if (!_this.context.map.getSource(_this.id)) {\n                _this.unbind();\n                _this.initialize();\n                _this.forceUpdate();\n            }\n        };\n        _this.isGeoJSONSource = function (source) {\n            return !!source &&\n                typeof source.setData === 'function';\n        };\n        return _this;\n    }\n    GeoJSONLayer.prototype.initialize = function () {\n        var map = this.context.map;\n        map.addSource(this.id, this.source);\n        this.createLayer('symbol');\n        this.createLayer('line');\n        this.createLayer('fill');\n        this.createLayer('fill-extrusion');\n        this.createLayer('circle');\n    };\n    GeoJSONLayer.prototype.unbind = function () {\n        var _this = this;\n        var map = this.context.map;\n        if (map.getSource(this.id)) {\n            var layers = map.getStyle().layers;\n            if (layers) {\n                layers\n                    .filter(function (layer) { return layer.source === _this.id; })\n                    .forEach(function (layer) { return map.removeLayer(layer.id); });\n            }\n            map.removeSource(this.id);\n        }\n        types.forEach(function (type) {\n            Object.keys(eventToHandler).forEach(function (event) {\n                var prop = toCamelCase(type) + eventToHandler[event];\n                if (_this.props[prop]) {\n                    map.off(event, _this.buildLayerId(type), _this.props[prop]);\n                }\n            });\n        });\n        this.layerIds.forEach(function (lId) {\n            if (map.getLayer(lId)) {\n                map.removeLayer(lId);\n            }\n        });\n    };\n    GeoJSONLayer.prototype.componentWillMount = function () {\n        var map = this.context.map;\n        this.initialize();\n        map.on('styledata', this.onStyleDataChange);\n    };\n    GeoJSONLayer.prototype.componentWillUnmount = function () {\n        var map = this.context.map;\n        if (!map || !map.getStyle()) {\n            return;\n        }\n        map.off('styledata', this.onStyleDataChange);\n        this.unbind();\n    };\n    GeoJSONLayer.prototype.componentWillReceiveProps = function (props) {\n        var _this = this;\n        var _a = this.props, data = _a.data, before = _a.before, layerOptions = _a.layerOptions;\n        var map = this.context.map;\n        var source = map.getSource(this.id);\n        if (!this.isGeoJSONSource(source)) {\n            return;\n        }\n        if (props.data !== data) {\n            source.setData(props.data);\n            this.source = __assign({ type: 'geojson' }, props.sourceOptions, { data: props.data });\n        }\n        var layerFilterChanged = props.layerOptions &&\n            layerOptions &&\n            !isEqual(props.layerOptions.filter, layerOptions.filter);\n        types.forEach(function (type) {\n            var layerId = _this.buildLayerId(type);\n            if (props.layerOptions && layerFilterChanged) {\n                map.setFilter(layerId, props.layerOptions.filter || []);\n            }\n            var paintProp = toCamelCase(type) + 'Paint';\n            if (!isEqual(props[paintProp], _this.props[paintProp])) {\n                var paintDiff_1 = diff_1.default(_this.props[paintProp], props[paintProp]);\n                Object.keys(paintDiff_1).forEach(function (key) {\n                    map.setPaintProperty(layerId, key, paintDiff_1[key]);\n                });\n            }\n            var layoutProp = toCamelCase(type) + 'Layout';\n            if (!isEqual(props[layoutProp], _this.props[layoutProp])) {\n                var layoutDiff_1 = diff_1.default(_this.props[layoutProp], props[layoutProp]);\n                Object.keys(layoutDiff_1).forEach(function (key) {\n                    map.setLayoutProperty(layerId, key, layoutDiff_1[key]);\n                });\n            }\n            Object.keys(eventToHandler).forEach(function (event) {\n                var prop = toCamelCase(type) + eventToHandler[event];\n                if (props[prop] !== _this.props[prop]) {\n                    if (_this.props[prop]) {\n                        map.off(event, layerId, _this.props[prop]);\n                    }\n                    if (props[prop]) {\n                        map.on(event, layerId, props[prop]);\n                    }\n                }\n            });\n            if (before !== props.before) {\n                map.moveLayer(layerId, props.before);\n            }\n        });\n    };\n    GeoJSONLayer.prototype.render = function () {\n        return null;\n    };\n    GeoJSONLayer.contextTypes = {\n        map: PropTypes.object\n    };\n    return GeoJSONLayer;\n}(React.Component));\nexports.default = GeoJSONLayer;\n//# sourceMappingURL=geojson-layer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9nZW9qc29uLWxheWVyLmpzPzc0Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIFByb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xudmFyIGlzRXF1YWwgPSByZXF1aXJlKCdkZWVwLWVxdWFsJyk7XG52YXIgZGlmZl8xID0gcmVxdWlyZShcIi4vdXRpbC9kaWZmXCIpO1xudmFyIHVpZF8xID0gcmVxdWlyZShcIi4vdXRpbC91aWRcIik7XG52YXIgdHlwZXMgPSBbJ3N5bWJvbCcsICdsaW5lJywgJ2ZpbGwnLCAnZmlsbC1leHRydXNpb24nLCAnY2lyY2xlJ107XG52YXIgdG9DYW1lbENhc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgICAucmVwbGFjZSgvKD86Xlxcd3xbQS1aXXxcXGJcXHcpL2csIGZ1bmN0aW9uIChsZXR0ZXIsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRleCA9PT0gMCA/IGxldHRlci50b0xvd2VyQ2FzZSgpIDogbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgfSlcbiAgICAgICAgLnJlcGxhY2UoL1tcXHMrXXwtL2csICcnKTtcbn07XG52YXIgZXZlbnRUb0hhbmRsZXIgPSB7XG4gICAgbW91c2Vtb3ZlOiAnT25Nb3VzZU1vdmUnLFxuICAgIG1vdXNlZW50ZXI6ICdPbk1vdXNlRW50ZXInLFxuICAgIG1vdXNlbGVhdmU6ICdPbk1vdXNlTGVhdmUnLFxuICAgIG1vdXNlZG93bjogJ09uTW91c2VEb3duJyxcbiAgICBtb3VzZXVwOiAnT25Nb3VzZVVwJyxcbiAgICBjbGljazogJ09uQ2xpY2snXG59O1xudmFyIEdlb0pTT05MYXllciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdlb0pTT05MYXllciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHZW9KU09OTGF5ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pZCA9IF90aGlzLnByb3BzLmlkIHx8IFwiZ2VvanNvbi1cIiArIHVpZF8xLmdlbmVyYXRlSUQoKTtcbiAgICAgICAgX3RoaXMuc291cmNlID0gX19hc3NpZ24oeyB0eXBlOiAnZ2VvanNvbicgfSwgX3RoaXMucHJvcHMuc291cmNlT3B0aW9ucywgeyBkYXRhOiBfdGhpcy5wcm9wcy5kYXRhIH0pO1xuICAgICAgICBfdGhpcy5sYXllcklkcyA9IFtdO1xuICAgICAgICBfdGhpcy5idWlsZExheWVySWQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmlkICsgXCItXCIgKyB0eXBlO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jcmVhdGVMYXllciA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgYmVmb3JlID0gX2EuYmVmb3JlLCBsYXllck9wdGlvbnMgPSBfYS5sYXllck9wdGlvbnM7XG4gICAgICAgICAgICB2YXIgbWFwID0gX3RoaXMuY29udGV4dC5tYXA7XG4gICAgICAgICAgICB2YXIgbGF5ZXJJZCA9IF90aGlzLmJ1aWxkTGF5ZXJJZCh0eXBlKTtcbiAgICAgICAgICAgIF90aGlzLmxheWVySWRzLnB1c2gobGF5ZXJJZCk7XG4gICAgICAgICAgICB2YXIgcGFpbnQgPSBfdGhpcy5wcm9wc1t0b0NhbWVsQ2FzZSh0eXBlKSArIFwiUGFpbnRcIl0gfHwge307XG4gICAgICAgICAgICB2YXIgdmlzaWJpbGl0eSA9IE9iamVjdC5rZXlzKHBhaW50KS5sZW5ndGggPyAndmlzaWJsZScgOiAnbm9uZSc7XG4gICAgICAgICAgICB2YXIgbGF5b3V0ID0gX3RoaXMucHJvcHNbdG9DYW1lbENhc2UodHlwZSkgKyBcIkxheW91dFwiXSB8fCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJpbGl0eVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1hcC5hZGRMYXllcihfX2Fzc2lnbih7IGlkOiBsYXllcklkLCBzb3VyY2U6IF90aGlzLmlkLCB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIHBhaW50OiBwYWludCxcbiAgICAgICAgICAgICAgICBsYXlvdXQ6IGxheW91dCB9LCBsYXllck9wdGlvbnMpLCBiZWZvcmUpO1xuICAgICAgICAgICAgX3RoaXMubWFwTGF5ZXJNb3VzZUhhbmRsZXJzKHR5cGUpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5tYXBMYXllck1vdXNlSGFuZGxlcnMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgdmFyIG1hcCA9IF90aGlzLmNvbnRleHQubWFwO1xuICAgICAgICAgICAgdmFyIGxheWVySWQgPSBfdGhpcy5idWlsZExheWVySWQodHlwZSk7XG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gT2JqZWN0LmtleXMoZXZlbnRUb0hhbmRsZXIpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfdGhpcy5wcm9wc1tcIlwiICsgdG9DYW1lbENhc2UodHlwZSkgKyBldmVudFRvSGFuZGxlcltldmVudF1dIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLm9uKGV2ZW50LCBsYXllcklkLCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25TdHlsZURhdGFDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmNvbnRleHQubWFwLmdldFNvdXJjZShfdGhpcy5pZCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaXNHZW9KU09OU291cmNlID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuICEhc291cmNlICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHNvdXJjZS5zZXREYXRhID09PSAnZnVuY3Rpb24nO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdlb0pTT05MYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuY29udGV4dC5tYXA7XG4gICAgICAgIG1hcC5hZGRTb3VyY2UodGhpcy5pZCwgdGhpcy5zb3VyY2UpO1xuICAgICAgICB0aGlzLmNyZWF0ZUxheWVyKCdzeW1ib2wnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVMYXllcignbGluZScpO1xuICAgICAgICB0aGlzLmNyZWF0ZUxheWVyKCdmaWxsJyk7XG4gICAgICAgIHRoaXMuY3JlYXRlTGF5ZXIoJ2ZpbGwtZXh0cnVzaW9uJyk7XG4gICAgICAgIHRoaXMuY3JlYXRlTGF5ZXIoJ2NpcmNsZScpO1xuICAgIH07XG4gICAgR2VvSlNPTkxheWVyLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmNvbnRleHQubWFwO1xuICAgICAgICBpZiAobWFwLmdldFNvdXJjZSh0aGlzLmlkKSkge1xuICAgICAgICAgICAgdmFyIGxheWVycyA9IG1hcC5nZXRTdHlsZSgpLmxheWVycztcbiAgICAgICAgICAgIGlmIChsYXllcnMpIHtcbiAgICAgICAgICAgICAgICBsYXllcnNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobGF5ZXIpIHsgcmV0dXJuIGxheWVyLnNvdXJjZSA9PT0gX3RoaXMuaWQ7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikgeyByZXR1cm4gbWFwLnJlbW92ZUxheWVyKGxheWVyLmlkKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXAucmVtb3ZlU291cmNlKHRoaXMuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGV2ZW50VG9IYW5kbGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gdG9DYW1lbENhc2UodHlwZSkgKyBldmVudFRvSGFuZGxlcltldmVudF07XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzW3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5vZmYoZXZlbnQsIF90aGlzLmJ1aWxkTGF5ZXJJZCh0eXBlKSwgX3RoaXMucHJvcHNbcHJvcF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sYXllcklkcy5mb3JFYWNoKGZ1bmN0aW9uIChsSWQpIHtcbiAgICAgICAgICAgIGlmIChtYXAuZ2V0TGF5ZXIobElkKSkge1xuICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEdlb0pTT05MYXllci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIG1hcC5vbignc3R5bGVkYXRhJywgdGhpcy5vblN0eWxlRGF0YUNoYW5nZSk7XG4gICAgfTtcbiAgICBHZW9KU09OTGF5ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgaWYgKCFtYXAgfHwgIW1hcC5nZXRTdHlsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWFwLm9mZignc3R5bGVkYXRhJywgdGhpcy5vblN0eWxlRGF0YUNoYW5nZSk7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfTtcbiAgICBHZW9KU09OTGF5ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgZGF0YSA9IF9hLmRhdGEsIGJlZm9yZSA9IF9hLmJlZm9yZSwgbGF5ZXJPcHRpb25zID0gX2EubGF5ZXJPcHRpb25zO1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgdmFyIHNvdXJjZSA9IG1hcC5nZXRTb3VyY2UodGhpcy5pZCk7XG4gICAgICAgIGlmICghdGhpcy5pc0dlb0pTT05Tb3VyY2Uoc291cmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5kYXRhICE9PSBkYXRhKSB7XG4gICAgICAgICAgICBzb3VyY2Uuc2V0RGF0YShwcm9wcy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlID0gX19hc3NpZ24oeyB0eXBlOiAnZ2VvanNvbicgfSwgcHJvcHMuc291cmNlT3B0aW9ucywgeyBkYXRhOiBwcm9wcy5kYXRhIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXllckZpbHRlckNoYW5nZWQgPSBwcm9wcy5sYXllck9wdGlvbnMgJiZcbiAgICAgICAgICAgIGxheWVyT3B0aW9ucyAmJlxuICAgICAgICAgICAgIWlzRXF1YWwocHJvcHMubGF5ZXJPcHRpb25zLmZpbHRlciwgbGF5ZXJPcHRpb25zLmZpbHRlcik7XG4gICAgICAgIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHZhciBsYXllcklkID0gX3RoaXMuYnVpbGRMYXllcklkKHR5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3BzLmxheWVyT3B0aW9ucyAmJiBsYXllckZpbHRlckNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0RmlsdGVyKGxheWVySWQsIHByb3BzLmxheWVyT3B0aW9ucy5maWx0ZXIgfHwgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhaW50UHJvcCA9IHRvQ2FtZWxDYXNlKHR5cGUpICsgJ1BhaW50JztcbiAgICAgICAgICAgIGlmICghaXNFcXVhbChwcm9wc1twYWludFByb3BdLCBfdGhpcy5wcm9wc1twYWludFByb3BdKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYWludERpZmZfMSA9IGRpZmZfMS5kZWZhdWx0KF90aGlzLnByb3BzW3BhaW50UHJvcF0sIHByb3BzW3BhaW50UHJvcF0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhaW50RGlmZl8xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldFBhaW50UHJvcGVydHkobGF5ZXJJZCwga2V5LCBwYWludERpZmZfMVtrZXldKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsYXlvdXRQcm9wID0gdG9DYW1lbENhc2UodHlwZSkgKyAnTGF5b3V0JztcbiAgICAgICAgICAgIGlmICghaXNFcXVhbChwcm9wc1tsYXlvdXRQcm9wXSwgX3RoaXMucHJvcHNbbGF5b3V0UHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxheW91dERpZmZfMSA9IGRpZmZfMS5kZWZhdWx0KF90aGlzLnByb3BzW2xheW91dFByb3BdLCBwcm9wc1tsYXlvdXRQcm9wXSk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMobGF5b3V0RGlmZl8xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGxheWVySWQsIGtleSwgbGF5b3V0RGlmZl8xW2tleV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXZlbnRUb0hhbmRsZXIpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSB0b0NhbWVsQ2FzZSh0eXBlKSArIGV2ZW50VG9IYW5kbGVyW2V2ZW50XTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHNbcHJvcF0gIT09IF90aGlzLnByb3BzW3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wc1twcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLm9mZihldmVudCwgbGF5ZXJJZCwgX3RoaXMucHJvcHNbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wc1twcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLm9uKGV2ZW50LCBsYXllcklkLCBwcm9wc1twcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChiZWZvcmUgIT09IHByb3BzLmJlZm9yZSkge1xuICAgICAgICAgICAgICAgIG1hcC5tb3ZlTGF5ZXIobGF5ZXJJZCwgcHJvcHMuYmVmb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBHZW9KU09OTGF5ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBHZW9KU09OTGF5ZXIuY29udGV4dFR5cGVzID0ge1xuICAgICAgICBtYXA6IFByb3BUeXBlcy5vYmplY3RcbiAgICB9O1xuICAgIHJldHVybiBHZW9KU09OTGF5ZXI7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gR2VvSlNPTkxheWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VvanNvbi1sYXllci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n")},
/*!*****************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/feature.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar react_1 = __webpack_require__(/*! react */ 0);\nvar Feature = (function (_super) {\n    __extends(Feature, _super);\n    function Feature() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Feature.prototype.render = function () {\n        return null;\n    };\n    return Feature;\n}(react_1.Component));\nexports.default = Feature;\n//# sourceMappingURL=feature.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9mZWF0dXJlLmpzPzhjNGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIEZlYXR1cmUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGZWF0dXJlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZlYXR1cmUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgRmVhdHVyZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBGZWF0dXJlO1xufShyZWFjdF8xLkNvbXBvbmVudCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRmVhdHVyZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZlYXR1cmUuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///31\n')},
/*!**********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/zoom-control.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar containerStyle = {\n    position: 'absolute',\n    zIndex: 10,\n    display: 'flex',\n    flexDirection: 'column',\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    border: '1px solid rgba(0, 0, 0, 0.1)'\n};\nvar positions = {\n    'top-right': { top: 10, right: 10, bottom: 'auto', left: 'auto' },\n    'top-left': { top: 10, left: 10, bottom: 'auto', right: 'auto' },\n    'bottom-right': { bottom: 10, right: 10, top: 'auto', left: 'auto' },\n    'bottom-left': { bottom: 10, left: 10, top: 'auto', right: 'auto' }\n};\nvar buttonStyle = {\n    backgroundColor: '#f9f9f9',\n    opacity: 0.95,\n    transition: 'background-color 0.16s ease-out',\n    cursor: 'pointer',\n    border: 0,\n    height: 26,\n    width: 26,\n    backgroundImage: \"url('https://api.mapbox.com/mapbox.js/v2.4.0/images/icons-000000@2x.png')\",\n    backgroundPosition: '0px 0px',\n    backgroundSize: '26px 260px',\n    outline: 0\n};\nvar buttonStyleHovered = {\n    backgroundColor: '#fff',\n    opacity: 1\n};\nvar buttonStylePlus = {\n    borderBottom: '1px solid rgba(0, 0, 0, 0.1)',\n    borderTopLeftRadius: 2,\n    borderTopRightRadius: 2\n};\nvar buttonStyleMinus = {\n    backgroundPosition: '0px -26px',\n    borderBottomLeftRadius: 2,\n    borderBottomRightRadius: 2\n};\nvar _a = [0, 1], PLUS = _a[0], MINUS = _a[1];\nvar POSITIONS = Object.keys(positions);\nvar ZoomControl = (function (_super) {\n    __extends(ZoomControl, _super);\n    function ZoomControl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hover: undefined\n        };\n        _this.onMouseOut = function () {\n            _this.setState({ hover: undefined });\n        };\n        _this.plusOver = function () {\n            if (PLUS !== _this.state.hover) {\n                _this.setState({ hover: PLUS });\n            }\n        };\n        _this.minusOver = function () {\n            if (MINUS !== _this.state.hover) {\n                _this.setState({ hover: MINUS });\n            }\n        };\n        _this.onClickPlus = function () {\n            _this.props.onControlClick(_this.context.map, _this.props.zoomDiff);\n        };\n        _this.onClickMinus = function () {\n            _this.props.onControlClick(_this.context.map, -_this.props.zoomDiff);\n        };\n        return _this;\n    }\n    ZoomControl.prototype.render = function () {\n        var _a = this.props, position = _a.position, style = _a.style, className = _a.className, tabIndex = _a.tabIndex;\n        var hover = this.state.hover;\n        var plusStyle = __assign({}, buttonStyle, buttonStylePlus, (hover === PLUS ? buttonStyleHovered : {}));\n        var minusStyle = __assign({}, buttonStyle, buttonStyleMinus, (hover === MINUS ? buttonStyleHovered : {}));\n        return (React.createElement(\"div\", { className: className, tabIndex: tabIndex, style: __assign({}, containerStyle, positions[position], style) },\n            React.createElement(\"button\", { type: \"button\", style: plusStyle, \"aria-label\": \"Zoom in\", onMouseOver: this.plusOver, onMouseOut: this.onMouseOut, onClick: this.onClickPlus }),\n            React.createElement(\"button\", { type: \"button\", style: minusStyle, \"aria-label\": \"Zoom out\", onMouseOver: this.minusOver, onMouseOut: this.onMouseOut, onClick: this.onClickMinus })));\n    };\n    ZoomControl.defaultProps = {\n        position: POSITIONS[0],\n        zoomDiff: 0.5,\n        onControlClick: function (map, zoomDiff) {\n            map.zoomTo(map.getZoom() + zoomDiff);\n        }\n    };\n    ZoomControl.contextTypes = {\n        map: PropTypes.object\n    };\n    return ZoomControl;\n}(React.Component));\nexports.default = ZoomControl;\n//# sourceMappingURL=zoom-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi96b29tLWNvbnRyb2wuanM/YzhmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgUHJvcFR5cGVzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7XG52YXIgY29udGFpbmVyU3R5bGUgPSB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgekluZGV4OiAxMCxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgYm94U2hhZG93OiAnMHB4IDFweCA0cHggcmdiYSgwLCAwLCAwLCAuMyknLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSknXG59O1xudmFyIHBvc2l0aW9ucyA9IHtcbiAgICAndG9wLXJpZ2h0JzogeyB0b3A6IDEwLCByaWdodDogMTAsIGJvdHRvbTogJ2F1dG8nLCBsZWZ0OiAnYXV0bycgfSxcbiAgICAndG9wLWxlZnQnOiB7IHRvcDogMTAsIGxlZnQ6IDEwLCBib3R0b206ICdhdXRvJywgcmlnaHQ6ICdhdXRvJyB9LFxuICAgICdib3R0b20tcmlnaHQnOiB7IGJvdHRvbTogMTAsIHJpZ2h0OiAxMCwgdG9wOiAnYXV0bycsIGxlZnQ6ICdhdXRvJyB9LFxuICAgICdib3R0b20tbGVmdCc6IHsgYm90dG9tOiAxMCwgbGVmdDogMTAsIHRvcDogJ2F1dG8nLCByaWdodDogJ2F1dG8nIH1cbn07XG52YXIgYnV0dG9uU3R5bGUgPSB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2Y5ZjlmOScsXG4gICAgb3BhY2l0eTogMC45NSxcbiAgICB0cmFuc2l0aW9uOiAnYmFja2dyb3VuZC1jb2xvciAwLjE2cyBlYXNlLW91dCcsXG4gICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgYm9yZGVyOiAwLFxuICAgIGhlaWdodDogMjYsXG4gICAgd2lkdGg6IDI2LFxuICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vbWFwYm94LmpzL3YyLjQuMC9pbWFnZXMvaWNvbnMtMDAwMDAwQDJ4LnBuZycpXCIsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnMHB4IDBweCcsXG4gICAgYmFja2dyb3VuZFNpemU6ICcyNnB4IDI2MHB4JyxcbiAgICBvdXRsaW5lOiAwXG59O1xudmFyIGJ1dHRvblN0eWxlSG92ZXJlZCA9IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICBvcGFjaXR5OiAxXG59O1xudmFyIGJ1dHRvblN0eWxlUGx1cyA9IHtcbiAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpJyxcbiAgICBib3JkZXJUb3BMZWZ0UmFkaXVzOiAyLFxuICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiAyXG59O1xudmFyIGJ1dHRvblN0eWxlTWludXMgPSB7XG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnMHB4IC0yNnB4JyxcbiAgICBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiAyLFxuICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiAyXG59O1xudmFyIF9hID0gWzAsIDFdLCBQTFVTID0gX2FbMF0sIE1JTlVTID0gX2FbMV07XG52YXIgUE9TSVRJT05TID0gT2JqZWN0LmtleXMocG9zaXRpb25zKTtcbnZhciBab29tQ29udHJvbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFpvb21Db250cm9sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFpvb21Db250cm9sKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBob3ZlcjogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uTW91c2VPdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGhvdmVyOiB1bmRlZmluZWQgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnBsdXNPdmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKFBMVVMgIT09IF90aGlzLnN0YXRlLmhvdmVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBob3ZlcjogUExVUyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubWludXNPdmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKE1JTlVTICE9PSBfdGhpcy5zdGF0ZS5ob3Zlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IE1JTlVTIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkNsaWNrUGx1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ29udHJvbENsaWNrKF90aGlzLmNvbnRleHQubWFwLCBfdGhpcy5wcm9wcy56b29tRGlmZik7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQ2xpY2tNaW51cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQ29udHJvbENsaWNrKF90aGlzLmNvbnRleHQubWFwLCAtX3RoaXMucHJvcHMuem9vbURpZmYpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFpvb21Db250cm9sLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIHN0eWxlID0gX2Euc3R5bGUsIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSwgdGFiSW5kZXggPSBfYS50YWJJbmRleDtcbiAgICAgICAgdmFyIGhvdmVyID0gdGhpcy5zdGF0ZS5ob3ZlcjtcbiAgICAgICAgdmFyIHBsdXNTdHlsZSA9IF9fYXNzaWduKHt9LCBidXR0b25TdHlsZSwgYnV0dG9uU3R5bGVQbHVzLCAoaG92ZXIgPT09IFBMVVMgPyBidXR0b25TdHlsZUhvdmVyZWQgOiB7fSkpO1xuICAgICAgICB2YXIgbWludXNTdHlsZSA9IF9fYXNzaWduKHt9LCBidXR0b25TdHlsZSwgYnV0dG9uU3R5bGVNaW51cywgKGhvdmVyID09PSBNSU5VUyA/IGJ1dHRvblN0eWxlSG92ZXJlZCA6IHt9KSk7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCB0YWJJbmRleDogdGFiSW5kZXgsIHN0eWxlOiBfX2Fzc2lnbih7fSwgY29udGFpbmVyU3R5bGUsIHBvc2l0aW9uc1twb3NpdGlvbl0sIHN0eWxlKSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIHN0eWxlOiBwbHVzU3R5bGUsIFwiYXJpYS1sYWJlbFwiOiBcIlpvb20gaW5cIiwgb25Nb3VzZU92ZXI6IHRoaXMucGx1c092ZXIsIG9uTW91c2VPdXQ6IHRoaXMub25Nb3VzZU91dCwgb25DbGljazogdGhpcy5vbkNsaWNrUGx1cyB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBzdHlsZTogbWludXNTdHlsZSwgXCJhcmlhLWxhYmVsXCI6IFwiWm9vbSBvdXRcIiwgb25Nb3VzZU92ZXI6IHRoaXMubWludXNPdmVyLCBvbk1vdXNlT3V0OiB0aGlzLm9uTW91c2VPdXQsIG9uQ2xpY2s6IHRoaXMub25DbGlja01pbnVzIH0pKSk7XG4gICAgfTtcbiAgICBab29tQ29udHJvbC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIHBvc2l0aW9uOiBQT1NJVElPTlNbMF0sXG4gICAgICAgIHpvb21EaWZmOiAwLjUsXG4gICAgICAgIG9uQ29udHJvbENsaWNrOiBmdW5jdGlvbiAobWFwLCB6b29tRGlmZikge1xuICAgICAgICAgICAgbWFwLnpvb21UbyhtYXAuZ2V0Wm9vbSgpICsgem9vbURpZmYpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBab29tQ29udHJvbC5jb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIG1hcDogUHJvcFR5cGVzLm9iamVjdFxuICAgIH07XG4gICAgcmV0dXJuIFpvb21Db250cm9sO1xufShSZWFjdC5Db21wb25lbnQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFpvb21Db250cm9sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9vbS1jb250cm9sLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32\n")},
/*!***************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/popup.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar projected_layer_1 = __webpack_require__(/*! ./projected-layer */ 8);\nvar classname_1 = __webpack_require__(/*! ./util/classname */ 9);\nexports.defaultClassName = [\'mapboxgl-popup\'];\nvar Popup = (function (_super) {\n    __extends(Popup, _super);\n    function Popup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Popup.prototype.render = function () {\n        var _a = this.props, children = _a.children, className = _a.className;\n        var props = __assign({}, this.props, { children: undefined });\n        var childrenClassName = classname_1.getClassName(exports.defaultClassName, className);\n        return (React.createElement(projected_layer_1.default, __assign({}, props, { type: "popup", className: childrenClassName }),\n            React.createElement("div", { className: "mapboxgl-popup-tip" }),\n            React.createElement("div", { className: "mapboxgl-popup-content" }, children)));\n    };\n    return Popup;\n}(React.Component));\nexports.default = Popup;\n//# sourceMappingURL=popup.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9wb3B1cC5qcz83NGE2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBwcm9qZWN0ZWRfbGF5ZXJfMSA9IHJlcXVpcmUoXCIuL3Byb2plY3RlZC1sYXllclwiKTtcbnZhciBjbGFzc25hbWVfMSA9IHJlcXVpcmUoXCIuL3V0aWwvY2xhc3NuYW1lXCIpO1xuZXhwb3J0cy5kZWZhdWx0Q2xhc3NOYW1lID0gWydtYXBib3hnbC1wb3B1cCddO1xudmFyIFBvcHVwID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUG9wdXAsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUG9wdXAoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgUG9wdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lO1xuICAgICAgICB2YXIgcHJvcHMgPSBfX2Fzc2lnbih7fSwgdGhpcy5wcm9wcywgeyBjaGlsZHJlbjogdW5kZWZpbmVkIH0pO1xuICAgICAgICB2YXIgY2hpbGRyZW5DbGFzc05hbWUgPSBjbGFzc25hbWVfMS5nZXRDbGFzc05hbWUoZXhwb3J0cy5kZWZhdWx0Q2xhc3NOYW1lLCBjbGFzc05hbWUpO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQocHJvamVjdGVkX2xheWVyXzEuZGVmYXVsdCwgX19hc3NpZ24oe30sIHByb3BzLCB7IHR5cGU6IFwicG9wdXBcIiwgY2xhc3NOYW1lOiBjaGlsZHJlbkNsYXNzTmFtZSB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWFwYm94Z2wtcG9wdXAtdGlwXCIgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1hcGJveGdsLXBvcHVwLWNvbnRlbnRcIiB9LCBjaGlsZHJlbikpKTtcbiAgICB9O1xuICAgIHJldHVybiBQb3B1cDtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBQb3B1cDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvcHVwLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///33\n')},
/*!***********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/util/overlays.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mapbox_gl_1 = __webpack_require__(/*! mapbox-gl */ 2);\nexports.anchors = [\n    'center',\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'top-left',\n    'top-right',\n    'bottom-left',\n    'bottom-right'\n];\nexports.anchorTranslates = {\n    center: 'translate(-50%, -50%)',\n    top: 'translate(-50%, 0)',\n    left: 'translate(0, -50%)',\n    right: 'translate(-100%, -50%)',\n    bottom: 'translate(-50%, -100%)',\n    'top-left': 'translate(0, 0)',\n    'top-right': 'translate(-100%, 0)',\n    'bottom-left': 'translate(0, -100%)',\n    'bottom-right': 'translate(-100%, -100%)'\n};\nvar defaultElement = { offsetWidth: 0, offsetHeight: 0 };\nvar defaultPoint = [0, 0];\nvar projectCoordinates = function (map, coordinates) {\n    return map.project(mapbox_gl_1.LngLat.convert(coordinates));\n};\nvar calculateAnchor = function (map, offsets, position, _a) {\n    var _b = _a === void 0 ? defaultElement : _a, offsetHeight = _b.offsetHeight, offsetWidth = _b.offsetWidth;\n    var anchor = [];\n    if (position.y + offsets.bottom.y - offsetHeight < 0) {\n        anchor = [exports.anchors[1]];\n    }\n    else if (position.y + offsets.top.y + offsetHeight >\n        map.transform.height) {\n        anchor = [exports.anchors[2]];\n    }\n    if (position.x < offsetWidth / 2) {\n        anchor.push(exports.anchors[3]);\n    }\n    else if (position.x > map.transform.width - offsetWidth / 2) {\n        anchor.push(exports.anchors[4]);\n    }\n    if (anchor.length === 0) {\n        return exports.anchors[2];\n    }\n    return anchor.join('-');\n};\nvar normalizedOffsets = function (offset) {\n    if (!offset) {\n        return normalizedOffsets(new mapbox_gl_1.Point(0, 0));\n    }\n    if (typeof offset === 'number') {\n        var cornerOffset = Math.round(Math.sqrt(0.5 * Math.pow(offset, 2)));\n        return {\n            center: new mapbox_gl_1.Point(offset, offset),\n            top: new mapbox_gl_1.Point(0, offset),\n            bottom: new mapbox_gl_1.Point(0, -offset),\n            left: new mapbox_gl_1.Point(offset, 0),\n            right: new mapbox_gl_1.Point(-offset, 0),\n            'top-left': new mapbox_gl_1.Point(cornerOffset, cornerOffset),\n            'top-right': new mapbox_gl_1.Point(-cornerOffset, cornerOffset),\n            'bottom-left': new mapbox_gl_1.Point(cornerOffset, -cornerOffset),\n            'bottom-right': new mapbox_gl_1.Point(-cornerOffset, -cornerOffset)\n        };\n    }\n    if (offset instanceof mapbox_gl_1.Point || Array.isArray(offset)) {\n        return exports.anchors.reduce(function (res, anchor) {\n            res[anchor] = mapbox_gl_1.Point.convert(offset);\n            return res;\n        }, {});\n    }\n    return exports.anchors.reduce(function (res, anchor) {\n        res[anchor] = mapbox_gl_1.Point.convert(offset[anchor] || defaultPoint);\n        return res;\n    }, {});\n};\nexports.overlayState = function (props, map, container) {\n    var position = projectCoordinates(map, props.coordinates);\n    var offsets = normalizedOffsets(props.offset);\n    var anchor = props.anchor || calculateAnchor(map, offsets, position, container);\n    return {\n        anchor: anchor,\n        position: position,\n        offset: offsets[anchor]\n    };\n};\nvar moveTranslate = function (point) {\n    return point ? \"translate(\" + point.x.toFixed(0) + \"px, \" + point.y.toFixed(0) + \"px)\" : '';\n};\nexports.overlayTransform = function (_a) {\n    var anchor = _a.anchor, position = _a.position, offset = _a.offset;\n    var res = [];\n    if (position) {\n        res.push(moveTranslate(position));\n    }\n    if (offset && offset.x !== undefined && offset.y !== undefined) {\n        res.push(moveTranslate(offset));\n    }\n    if (anchor) {\n        res.push(exports.anchorTranslates[anchor]);\n    }\n    return res;\n};\n//# sourceMappingURL=overlays.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi91dGlsL292ZXJsYXlzLmpzPzU2ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbWFwYm94X2dsXzEgPSByZXF1aXJlKFwibWFwYm94LWdsXCIpO1xuZXhwb3J0cy5hbmNob3JzID0gW1xuICAgICdjZW50ZXInLFxuICAgICd0b3AnLFxuICAgICdib3R0b20nLFxuICAgICdsZWZ0JyxcbiAgICAncmlnaHQnLFxuICAgICd0b3AtbGVmdCcsXG4gICAgJ3RvcC1yaWdodCcsXG4gICAgJ2JvdHRvbS1sZWZ0JyxcbiAgICAnYm90dG9tLXJpZ2h0J1xuXTtcbmV4cG9ydHMuYW5jaG9yVHJhbnNsYXRlcyA9IHtcbiAgICBjZW50ZXI6ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgIHRvcDogJ3RyYW5zbGF0ZSgtNTAlLCAwKScsXG4gICAgbGVmdDogJ3RyYW5zbGF0ZSgwLCAtNTAlKScsXG4gICAgcmlnaHQ6ICd0cmFuc2xhdGUoLTEwMCUsIC01MCUpJyxcbiAgICBib3R0b206ICd0cmFuc2xhdGUoLTUwJSwgLTEwMCUpJyxcbiAgICAndG9wLWxlZnQnOiAndHJhbnNsYXRlKDAsIDApJyxcbiAgICAndG9wLXJpZ2h0JzogJ3RyYW5zbGF0ZSgtMTAwJSwgMCknLFxuICAgICdib3R0b20tbGVmdCc6ICd0cmFuc2xhdGUoMCwgLTEwMCUpJyxcbiAgICAnYm90dG9tLXJpZ2h0JzogJ3RyYW5zbGF0ZSgtMTAwJSwgLTEwMCUpJ1xufTtcbnZhciBkZWZhdWx0RWxlbWVudCA9IHsgb2Zmc2V0V2lkdGg6IDAsIG9mZnNldEhlaWdodDogMCB9O1xudmFyIGRlZmF1bHRQb2ludCA9IFswLCAwXTtcbnZhciBwcm9qZWN0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAobWFwLCBjb29yZGluYXRlcykge1xuICAgIHJldHVybiBtYXAucHJvamVjdChtYXBib3hfZ2xfMS5MbmdMYXQuY29udmVydChjb29yZGluYXRlcykpO1xufTtcbnZhciBjYWxjdWxhdGVBbmNob3IgPSBmdW5jdGlvbiAobWFwLCBvZmZzZXRzLCBwb3NpdGlvbiwgX2EpIHtcbiAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8gZGVmYXVsdEVsZW1lbnQgOiBfYSwgb2Zmc2V0SGVpZ2h0ID0gX2Iub2Zmc2V0SGVpZ2h0LCBvZmZzZXRXaWR0aCA9IF9iLm9mZnNldFdpZHRoO1xuICAgIHZhciBhbmNob3IgPSBbXTtcbiAgICBpZiAocG9zaXRpb24ueSArIG9mZnNldHMuYm90dG9tLnkgLSBvZmZzZXRIZWlnaHQgPCAwKSB7XG4gICAgICAgIGFuY2hvciA9IFtleHBvcnRzLmFuY2hvcnNbMV1dO1xuICAgIH1cbiAgICBlbHNlIGlmIChwb3NpdGlvbi55ICsgb2Zmc2V0cy50b3AueSArIG9mZnNldEhlaWdodCA+XG4gICAgICAgIG1hcC50cmFuc2Zvcm0uaGVpZ2h0KSB7XG4gICAgICAgIGFuY2hvciA9IFtleHBvcnRzLmFuY2hvcnNbMl1dO1xuICAgIH1cbiAgICBpZiAocG9zaXRpb24ueCA8IG9mZnNldFdpZHRoIC8gMikge1xuICAgICAgICBhbmNob3IucHVzaChleHBvcnRzLmFuY2hvcnNbM10pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwb3NpdGlvbi54ID4gbWFwLnRyYW5zZm9ybS53aWR0aCAtIG9mZnNldFdpZHRoIC8gMikge1xuICAgICAgICBhbmNob3IucHVzaChleHBvcnRzLmFuY2hvcnNbNF0pO1xuICAgIH1cbiAgICBpZiAoYW5jaG9yLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5hbmNob3JzWzJdO1xuICAgIH1cbiAgICByZXR1cm4gYW5jaG9yLmpvaW4oJy0nKTtcbn07XG52YXIgbm9ybWFsaXplZE9mZnNldHMgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRPZmZzZXRzKG5ldyBtYXBib3hfZ2xfMS5Qb2ludCgwLCAwKSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgY29ybmVyT2Zmc2V0ID0gTWF0aC5yb3VuZChNYXRoLnNxcnQoMC41ICogTWF0aC5wb3cob2Zmc2V0LCAyKSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2VudGVyOiBuZXcgbWFwYm94X2dsXzEuUG9pbnQob2Zmc2V0LCBvZmZzZXQpLFxuICAgICAgICAgICAgdG9wOiBuZXcgbWFwYm94X2dsXzEuUG9pbnQoMCwgb2Zmc2V0KSxcbiAgICAgICAgICAgIGJvdHRvbTogbmV3IG1hcGJveF9nbF8xLlBvaW50KDAsIC1vZmZzZXQpLFxuICAgICAgICAgICAgbGVmdDogbmV3IG1hcGJveF9nbF8xLlBvaW50KG9mZnNldCwgMCksXG4gICAgICAgICAgICByaWdodDogbmV3IG1hcGJveF9nbF8xLlBvaW50KC1vZmZzZXQsIDApLFxuICAgICAgICAgICAgJ3RvcC1sZWZ0JzogbmV3IG1hcGJveF9nbF8xLlBvaW50KGNvcm5lck9mZnNldCwgY29ybmVyT2Zmc2V0KSxcbiAgICAgICAgICAgICd0b3AtcmlnaHQnOiBuZXcgbWFwYm94X2dsXzEuUG9pbnQoLWNvcm5lck9mZnNldCwgY29ybmVyT2Zmc2V0KSxcbiAgICAgICAgICAgICdib3R0b20tbGVmdCc6IG5ldyBtYXBib3hfZ2xfMS5Qb2ludChjb3JuZXJPZmZzZXQsIC1jb3JuZXJPZmZzZXQpLFxuICAgICAgICAgICAgJ2JvdHRvbS1yaWdodCc6IG5ldyBtYXBib3hfZ2xfMS5Qb2ludCgtY29ybmVyT2Zmc2V0LCAtY29ybmVyT2Zmc2V0KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob2Zmc2V0IGluc3RhbmNlb2YgbWFwYm94X2dsXzEuUG9pbnQgfHwgQXJyYXkuaXNBcnJheShvZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLmFuY2hvcnMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGFuY2hvcikge1xuICAgICAgICAgICAgcmVzW2FuY2hvcl0gPSBtYXBib3hfZ2xfMS5Qb2ludC5jb252ZXJ0KG9mZnNldCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuICAgIHJldHVybiBleHBvcnRzLmFuY2hvcnMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGFuY2hvcikge1xuICAgICAgICByZXNbYW5jaG9yXSA9IG1hcGJveF9nbF8xLlBvaW50LmNvbnZlcnQob2Zmc2V0W2FuY2hvcl0gfHwgZGVmYXVsdFBvaW50KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9LCB7fSk7XG59O1xuZXhwb3J0cy5vdmVybGF5U3RhdGUgPSBmdW5jdGlvbiAocHJvcHMsIG1hcCwgY29udGFpbmVyKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gcHJvamVjdENvb3JkaW5hdGVzKG1hcCwgcHJvcHMuY29vcmRpbmF0ZXMpO1xuICAgIHZhciBvZmZzZXRzID0gbm9ybWFsaXplZE9mZnNldHMocHJvcHMub2Zmc2V0KTtcbiAgICB2YXIgYW5jaG9yID0gcHJvcHMuYW5jaG9yIHx8IGNhbGN1bGF0ZUFuY2hvcihtYXAsIG9mZnNldHMsIHBvc2l0aW9uLCBjb250YWluZXIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFuY2hvcjogYW5jaG9yLFxuICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgIG9mZnNldDogb2Zmc2V0c1thbmNob3JdXG4gICAgfTtcbn07XG52YXIgbW92ZVRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIHJldHVybiBwb2ludCA/IFwidHJhbnNsYXRlKFwiICsgcG9pbnQueC50b0ZpeGVkKDApICsgXCJweCwgXCIgKyBwb2ludC55LnRvRml4ZWQoMCkgKyBcInB4KVwiIDogJyc7XG59O1xuZXhwb3J0cy5vdmVybGF5VHJhbnNmb3JtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGFuY2hvciA9IF9hLmFuY2hvciwgcG9zaXRpb24gPSBfYS5wb3NpdGlvbiwgb2Zmc2V0ID0gX2Eub2Zmc2V0O1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgcmVzLnB1c2gobW92ZVRyYW5zbGF0ZShwb3NpdGlvbikpO1xuICAgIH1cbiAgICBpZiAob2Zmc2V0ICYmIG9mZnNldC54ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0LnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXMucHVzaChtb3ZlVHJhbnNsYXRlKG9mZnNldCkpO1xuICAgIH1cbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICAgIHJlcy5wdXNoKGV4cG9ydHMuYW5jaG9yVHJhbnNsYXRlc1thbmNob3JdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vdmVybGF5cy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34\n")},
/*!***********************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/scale-control.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar scales = [\n    0.01,\n    0.02,\n    0.05,\n    0.1,\n    0.2,\n    0.5,\n    1,\n    2,\n    5,\n    10,\n    20,\n    50,\n    100,\n    200,\n    500,\n    1000,\n    2 * 1000,\n    5 * 1000,\n    10 * 1000\n];\nvar positions = {\n    'top-right': { top: 10, right: 10, bottom: 'auto', left: 'auto' },\n    'top-left': { top: 10, left: 10, bottom: 'auto', right: 'auto' },\n    'bottom-right': { bottom: 10, right: 10, top: 'auto', left: 'auto' },\n    'bottom-left': { bottom: 10, left: 10, top: 'auto', right: 'auto' }\n};\nvar containerStyle = {\n    position: 'absolute',\n    zIndex: 10,\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    border: '1px solid rgba(0, 0, 0, 0.1)',\n    right: 50,\n    backgroundColor: '#fff',\n    opacity: 0.85,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    padding: '3px 7px'\n};\nvar scaleStyle = {\n    border: '2px solid #7e8490',\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    borderTop: 'none',\n    height: 7,\n    borderBottomLeftRadius: 1,\n    borderBottomRightRadius: 1\n};\nvar POSITIONS = Object.keys(positions);\nvar MEASUREMENTS = ['km', 'mi'];\nvar MILE_IN_KILOMETERS = 1.60934;\nvar MILE_IN_FEET = 5280;\nvar KILOMETER_IN_METERS = 1000;\nvar MIN_WIDTH_SCALE = 60;\nvar ScaleControl = (function (_super) {\n    __extends(ScaleControl, _super);\n    function ScaleControl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            chosenScale: 0,\n            scaleWidth: MIN_WIDTH_SCALE\n        };\n        _this.setScale = function () {\n            var map = _this.context.map;\n            var measurement = _this.props.measurement;\n            var clientWidth = map._canvas.clientWidth;\n            var _a = map.getBounds(), _ne = _a._ne, _sw = _a._sw;\n            var totalWidth = _this._getDistanceTwoPoints([_sw.lng, _ne.lat], [_ne.lng, _ne.lat], measurement);\n            var relativeWidth = totalWidth / clientWidth * MIN_WIDTH_SCALE;\n            var chosenScale = scales.reduce(function (acc, curr) {\n                if (!acc && curr > relativeWidth) {\n                    return curr;\n                }\n                return acc;\n            }, 0);\n            var scaleWidth = chosenScale / totalWidth * clientWidth;\n            _this.setState({\n                chosenScale: chosenScale,\n                scaleWidth: scaleWidth\n            });\n        };\n        return _this;\n    }\n    ScaleControl.prototype.componentWillMount = function () {\n        this.setScale();\n        this.context.map.on('zoomend', this.setScale);\n    };\n    ScaleControl.prototype.componentWillUnmount = function () {\n        if (this.context.map) {\n            this.context.map.off('zoomend', this.setScale);\n        }\n    };\n    ScaleControl.prototype._getDistanceTwoPoints = function (x, y, measurement) {\n        if (measurement === void 0) { measurement = 'km'; }\n        var lng1 = x[0], lat1 = x[1];\n        var lng2 = y[0], lat2 = y[1];\n        var R = measurement === 'km' ? 6371 : 6371 / MILE_IN_KILOMETERS;\n        var dLat = this._deg2rad(lat2 - lat1);\n        var dLng = this._deg2rad(lng2 - lng1);\n        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n            Math.cos(this._deg2rad(lat1)) *\n                Math.cos(this._deg2rad(lat2)) *\n                Math.sin(dLng / 2) *\n                Math.sin(dLng / 2);\n        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        var d = R * c;\n        return d;\n    };\n    ScaleControl.prototype._deg2rad = function (deg) {\n        return deg * (Math.PI / 180);\n    };\n    ScaleControl.prototype._displayMeasurement = function (measurement, chosenScale) {\n        if (chosenScale >= 1) {\n            return chosenScale + \" \" + measurement;\n        }\n        if (measurement === 'mi') {\n            return Math.floor(chosenScale * MILE_IN_FEET) + \" ft\";\n        }\n        return Math.floor(chosenScale * KILOMETER_IN_METERS) + \" m\";\n    };\n    ScaleControl.prototype.render = function () {\n        var _a = this.props, measurement = _a.measurement, style = _a.style, position = _a.position, className = _a.className, tabIndex = _a.tabIndex;\n        var _b = this.state, chosenScale = _b.chosenScale, scaleWidth = _b.scaleWidth;\n        return (React.createElement(\"div\", { tabIndex: tabIndex, style: __assign({}, containerStyle, positions[position], style), className: className },\n            React.createElement(\"div\", { style: __assign({}, scaleStyle, { width: scaleWidth }) }),\n            React.createElement(\"div\", { style: { paddingLeft: 10 } }, this._displayMeasurement(measurement, chosenScale))));\n    };\n    ScaleControl.contextTypes = {\n        map: PropTypes.object\n    };\n    ScaleControl.defaultProps = {\n        measurement: MEASUREMENTS[0],\n        position: POSITIONS[2]\n    };\n    return ScaleControl;\n}(React.Component));\nexports.default = ScaleControl;\n//# sourceMappingURL=scale-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9zY2FsZS1jb250cm9sLmpzPzg2ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIFByb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xudmFyIHNjYWxlcyA9IFtcbiAgICAwLjAxLFxuICAgIDAuMDIsXG4gICAgMC4wNSxcbiAgICAwLjEsXG4gICAgMC4yLFxuICAgIDAuNSxcbiAgICAxLFxuICAgIDIsXG4gICAgNSxcbiAgICAxMCxcbiAgICAyMCxcbiAgICA1MCxcbiAgICAxMDAsXG4gICAgMjAwLFxuICAgIDUwMCxcbiAgICAxMDAwLFxuICAgIDIgKiAxMDAwLFxuICAgIDUgKiAxMDAwLFxuICAgIDEwICogMTAwMFxuXTtcbnZhciBwb3NpdGlvbnMgPSB7XG4gICAgJ3RvcC1yaWdodCc6IHsgdG9wOiAxMCwgcmlnaHQ6IDEwLCBib3R0b206ICdhdXRvJywgbGVmdDogJ2F1dG8nIH0sXG4gICAgJ3RvcC1sZWZ0JzogeyB0b3A6IDEwLCBsZWZ0OiAxMCwgYm90dG9tOiAnYXV0bycsIHJpZ2h0OiAnYXV0bycgfSxcbiAgICAnYm90dG9tLXJpZ2h0JzogeyBib3R0b206IDEwLCByaWdodDogMTAsIHRvcDogJ2F1dG8nLCBsZWZ0OiAnYXV0bycgfSxcbiAgICAnYm90dG9tLWxlZnQnOiB7IGJvdHRvbTogMTAsIGxlZnQ6IDEwLCB0b3A6ICdhdXRvJywgcmlnaHQ6ICdhdXRvJyB9XG59O1xudmFyIGNvbnRhaW5lclN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHpJbmRleDogMTAsXG4gICAgYm94U2hhZG93OiAnMHB4IDFweCA0cHggcmdiYSgwLCAwLCAwLCAuMyknLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgIHJpZ2h0OiA1MCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcbiAgICBvcGFjaXR5OiAwLjg1LFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBhbGlnbkl0ZW1zOiAnYmFzZWxpbmUnLFxuICAgIHBhZGRpbmc6ICczcHggN3B4J1xufTtcbnZhciBzY2FsZVN0eWxlID0ge1xuICAgIGJvcmRlcjogJzJweCBzb2xpZCAjN2U4NDkwJyxcbiAgICBib3hTaGFkb3c6ICcwcHggMXB4IDRweCByZ2JhKDAsIDAsIDAsIC4zKScsXG4gICAgYm9yZGVyVG9wOiAnbm9uZScsXG4gICAgaGVpZ2h0OiA3LFxuICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IDEsXG4gICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IDFcbn07XG52YXIgUE9TSVRJT05TID0gT2JqZWN0LmtleXMocG9zaXRpb25zKTtcbnZhciBNRUFTVVJFTUVOVFMgPSBbJ2ttJywgJ21pJ107XG52YXIgTUlMRV9JTl9LSUxPTUVURVJTID0gMS42MDkzNDtcbnZhciBNSUxFX0lOX0ZFRVQgPSA1MjgwO1xudmFyIEtJTE9NRVRFUl9JTl9NRVRFUlMgPSAxMDAwO1xudmFyIE1JTl9XSURUSF9TQ0FMRSA9IDYwO1xudmFyIFNjYWxlQ29udHJvbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNjYWxlQ29udHJvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTY2FsZUNvbnRyb2woKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNob3NlblNjYWxlOiAwLFxuICAgICAgICAgICAgc2NhbGVXaWR0aDogTUlOX1dJRFRIX1NDQUxFXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNldFNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1hcCA9IF90aGlzLmNvbnRleHQubWFwO1xuICAgICAgICAgICAgdmFyIG1lYXN1cmVtZW50ID0gX3RoaXMucHJvcHMubWVhc3VyZW1lbnQ7XG4gICAgICAgICAgICB2YXIgY2xpZW50V2lkdGggPSBtYXAuX2NhbnZhcy5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHZhciBfYSA9IG1hcC5nZXRCb3VuZHMoKSwgX25lID0gX2EuX25lLCBfc3cgPSBfYS5fc3c7XG4gICAgICAgICAgICB2YXIgdG90YWxXaWR0aCA9IF90aGlzLl9nZXREaXN0YW5jZVR3b1BvaW50cyhbX3N3LmxuZywgX25lLmxhdF0sIFtfbmUubG5nLCBfbmUubGF0XSwgbWVhc3VyZW1lbnQpO1xuICAgICAgICAgICAgdmFyIHJlbGF0aXZlV2lkdGggPSB0b3RhbFdpZHRoIC8gY2xpZW50V2lkdGggKiBNSU5fV0lEVEhfU0NBTEU7XG4gICAgICAgICAgICB2YXIgY2hvc2VuU2NhbGUgPSBzY2FsZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFjYyAmJiBjdXJyID4gcmVsYXRpdmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgdmFyIHNjYWxlV2lkdGggPSBjaG9zZW5TY2FsZSAvIHRvdGFsV2lkdGggKiBjbGllbnRXaWR0aDtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBjaG9zZW5TY2FsZTogY2hvc2VuU2NhbGUsXG4gICAgICAgICAgICAgICAgc2NhbGVXaWR0aDogc2NhbGVXaWR0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2NhbGVDb250cm9sLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0U2NhbGUoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lm1hcC5vbignem9vbWVuZCcsIHRoaXMuc2V0U2NhbGUpO1xuICAgIH07XG4gICAgU2NhbGVDb250cm9sLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5tYXApIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5tYXAub2ZmKCd6b29tZW5kJywgdGhpcy5zZXRTY2FsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYWxlQ29udHJvbC5wcm90b3R5cGUuX2dldERpc3RhbmNlVHdvUG9pbnRzID0gZnVuY3Rpb24gKHgsIHksIG1lYXN1cmVtZW50KSB7XG4gICAgICAgIGlmIChtZWFzdXJlbWVudCA9PT0gdm9pZCAwKSB7IG1lYXN1cmVtZW50ID0gJ2ttJzsgfVxuICAgICAgICB2YXIgbG5nMSA9IHhbMF0sIGxhdDEgPSB4WzFdO1xuICAgICAgICB2YXIgbG5nMiA9IHlbMF0sIGxhdDIgPSB5WzFdO1xuICAgICAgICB2YXIgUiA9IG1lYXN1cmVtZW50ID09PSAna20nID8gNjM3MSA6IDYzNzEgLyBNSUxFX0lOX0tJTE9NRVRFUlM7XG4gICAgICAgIHZhciBkTGF0ID0gdGhpcy5fZGVnMnJhZChsYXQyIC0gbGF0MSk7XG4gICAgICAgIHZhciBkTG5nID0gdGhpcy5fZGVnMnJhZChsbmcyIC0gbG5nMSk7XG4gICAgICAgIHZhciBhID0gTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpICtcbiAgICAgICAgICAgIE1hdGguY29zKHRoaXMuX2RlZzJyYWQobGF0MSkpICpcbiAgICAgICAgICAgICAgICBNYXRoLmNvcyh0aGlzLl9kZWcycmFkKGxhdDIpKSAqXG4gICAgICAgICAgICAgICAgTWF0aC5zaW4oZExuZyAvIDIpICpcbiAgICAgICAgICAgICAgICBNYXRoLnNpbihkTG5nIC8gMik7XG4gICAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcbiAgICAgICAgdmFyIGQgPSBSICogYztcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgfTtcbiAgICBTY2FsZUNvbnRyb2wucHJvdG90eXBlLl9kZWcycmFkID0gZnVuY3Rpb24gKGRlZykge1xuICAgICAgICByZXR1cm4gZGVnICogKE1hdGguUEkgLyAxODApO1xuICAgIH07XG4gICAgU2NhbGVDb250cm9sLnByb3RvdHlwZS5fZGlzcGxheU1lYXN1cmVtZW50ID0gZnVuY3Rpb24gKG1lYXN1cmVtZW50LCBjaG9zZW5TY2FsZSkge1xuICAgICAgICBpZiAoY2hvc2VuU2NhbGUgPj0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNob3NlblNjYWxlICsgXCIgXCIgKyBtZWFzdXJlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVhc3VyZW1lbnQgPT09ICdtaScpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKGNob3NlblNjYWxlICogTUlMRV9JTl9GRUVUKSArIFwiIGZ0XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoY2hvc2VuU2NhbGUgKiBLSUxPTUVURVJfSU5fTUVURVJTKSArIFwiIG1cIjtcbiAgICB9O1xuICAgIFNjYWxlQ29udHJvbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBtZWFzdXJlbWVudCA9IF9hLm1lYXN1cmVtZW50LCBzdHlsZSA9IF9hLnN0eWxlLCBwb3NpdGlvbiA9IF9hLnBvc2l0aW9uLCBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsIHRhYkluZGV4ID0gX2EudGFiSW5kZXg7XG4gICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIGNob3NlblNjYWxlID0gX2IuY2hvc2VuU2NhbGUsIHNjYWxlV2lkdGggPSBfYi5zY2FsZVdpZHRoO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyB0YWJJbmRleDogdGFiSW5kZXgsIHN0eWxlOiBfX2Fzc2lnbih7fSwgY29udGFpbmVyU3R5bGUsIHBvc2l0aW9uc1twb3NpdGlvbl0sIHN0eWxlKSwgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogX19hc3NpZ24oe30sIHNjYWxlU3R5bGUsIHsgd2lkdGg6IHNjYWxlV2lkdGggfSkgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgcGFkZGluZ0xlZnQ6IDEwIH0gfSwgdGhpcy5fZGlzcGxheU1lYXN1cmVtZW50KG1lYXN1cmVtZW50LCBjaG9zZW5TY2FsZSkpKSk7XG4gICAgfTtcbiAgICBTY2FsZUNvbnRyb2wuY29udGV4dFR5cGVzID0ge1xuICAgICAgICBtYXA6IFByb3BUeXBlcy5vYmplY3RcbiAgICB9O1xuICAgIFNjYWxlQ29udHJvbC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIG1lYXN1cmVtZW50OiBNRUFTVVJFTUVOVFNbMF0sXG4gICAgICAgIHBvc2l0aW9uOiBQT1NJVElPTlNbMl1cbiAgICB9O1xuICAgIHJldHVybiBTY2FsZUNvbnRyb2w7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU2NhbGVDb250cm9sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NhbGUtY29udHJvbC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///35\n")},
/*!****************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/marker.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval('\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar projected_layer_1 = __webpack_require__(/*! ./projected-layer */ 8);\nvar classname_1 = __webpack_require__(/*! ./util/classname */ 9);\nvar defaultClassName = [\'mapboxgl-marker\'];\nvar Marker = function (props) { return (React.createElement(projected_layer_1.default, __assign({}, __assign({}, props), { type: "marker", className: classname_1.getClassName(defaultClassName, props.className) }))); };\nexports.default = Marker;\n//# sourceMappingURL=marker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9tYXJrZXIuanM/MzE2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIHByb2plY3RlZF9sYXllcl8xID0gcmVxdWlyZShcIi4vcHJvamVjdGVkLWxheWVyXCIpO1xudmFyIGNsYXNzbmFtZV8xID0gcmVxdWlyZShcIi4vdXRpbC9jbGFzc25hbWVcIik7XG52YXIgZGVmYXVsdENsYXNzTmFtZSA9IFsnbWFwYm94Z2wtbWFya2VyJ107XG52YXIgTWFya2VyID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChwcm9qZWN0ZWRfbGF5ZXJfMS5kZWZhdWx0LCBfX2Fzc2lnbih7fSwgX19hc3NpZ24oe30sIHByb3BzKSwgeyB0eXBlOiBcIm1hcmtlclwiLCBjbGFzc05hbWU6IGNsYXNzbmFtZV8xLmdldENsYXNzTmFtZShkZWZhdWx0Q2xhc3NOYW1lLCBwcm9wcy5jbGFzc05hbWUpIH0pKSk7IH07XG5leHBvcnRzLmRlZmF1bHQgPSBNYXJrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///36\n')},
/*!****************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/source.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar Source = (function (_super) {\n    __extends(Source, _super);\n    function Source() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = _this.props.id;\n        _this.onStyleDataChange = function () {\n            if (!_this.context.map.getLayer(_this.id)) {\n                _this.initialize();\n                _this.forceUpdate();\n            }\n        };\n        _this.initialize = function () {\n            var map = _this.context.map;\n            var _a = _this.props, geoJsonSource = _a.geoJsonSource, tileJsonSource = _a.tileJsonSource, onSourceAdded = _a.onSourceAdded;\n            if (!map.getSource(_this.id) && (geoJsonSource || tileJsonSource)) {\n                if (geoJsonSource) {\n                    map.addSource(_this.id, geoJsonSource);\n                }\n                else if (tileJsonSource) {\n                    map.addSource(_this.id, tileJsonSource);\n                }\n                map.on('sourcedata', _this.onData);\n                if (onSourceAdded) {\n                    onSourceAdded(map.getSource(_this.id));\n                }\n            }\n        };\n        _this.onData = function (event) {\n            var map = _this.context.map;\n            var source = map.getSource(_this.props.id);\n            if (!source || !map.isSourceLoaded(_this.props.id)) {\n                return;\n            }\n            var onSourceLoaded = _this.props.onSourceLoaded;\n            if (source && onSourceLoaded) {\n                onSourceLoaded(source);\n            }\n            if (source && _this.props.geoJsonSource && _this.props.geoJsonSource.data) {\n                source.setData(_this.props.geoJsonSource.data);\n            }\n            map.off('sourcedata', _this.onData);\n        };\n        return _this;\n    }\n    Source.prototype.componentWillMount = function () {\n        var map = this.context.map;\n        map.on('styledata', this.onStyleDataChange);\n        this.initialize();\n    };\n    Source.prototype.removeSource = function () {\n        var _this = this;\n        var map = this.context.map;\n        if (map.getSource(this.id)) {\n            var _a = map.getStyle().layers, layers_1 = _a === void 0 ? [] : _a;\n            layers_1 = layers_1\n                .map(function (layer, idx) {\n                var before = (layers_1[idx + 1] || { id: undefined }).id;\n                return __assign({}, layer, { before: before });\n            })\n                .filter(function (layer) { return layer.source === _this.id; });\n            layers_1.forEach(function (layer) { return map.removeLayer(layer.id); });\n            map.removeSource(this.id);\n            return layers_1.reverse();\n        }\n        return [];\n    };\n    Source.prototype.componentWillUnmount = function () {\n        var map = this.context.map;\n        if (!map || !map.getStyle()) {\n            return;\n        }\n        map.off('styledata', this.onStyleDataChange);\n        this.removeSource();\n    };\n    Source.prototype.componentWillReceiveProps = function (props) {\n        var _a = this.props, geoJsonSource = _a.geoJsonSource, tileJsonSource = _a.tileJsonSource;\n        var map = this.context.map;\n        if (tileJsonSource && props.tileJsonSource) {\n            var hasNewTilesSource = tileJsonSource.url !== props.tileJsonSource.url ||\n                tileJsonSource.tiles !== props.tileJsonSource.tiles ||\n                tileJsonSource.minzoom !== props.tileJsonSource.minzoom ||\n                tileJsonSource.maxzoom !== props.tileJsonSource.maxzoom;\n            if (hasNewTilesSource) {\n                var layers = this.removeSource();\n                map.addSource(this.id, props.tileJsonSource);\n                layers.forEach(function (layer) { return map.addLayer(layer, layer.before); });\n            }\n        }\n        if (geoJsonSource &&\n            props.geoJsonSource &&\n            props.geoJsonSource.data !== geoJsonSource.data &&\n            props.geoJsonSource.data &&\n            map.getSource(this.id)) {\n            var source = map.getSource(this.id);\n            source.setData(props.geoJsonSource.data);\n        }\n    };\n    Source.prototype.render = function () {\n        return null;\n    };\n    Source.contextTypes = {\n        map: PropTypes.object\n    };\n    return Source;\n}(React.Component));\nexports.default = Source;\n//# sourceMappingURL=source.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9zb3VyY2UuanM/ODhmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgUHJvcFR5cGVzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7XG52YXIgU291cmNlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNvdXJjZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlkID0gX3RoaXMucHJvcHMuaWQ7XG4gICAgICAgIF90aGlzLm9uU3R5bGVEYXRhQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5jb250ZXh0Lm1hcC5nZXRMYXllcihfdGhpcy5pZCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBnZW9Kc29uU291cmNlID0gX2EuZ2VvSnNvblNvdXJjZSwgdGlsZUpzb25Tb3VyY2UgPSBfYS50aWxlSnNvblNvdXJjZSwgb25Tb3VyY2VBZGRlZCA9IF9hLm9uU291cmNlQWRkZWQ7XG4gICAgICAgICAgICBpZiAoIW1hcC5nZXRTb3VyY2UoX3RoaXMuaWQpICYmIChnZW9Kc29uU291cmNlIHx8IHRpbGVKc29uU291cmNlKSkge1xuICAgICAgICAgICAgICAgIGlmIChnZW9Kc29uU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5hZGRTb3VyY2UoX3RoaXMuaWQsIGdlb0pzb25Tb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aWxlSnNvblNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBtYXAuYWRkU291cmNlKF90aGlzLmlkLCB0aWxlSnNvblNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcC5vbignc291cmNlZGF0YScsIF90aGlzLm9uRGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKG9uU291cmNlQWRkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Tb3VyY2VBZGRlZChtYXAuZ2V0U291cmNlKF90aGlzLmlkKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbkRhdGEgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBtYXAuZ2V0U291cmNlKF90aGlzLnByb3BzLmlkKTtcbiAgICAgICAgICAgIGlmICghc291cmNlIHx8ICFtYXAuaXNTb3VyY2VMb2FkZWQoX3RoaXMucHJvcHMuaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uU291cmNlTG9hZGVkID0gX3RoaXMucHJvcHMub25Tb3VyY2VMb2FkZWQ7XG4gICAgICAgICAgICBpZiAoc291cmNlICYmIG9uU291cmNlTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgb25Tb3VyY2VMb2FkZWQoc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb3VyY2UgJiYgX3RoaXMucHJvcHMuZ2VvSnNvblNvdXJjZSAmJiBfdGhpcy5wcm9wcy5nZW9Kc29uU291cmNlLmRhdGEpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2Uuc2V0RGF0YShfdGhpcy5wcm9wcy5nZW9Kc29uU291cmNlLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwLm9mZignc291cmNlZGF0YScsIF90aGlzLm9uRGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU291cmNlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLmNvbnRleHQubWFwO1xuICAgICAgICBtYXAub24oJ3N0eWxlZGF0YScsIHRoaXMub25TdHlsZURhdGFDaGFuZ2UpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9O1xuICAgIFNvdXJjZS5wcm90b3R5cGUucmVtb3ZlU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgaWYgKG1hcC5nZXRTb3VyY2UodGhpcy5pZCkpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IG1hcC5nZXRTdHlsZSgpLmxheWVycywgbGF5ZXJzXzEgPSBfYSA9PT0gdm9pZCAwID8gW10gOiBfYTtcbiAgICAgICAgICAgIGxheWVyc18xID0gbGF5ZXJzXzFcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChsYXllciwgaWR4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZSA9IChsYXllcnNfMVtpZHggKyAxXSB8fCB7IGlkOiB1bmRlZmluZWQgfSkuaWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBsYXllciwgeyBiZWZvcmU6IGJlZm9yZSB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobGF5ZXIpIHsgcmV0dXJuIGxheWVyLnNvdXJjZSA9PT0gX3RoaXMuaWQ7IH0pO1xuICAgICAgICAgICAgbGF5ZXJzXzEuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHsgcmV0dXJuIG1hcC5yZW1vdmVMYXllcihsYXllci5pZCk7IH0pO1xuICAgICAgICAgICAgbWFwLnJlbW92ZVNvdXJjZSh0aGlzLmlkKTtcbiAgICAgICAgICAgIHJldHVybiBsYXllcnNfMS5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH07XG4gICAgU291cmNlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuY29udGV4dC5tYXA7XG4gICAgICAgIGlmICghbWFwIHx8ICFtYXAuZ2V0U3R5bGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1hcC5vZmYoJ3N0eWxlZGF0YScsIHRoaXMub25TdHlsZURhdGFDaGFuZ2UpO1xuICAgICAgICB0aGlzLnJlbW92ZVNvdXJjZSgpO1xuICAgIH07XG4gICAgU291cmNlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGdlb0pzb25Tb3VyY2UgPSBfYS5nZW9Kc29uU291cmNlLCB0aWxlSnNvblNvdXJjZSA9IF9hLnRpbGVKc29uU291cmNlO1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgaWYgKHRpbGVKc29uU291cmNlICYmIHByb3BzLnRpbGVKc29uU291cmNlKSB7XG4gICAgICAgICAgICB2YXIgaGFzTmV3VGlsZXNTb3VyY2UgPSB0aWxlSnNvblNvdXJjZS51cmwgIT09IHByb3BzLnRpbGVKc29uU291cmNlLnVybCB8fFxuICAgICAgICAgICAgICAgIHRpbGVKc29uU291cmNlLnRpbGVzICE9PSBwcm9wcy50aWxlSnNvblNvdXJjZS50aWxlcyB8fFxuICAgICAgICAgICAgICAgIHRpbGVKc29uU291cmNlLm1pbnpvb20gIT09IHByb3BzLnRpbGVKc29uU291cmNlLm1pbnpvb20gfHxcbiAgICAgICAgICAgICAgICB0aWxlSnNvblNvdXJjZS5tYXh6b29tICE9PSBwcm9wcy50aWxlSnNvblNvdXJjZS5tYXh6b29tO1xuICAgICAgICAgICAgaWYgKGhhc05ld1RpbGVzU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVycyA9IHRoaXMucmVtb3ZlU291cmNlKCk7XG4gICAgICAgICAgICAgICAgbWFwLmFkZFNvdXJjZSh0aGlzLmlkLCBwcm9wcy50aWxlSnNvblNvdXJjZSk7XG4gICAgICAgICAgICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7IHJldHVybiBtYXAuYWRkTGF5ZXIobGF5ZXIsIGxheWVyLmJlZm9yZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChnZW9Kc29uU291cmNlICYmXG4gICAgICAgICAgICBwcm9wcy5nZW9Kc29uU291cmNlICYmXG4gICAgICAgICAgICBwcm9wcy5nZW9Kc29uU291cmNlLmRhdGEgIT09IGdlb0pzb25Tb3VyY2UuZGF0YSAmJlxuICAgICAgICAgICAgcHJvcHMuZ2VvSnNvblNvdXJjZS5kYXRhICYmXG4gICAgICAgICAgICBtYXAuZ2V0U291cmNlKHRoaXMuaWQpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gbWFwLmdldFNvdXJjZSh0aGlzLmlkKTtcbiAgICAgICAgICAgIHNvdXJjZS5zZXREYXRhKHByb3BzLmdlb0pzb25Tb3VyY2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNvdXJjZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFNvdXJjZS5jb250ZXh0VHlwZXMgPSB7XG4gICAgICAgIG1hcDogUHJvcFR5cGVzLm9iamVjdFxuICAgIH07XG4gICAgcmV0dXJuIFNvdXJjZTtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTb3VyY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zb3VyY2UuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///37\n")},
/*!*****************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/cluster.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar mapbox_gl_1 = __webpack_require__(/*! mapbox-gl */ 2);\nvar supercluster_1 = __webpack_require__(/*! supercluster */ 39);\nvar bbox = __webpack_require__(/*! @turf/bbox */ 44);\nvar helpers_1 = __webpack_require__(/*! @turf/helpers */ 46);\nvar Cluster = (function (_super) {\n    __extends(Cluster, _super);\n    function Cluster() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            superC: supercluster_1.default({\n                radius: _this.props.radius,\n                maxZoom: _this.props.maxZoom,\n                minZoom: _this.props.minZoom,\n                extent: _this.props.extent,\n                nodeSize: _this.props.nodeSize,\n                log: _this.props.log\n            }),\n            clusterPoints: []\n        };\n        _this.featureClusterMap = new WeakMap();\n        _this.childrenChange = function (newChildren) {\n            var superC = _this.state.superC;\n            _this.featureClusterMap = new WeakMap();\n            var features = _this.childrenToFeatures(newChildren);\n            superC.load(features);\n        };\n        _this.mapChange = function (forceSetState) {\n            if (forceSetState === void 0) { forceSetState = false; }\n            var map = _this.context.map;\n            var _a = _this.state, superC = _a.superC, clusterPoints = _a.clusterPoints;\n            var zoom = map.getZoom();\n            var canvas = map.getCanvas();\n            var w = canvas.width;\n            var h = canvas.height;\n            var upLeft = map.unproject([0, 0]).toArray();\n            var upRight = map.unproject([w, 0]).toArray();\n            var downRight = map.unproject([w, h]).toArray();\n            var downLeft = map.unproject([0, h]).toArray();\n            var newPoints = superC.getClusters(bbox(helpers_1.polygon([[upLeft, upRight, downRight, downLeft, upLeft]])), Math.round(zoom));\n            if (newPoints.length !== clusterPoints.length || forceSetState) {\n                _this.setState({ clusterPoints: newPoints });\n            }\n        };\n        _this.childrenToFeatures = function (children) {\n            return children.map(function (child) {\n                var feature = _this.feature(child && child.props.coordinates);\n                _this.featureClusterMap.set(feature, child);\n                return feature;\n            });\n        };\n        _this.getLeaves = function (feature, limit, offset) {\n            var superC = _this.state.superC;\n            return superC\n                .getLeaves(feature.properties && feature.properties.cluster_id, limit || Infinity, offset)\n                .map(function (leave) { return _this.featureClusterMap.get(leave); });\n        };\n        _this.zoomToClusterBounds = function (event) {\n            var markers = Array.prototype.slice.call(event.currentTarget.children);\n            var marker = _this.findMarkerElement(event.currentTarget, event.target);\n            var index = markers.indexOf(marker);\n            var cluster = _this.state.clusterPoints[index];\n            if (!cluster.properties || !cluster.properties.cluster_id) {\n                return;\n            }\n            var children = _this.state.superC.getLeaves(cluster.properties && cluster.properties.cluster_id, Infinity);\n            var childrenBbox = bbox(helpers_1.featureCollection(children));\n            _this.context.map.fitBounds(mapbox_gl_1.LngLatBounds.convert(childrenBbox), {\n                padding: _this.props.zoomOnClickPadding\n            });\n        };\n        return _this;\n    }\n    Cluster.prototype.componentWillMount = function () {\n        var map = this.context.map;\n        var children = this.props.children;\n        if (children) {\n            this.childrenChange(children);\n        }\n        map.on('move', this.mapChange);\n        map.on('zoom', this.mapChange);\n        this.mapChange();\n    };\n    Cluster.prototype.componentWillReceiveProps = function (nextProps) {\n        var children = this.props.children;\n        if (children !== nextProps.children && nextProps.children) {\n            this.childrenChange(nextProps.children);\n            this.mapChange(true);\n        }\n    };\n    Cluster.prototype.feature = function (coordinates) {\n        return {\n            type: 'Feature',\n            geometry: {\n                type: 'Point',\n                coordinates: coordinates\n            },\n            properties: {}\n        };\n    };\n    Cluster.prototype.findMarkerElement = function (target, element) {\n        if (element.parentElement === target) {\n            return element;\n        }\n        return this.findMarkerElement(target, element.parentElement);\n    };\n    Cluster.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, ClusterMarkerFactory = _a.ClusterMarkerFactory, style = _a.style, className = _a.className, tabIndex = _a.tabIndex;\n        var clusterPoints = this.state.clusterPoints;\n        return (React.createElement(\"div\", { style: style, className: className, tabIndex: tabIndex, onClick: this.props.zoomOnClick ? this.zoomToClusterBounds : undefined }, clusterPoints.map(function (feature) {\n            if (feature.properties && feature.properties.cluster) {\n                return ClusterMarkerFactory(feature.geometry.coordinates, feature.properties.point_count, _this.getLeaves.bind(_this, feature));\n            }\n            return _this.featureClusterMap.get(feature);\n        })));\n    };\n    Cluster.contextTypes = {\n        map: PropTypes.object\n    };\n    Cluster.defaultProps = {\n        radius: 60,\n        minZoom: 0,\n        maxZoom: 16,\n        extent: 512,\n        nodeSize: 64,\n        log: false,\n        zoomOnClick: false,\n        zoomOnClickPadding: 20\n    };\n    return Cluster;\n}(React.Component));\nexports.default = Cluster;\n//# sourceMappingURL=cluster.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9jbHVzdGVyLmpzPzNkYzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBQcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlc1wiKTtcbnZhciBtYXBib3hfZ2xfMSA9IHJlcXVpcmUoXCJtYXBib3gtZ2xcIik7XG52YXIgc3VwZXJjbHVzdGVyXzEgPSByZXF1aXJlKFwic3VwZXJjbHVzdGVyXCIpO1xudmFyIGJib3ggPSByZXF1aXJlKFwiQHR1cmYvYmJveFwiKTtcbnZhciBoZWxwZXJzXzEgPSByZXF1aXJlKFwiQHR1cmYvaGVscGVyc1wiKTtcbnZhciBDbHVzdGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2x1c3RlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDbHVzdGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzdXBlckM6IHN1cGVyY2x1c3Rlcl8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgICAgIHJhZGl1czogX3RoaXMucHJvcHMucmFkaXVzLFxuICAgICAgICAgICAgICAgIG1heFpvb206IF90aGlzLnByb3BzLm1heFpvb20sXG4gICAgICAgICAgICAgICAgbWluWm9vbTogX3RoaXMucHJvcHMubWluWm9vbSxcbiAgICAgICAgICAgICAgICBleHRlbnQ6IF90aGlzLnByb3BzLmV4dGVudCxcbiAgICAgICAgICAgICAgICBub2RlU2l6ZTogX3RoaXMucHJvcHMubm9kZVNpemUsXG4gICAgICAgICAgICAgICAgbG9nOiBfdGhpcy5wcm9wcy5sb2dcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY2x1c3RlclBvaW50czogW11cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZmVhdHVyZUNsdXN0ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBfdGhpcy5jaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIChuZXdDaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIHN1cGVyQyA9IF90aGlzLnN0YXRlLnN1cGVyQztcbiAgICAgICAgICAgIF90aGlzLmZlYXR1cmVDbHVzdGVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgICAgIHZhciBmZWF0dXJlcyA9IF90aGlzLmNoaWxkcmVuVG9GZWF0dXJlcyhuZXdDaGlsZHJlbik7XG4gICAgICAgICAgICBzdXBlckMubG9hZChmZWF0dXJlcyk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm1hcENoYW5nZSA9IGZ1bmN0aW9uIChmb3JjZVNldFN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoZm9yY2VTZXRTdGF0ZSA9PT0gdm9pZCAwKSB7IGZvcmNlU2V0U3RhdGUgPSBmYWxzZTsgfVxuICAgICAgICAgICAgdmFyIG1hcCA9IF90aGlzLmNvbnRleHQubWFwO1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuc3RhdGUsIHN1cGVyQyA9IF9hLnN1cGVyQywgY2x1c3RlclBvaW50cyA9IF9hLmNsdXN0ZXJQb2ludHM7XG4gICAgICAgICAgICB2YXIgem9vbSA9IG1hcC5nZXRab29tKCk7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gbWFwLmdldENhbnZhcygpO1xuICAgICAgICAgICAgdmFyIHcgPSBjYW52YXMud2lkdGg7XG4gICAgICAgICAgICB2YXIgaCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgdXBMZWZ0ID0gbWFwLnVucHJvamVjdChbMCwgMF0pLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciB1cFJpZ2h0ID0gbWFwLnVucHJvamVjdChbdywgMF0pLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciBkb3duUmlnaHQgPSBtYXAudW5wcm9qZWN0KFt3LCBoXSkudG9BcnJheSgpO1xuICAgICAgICAgICAgdmFyIGRvd25MZWZ0ID0gbWFwLnVucHJvamVjdChbMCwgaF0pLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciBuZXdQb2ludHMgPSBzdXBlckMuZ2V0Q2x1c3RlcnMoYmJveChoZWxwZXJzXzEucG9seWdvbihbW3VwTGVmdCwgdXBSaWdodCwgZG93blJpZ2h0LCBkb3duTGVmdCwgdXBMZWZ0XV0pKSwgTWF0aC5yb3VuZCh6b29tKSk7XG4gICAgICAgICAgICBpZiAobmV3UG9pbnRzLmxlbmd0aCAhPT0gY2x1c3RlclBvaW50cy5sZW5ndGggfHwgZm9yY2VTZXRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgY2x1c3RlclBvaW50czogbmV3UG9pbnRzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5jaGlsZHJlblRvRmVhdHVyZXMgPSBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZlYXR1cmUgPSBfdGhpcy5mZWF0dXJlKGNoaWxkICYmIGNoaWxkLnByb3BzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5mZWF0dXJlQ2x1c3Rlck1hcC5zZXQoZmVhdHVyZSwgY2hpbGQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldExlYXZlcyA9IGZ1bmN0aW9uIChmZWF0dXJlLCBsaW1pdCwgb2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgc3VwZXJDID0gX3RoaXMuc3RhdGUuc3VwZXJDO1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyQ1xuICAgICAgICAgICAgICAgIC5nZXRMZWF2ZXMoZmVhdHVyZS5wcm9wZXJ0aWVzICYmIGZlYXR1cmUucHJvcGVydGllcy5jbHVzdGVyX2lkLCBsaW1pdCB8fCBJbmZpbml0eSwgb2Zmc2V0KVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGxlYXZlKSB7IHJldHVybiBfdGhpcy5mZWF0dXJlQ2x1c3Rlck1hcC5nZXQobGVhdmUpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuem9vbVRvQ2x1c3RlckJvdW5kcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChldmVudC5jdXJyZW50VGFyZ2V0LmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSBfdGhpcy5maW5kTWFya2VyRWxlbWVudChldmVudC5jdXJyZW50VGFyZ2V0LCBldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbWFya2Vycy5pbmRleE9mKG1hcmtlcik7XG4gICAgICAgICAgICB2YXIgY2x1c3RlciA9IF90aGlzLnN0YXRlLmNsdXN0ZXJQb2ludHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFjbHVzdGVyLnByb3BlcnRpZXMgfHwgIWNsdXN0ZXIucHJvcGVydGllcy5jbHVzdGVyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMuc3RhdGUuc3VwZXJDLmdldExlYXZlcyhjbHVzdGVyLnByb3BlcnRpZXMgJiYgY2x1c3Rlci5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQsIEluZmluaXR5KTtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbkJib3ggPSBiYm94KGhlbHBlcnNfMS5mZWF0dXJlQ29sbGVjdGlvbihjaGlsZHJlbikpO1xuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5tYXAuZml0Qm91bmRzKG1hcGJveF9nbF8xLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KGNoaWxkcmVuQmJveCksIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBfdGhpcy5wcm9wcy56b29tT25DbGlja1BhZGRpbmdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENsdXN0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuY29udGV4dC5tYXA7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbkNoYW5nZShjaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgbWFwLm9uKCdtb3ZlJywgdGhpcy5tYXBDaGFuZ2UpO1xuICAgICAgICBtYXAub24oJ3pvb20nLCB0aGlzLm1hcENoYW5nZSk7XG4gICAgICAgIHRoaXMubWFwQ2hhbmdlKCk7XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgICBpZiAoY2hpbGRyZW4gIT09IG5leHRQcm9wcy5jaGlsZHJlbiAmJiBuZXh0UHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5DaGFuZ2UobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHRoaXMubWFwQ2hhbmdlKHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDbHVzdGVyLnByb3RvdHlwZS5mZWF0dXJlID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4gICAgICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvcGVydGllczoge31cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIENsdXN0ZXIucHJvdG90eXBlLmZpbmRNYXJrZXJFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCwgZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRNYXJrZXJFbGVtZW50KHRhcmdldCwgZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbiAgICB9O1xuICAgIENsdXN0ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgQ2x1c3Rlck1hcmtlckZhY3RvcnkgPSBfYS5DbHVzdGVyTWFya2VyRmFjdG9yeSwgc3R5bGUgPSBfYS5zdHlsZSwgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLCB0YWJJbmRleCA9IF9hLnRhYkluZGV4O1xuICAgICAgICB2YXIgY2x1c3RlclBvaW50cyA9IHRoaXMuc3RhdGUuY2x1c3RlclBvaW50cztcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHN0eWxlLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgdGFiSW5kZXg6IHRhYkluZGV4LCBvbkNsaWNrOiB0aGlzLnByb3BzLnpvb21PbkNsaWNrID8gdGhpcy56b29tVG9DbHVzdGVyQm91bmRzIDogdW5kZWZpbmVkIH0sIGNsdXN0ZXJQb2ludHMubWFwKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzICYmIGZlYXR1cmUucHJvcGVydGllcy5jbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENsdXN0ZXJNYXJrZXJGYWN0b3J5KGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsIGZlYXR1cmUucHJvcGVydGllcy5wb2ludF9jb3VudCwgX3RoaXMuZ2V0TGVhdmVzLmJpbmQoX3RoaXMsIGZlYXR1cmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZWF0dXJlQ2x1c3Rlck1hcC5nZXQoZmVhdHVyZSk7XG4gICAgICAgIH0pKSk7XG4gICAgfTtcbiAgICBDbHVzdGVyLmNvbnRleHRUeXBlcyA9IHtcbiAgICAgICAgbWFwOiBQcm9wVHlwZXMub2JqZWN0XG4gICAgfTtcbiAgICBDbHVzdGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgcmFkaXVzOiA2MCxcbiAgICAgICAgbWluWm9vbTogMCxcbiAgICAgICAgbWF4Wm9vbTogMTYsXG4gICAgICAgIGV4dGVudDogNTEyLFxuICAgICAgICBub2RlU2l6ZTogNjQsXG4gICAgICAgIGxvZzogZmFsc2UsXG4gICAgICAgIHpvb21PbkNsaWNrOiBmYWxzZSxcbiAgICAgICAgem9vbU9uQ2xpY2tQYWRkaW5nOiAyMFxuICAgIH07XG4gICAgcmV0dXJuIENsdXN0ZXI7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2x1c3Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsdXN0ZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///38\n")},
/*!*************************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/supercluster/index.js ***!
  \*************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nvar kdbush = __webpack_require__(/*! kdbush */ 40);\n\nmodule.exports = supercluster;\nmodule.exports.default = supercluster;\n\nfunction supercluster(options) {\n    return new SuperCluster(options);\n}\n\nfunction SuperCluster(options) {\n    this.options = extend(Object.create(this.options), options);\n    this.trees = new Array(this.options.maxZoom + 1);\n}\n\nSuperCluster.prototype = {\n    options: {\n        minZoom: 0,   // min zoom to generate clusters on\n        maxZoom: 16,  // max zoom level to cluster the points on\n        radius: 40,   // cluster radius in pixels\n        extent: 512,  // tile extent (radius is calculated relative to it)\n        nodeSize: 64, // size of the KD-tree leaf node, affects performance\n        log: false,   // whether to log timing info\n\n        // a reduce function for calculating custom cluster properties\n        reduce: null, // function (accumulated, props) { accumulated.sum += props.sum; }\n\n        // initial properties of a cluster (before running the reducer)\n        initial: function () { return {}; }, // function () { return {sum: 0}; },\n\n        // properties to use for individual points when running the reducer\n        map: function (props) { return props; } // function (props) { return {sum: props.my_value}; },\n    },\n\n    load: function (points) {\n        var log = this.options.log;\n\n        if (log) console.time('total time');\n\n        var timerId = 'prepare ' + points.length + ' points';\n        if (log) console.time(timerId);\n\n        this.points = points;\n\n        // generate a cluster object for each point and index input points into a KD-tree\n        var clusters = [];\n        for (var i = 0; i < points.length; i++) {\n            if (!points[i].geometry) {\n                continue;\n            }\n            clusters.push(createPointCluster(points[i], i));\n        }\n        this.trees[this.options.maxZoom + 1] = kdbush(clusters, getX, getY, this.options.nodeSize, Float32Array);\n\n        if (log) console.timeEnd(timerId);\n\n        // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n        // results in a cluster hierarchy across zoom levels\n        for (var z = this.options.maxZoom; z >= this.options.minZoom; z--) {\n            var now = +Date.now();\n\n            // create a new set of clusters for the zoom and index them with a KD-tree\n            clusters = this._cluster(clusters, z);\n            this.trees[z] = kdbush(clusters, getX, getY, this.options.nodeSize, Float32Array);\n\n            if (log) console.log('z%d: %d clusters in %dms', z, clusters.length, +Date.now() - now);\n        }\n\n        if (log) console.timeEnd('total time');\n\n        return this;\n    },\n\n    getClusters: function (bbox, zoom) {\n        if (bbox[0] > bbox[2]) {\n            var easternHem = this.getClusters([bbox[0], bbox[1], 180, bbox[3]], zoom);\n            var westernHem = this.getClusters([-180, bbox[1], bbox[2], bbox[3]], zoom);\n            return easternHem.concat(westernHem);\n        }\n\n        var tree = this.trees[this._limitZoom(zoom)];\n        var ids = tree.range(lngX(bbox[0]), latY(bbox[3]), lngX(bbox[2]), latY(bbox[1]));\n        var clusters = [];\n        for (var i = 0; i < ids.length; i++) {\n            var c = tree.points[ids[i]];\n            clusters.push(c.numPoints ? getClusterJSON(c) : this.points[c.id]);\n        }\n        return clusters;\n    },\n\n    getChildren: function (clusterId) {\n        var originId = clusterId >> 5;\n        var originZoom = clusterId % 32;\n        var errorMsg = 'No cluster with the specified id.';\n\n        var index = this.trees[originZoom];\n        if (!index) throw new Error(errorMsg);\n\n        var origin = index.points[originId];\n        if (!origin) throw new Error(errorMsg);\n\n        var r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n        var ids = index.within(origin.x, origin.y, r);\n        var children = [];\n        for (var i = 0; i < ids.length; i++) {\n            var c = index.points[ids[i]];\n            if (c.parentId === clusterId) {\n                children.push(c.numPoints ? getClusterJSON(c) : this.points[c.id]);\n            }\n        }\n\n        if (children.length === 0) throw new Error(errorMsg);\n\n        return children;\n    },\n\n    getLeaves: function (clusterId, limit, offset) {\n        limit = limit || 10;\n        offset = offset || 0;\n\n        var leaves = [];\n        this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n        return leaves;\n    },\n\n    getTile: function (z, x, y) {\n        var tree = this.trees[this._limitZoom(z)];\n        var z2 = Math.pow(2, z);\n        var extent = this.options.extent;\n        var r = this.options.radius;\n        var p = r / extent;\n        var top = (y - p) / z2;\n        var bottom = (y + 1 + p) / z2;\n\n        var tile = {\n            features: []\n        };\n\n        this._addTileFeatures(\n            tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n            tree.points, x, y, z2, tile);\n\n        if (x === 0) {\n            this._addTileFeatures(\n                tree.range(1 - p / z2, top, 1, bottom),\n                tree.points, z2, y, z2, tile);\n        }\n        if (x === z2 - 1) {\n            this._addTileFeatures(\n                tree.range(0, top, p / z2, bottom),\n                tree.points, -1, y, z2, tile);\n        }\n\n        return tile.features.length ? tile : null;\n    },\n\n    getClusterExpansionZoom: function (clusterId) {\n        var clusterZoom = (clusterId % 32) - 1;\n        while (clusterZoom < this.options.maxZoom) {\n            var children = this.getChildren(clusterId);\n            clusterZoom++;\n            if (children.length !== 1) break;\n            clusterId = children[0].properties.cluster_id;\n        }\n        return clusterZoom;\n    },\n\n    _appendLeaves: function (result, clusterId, limit, offset, skipped) {\n        var children = this.getChildren(clusterId);\n\n        for (var i = 0; i < children.length; i++) {\n            var props = children[i].properties;\n\n            if (props && props.cluster) {\n                if (skipped + props.point_count <= offset) {\n                    // skip the whole cluster\n                    skipped += props.point_count;\n                } else {\n                    // enter the cluster\n                    skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                    // exit the cluster\n                }\n            } else if (skipped < offset) {\n                // skip a single point\n                skipped++;\n            } else {\n                // add a single point\n                result.push(children[i]);\n            }\n            if (result.length === limit) break;\n        }\n\n        return skipped;\n    },\n\n    _addTileFeatures: function (ids, points, x, y, z2, tile) {\n        for (var i = 0; i < ids.length; i++) {\n            var c = points[ids[i]];\n            tile.features.push({\n                type: 1,\n                geometry: [[\n                    Math.round(this.options.extent * (c.x * z2 - x)),\n                    Math.round(this.options.extent * (c.y * z2 - y))\n                ]],\n                tags: c.numPoints ? getClusterProperties(c) : this.points[c.id].properties\n            });\n        }\n    },\n\n    _limitZoom: function (z) {\n        return Math.max(this.options.minZoom, Math.min(z, this.options.maxZoom + 1));\n    },\n\n    _cluster: function (points, zoom) {\n        var clusters = [];\n        var r = this.options.radius / (this.options.extent * Math.pow(2, zoom));\n\n        // loop through each point\n        for (var i = 0; i < points.length; i++) {\n            var p = points[i];\n            // if we've already visited the point at this zoom level, skip it\n            if (p.zoom <= zoom) continue;\n            p.zoom = zoom;\n\n            // find all nearby points\n            var tree = this.trees[zoom + 1];\n            var neighborIds = tree.within(p.x, p.y, r);\n\n            var numPoints = p.numPoints || 1;\n            var wx = p.x * numPoints;\n            var wy = p.y * numPoints;\n\n            var clusterProperties = null;\n\n            if (this.options.reduce) {\n                clusterProperties = this.options.initial();\n                this._accumulate(clusterProperties, p);\n            }\n\n            // encode both zoom and point index on which the cluster originated\n            var id = (i << 5) + (zoom + 1);\n\n            for (var j = 0; j < neighborIds.length; j++) {\n                var b = tree.points[neighborIds[j]];\n                // filter out neighbors that are already processed\n                if (b.zoom <= zoom) continue;\n                b.zoom = zoom; // save the zoom (so it doesn't get processed twice)\n\n                var numPoints2 = b.numPoints || 1;\n                wx += b.x * numPoints2; // accumulate coordinates for calculating weighted center\n                wy += b.y * numPoints2;\n\n                numPoints += numPoints2;\n                b.parentId = id;\n\n                if (this.options.reduce) {\n                    this._accumulate(clusterProperties, b);\n                }\n            }\n\n            if (numPoints === 1) {\n                clusters.push(p);\n            } else {\n                p.parentId = id;\n                clusters.push(createCluster(wx / numPoints, wy / numPoints, id, numPoints, clusterProperties));\n            }\n        }\n\n        return clusters;\n    },\n\n    _accumulate: function (clusterProperties, point) {\n        var properties = point.numPoints ?\n            point.properties :\n            this.options.map(this.points[point.id].properties);\n\n        this.options.reduce(clusterProperties, properties);\n    }\n};\n\nfunction createCluster(x, y, id, numPoints, properties) {\n    return {\n        x: x, // weighted cluster center\n        y: y,\n        zoom: Infinity, // the last zoom the cluster was processed at\n        id: id, // encodes index of the first child of the cluster and its zoom level\n        parentId: -1, // parent cluster id\n        numPoints: numPoints,\n        properties: properties\n    };\n}\n\nfunction createPointCluster(p, id) {\n    var coords = p.geometry.coordinates;\n    return {\n        x: lngX(coords[0]), // projected point coordinates\n        y: latY(coords[1]),\n        zoom: Infinity, // the last zoom the point was processed at\n        id: id, // index of the source feature in the original input array\n        parentId: -1 // parent cluster id\n    };\n}\n\nfunction getClusterJSON(cluster) {\n    return {\n        type: 'Feature',\n        properties: getClusterProperties(cluster),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(cluster.x), yLat(cluster.y)]\n        }\n    };\n}\n\nfunction getClusterProperties(cluster) {\n    var count = cluster.numPoints;\n    var abbrev =\n        count >= 10000 ? Math.round(count / 1000) + 'k' :\n        count >= 1000 ? (Math.round(count / 100) / 10) + 'k' : count;\n    return extend(extend({}, cluster.properties), {\n        cluster: true,\n        cluster_id: cluster.id,\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    var sin = Math.sin(lat * Math.PI / 180),\n        y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    var y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n\nfunction extend(dest, src) {\n    for (var id in src) dest[id] = src[id];\n    return dest;\n}\n\nfunction getX(p) {\n    return p.x;\n}\nfunction getY(p) {\n    return p.y;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9zdXBlcmNsdXN0ZXIvaW5kZXguanM/NmM3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBrZGJ1c2ggPSByZXF1aXJlKCdrZGJ1c2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdXBlcmNsdXN0ZXI7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gc3VwZXJjbHVzdGVyO1xuXG5mdW5jdGlvbiBzdXBlcmNsdXN0ZXIob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgU3VwZXJDbHVzdGVyKG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBTdXBlckNsdXN0ZXIob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChPYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyksIG9wdGlvbnMpO1xuICAgIHRoaXMudHJlZXMgPSBuZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20gKyAxKTtcbn1cblxuU3VwZXJDbHVzdGVyLnByb3RvdHlwZSA9IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIG1pblpvb206IDAsICAgLy8gbWluIHpvb20gdG8gZ2VuZXJhdGUgY2x1c3RlcnMgb25cbiAgICAgICAgbWF4Wm9vbTogMTYsICAvLyBtYXggem9vbSBsZXZlbCB0byBjbHVzdGVyIHRoZSBwb2ludHMgb25cbiAgICAgICAgcmFkaXVzOiA0MCwgICAvLyBjbHVzdGVyIHJhZGl1cyBpbiBwaXhlbHNcbiAgICAgICAgZXh0ZW50OiA1MTIsICAvLyB0aWxlIGV4dGVudCAocmFkaXVzIGlzIGNhbGN1bGF0ZWQgcmVsYXRpdmUgdG8gaXQpXG4gICAgICAgIG5vZGVTaXplOiA2NCwgLy8gc2l6ZSBvZiB0aGUgS0QtdHJlZSBsZWFmIG5vZGUsIGFmZmVjdHMgcGVyZm9ybWFuY2VcbiAgICAgICAgbG9nOiBmYWxzZSwgICAvLyB3aGV0aGVyIHRvIGxvZyB0aW1pbmcgaW5mb1xuXG4gICAgICAgIC8vIGEgcmVkdWNlIGZ1bmN0aW9uIGZvciBjYWxjdWxhdGluZyBjdXN0b20gY2x1c3RlciBwcm9wZXJ0aWVzXG4gICAgICAgIHJlZHVjZTogbnVsbCwgLy8gZnVuY3Rpb24gKGFjY3VtdWxhdGVkLCBwcm9wcykgeyBhY2N1bXVsYXRlZC5zdW0gKz0gcHJvcHMuc3VtOyB9XG5cbiAgICAgICAgLy8gaW5pdGlhbCBwcm9wZXJ0aWVzIG9mIGEgY2x1c3RlciAoYmVmb3JlIHJ1bm5pbmcgdGhlIHJlZHVjZXIpXG4gICAgICAgIGluaXRpYWw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHt9OyB9LCAvLyBmdW5jdGlvbiAoKSB7IHJldHVybiB7c3VtOiAwfTsgfSxcblxuICAgICAgICAvLyBwcm9wZXJ0aWVzIHRvIHVzZSBmb3IgaW5kaXZpZHVhbCBwb2ludHMgd2hlbiBydW5uaW5nIHRoZSByZWR1Y2VyXG4gICAgICAgIG1hcDogZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBwcm9wczsgfSAvLyBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIHtzdW06IHByb3BzLm15X3ZhbHVlfTsgfSxcbiAgICB9LFxuXG4gICAgbG9hZDogZnVuY3Rpb24gKHBvaW50cykge1xuICAgICAgICB2YXIgbG9nID0gdGhpcy5vcHRpb25zLmxvZztcblxuICAgICAgICBpZiAobG9nKSBjb25zb2xlLnRpbWUoJ3RvdGFsIHRpbWUnKTtcblxuICAgICAgICB2YXIgdGltZXJJZCA9ICdwcmVwYXJlICcgKyBwb2ludHMubGVuZ3RoICsgJyBwb2ludHMnO1xuICAgICAgICBpZiAobG9nKSBjb25zb2xlLnRpbWUodGltZXJJZCk7XG5cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgYSBjbHVzdGVyIG9iamVjdCBmb3IgZWFjaCBwb2ludCBhbmQgaW5kZXggaW5wdXQgcG9pbnRzIGludG8gYSBLRC10cmVlXG4gICAgICAgIHZhciBjbHVzdGVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFwb2ludHNbaV0uZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsdXN0ZXJzLnB1c2goY3JlYXRlUG9pbnRDbHVzdGVyKHBvaW50c1tpXSwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJlZXNbdGhpcy5vcHRpb25zLm1heFpvb20gKyAxXSA9IGtkYnVzaChjbHVzdGVycywgZ2V0WCwgZ2V0WSwgdGhpcy5vcHRpb25zLm5vZGVTaXplLCBGbG9hdDMyQXJyYXkpO1xuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZUVuZCh0aW1lcklkKTtcblxuICAgICAgICAvLyBjbHVzdGVyIHBvaW50cyBvbiBtYXggem9vbSwgdGhlbiBjbHVzdGVyIHRoZSByZXN1bHRzIG9uIHByZXZpb3VzIHpvb20sIGV0Yy47XG4gICAgICAgIC8vIHJlc3VsdHMgaW4gYSBjbHVzdGVyIGhpZXJhcmNoeSBhY3Jvc3Mgem9vbSBsZXZlbHNcbiAgICAgICAgZm9yICh2YXIgeiA9IHRoaXMub3B0aW9ucy5tYXhab29tOyB6ID49IHRoaXMub3B0aW9ucy5taW5ab29tOyB6LS0pIHtcbiAgICAgICAgICAgIHZhciBub3cgPSArRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHNldCBvZiBjbHVzdGVycyBmb3IgdGhlIHpvb20gYW5kIGluZGV4IHRoZW0gd2l0aCBhIEtELXRyZWVcbiAgICAgICAgICAgIGNsdXN0ZXJzID0gdGhpcy5fY2x1c3RlcihjbHVzdGVycywgeik7XG4gICAgICAgICAgICB0aGlzLnRyZWVzW3pdID0ga2RidXNoKGNsdXN0ZXJzLCBnZXRYLCBnZXRZLCB0aGlzLm9wdGlvbnMubm9kZVNpemUsIEZsb2F0MzJBcnJheSk7XG5cbiAgICAgICAgICAgIGlmIChsb2cpIGNvbnNvbGUubG9nKCd6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXMnLCB6LCBjbHVzdGVycy5sZW5ndGgsICtEYXRlLm5vdygpIC0gbm93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZUVuZCgndG90YWwgdGltZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBnZXRDbHVzdGVyczogZnVuY3Rpb24gKGJib3gsIHpvb20pIHtcbiAgICAgICAgaWYgKGJib3hbMF0gPiBiYm94WzJdKSB7XG4gICAgICAgICAgICB2YXIgZWFzdGVybkhlbSA9IHRoaXMuZ2V0Q2x1c3RlcnMoW2Jib3hbMF0sIGJib3hbMV0sIDE4MCwgYmJveFszXV0sIHpvb20pO1xuICAgICAgICAgICAgdmFyIHdlc3Rlcm5IZW0gPSB0aGlzLmdldENsdXN0ZXJzKFstMTgwLCBiYm94WzFdLCBiYm94WzJdLCBiYm94WzNdXSwgem9vbSk7XG4gICAgICAgICAgICByZXR1cm4gZWFzdGVybkhlbS5jb25jYXQod2VzdGVybkhlbSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJlZSA9IHRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHpvb20pXTtcbiAgICAgICAgdmFyIGlkcyA9IHRyZWUucmFuZ2UobG5nWChiYm94WzBdKSwgbGF0WShiYm94WzNdKSwgbG5nWChiYm94WzJdKSwgbGF0WShiYm94WzFdKSk7XG4gICAgICAgIHZhciBjbHVzdGVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGMgPSB0cmVlLnBvaW50c1tpZHNbaV1dO1xuICAgICAgICAgICAgY2x1c3RlcnMucHVzaChjLm51bVBvaW50cyA/IGdldENsdXN0ZXJKU09OKGMpIDogdGhpcy5wb2ludHNbYy5pZF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbHVzdGVycztcbiAgICB9LFxuXG4gICAgZ2V0Q2hpbGRyZW46IGZ1bmN0aW9uIChjbHVzdGVySWQpIHtcbiAgICAgICAgdmFyIG9yaWdpbklkID0gY2x1c3RlcklkID4+IDU7XG4gICAgICAgIHZhciBvcmlnaW5ab29tID0gY2x1c3RlcklkICUgMzI7XG4gICAgICAgIHZhciBlcnJvck1zZyA9ICdObyBjbHVzdGVyIHdpdGggdGhlIHNwZWNpZmllZCBpZC4nO1xuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMudHJlZXNbb3JpZ2luWm9vbV07XG4gICAgICAgIGlmICghaW5kZXgpIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG5cbiAgICAgICAgdmFyIG9yaWdpbiA9IGluZGV4LnBvaW50c1tvcmlnaW5JZF07XG4gICAgICAgIGlmICghb3JpZ2luKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuXG4gICAgICAgIHZhciByID0gdGhpcy5vcHRpb25zLnJhZGl1cyAvICh0aGlzLm9wdGlvbnMuZXh0ZW50ICogTWF0aC5wb3coMiwgb3JpZ2luWm9vbSAtIDEpKTtcbiAgICAgICAgdmFyIGlkcyA9IGluZGV4LndpdGhpbihvcmlnaW4ueCwgb3JpZ2luLnksIHIpO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gaW5kZXgucG9pbnRzW2lkc1tpXV07XG4gICAgICAgICAgICBpZiAoYy5wYXJlbnRJZCA9PT0gY2x1c3RlcklkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjLm51bVBvaW50cyA/IGdldENsdXN0ZXJKU09OKGMpIDogdGhpcy5wb2ludHNbYy5pZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcblxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfSxcblxuICAgIGdldExlYXZlczogZnVuY3Rpb24gKGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCkge1xuICAgICAgICBsaW1pdCA9IGxpbWl0IHx8IDEwO1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgICB2YXIgbGVhdmVzID0gW107XG4gICAgICAgIHRoaXMuX2FwcGVuZExlYXZlcyhsZWF2ZXMsIGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCwgMCk7XG5cbiAgICAgICAgcmV0dXJuIGxlYXZlcztcbiAgICB9LFxuXG4gICAgZ2V0VGlsZTogZnVuY3Rpb24gKHosIHgsIHkpIHtcbiAgICAgICAgdmFyIHRyZWUgPSB0aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbSh6KV07XG4gICAgICAgIHZhciB6MiA9IE1hdGgucG93KDIsIHopO1xuICAgICAgICB2YXIgZXh0ZW50ID0gdGhpcy5vcHRpb25zLmV4dGVudDtcbiAgICAgICAgdmFyIHIgPSB0aGlzLm9wdGlvbnMucmFkaXVzO1xuICAgICAgICB2YXIgcCA9IHIgLyBleHRlbnQ7XG4gICAgICAgIHZhciB0b3AgPSAoeSAtIHApIC8gejI7XG4gICAgICAgIHZhciBib3R0b20gPSAoeSArIDEgKyBwKSAvIHoyO1xuXG4gICAgICAgIHZhciB0aWxlID0ge1xuICAgICAgICAgICAgZmVhdHVyZXM6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fYWRkVGlsZUZlYXR1cmVzKFxuICAgICAgICAgICAgdHJlZS5yYW5nZSgoeCAtIHApIC8gejIsIHRvcCwgKHggKyAxICsgcCkgLyB6MiwgYm90dG9tKSxcbiAgICAgICAgICAgIHRyZWUucG9pbnRzLCB4LCB5LCB6MiwgdGlsZSk7XG5cbiAgICAgICAgaWYgKHggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICB0cmVlLnJhbmdlKDEgLSBwIC8gejIsIHRvcCwgMSwgYm90dG9tKSxcbiAgICAgICAgICAgICAgICB0cmVlLnBvaW50cywgejIsIHksIHoyLCB0aWxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA9PT0gejIgLSAxKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoXG4gICAgICAgICAgICAgICAgdHJlZS5yYW5nZSgwLCB0b3AsIHAgLyB6MiwgYm90dG9tKSxcbiAgICAgICAgICAgICAgICB0cmVlLnBvaW50cywgLTEsIHksIHoyLCB0aWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aWxlLmZlYXR1cmVzLmxlbmd0aCA/IHRpbGUgOiBudWxsO1xuICAgIH0sXG5cbiAgICBnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbTogZnVuY3Rpb24gKGNsdXN0ZXJJZCkge1xuICAgICAgICB2YXIgY2x1c3Rlclpvb20gPSAoY2x1c3RlcklkICUgMzIpIC0gMTtcbiAgICAgICAgd2hpbGUgKGNsdXN0ZXJab29tIDwgdGhpcy5vcHRpb25zLm1heFpvb20pIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuZ2V0Q2hpbGRyZW4oY2x1c3RlcklkKTtcbiAgICAgICAgICAgIGNsdXN0ZXJab29tKys7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSBicmVhaztcbiAgICAgICAgICAgIGNsdXN0ZXJJZCA9IGNoaWxkcmVuWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2x1c3Rlclpvb207XG4gICAgfSxcblxuICAgIF9hcHBlbmRMZWF2ZXM6IGZ1bmN0aW9uIChyZXN1bHQsIGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCwgc2tpcHBlZCkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkcmVuKGNsdXN0ZXJJZCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gY2hpbGRyZW5baV0ucHJvcGVydGllcztcblxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmNsdXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZCArIHByb3BzLnBvaW50X2NvdW50IDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBjbHVzdGVyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQgKz0gcHJvcHMucG9pbnRfY291bnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW50ZXIgdGhlIGNsdXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCA9IHRoaXMuX2FwcGVuZExlYXZlcyhyZXN1bHQsIHByb3BzLmNsdXN0ZXJfaWQsIGxpbWl0LCBvZmZzZXQsIHNraXBwZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBleGl0IHRoZSBjbHVzdGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChza2lwcGVkIDwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBhIHNpbmdsZSBwb2ludFxuICAgICAgICAgICAgICAgIHNraXBwZWQrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGEgc2luZ2xlIHBvaW50XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IGxpbWl0KSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBza2lwcGVkO1xuICAgIH0sXG5cbiAgICBfYWRkVGlsZUZlYXR1cmVzOiBmdW5jdGlvbiAoaWRzLCBwb2ludHMsIHgsIHksIHoyLCB0aWxlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHBvaW50c1tpZHNbaV1dO1xuICAgICAgICAgICAgdGlsZS5mZWF0dXJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAxLFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5OiBbW1xuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQgKiAoYy54ICogejIgLSB4KSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCAqIChjLnkgKiB6MiAtIHkpKVxuICAgICAgICAgICAgICAgIF1dLFxuICAgICAgICAgICAgICAgIHRhZ3M6IGMubnVtUG9pbnRzID8gZ2V0Q2x1c3RlclByb3BlcnRpZXMoYykgOiB0aGlzLnBvaW50c1tjLmlkXS5wcm9wZXJ0aWVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfbGltaXRab29tOiBmdW5jdGlvbiAoeikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5vcHRpb25zLm1pblpvb20sIE1hdGgubWluKHosIHRoaXMub3B0aW9ucy5tYXhab29tICsgMSkpO1xuICAgIH0sXG5cbiAgICBfY2x1c3RlcjogZnVuY3Rpb24gKHBvaW50cywgem9vbSkge1xuICAgICAgICB2YXIgY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgdmFyIHIgPSB0aGlzLm9wdGlvbnMucmFkaXVzIC8gKHRoaXMub3B0aW9ucy5leHRlbnQgKiBNYXRoLnBvdygyLCB6b29tKSk7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggcG9pbnRcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgLy8gaWYgd2UndmUgYWxyZWFkeSB2aXNpdGVkIHRoZSBwb2ludCBhdCB0aGlzIHpvb20gbGV2ZWwsIHNraXAgaXRcbiAgICAgICAgICAgIGlmIChwLnpvb20gPD0gem9vbSkgY29udGludWU7XG4gICAgICAgICAgICBwLnpvb20gPSB6b29tO1xuXG4gICAgICAgICAgICAvLyBmaW5kIGFsbCBuZWFyYnkgcG9pbnRzXG4gICAgICAgICAgICB2YXIgdHJlZSA9IHRoaXMudHJlZXNbem9vbSArIDFdO1xuICAgICAgICAgICAgdmFyIG5laWdoYm9ySWRzID0gdHJlZS53aXRoaW4ocC54LCBwLnksIHIpO1xuXG4gICAgICAgICAgICB2YXIgbnVtUG9pbnRzID0gcC5udW1Qb2ludHMgfHwgMTtcbiAgICAgICAgICAgIHZhciB3eCA9IHAueCAqIG51bVBvaW50cztcbiAgICAgICAgICAgIHZhciB3eSA9IHAueSAqIG51bVBvaW50cztcblxuICAgICAgICAgICAgdmFyIGNsdXN0ZXJQcm9wZXJ0aWVzID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZWR1Y2UpIHtcbiAgICAgICAgICAgICAgICBjbHVzdGVyUHJvcGVydGllcyA9IHRoaXMub3B0aW9ucy5pbml0aWFsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWNjdW11bGF0ZShjbHVzdGVyUHJvcGVydGllcywgcCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGVuY29kZSBib3RoIHpvb20gYW5kIHBvaW50IGluZGV4IG9uIHdoaWNoIHRoZSBjbHVzdGVyIG9yaWdpbmF0ZWRcbiAgICAgICAgICAgIHZhciBpZCA9IChpIDw8IDUpICsgKHpvb20gKyAxKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvcklkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBiID0gdHJlZS5wb2ludHNbbmVpZ2hib3JJZHNbal1dO1xuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgbmVpZ2hib3JzIHRoYXQgYXJlIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgaWYgKGIuem9vbSA8PSB6b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBiLnpvb20gPSB6b29tOyAvLyBzYXZlIHRoZSB6b29tIChzbyBpdCBkb2Vzbid0IGdldCBwcm9jZXNzZWQgdHdpY2UpXG5cbiAgICAgICAgICAgICAgICB2YXIgbnVtUG9pbnRzMiA9IGIubnVtUG9pbnRzIHx8IDE7XG4gICAgICAgICAgICAgICAgd3ggKz0gYi54ICogbnVtUG9pbnRzMjsgLy8gYWNjdW11bGF0ZSBjb29yZGluYXRlcyBmb3IgY2FsY3VsYXRpbmcgd2VpZ2h0ZWQgY2VudGVyXG4gICAgICAgICAgICAgICAgd3kgKz0gYi55ICogbnVtUG9pbnRzMjtcblxuICAgICAgICAgICAgICAgIG51bVBvaW50cyArPSBudW1Qb2ludHMyO1xuICAgICAgICAgICAgICAgIGIucGFyZW50SWQgPSBpZDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVkdWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjY3VtdWxhdGUoY2x1c3RlclByb3BlcnRpZXMsIGIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG51bVBvaW50cyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGNsdXN0ZXJzLnB1c2gocCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHAucGFyZW50SWQgPSBpZDtcbiAgICAgICAgICAgICAgICBjbHVzdGVycy5wdXNoKGNyZWF0ZUNsdXN0ZXIod3ggLyBudW1Qb2ludHMsIHd5IC8gbnVtUG9pbnRzLCBpZCwgbnVtUG9pbnRzLCBjbHVzdGVyUHJvcGVydGllcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsdXN0ZXJzO1xuICAgIH0sXG5cbiAgICBfYWNjdW11bGF0ZTogZnVuY3Rpb24gKGNsdXN0ZXJQcm9wZXJ0aWVzLCBwb2ludCkge1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHBvaW50Lm51bVBvaW50cyA/XG4gICAgICAgICAgICBwb2ludC5wcm9wZXJ0aWVzIDpcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5tYXAodGhpcy5wb2ludHNbcG9pbnQuaWRdLnByb3BlcnRpZXMpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5yZWR1Y2UoY2x1c3RlclByb3BlcnRpZXMsIHByb3BlcnRpZXMpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUNsdXN0ZXIoeCwgeSwgaWQsIG51bVBvaW50cywgcHJvcGVydGllcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHgsIC8vIHdlaWdodGVkIGNsdXN0ZXIgY2VudGVyXG4gICAgICAgIHk6IHksXG4gICAgICAgIHpvb206IEluZmluaXR5LCAvLyB0aGUgbGFzdCB6b29tIHRoZSBjbHVzdGVyIHdhcyBwcm9jZXNzZWQgYXRcbiAgICAgICAgaWQ6IGlkLCAvLyBlbmNvZGVzIGluZGV4IG9mIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgY2x1c3RlciBhbmQgaXRzIHpvb20gbGV2ZWxcbiAgICAgICAgcGFyZW50SWQ6IC0xLCAvLyBwYXJlbnQgY2x1c3RlciBpZFxuICAgICAgICBudW1Qb2ludHM6IG51bVBvaW50cyxcbiAgICAgICAgcHJvcGVydGllczogcHJvcGVydGllc1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvaW50Q2x1c3RlcihwLCBpZCkge1xuICAgIHZhciBjb29yZHMgPSBwLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGxuZ1goY29vcmRzWzBdKSwgLy8gcHJvamVjdGVkIHBvaW50IGNvb3JkaW5hdGVzXG4gICAgICAgIHk6IGxhdFkoY29vcmRzWzFdKSxcbiAgICAgICAgem9vbTogSW5maW5pdHksIC8vIHRoZSBsYXN0IHpvb20gdGhlIHBvaW50IHdhcyBwcm9jZXNzZWQgYXRcbiAgICAgICAgaWQ6IGlkLCAvLyBpbmRleCBvZiB0aGUgc291cmNlIGZlYXR1cmUgaW4gdGhlIG9yaWdpbmFsIGlucHV0IGFycmF5XG4gICAgICAgIHBhcmVudElkOiAtMSAvLyBwYXJlbnQgY2x1c3RlciBpZFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldENsdXN0ZXJKU09OKGNsdXN0ZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4gICAgICAgIHByb3BlcnRpZXM6IGdldENsdXN0ZXJQcm9wZXJ0aWVzKGNsdXN0ZXIpLFxuICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgdHlwZTogJ1BvaW50JyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbeExuZyhjbHVzdGVyLngpLCB5TGF0KGNsdXN0ZXIueSldXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRDbHVzdGVyUHJvcGVydGllcyhjbHVzdGVyKSB7XG4gICAgdmFyIGNvdW50ID0gY2x1c3Rlci5udW1Qb2ludHM7XG4gICAgdmFyIGFiYnJldiA9XG4gICAgICAgIGNvdW50ID49IDEwMDAwID8gTWF0aC5yb3VuZChjb3VudCAvIDEwMDApICsgJ2snIDpcbiAgICAgICAgY291bnQgPj0gMTAwMCA/IChNYXRoLnJvdW5kKGNvdW50IC8gMTAwKSAvIDEwKSArICdrJyA6IGNvdW50O1xuICAgIHJldHVybiBleHRlbmQoZXh0ZW5kKHt9LCBjbHVzdGVyLnByb3BlcnRpZXMpLCB7XG4gICAgICAgIGNsdXN0ZXI6IHRydWUsXG4gICAgICAgIGNsdXN0ZXJfaWQ6IGNsdXN0ZXIuaWQsXG4gICAgICAgIHBvaW50X2NvdW50OiBjb3VudCxcbiAgICAgICAgcG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6IGFiYnJldlxuICAgIH0pO1xufVxuXG4vLyBsb25naXR1ZGUvbGF0aXR1ZGUgdG8gc3BoZXJpY2FsIG1lcmNhdG9yIGluIFswLi4xXSByYW5nZVxuZnVuY3Rpb24gbG5nWChsbmcpIHtcbiAgICByZXR1cm4gbG5nIC8gMzYwICsgMC41O1xufVxuZnVuY3Rpb24gbGF0WShsYXQpIHtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4obGF0ICogTWF0aC5QSSAvIDE4MCksXG4gICAgICAgIHkgPSAoMC41IC0gMC4yNSAqIE1hdGgubG9nKCgxICsgc2luKSAvICgxIC0gc2luKSkgLyBNYXRoLlBJKTtcbiAgICByZXR1cm4geSA8IDAgPyAwIDogeSA+IDEgPyAxIDogeTtcbn1cblxuLy8gc3BoZXJpY2FsIG1lcmNhdG9yIHRvIGxvbmdpdHVkZS9sYXRpdHVkZVxuZnVuY3Rpb24geExuZyh4KSB7XG4gICAgcmV0dXJuICh4IC0gMC41KSAqIDM2MDtcbn1cbmZ1bmN0aW9uIHlMYXQoeSkge1xuICAgIHZhciB5MiA9ICgxODAgLSB5ICogMzYwKSAqIE1hdGguUEkgLyAxODA7XG4gICAgcmV0dXJuIDM2MCAqIE1hdGguYXRhbihNYXRoLmV4cCh5MikpIC8gTWF0aC5QSSAtIDkwO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjKSB7XG4gICAgZm9yICh2YXIgaWQgaW4gc3JjKSBkZXN0W2lkXSA9IHNyY1tpZF07XG4gICAgcmV0dXJuIGRlc3Q7XG59XG5cbmZ1bmN0aW9uIGdldFgocCkge1xuICAgIHJldHVybiBwLng7XG59XG5mdW5jdGlvbiBnZXRZKHApIHtcbiAgICByZXR1cm4gcC55O1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///39\n")},
/*!************************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/kdbush/src/kdbush.js ***!
  \************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nvar sort = __webpack_require__(/*! ./sort */ 41);\nvar range = __webpack_require__(/*! ./range */ 42);\nvar within = __webpack_require__(/*! ./within */ 43);\n\nmodule.exports = kdbush;\n\nfunction kdbush(points, getX, getY, nodeSize, ArrayType) {\n    return new KDBush(points, getX, getY, nodeSize, ArrayType);\n}\n\nfunction KDBush(points, getX, getY, nodeSize, ArrayType) {\n    getX = getX || defaultGetX;\n    getY = getY || defaultGetY;\n    ArrayType = ArrayType || Array;\n\n    this.nodeSize = nodeSize || 64;\n    this.points = points;\n\n    this.ids = new ArrayType(points.length);\n    this.coords = new ArrayType(points.length * 2);\n\n    for (var i = 0; i < points.length; i++) {\n        this.ids[i] = i;\n        this.coords[2 * i] = getX(points[i]);\n        this.coords[2 * i + 1] = getY(points[i]);\n    }\n\n    sort(this.ids, this.coords, this.nodeSize, 0, this.ids.length - 1, 0);\n}\n\nKDBush.prototype = {\n    range: function (minX, minY, maxX, maxY) {\n        return range(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n    },\n\n    within: function (x, y, r) {\n        return within(this.ids, this.coords, x, y, r, this.nodeSize);\n    }\n};\n\nfunction defaultGetX(p) { return p[0]; }\nfunction defaultGetY(p) { return p[1]; }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL2tkYnVzaC5qcz80Y2YwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHNvcnQgPSByZXF1aXJlKCcuL3NvcnQnKTtcbnZhciByYW5nZSA9IHJlcXVpcmUoJy4vcmFuZ2UnKTtcbnZhciB3aXRoaW4gPSByZXF1aXJlKCcuL3dpdGhpbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtkYnVzaDtcblxuZnVuY3Rpb24ga2RidXNoKHBvaW50cywgZ2V0WCwgZ2V0WSwgbm9kZVNpemUsIEFycmF5VHlwZSkge1xuICAgIHJldHVybiBuZXcgS0RCdXNoKHBvaW50cywgZ2V0WCwgZ2V0WSwgbm9kZVNpemUsIEFycmF5VHlwZSk7XG59XG5cbmZ1bmN0aW9uIEtEQnVzaChwb2ludHMsIGdldFgsIGdldFksIG5vZGVTaXplLCBBcnJheVR5cGUpIHtcbiAgICBnZXRYID0gZ2V0WCB8fCBkZWZhdWx0R2V0WDtcbiAgICBnZXRZID0gZ2V0WSB8fCBkZWZhdWx0R2V0WTtcbiAgICBBcnJheVR5cGUgPSBBcnJheVR5cGUgfHwgQXJyYXk7XG5cbiAgICB0aGlzLm5vZGVTaXplID0gbm9kZVNpemUgfHwgNjQ7XG4gICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICB0aGlzLmlkcyA9IG5ldyBBcnJheVR5cGUocG9pbnRzLmxlbmd0aCk7XG4gICAgdGhpcy5jb29yZHMgPSBuZXcgQXJyYXlUeXBlKHBvaW50cy5sZW5ndGggKiAyKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuaWRzW2ldID0gaTtcbiAgICAgICAgdGhpcy5jb29yZHNbMiAqIGldID0gZ2V0WChwb2ludHNbaV0pO1xuICAgICAgICB0aGlzLmNvb3Jkc1syICogaSArIDFdID0gZ2V0WShwb2ludHNbaV0pO1xuICAgIH1cblxuICAgIHNvcnQodGhpcy5pZHMsIHRoaXMuY29vcmRzLCB0aGlzLm5vZGVTaXplLCAwLCB0aGlzLmlkcy5sZW5ndGggLSAxLCAwKTtcbn1cblxuS0RCdXNoLnByb3RvdHlwZSA9IHtcbiAgICByYW5nZTogZnVuY3Rpb24gKG1pblgsIG1pblksIG1heFgsIG1heFkpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlKHRoaXMuaWRzLCB0aGlzLmNvb3JkcywgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgdGhpcy5ub2RlU2l6ZSk7XG4gICAgfSxcblxuICAgIHdpdGhpbjogZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhpbih0aGlzLmlkcywgdGhpcy5jb29yZHMsIHgsIHksIHIsIHRoaXMubm9kZVNpemUpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGRlZmF1bHRHZXRYKHApIHsgcmV0dXJuIHBbMF07IH1cbmZ1bmN0aW9uIGRlZmF1bHRHZXRZKHApIHsgcmV0dXJuIHBbMV07IH1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40\n")},
/*!**********************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/kdbush/src/sort.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nmodule.exports = sortKD;\n\nfunction sortKD(ids, coords, nodeSize, left, right, depth) {\n    if (right - left <= nodeSize) return;\n\n    var m = Math.floor((left + right) / 2);\n\n    select(ids, coords, m, left, right, depth % 2);\n\n    sortKD(ids, coords, nodeSize, left, m - 1, depth + 1);\n    sortKD(ids, coords, nodeSize, m + 1, right, depth + 1);\n}\n\nfunction select(ids, coords, k, left, right, inc) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            select(ids, coords, k, newLeft, newRight, inc);\n        }\n\n        var t = coords[2 * k + inc];\n        var i = left;\n        var j = right;\n\n        swapItem(ids, coords, left, k);\n        if (coords[2 * right + inc] > t) swapItem(ids, coords, left, right);\n\n        while (i < j) {\n            swapItem(ids, coords, i, j);\n            i++;\n            j--;\n            while (coords[2 * i + inc] < t) i++;\n            while (coords[2 * j + inc] > t) j--;\n        }\n\n        if (coords[2 * left + inc] === t) swapItem(ids, coords, left, j);\n        else {\n            j++;\n            swapItem(ids, coords, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swapItem(ids, coords, i, j) {\n    swap(ids, i, j);\n    swap(coords, 2 * i, 2 * j);\n    swap(coords, 2 * i + 1, 2 * j + 1);\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL3NvcnQuanM/ZTEwNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gc29ydEtEO1xuXG5mdW5jdGlvbiBzb3J0S0QoaWRzLCBjb29yZHMsIG5vZGVTaXplLCBsZWZ0LCByaWdodCwgZGVwdGgpIHtcbiAgICBpZiAocmlnaHQgLSBsZWZ0IDw9IG5vZGVTaXplKSByZXR1cm47XG5cbiAgICB2YXIgbSA9IE1hdGguZmxvb3IoKGxlZnQgKyByaWdodCkgLyAyKTtcblxuICAgIHNlbGVjdChpZHMsIGNvb3JkcywgbSwgbGVmdCwgcmlnaHQsIGRlcHRoICUgMik7XG5cbiAgICBzb3J0S0QoaWRzLCBjb29yZHMsIG5vZGVTaXplLCBsZWZ0LCBtIC0gMSwgZGVwdGggKyAxKTtcbiAgICBzb3J0S0QoaWRzLCBjb29yZHMsIG5vZGVTaXplLCBtICsgMSwgcmlnaHQsIGRlcHRoICsgMSk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdChpZHMsIGNvb3JkcywgaywgbGVmdCwgcmlnaHQsIGluYykge1xuXG4gICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkge1xuICAgICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7XG4gICAgICAgICAgICB2YXIgbiA9IHJpZ2h0IC0gbGVmdCArIDE7XG4gICAgICAgICAgICB2YXIgbSA9IGsgLSBsZWZ0ICsgMTtcbiAgICAgICAgICAgIHZhciB6ID0gTWF0aC5sb2cobik7XG4gICAgICAgICAgICB2YXIgcyA9IDAuNSAqIE1hdGguZXhwKDIgKiB6IC8gMyk7XG4gICAgICAgICAgICB2YXIgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICB2YXIgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7XG4gICAgICAgICAgICB2YXIgbmV3UmlnaHQgPSBNYXRoLm1pbihyaWdodCwgTWF0aC5mbG9vcihrICsgKG4gLSBtKSAqIHMgLyBuICsgc2QpKTtcbiAgICAgICAgICAgIHNlbGVjdChpZHMsIGNvb3JkcywgaywgbmV3TGVmdCwgbmV3UmlnaHQsIGluYyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdCA9IGNvb3Jkc1syICogayArIGluY107XG4gICAgICAgIHZhciBpID0gbGVmdDtcbiAgICAgICAgdmFyIGogPSByaWdodDtcblxuICAgICAgICBzd2FwSXRlbShpZHMsIGNvb3JkcywgbGVmdCwgayk7XG4gICAgICAgIGlmIChjb29yZHNbMiAqIHJpZ2h0ICsgaW5jXSA+IHQpIHN3YXBJdGVtKGlkcywgY29vcmRzLCBsZWZ0LCByaWdodCk7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICAgICAgICBzd2FwSXRlbShpZHMsIGNvb3JkcywgaSwgaik7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBqLS07XG4gICAgICAgICAgICB3aGlsZSAoY29vcmRzWzIgKiBpICsgaW5jXSA8IHQpIGkrKztcbiAgICAgICAgICAgIHdoaWxlIChjb29yZHNbMiAqIGogKyBpbmNdID4gdCkgai0tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvb3Jkc1syICogbGVmdCArIGluY10gPT09IHQpIHN3YXBJdGVtKGlkcywgY29vcmRzLCBsZWZ0LCBqKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgICBzd2FwSXRlbShpZHMsIGNvb3JkcywgaiwgcmlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGogPD0gaykgbGVmdCA9IGogKyAxO1xuICAgICAgICBpZiAoayA8PSBqKSByaWdodCA9IGogLSAxO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3dhcEl0ZW0oaWRzLCBjb29yZHMsIGksIGopIHtcbiAgICBzd2FwKGlkcywgaSwgaik7XG4gICAgc3dhcChjb29yZHMsIDIgKiBpLCAyICogaik7XG4gICAgc3dhcChjb29yZHMsIDIgKiBpICsgMSwgMiAqIGogKyAxKTtcbn1cblxuZnVuY3Rpb24gc3dhcChhcnIsIGksIGopIHtcbiAgICB2YXIgdG1wID0gYXJyW2ldO1xuICAgIGFycltpXSA9IGFycltqXTtcbiAgICBhcnJbal0gPSB0bXA7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///41\n")},
/*!***********************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/kdbush/src/range.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nmodule.exports = range;\n\nfunction range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n    var stack = [0, ids.length - 1, 0];\n    var result = [];\n    var x, y;\n\n    while (stack.length) {\n        var axis = stack.pop();\n        var right = stack.pop();\n        var left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (var i = left; i <= right; i++) {\n                x = coords[2 * i];\n                y = coords[2 * i + 1];\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        var m = Math.floor((left + right) / 2);\n\n        x = coords[2 * m];\n        y = coords[2 * m + 1];\n\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[m]);\n\n        var nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? minX <= x : minY <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? maxX >= x : maxY >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL3JhbmdlLmpzP2Y5NGIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJhbmdlO1xuXG5mdW5jdGlvbiByYW5nZShpZHMsIGNvb3JkcywgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgbm9kZVNpemUpIHtcbiAgICB2YXIgc3RhY2sgPSBbMCwgaWRzLmxlbmd0aCAtIDEsIDBdO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgeCwgeTtcblxuICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGF4aXMgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIHZhciBsZWZ0ID0gc3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHJpZ2h0IC0gbGVmdCA8PSBub2RlU2l6ZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGkgPD0gcmlnaHQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHggPSBjb29yZHNbMiAqIGldO1xuICAgICAgICAgICAgICAgIHkgPSBjb29yZHNbMiAqIGkgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoeCA+PSBtaW5YICYmIHggPD0gbWF4WCAmJiB5ID49IG1pblkgJiYgeSA8PSBtYXhZKSByZXN1bHQucHVzaChpZHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbSA9IE1hdGguZmxvb3IoKGxlZnQgKyByaWdodCkgLyAyKTtcblxuICAgICAgICB4ID0gY29vcmRzWzIgKiBtXTtcbiAgICAgICAgeSA9IGNvb3Jkc1syICogbSArIDFdO1xuXG4gICAgICAgIGlmICh4ID49IG1pblggJiYgeCA8PSBtYXhYICYmIHkgPj0gbWluWSAmJiB5IDw9IG1heFkpIHJlc3VsdC5wdXNoKGlkc1ttXSk7XG5cbiAgICAgICAgdmFyIG5leHRBeGlzID0gKGF4aXMgKyAxKSAlIDI7XG5cbiAgICAgICAgaWYgKGF4aXMgPT09IDAgPyBtaW5YIDw9IHggOiBtaW5ZIDw9IHkpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobGVmdCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG0gLSAxKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobmV4dEF4aXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChheGlzID09PSAwID8gbWF4WCA+PSB4IDogbWF4WSA+PSB5KSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG0gKyAxKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gocmlnaHQpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0QXhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42\n")},
/*!************************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/node_modules/kdbush/src/within.js ***!
  \************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nmodule.exports = within;\n\nfunction within(ids, coords, qx, qy, r, nodeSize) {\n    var stack = [0, ids.length - 1, 0];\n    var result = [];\n    var r2 = r * r;\n\n    while (stack.length) {\n        var axis = stack.pop();\n        var right = stack.pop();\n        var left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (var i = left; i <= right; i++) {\n                if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        var m = Math.floor((left + right) / 2);\n\n        var x = coords[2 * m];\n        var y = coords[2 * m + 1];\n\n        if (sqDist(x, y, qx, qy) <= r2) result.push(ids[m]);\n\n        var nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? qx - r <= x : qy - r <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? qx + r >= x : qy + r >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction sqDist(ax, ay, bx, by) {\n    var dx = ax - bx;\n    var dy = ay - by;\n    return dx * dx + dy * dy;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL3dpdGhpbi5qcz9mYmE3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB3aXRoaW47XG5cbmZ1bmN0aW9uIHdpdGhpbihpZHMsIGNvb3JkcywgcXgsIHF5LCByLCBub2RlU2l6ZSkge1xuICAgIHZhciBzdGFjayA9IFswLCBpZHMubGVuZ3RoIC0gMSwgMF07XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciByMiA9IHIgKiByO1xuXG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICB2YXIgYXhpcyA9IHN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgcmlnaHQgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGxlZnQgPSBzdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAocmlnaHQgLSBsZWZ0IDw9IG5vZGVTaXplKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbGVmdDsgaSA8PSByaWdodDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNxRGlzdChjb29yZHNbMiAqIGldLCBjb29yZHNbMiAqIGkgKyAxXSwgcXgsIHF5KSA8PSByMikgcmVzdWx0LnB1c2goaWRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKChsZWZ0ICsgcmlnaHQpIC8gMik7XG5cbiAgICAgICAgdmFyIHggPSBjb29yZHNbMiAqIG1dO1xuICAgICAgICB2YXIgeSA9IGNvb3Jkc1syICogbSArIDFdO1xuXG4gICAgICAgIGlmIChzcURpc3QoeCwgeSwgcXgsIHF5KSA8PSByMikgcmVzdWx0LnB1c2goaWRzW21dKTtcblxuICAgICAgICB2YXIgbmV4dEF4aXMgPSAoYXhpcyArIDEpICUgMjtcblxuICAgICAgICBpZiAoYXhpcyA9PT0gMCA/IHF4IC0gciA8PSB4IDogcXkgLSByIDw9IHkpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobGVmdCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG0gLSAxKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobmV4dEF4aXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChheGlzID09PSAwID8gcXggKyByID49IHggOiBxeSArIHIgPj0geSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChtICsgMSk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHJpZ2h0KTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobmV4dEF4aXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gc3FEaXN0KGF4LCBheSwgYngsIGJ5KSB7XG4gICAgdmFyIGR4ID0gYXggLSBieDtcbiAgICB2YXIgZHkgPSBheSAtIGJ5O1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///43\n")},
/*!******************************************!*\
  !*** ./node_modules/@turf/bbox/index.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval("var coordEach = __webpack_require__(/*! @turf/meta */ 45).coordEach;\n\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {FeatureCollection|Feature<any>} geojson input features\n * @returns {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nmodule.exports = function (geojson) {\n    var bbox = [Infinity, Infinity, -Infinity, -Infinity];\n    coordEach(geojson, function (coord) {\n        if (bbox[0] > coord[0]) bbox[0] = coord[0];\n        if (bbox[1] > coord[1]) bbox[1] = coord[1];\n        if (bbox[2] < coord[0]) bbox[2] = coord[0];\n        if (bbox[3] < coord[1]) bbox[3] = coord[1];\n    });\n    return bbox;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR1cmYvYmJveC9pbmRleC5qcz80MDlmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb29yZEVhY2ggPSByZXF1aXJlKCdAdHVyZi9tZXRhJykuY29vcmRFYWNoO1xuXG4vKipcbiAqIFRha2VzIGEgc2V0IG9mIGZlYXR1cmVzLCBjYWxjdWxhdGVzIHRoZSBiYm94IG9mIGFsbCBpbnB1dCBmZWF0dXJlcywgYW5kIHJldHVybnMgYSBib3VuZGluZyBib3guXG4gKlxuICogQG5hbWUgYmJveFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlPGFueT59IGdlb2pzb24gaW5wdXQgZmVhdHVyZXNcbiAqIEByZXR1cm5zIHtBcnJheTxudW1iZXI+fSBiYm94IGV4dGVudCBpbiBbbWluWCwgbWluWSwgbWF4WCwgbWF4WV0gb3JkZXJcbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZSA9IHR1cmYubGluZVN0cmluZyhbWy03NCwgNDBdLCBbLTc4LCA0Ml0sIFstODIsIDM1XV0pO1xuICogdmFyIGJib3ggPSB0dXJmLmJib3gobGluZSk7XG4gKiB2YXIgYmJveFBvbHlnb24gPSB0dXJmLmJib3hQb2x5Z29uKGJib3gpO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtsaW5lLCBiYm94UG9seWdvbl1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZ2VvanNvbikge1xuICAgIHZhciBiYm94ID0gW0luZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHldO1xuICAgIGNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgaWYgKGJib3hbMF0gPiBjb29yZFswXSkgYmJveFswXSA9IGNvb3JkWzBdO1xuICAgICAgICBpZiAoYmJveFsxXSA+IGNvb3JkWzFdKSBiYm94WzFdID0gY29vcmRbMV07XG4gICAgICAgIGlmIChiYm94WzJdIDwgY29vcmRbMF0pIGJib3hbMl0gPSBjb29yZFswXTtcbiAgICAgICAgaWYgKGJib3hbM10gPCBjb29yZFsxXSkgYmJveFszXSA9IGNvb3JkWzFdO1xuICAgIH0pO1xuICAgIHJldHVybiBiYm94O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///44\n")},
/*!******************************************!*\
  !*** ./node_modules/@turf/meta/index.js ***!
  \******************************************/
/*! exports provided: coordEach, coordReduce, propEach, propReduce, featureEach, featureReduce, coordAll, geomEach, geomReduce, flattenEach, flattenReduce, segmentEach, segmentReduce, feature, lineString, lineEach, lineReduce */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./node_modules/@turf/bbox/index.js (referenced with cjs require) */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"coordEach\", function() { return coordEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"coordReduce\", function() { return coordReduce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propEach\", function() { return propEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propReduce\", function() { return propReduce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"featureEach\", function() { return featureEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"featureReduce\", function() { return featureReduce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"coordAll\", function() { return coordAll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"geomEach\", function() { return geomEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"geomReduce\", function() { return geomReduce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flattenEach\", function() { return flattenEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flattenReduce\", function() { return flattenReduce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"segmentEach\", function() { return segmentEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"segmentReduce\", function() { return segmentReduce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"feature\", function() { return feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lineString\", function() { return lineString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lineEach\", function() { return lineEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lineReduce\", function() { return lineReduce; });\n/**\n * GeoJSON BBox\n *\n * @private\n * @typedef {[number, number, number, number]} BBox\n */\n\n/**\n * GeoJSON Id\n *\n * @private\n * @typedef {(number|string)} Id\n */\n\n/**\n * GeoJSON FeatureCollection\n *\n * @private\n * @typedef {Object} FeatureCollection\n * @property {string} type\n * @property {?Id} id\n * @property {?BBox} bbox\n * @property {Feature[]} features\n */\n\n/**\n * GeoJSON Feature\n *\n * @private\n * @typedef {Object} Feature\n * @property {string} type\n * @property {?Id} id\n * @property {?BBox} bbox\n * @property {*} properties\n * @property {Geometry} geometry\n */\n\n/**\n * GeoJSON Geometry\n *\n * @private\n * @typedef {Object} Geometry\n * @property {string} type\n * @property {any[]} coordinates\n */\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0.\n * @param {number} featureIndex The current index of the feature being processed.\n * @param {number} featureSubIndex The current subIndex of the feature being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, featureSubIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, featureSubIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=featureSubIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n    // Handles null Geometry -- Skips this GeoJSON\n    if (geojson === null) return;\n    var featureIndex, geometryIndex, j, k, l, geometry, stopG, coords,\n        geometryMaybeCollection,\n        wrapShrink = 0,\n        coordIndex = 0,\n        isGeometryCollection,\n        type = geojson.type,\n        isFeatureCollection = type === 'FeatureCollection',\n        isFeature = type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (featureIndex = 0; featureIndex < stop; featureIndex++) {\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[featureIndex].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (geometryIndex = 0; geometryIndex < stopG; geometryIndex++) {\n            var featureSubIndex = 0;\n            geometry = isGeometryCollection ?\n                geometryMaybeCollection.geometries[geometryIndex] : geometryMaybeCollection;\n\n            // Handles null Geometry -- Skips this geometry\n            if (geometry === null) continue;\n            coords = geometry.coordinates;\n            var geomType = geometry.type;\n\n            wrapShrink = (excludeWrapCoord && (geomType === 'Polygon' || geomType === 'MultiPolygon')) ? 1 : 0;\n\n            switch (geomType) {\n            case null:\n                break;\n            case 'Point':\n                callback(coords, coordIndex, featureIndex, featureSubIndex);\n                coordIndex++;\n                featureSubIndex++;\n                break;\n            case 'LineString':\n            case 'MultiPoint':\n                for (j = 0; j < coords.length; j++) {\n                    callback(coords[j], coordIndex, featureIndex, featureSubIndex);\n                    coordIndex++;\n                    if (geomType === 'MultiPoint') featureSubIndex++;\n                }\n                if (geomType === 'LineString') featureSubIndex++;\n                break;\n            case 'Polygon':\n            case 'MultiLineString':\n                for (j = 0; j < coords.length; j++) {\n                    for (k = 0; k < coords[j].length - wrapShrink; k++) {\n                        callback(coords[j][k], coordIndex, featureIndex, featureSubIndex);\n                        coordIndex++;\n                    }\n                    if (geomType === 'MultiLineString') featureSubIndex++;\n                }\n                if (geomType === 'Polygon') featureSubIndex++;\n                break;\n            case 'MultiPolygon':\n                for (j = 0; j < coords.length; j++) {\n                    for (k = 0; k < coords[j].length; k++)\n                        for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                            callback(coords[j][k][l], coordIndex, featureIndex, featureSubIndex);\n                            coordIndex++;\n                        }\n                    featureSubIndex++;\n                }\n                break;\n            case 'GeometryCollection':\n                for (j = 0; j < geometry.geometries.length; j++)\n                    coordEach(geometry.geometries[j], callback, excludeWrapCoord);\n                break;\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n    }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the feature being processed.\n * @param {number} featureSubIndex The current subIndex of the feature being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, featureSubIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=featureSubIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n    var previousValue = initialValue;\n    coordEach(geojson, function (currentCoord, coordIndex, featureIndex, featureSubIndex) {\n        if (coordIndex === 0 && initialValue === undefined) previousValue = currentCoord;\n        else previousValue = callback(previousValue, currentCoord, coordIndex, featureIndex, featureSubIndex);\n    }, excludeWrapCoord);\n    return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current properties being processed.\n * @param {number} featureIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {(FeatureCollection|Feature)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n    var i;\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        for (i = 0; i < geojson.features.length; i++) {\n            callback(geojson.features[i].properties, i);\n        }\n        break;\n    case 'Feature':\n        callback(geojson.properties, 0);\n        break;\n    }\n}\n\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current properties being processed.\n * @param {number} featureIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {(FeatureCollection|Feature)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    propEach(geojson, function (currentProperties, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentProperties;\n        else previousValue = callback(previousValue, currentProperties, featureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current feature being processed.\n * @param {number} featureIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n    if (geojson.type === 'Feature') {\n        callback(geojson, 0);\n    } else if (geojson.type === 'FeatureCollection') {\n        for (var i = 0; i < geojson.features.length; i++) {\n            callback(geojson.features[i], i);\n        }\n    }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    featureEach(geojson, function (currentFeature, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\n        else previousValue = callback(previousValue, currentFeature, featureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n    var coords = [];\n    coordEach(geojson, function (coord) {\n        coords.push(coord);\n    });\n    return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current geometry being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array. Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} currentProperties The current feature properties being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, currentProperties)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, currentProperties) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=currentProperties\n * });\n */\nfunction geomEach(geojson, callback) {\n    var i, j, g, geometry, stopG,\n        geometryMaybeCollection,\n        isGeometryCollection,\n        geometryProperties,\n        featureIndex = 0,\n        isFeatureCollection = geojson.type === 'FeatureCollection',\n        isFeature = geojson.type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (i = 0; i < stop; i++) {\n\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[i].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        geometryProperties = (isFeatureCollection ? geojson.features[i].properties :\n            (isFeature ? geojson.properties : {}));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (g = 0; g < stopG; g++) {\n            geometry = isGeometryCollection ?\n                geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n\n            // Handle null Geometry\n            if (geometry === null) {\n                callback(null, featureIndex, geometryProperties);\n                continue;\n            }\n            switch (geometry.type) {\n            case 'Point':\n            case 'LineString':\n            case 'MultiPoint':\n            case 'Polygon':\n            case 'MultiLineString':\n            case 'MultiPolygon': {\n                callback(geometry, featureIndex, geometryProperties);\n                break;\n            }\n            case 'GeometryCollection': {\n                for (j = 0; j < geometry.geometries.length; j++) {\n                    callback(geometry.geometries[j], featureIndex, geometryProperties);\n                }\n                break;\n            }\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n        // Only increase `featureIndex` per each feature\n        featureIndex++;\n    }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Feature being processed.\n * @param {number} currentIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {Object} currentProperties The current feature properties being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, currentProperties)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, currentProperties) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=currentProperties\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    geomEach(geojson, function (currentGeometry, currentIndex, currentProperties) {\n        if (currentIndex === 0 && initialValue === undefined) previousValue = currentGeometry;\n        else previousValue = callback(previousValue, currentGeometry, currentIndex, currentProperties);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The index of the current element being processed in the\n * array. Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureSubIndex The subindex of the current element being processed in the\n * array. Starts at index 0 and increases if the flattened feature was a multi-geometry.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, featureSubIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, featureSubIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=featureSubIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n    geomEach(geojson, function (geometry, featureIndex, properties) {\n        // Callback for single geometry\n        var type = (geometry === null) ? null : geometry.type;\n        switch (type) {\n        case null:\n        case 'Point':\n        case 'LineString':\n        case 'Polygon':\n            callback(feature(geometry, properties), featureIndex, 0);\n            return;\n        }\n\n        var geomType;\n\n        // Callback for multi-geometry\n        switch (type) {\n        case 'MultiPoint':\n            geomType = 'Point';\n            break;\n        case 'MultiLineString':\n            geomType = 'LineString';\n            break;\n        case 'MultiPolygon':\n            geomType = 'Polygon';\n            break;\n        }\n\n        geometry.coordinates.forEach(function (coordinate, featureSubIndex) {\n            var geom = {\n                type: geomType,\n                coordinates: coordinate\n            };\n            callback(feature(geom, properties), featureIndex, featureSubIndex);\n        });\n\n    });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The index of the current element being processed in the\n * array.Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureSubIndex The subindex of the current element being processed in the\n * array. Starts at index 0 and increases if the flattened feature was a multi-geometry.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, featureSubIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, featureSubIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=featureSubIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    flattenEach(geojson, function (currentFeature, featureIndex, featureSubIndex) {\n        if (featureIndex === 0 && featureSubIndex === 0 && initialValue === undefined) previousValue = currentFeature;\n        else previousValue = callback(previousValue, currentFeature, featureIndex, featureSubIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current segment being processed.\n * @param {number} featureIndex The featureIndex currently being processed, starts at index 0.\n * @param {number} featureSubIndex The featureSubIndex currently being processed, starts at index 0.\n * @param {number} segmentIndex The segmentIndex currently being processed, starts at index 0.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, featureSubIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, featureSubIndex, segmentIndex) {\n *   //= currentSegment\n *   //= featureIndex\n *   //= featureSubIndex\n *   //= segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n    flattenEach(geojson, function (feature, featureIndex, featureSubIndex) {\n        var segmentIndex = 0;\n\n        // Exclude null Geometries\n        if (!feature.geometry) return;\n        // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n        var type = feature.geometry.type;\n        if (type === 'Point' || type === 'MultiPoint') return;\n\n        // Generate 2-vertex line segments\n        coordReduce(feature, function (previousCoords, currentCoord) {\n            var currentSegment = lineString([previousCoords, currentCoord], feature.properties);\n            callback(currentSegment, featureIndex, featureSubIndex, segmentIndex);\n            segmentIndex++;\n            return currentCoord;\n        });\n    });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} [previousValue] The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} [currentSegment] The current segment being processed.\n * @param {number} featureIndex The featureIndex currently being processed, starts at index 0.\n * @param {number} featureSubIndex The featureSubIndex currently being processed, starts at index 0.\n * @param {number} segmentIndex The segmentIndex currently being processed, starts at index 0.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {(FeatureCollection|Feature|Geometry)} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, featureSubIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= featureSubIndex\n *   //= segmentInex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    var started = false;\n    segmentEach(geojson, function (currentSegment, featureIndex, featureSubIndex, segmentIndex) {\n        if (started === false && initialValue === undefined) previousValue = currentSegment;\n        else previousValue = callback(previousValue, currentSegment, featureIndex, featureSubIndex, segmentIndex);\n        started = true;\n    });\n    return previousValue;\n}\n\n/**\n * Create Feature\n *\n * @private\n * @param {Geometry} geometry GeoJSON Geometry\n * @param {Object} properties Properties\n * @returns {Feature} GeoJSON Feature\n */\nfunction feature(geometry, properties) {\n    if (geometry === undefined) throw new Error('No geometry passed');\n\n    return {\n        type: 'Feature',\n        properties: properties || {},\n        geometry: geometry\n    };\n}\n\n/**\n * Create LineString\n *\n * @private\n * @param {Array<Array<number>>} coordinates Line Coordinates\n * @param {Object} properties Properties\n * @returns {Feature<LineString>} GeoJSON LineString Feature\n */\nfunction lineString(coordinates, properties) {\n    if (!coordinates) throw new Error('No coordinates passed');\n    if (coordinates.length < 2) throw new Error('Coordinates must be an array of two or more positions');\n\n    return {\n        type: 'Feature',\n        properties: properties || {},\n        geometry: {\n            type: 'LineString',\n            coordinates: coordinates\n        }\n    };\n}\n\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} lineIndex The index of the current element being processed in the array, starts at index 0.\n * @param {number} lineSubIndex The sub-index of the current line being processed at index 0\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, lineIndex, lineSubIndex)\n * @example\n * var mtLn = turf.multiLineString([\n *   turf.lineString([[26, 37], [35, 45]]),\n *   turf.lineString([[36, 53], [38, 50], [41, 55]])\n * ]);\n *\n * turf.lineEach(mtLn, function (currentLine, lineIndex) {\n *   //=currentLine\n *   //=lineIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n    // validation\n    if (!geojson) throw new Error('geojson is required');\n    var type = geojson.geometry ? geojson.geometry.type : geojson.type;\n    if (!type) throw new Error('invalid geojson');\n    if (type === 'FeatureCollection') throw new Error('FeatureCollection is not supported');\n    if (type === 'GeometryCollection') throw new Error('GeometryCollection is not supported');\n    var coordinates = geojson.geometry ? geojson.geometry.coordinates : geojson.coordinates;\n    if (!coordinates) throw new Error('geojson must contain coordinates');\n\n    switch (type) {\n    case 'LineString':\n        callback(coordinates, 0, 0);\n        return;\n    case 'Polygon':\n    case 'MultiLineString':\n        var subIndex = 0;\n        for (var line = 0; line < coordinates.length; line++) {\n            if (type === 'MultiLineString') subIndex = line;\n            callback(coordinates[line], line, subIndex);\n        }\n        return;\n    case 'MultiPolygon':\n        for (var multi = 0; multi < coordinates.length; multi++) {\n            for (var ring = 0; ring < coordinates[multi].length; ring++) {\n                callback(coordinates[multi][ring], ring, multi);\n            }\n        }\n        return;\n    default:\n        throw new Error(type + ' geometry not supported');\n    }\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} lineIndex The index of the current element being processed in the\n * array. Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} lineSubIndex The sub-index of the current line being processed at index 0\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var mtp = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(mtp, function (previousValue, currentLine, lineIndex, lineSubIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=lineIndex\n *   //=lineSubIndex\n *   return currentLine\n * }, 2);\n */\nfunction lineReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    lineEach(geojson, function (currentLine, lineIndex, lineSubIndex) {\n        if (lineIndex === 0 && initialValue === undefined) previousValue = currentLine;\n        else previousValue = callback(previousValue, currentLine, lineIndex, lineSubIndex);\n    });\n    return previousValue;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR1cmYvbWV0YS9pbmRleC5qcz83MTZjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VvSlNPTiBCQm94XG4gKlxuICogQHByaXZhdGVcbiAqIEB0eXBlZGVmIHtbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXX0gQkJveFxuICovXG5cbi8qKlxuICogR2VvSlNPTiBJZFxuICpcbiAqIEBwcml2YXRlXG4gKiBAdHlwZWRlZiB7KG51bWJlcnxzdHJpbmcpfSBJZFxuICovXG5cbi8qKlxuICogR2VvSlNPTiBGZWF0dXJlQ29sbGVjdGlvblxuICpcbiAqIEBwcml2YXRlXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGVcbiAqIEBwcm9wZXJ0eSB7P0lkfSBpZFxuICogQHByb3BlcnR5IHs/QkJveH0gYmJveFxuICogQHByb3BlcnR5IHtGZWF0dXJlW119IGZlYXR1cmVzXG4gKi9cblxuLyoqXG4gKiBHZW9KU09OIEZlYXR1cmVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGVkZWYge09iamVjdH0gRmVhdHVyZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGVcbiAqIEBwcm9wZXJ0eSB7P0lkfSBpZFxuICogQHByb3BlcnR5IHs/QkJveH0gYmJveFxuICogQHByb3BlcnR5IHsqfSBwcm9wZXJ0aWVzXG4gKiBAcHJvcGVydHkge0dlb21ldHJ5fSBnZW9tZXRyeVxuICovXG5cbi8qKlxuICogR2VvSlNPTiBHZW9tZXRyeVxuICpcbiAqIEBwcml2YXRlXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBHZW9tZXRyeVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGVcbiAqIEBwcm9wZXJ0eSB7YW55W119IGNvb3JkaW5hdGVzXG4gKi9cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgY29vcmRFYWNoXG4gKlxuICogQGNhbGxiYWNrIGNvb3JkRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGN1cnJlbnRDb29yZCBUaGUgY3VycmVudCBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb29yZEluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIFN0YXJ0cyBhdCBpbmRleCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgZmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZVN1YkluZGV4IFRoZSBjdXJyZW50IHN1YkluZGV4IG9mIHRoZSBmZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBjb29yZGluYXRlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgY29vcmRFYWNoXG4gKiBAcGFyYW0geyhGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5KX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRDb29yZCwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtleGNsdWRlV3JhcENvb3JkPWZhbHNlXSB3aGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIHRoZSBmaW5hbCBjb29yZGluYXRlIG9mIExpbmVhclJpbmdzIHRoYXQgd3JhcHMgdGhlIHJpbmcgaW4gaXRzIGl0ZXJhdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge1wiZm9vXCI6IFwiYmFyXCJ9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge1wiaGVsbG9cIjogXCJ3b3JsZFwifSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuY29vcmRFYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVTdWJJbmRleCkge1xuICogICAvLz1jdXJyZW50Q29vcmRcbiAqICAgLy89Y29vcmRJbmRleFxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89ZmVhdHVyZVN1YkluZGV4XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvb3JkRWFjaChnZW9qc29uLCBjYWxsYmFjaywgZXhjbHVkZVdyYXBDb29yZCkge1xuICAgIC8vIEhhbmRsZXMgbnVsbCBHZW9tZXRyeSAtLSBTa2lwcyB0aGlzIEdlb0pTT05cbiAgICBpZiAoZ2VvanNvbiA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciBmZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIGosIGssIGwsIGdlb21ldHJ5LCBzdG9wRywgY29vcmRzLFxuICAgICAgICBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbixcbiAgICAgICAgd3JhcFNocmluayA9IDAsXG4gICAgICAgIGNvb3JkSW5kZXggPSAwLFxuICAgICAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbixcbiAgICAgICAgdHlwZSA9IGdlb2pzb24udHlwZSxcbiAgICAgICAgaXNGZWF0dXJlQ29sbGVjdGlvbiA9IHR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICAgIGlzRmVhdHVyZSA9IHR5cGUgPT09ICdGZWF0dXJlJyxcbiAgICAgICAgc3RvcCA9IGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCA6IDE7XG5cbiAgICAvLyBUaGlzIGxvZ2ljIG1heSBsb29rIGEgbGl0dGxlIHdlaXJkLiBUaGUgcmVhc29uIHdoeSBpdCBpcyB0aGF0IHdheVxuICAgIC8vIGlzIGJlY2F1c2UgaXQncyB0cnlpbmcgdG8gYmUgZmFzdC4gR2VvSlNPTiBzdXBwb3J0cyBtdWx0aXBsZSBraW5kc1xuICAgIC8vIG9mIG9iamVjdHMgYXQgaXRzIHJvb3Q6IEZlYXR1cmVDb2xsZWN0aW9uLCBGZWF0dXJlcywgR2VvbWV0cmllcy5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGhhcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgaGFuZGxpbmcgYWxsIG9mIHRoZW0sIGFuZCB0aGF0XG4gICAgLy8gbWVhbnMgdGhhdCBzb21lIG9mIHRoZSBgZm9yYCBsb29wcyB5b3Ugc2VlIGJlbG93IGFjdHVhbGx5IGp1c3QgZG9uJ3QgYXBwbHlcbiAgICAvLyB0byBjZXJ0YWluIGlucHV0cy4gRm9yIGluc3RhbmNlLCBpZiB5b3UgZ2l2ZSB0aGlzIGp1c3QgYVxuICAgIC8vIFBvaW50IGdlb21ldHJ5LCB0aGVuIGJvdGggbG9vcHMgYXJlIHNob3J0LWNpcmN1aXRlZCBhbmQgYWxsIHdlIGRvXG4gICAgLy8gaXMgZ3JhZHVhbGx5IHJlbmFtZSB0aGUgaW5wdXQgdW50aWwgaXQncyBjYWxsZWQgJ2dlb21ldHJ5Jy5cbiAgICAvL1xuICAgIC8vIFRoaXMgYWxzbyBhaW1zIHRvIGFsbG9jYXRlIGFzIGZldyByZXNvdXJjZXMgYXMgcG9zc2libGU6IGp1c3QgYVxuICAgIC8vIGZldyBudW1iZXJzIGFuZCBib29sZWFucywgcmF0aGVyIHRoYW4gYW55IHRlbXBvcmFyeSBhcnJheXMgYXMgd291bGRcbiAgICAvLyBiZSByZXF1aXJlZCB3aXRoIHRoZSBub3JtYWxpemF0aW9uIGFwcHJvYWNoLlxuICAgIGZvciAoZmVhdHVyZUluZGV4ID0gMDsgZmVhdHVyZUluZGV4IDwgc3RvcDsgZmVhdHVyZUluZGV4KyspIHtcbiAgICAgICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24gPSAoaXNGZWF0dXJlQ29sbGVjdGlvbiA/IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5nZW9tZXRyeSA6XG4gICAgICAgICAgICAoaXNGZWF0dXJlID8gZ2VvanNvbi5nZW9tZXRyeSA6IGdlb2pzb24pKTtcbiAgICAgICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24gPSAoZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24pID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24udHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicgOiBmYWxzZTtcbiAgICAgICAgc3RvcEcgPSBpc0dlb21ldHJ5Q29sbGVjdGlvbiA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXMubGVuZ3RoIDogMTtcblxuICAgICAgICBmb3IgKGdlb21ldHJ5SW5kZXggPSAwOyBnZW9tZXRyeUluZGV4IDwgc3RvcEc7IGdlb21ldHJ5SW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIGZlYXR1cmVTdWJJbmRleCA9IDA7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uID9cbiAgICAgICAgICAgICAgICBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzW2dlb21ldHJ5SW5kZXhdIDogZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb247XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZXMgbnVsbCBHZW9tZXRyeSAtLSBTa2lwcyB0aGlzIGdlb21ldHJ5XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29vcmRzID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICB2YXIgZ2VvbVR5cGUgPSBnZW9tZXRyeS50eXBlO1xuXG4gICAgICAgICAgICB3cmFwU2hyaW5rID0gKGV4Y2x1ZGVXcmFwQ29vcmQgJiYgKGdlb21UeXBlID09PSAnUG9seWdvbicgfHwgZ2VvbVR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSkgPyAxIDogMDtcblxuICAgICAgICAgICAgc3dpdGNoIChnZW9tVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBudWxsOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUG9pbnQnOlxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGNvb3JkcywgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgICAgICBmZWF0dXJlU3ViSW5kZXgrKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgICAgICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjb29yZHNbal0sIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgZmVhdHVyZVN1YkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09ICdNdWx0aVBvaW50JykgZmVhdHVyZVN1YkluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSBmZWF0dXJlU3ViSW5kZXgrKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoIC0gd3JhcFNocmluazsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjb29yZHNbal1ba10sIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgZmVhdHVyZVN1YkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSBmZWF0dXJlU3ViSW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSAnUG9seWdvbicpIGZlYXR1cmVTdWJJbmRleCsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTXVsdGlQb2x5Z29uJzpcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoOyBrKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGwgPSAwOyBsIDwgY29vcmRzW2pdW2tdLmxlbmd0aCAtIHdyYXBTaHJpbms7IGwrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGNvb3Jkc1tqXVtrXVtsXSwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZVN1YkluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2VvbWV0cnlDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgICAgICAgY29vcmRFYWNoKGdlb21ldHJ5Lmdlb21ldHJpZXNbal0sIGNhbGxiYWNrLCBleGNsdWRlV3JhcENvb3JkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIEdlb21ldHJ5IFR5cGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgY29vcmRSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBjb29yZFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjdXJyZW50Q29vcmQgVGhlIGN1cnJlbnQgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29vcmRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBTdGFydHMgYXQgaW5kZXggMCwgaWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkLCBhbmQgYXQgaW5kZXggMSBvdGhlcndpc2UuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBmZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlU3ViSW5kZXggVGhlIGN1cnJlbnQgc3ViSW5kZXggb2YgdGhlIGZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGNvb3JkaW5hdGVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKVxuICpcbiAqIEBuYW1lIGNvb3JkUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEdlb21ldHJ5fEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHBhcmFtIHtib29sZWFufSBbZXhjbHVkZVdyYXBDb29yZD1mYWxzZV0gd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSB0aGUgZmluYWwgY29vcmRpbmF0ZSBvZiBMaW5lYXJSaW5ncyB0aGF0IHdyYXBzIHRoZSByaW5nIGluIGl0cyBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtcImZvb1wiOiBcImJhclwifSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtcImhlbGxvXCI6IFwid29ybGRcIn0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmNvb3JkUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVTdWJJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRDb29yZFxuICogICAvLz1jb29yZEluZGV4XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1mZWF0dXJlU3ViSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRDb29yZDtcbiAqIH0pO1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29vcmRSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSwgZXhjbHVkZVdyYXBDb29yZCkge1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIGNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVTdWJJbmRleCkge1xuICAgICAgICBpZiAoY29vcmRJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZCkgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRDb29yZDtcbiAgICAgICAgZWxzZSBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVTdWJJbmRleCk7XG4gICAgfSwgZXhjbHVkZVdyYXBDb29yZCk7XG4gICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHByb3BFYWNoXG4gKlxuICogQGNhbGxiYWNrIHByb3BFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBjdXJyZW50UHJvcGVydGllcyBUaGUgY3VycmVudCBwcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgYmVpbmcgcHJvY2Vzc2VkIGluIHRoZVxuICogYXJyYXkuU3RhcnRzIGF0IGluZGV4IDAsIGlmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCwgYW5kIGF0IGluZGV4IDEgb3RoZXJ3aXNlLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIHByb3BlcnRpZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIHByb3BFYWNoXG4gKiBAcGFyYW0geyhGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlKX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5wcm9wRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGk7XG4gICAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlICdGZWF0dXJlQ29sbGVjdGlvbic6XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhnZW9qc29uLmZlYXR1cmVzW2ldLnByb3BlcnRpZXMsIGkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0ZlYXR1cmUnOlxuICAgICAgICBjYWxsYmFjayhnZW9qc29uLnByb3BlcnRpZXMsIDApO1xuICAgICAgICBicmVhaztcbiAgICB9XG59XG5cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgcHJvcFJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIHByb3BSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7Kn0gY3VycmVudFByb3BlcnRpZXMgVGhlIGN1cnJlbnQgcHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBlbGVtZW50IGJlaW5nIHByb2Nlc3NlZCBpbiB0aGVcbiAqIGFycmF5LlN0YXJ0cyBhdCBpbmRleCAwLCBpZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQsIGFuZCBhdCBpbmRleCAxIG90aGVyd2lzZS5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBwcm9wZXJ0aWVzIGluIGFueSBHZW9KU09OIG9iamVjdCBpbnRvIGEgc2luZ2xlIHZhbHVlLFxuICogc2ltaWxhciB0byBob3cgQXJyYXkucmVkdWNlIHdvcmtzLiBIb3dldmVyLCBpbiB0aGlzIGNhc2Ugd2UgbGF6aWx5IHJ1blxuICogdGhlIHJlZHVjdGlvbiwgc28gYW4gYXJyYXkgb2YgYWxsIHByb3BlcnRpZXMgaXMgdW5uZWNlc3NhcnkuXG4gKlxuICogQG5hbWUgcHJvcFJlZHVjZVxuICogQHBhcmFtIHsoRmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZSl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLnByb3BSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50UHJvcGVydGllc1xuICogfSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBwcm9wRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleCkge1xuICAgICAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSBwcmV2aW91c1ZhbHVlID0gY3VycmVudFByb3BlcnRpZXM7XG4gICAgICAgIGVsc2UgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpO1xuICAgIH0pO1xuICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmZWF0dXJlRWFjaFxuICpcbiAqIEBjYWxsYmFjayBmZWF0dXJlRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8YW55Pn0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgZmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBlbGVtZW50IGJlaW5nIHByb2Nlc3NlZCBpbiB0aGVcbiAqIGFycmF5LlN0YXJ0cyBhdCBpbmRleCAwLCBpZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQsIGFuZCBhdCBpbmRleCAxIG90aGVyd2lzZS5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG9cbiAqIEFycmF5LmZvckVhY2guXG4gKlxuICogQG5hbWUgZmVhdHVyZUVhY2hcbiAqIEBwYXJhbSB7KEZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnkpfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleClcbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmVhdHVyZUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogfSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmZWF0dXJlRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICAgIGlmIChnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlJykge1xuICAgICAgICBjYWxsYmFjayhnZW9qc29uLCAwKTtcbiAgICB9IGVsc2UgaWYgKGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGdlb2pzb24uZmVhdHVyZXNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmZWF0dXJlUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgZmVhdHVyZVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlfSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgYmVpbmcgcHJvY2Vzc2VkIGluIHRoZVxuICogYXJyYXkuU3RhcnRzIGF0IGluZGV4IDAsIGlmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCwgYW5kIGF0IGluZGV4IDEgb3RoZXJ3aXNlLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlUmVkdWNlXG4gKiBAcGFyYW0geyhGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5KX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7XCJmb29cIjogXCJiYXJcIn0pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7XCJoZWxsb1wiOiBcIndvcmxkXCJ9KVxuICogXSk7XG4gKlxuICogdHVyZi5mZWF0dXJlUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICByZXR1cm4gY3VycmVudEZlYXR1cmVcbiAqIH0pO1xuICovXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgZmVhdHVyZUVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpIHtcbiAgICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZCkgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgICAgICBlbHNlIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGNvb3JkaW5hdGVzIGZyb20gYW55IEdlb0pTT04gb2JqZWN0LlxuICpcbiAqIEBuYW1lIGNvb3JkQWxsXG4gKiBAcGFyYW0geyhGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5KX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEByZXR1cm5zIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZSBwb3NpdGlvbiBhcnJheVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdmFyIGNvb3JkcyA9IHR1cmYuY29vcmRBbGwoZmVhdHVyZXMpO1xuICogLy89IFtbMjYsIDM3XSwgWzM2LCA1M11dXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZEFsbChnZW9qc29uKSB7XG4gICAgdmFyIGNvb3JkcyA9IFtdO1xuICAgIGNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgY29vcmRzLnB1c2goY29vcmQpO1xuICAgIH0pO1xuICAgIHJldHVybiBjb29yZHM7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGdlb21FYWNoXG4gKlxuICogQGNhbGxiYWNrIGdlb21FYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7R2VvbWV0cnl9IGN1cnJlbnRHZW9tZXRyeSBUaGUgY3VycmVudCBnZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gY3VycmVudEluZGV4IFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBlbGVtZW50IGJlaW5nIHByb2Nlc3NlZCBpbiB0aGVcbiAqIGFycmF5LiBTdGFydHMgYXQgaW5kZXggMCwgaWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkLCBhbmQgYXQgaW5kZXggMSBvdGhlcndpc2UuXG4gKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFByb3BlcnRpZXMgVGhlIGN1cnJlbnQgZmVhdHVyZSBwcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBlYWNoIGdlb21ldHJ5IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqXG4gKiBAbmFtZSBnZW9tRWFjaFxuICogQHBhcmFtIHsoRmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeSl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgY3VycmVudFByb3BlcnRpZXMpXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5nZW9tRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBjdXJyZW50UHJvcGVydGllcykge1xuICogICAvLz1jdXJyZW50R2VvbWV0cnlcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPWN1cnJlbnRQcm9wZXJ0aWVzXG4gKiB9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlb21FYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGksIGosIGcsIGdlb21ldHJ5LCBzdG9wRyxcbiAgICAgICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24sXG4gICAgICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uLFxuICAgICAgICBnZW9tZXRyeVByb3BlcnRpZXMsXG4gICAgICAgIGZlYXR1cmVJbmRleCA9IDAsXG4gICAgICAgIGlzRmVhdHVyZUNvbGxlY3Rpb24gPSBnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICAgIGlzRmVhdHVyZSA9IGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnLFxuICAgICAgICBzdG9wID0gaXNGZWF0dXJlQ29sbGVjdGlvbiA/IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoIDogMTtcblxuICAgIC8vIFRoaXMgbG9naWMgbWF5IGxvb2sgYSBsaXR0bGUgd2VpcmQuIFRoZSByZWFzb24gd2h5IGl0IGlzIHRoYXQgd2F5XG4gICAgLy8gaXMgYmVjYXVzZSBpdCdzIHRyeWluZyB0byBiZSBmYXN0LiBHZW9KU09OIHN1cHBvcnRzIG11bHRpcGxlIGtpbmRzXG4gICAgLy8gb2Ygb2JqZWN0cyBhdCBpdHMgcm9vdDogRmVhdHVyZUNvbGxlY3Rpb24sIEZlYXR1cmVzLCBHZW9tZXRyaWVzLlxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaGFzIHRoZSByZXNwb25zaWJpbGl0eSBvZiBoYW5kbGluZyBhbGwgb2YgdGhlbSwgYW5kIHRoYXRcbiAgICAvLyBtZWFucyB0aGF0IHNvbWUgb2YgdGhlIGBmb3JgIGxvb3BzIHlvdSBzZWUgYmVsb3cgYWN0dWFsbHkganVzdCBkb24ndCBhcHBseVxuICAgIC8vIHRvIGNlcnRhaW4gaW5wdXRzLiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBnaXZlIHRoaXMganVzdCBhXG4gICAgLy8gUG9pbnQgZ2VvbWV0cnksIHRoZW4gYm90aCBsb29wcyBhcmUgc2hvcnQtY2lyY3VpdGVkIGFuZCBhbGwgd2UgZG9cbiAgICAvLyBpcyBncmFkdWFsbHkgcmVuYW1lIHRoZSBpbnB1dCB1bnRpbCBpdCdzIGNhbGxlZCAnZ2VvbWV0cnknLlxuICAgIC8vXG4gICAgLy8gVGhpcyBhbHNvIGFpbXMgdG8gYWxsb2NhdGUgYXMgZmV3IHJlc291cmNlcyBhcyBwb3NzaWJsZToganVzdCBhXG4gICAgLy8gZmV3IG51bWJlcnMgYW5kIGJvb2xlYW5zLCByYXRoZXIgdGhhbiBhbnkgdGVtcG9yYXJ5IGFycmF5cyBhcyB3b3VsZFxuICAgIC8vIGJlIHJlcXVpcmVkIHdpdGggdGhlIG5vcm1hbGl6YXRpb24gYXBwcm9hY2guXG4gICAgZm9yIChpID0gMDsgaSA8IHN0b3A7IGkrKykge1xuXG4gICAgICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uID0gKGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzW2ldLmdlb21ldHJ5IDpcbiAgICAgICAgICAgIChpc0ZlYXR1cmUgPyBnZW9qc29uLmdlb21ldHJ5IDogZ2VvanNvbikpO1xuICAgICAgICBnZW9tZXRyeVByb3BlcnRpZXMgPSAoaXNGZWF0dXJlQ29sbGVjdGlvbiA/IGdlb2pzb24uZmVhdHVyZXNbaV0ucHJvcGVydGllcyA6XG4gICAgICAgICAgICAoaXNGZWF0dXJlID8gZ2VvanNvbi5wcm9wZXJ0aWVzIDoge30pKTtcbiAgICAgICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24gPSAoZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24pID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24udHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicgOiBmYWxzZTtcbiAgICAgICAgc3RvcEcgPSBpc0dlb21ldHJ5Q29sbGVjdGlvbiA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXMubGVuZ3RoIDogMTtcblxuICAgICAgICBmb3IgKGcgPSAwOyBnIDwgc3RvcEc7IGcrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBpc0dlb21ldHJ5Q29sbGVjdGlvbiA/XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24uZ2VvbWV0cmllc1tnXSA6IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgbnVsbCBHZW9tZXRyeVxuICAgICAgICAgICAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgZmVhdHVyZUluZGV4LCBnZW9tZXRyeVByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdQb2ludCc6XG4gICAgICAgICAgICBjYXNlICdMaW5lU3RyaW5nJzpcbiAgICAgICAgICAgIGNhc2UgJ011bHRpUG9pbnQnOlxuICAgICAgICAgICAgY2FzZSAnUG9seWdvbic6XG4gICAgICAgICAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgICAgICAgICAgY2FzZSAnTXVsdGlQb2x5Z29uJzoge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGdlb21ldHJ5UHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdHZW9tZXRyeUNvbGxlY3Rpb24nOiB7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZ2VvbWV0cnkuZ2VvbWV0cmllc1tqXSwgZmVhdHVyZUluZGV4LCBnZW9tZXRyeVByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIEdlb21ldHJ5IFR5cGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IGluY3JlYXNlIGBmZWF0dXJlSW5kZXhgIHBlciBlYWNoIGZlYXR1cmVcbiAgICAgICAgZmVhdHVyZUluZGV4Kys7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBnZW9tUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgZ2VvbVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtHZW9tZXRyeX0gY3VycmVudEdlb21ldHJ5IFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRJbmRleCBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBiZWluZyBwcm9jZXNzZWQgaW4gdGhlXG4gKiBhcnJheS5TdGFydHMgYXQgaW5kZXggMCwgaWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkLCBhbmQgYXQgaW5kZXggMSBvdGhlcndpc2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY3VycmVudFByb3BlcnRpZXMgVGhlIGN1cnJlbnQgZmVhdHVyZSBwcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBnZW9tZXRyeSBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZ2VvbVJlZHVjZVxuICogQHBhcmFtIHsoRmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeSl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgY3VycmVudFByb3BlcnRpZXMpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZ2VvbVJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBjdXJyZW50UHJvcGVydGllcykge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRHZW9tZXRyeVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgcmV0dXJuIGN1cnJlbnRHZW9tZXRyeVxuICogfSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW9tUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBnZW9tRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudEdlb21ldHJ5LCBjdXJyZW50SW5kZXgsIGN1cnJlbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50R2VvbWV0cnk7XG4gICAgICAgIGVsc2UgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRHZW9tZXRyeSwgY3VycmVudEluZGV4LCBjdXJyZW50UHJvcGVydGllcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZsYXR0ZW5FYWNoXG4gKlxuICogQGNhbGxiYWNrIGZsYXR0ZW5FYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZX0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgZmxhdHRlbmVkIGZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBiZWluZyBwcm9jZXNzZWQgaW4gdGhlXG4gKiBhcnJheS4gU3RhcnRzIGF0IGluZGV4IDAsIGlmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCwgYW5kIGF0IGluZGV4IDEgb3RoZXJ3aXNlLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVTdWJJbmRleCBUaGUgc3ViaW5kZXggb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBiZWluZyBwcm9jZXNzZWQgaW4gdGhlXG4gKiBhcnJheS4gU3RhcnRzIGF0IGluZGV4IDAgYW5kIGluY3JlYXNlcyBpZiB0aGUgZmxhdHRlbmVkIGZlYXR1cmUgd2FzIGEgbXVsdGktZ2VvbWV0cnkuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZmxhdHRlbmVkIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0b1xuICogQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBmbGF0dGVuRWFjaFxuICogQHBhcmFtIHsoRmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeSl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLm11bHRpUG9pbnQoW1s0MCwgMzBdLCBbMzYsIDUzXV0sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZsYXR0ZW5FYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgZmVhdHVyZVN1YkluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1mZWF0dXJlU3ViSW5kZXhcbiAqIH0pO1xuICovXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgICBnZW9tRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmVJbmRleCwgcHJvcGVydGllcykge1xuICAgICAgICAvLyBDYWxsYmFjayBmb3Igc2luZ2xlIGdlb21ldHJ5XG4gICAgICAgIHZhciB0eXBlID0gKGdlb21ldHJ5ID09PSBudWxsKSA/IG51bGwgOiBnZW9tZXRyeS50eXBlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBudWxsOlxuICAgICAgICBjYXNlICdQb2ludCc6XG4gICAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgICBjYXNlICdQb2x5Z29uJzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGZlYXR1cmUoZ2VvbWV0cnksIHByb3BlcnRpZXMpLCBmZWF0dXJlSW5kZXgsIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdlb21UeXBlO1xuXG4gICAgICAgIC8vIENhbGxiYWNrIGZvciBtdWx0aS1nZW9tZXRyeVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgICAgICAgICBnZW9tVHlwZSA9ICdQb2ludCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgICAgIGdlb21UeXBlID0gJ0xpbmVTdHJpbmcnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgICAgICBnZW9tVHlwZSA9ICdQb2x5Z29uJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2VvbWV0cnkuY29vcmRpbmF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoY29vcmRpbmF0ZSwgZmVhdHVyZVN1YkluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBnZW9tVHlwZSxcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcyksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVN1YkluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmxhdHRlblJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGZsYXR0ZW5SZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZX0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBlbGVtZW50IGJlaW5nIHByb2Nlc3NlZCBpbiB0aGVcbiAqIGFycmF5LlN0YXJ0cyBhdCBpbmRleCAwLCBpZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQsIGFuZCBhdCBpbmRleCAxIG90aGVyd2lzZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlU3ViSW5kZXggVGhlIHN1YmluZGV4IG9mIHRoZSBjdXJyZW50IGVsZW1lbnQgYmVpbmcgcHJvY2Vzc2VkIGluIHRoZVxuICogYXJyYXkuIFN0YXJ0cyBhdCBpbmRleCAwIGFuZCBpbmNyZWFzZXMgaWYgdGhlIGZsYXR0ZW5lZCBmZWF0dXJlIHdhcyBhIG11bHRpLWdlb21ldHJ5LlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZsYXR0ZW5lZCBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZmxhdHRlblJlZHVjZVxuICogQHBhcmFtIHsoRmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeSl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5tdWx0aVBvaW50KFtbNDAsIDMwXSwgWzM2LCA1M11dLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5mbGF0dGVuUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgZmVhdHVyZVN1YkluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudEZlYXR1cmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPWZlYXR1cmVTdWJJbmRleFxuICogICByZXR1cm4gY3VycmVudEZlYXR1cmVcbiAqIH0pO1xuICovXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlblJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgZmxhdHRlbkVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVTdWJJbmRleCkge1xuICAgICAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGZlYXR1cmVTdWJJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZCkgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgICAgICBlbHNlIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgpO1xuICAgIH0pO1xuICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBzZWdtZW50RWFjaFxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50RWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IHNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgZmVhdHVyZUluZGV4IGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQsIHN0YXJ0cyBhdCBpbmRleCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVTdWJJbmRleCBUaGUgZmVhdHVyZVN1YkluZGV4IGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQsIHN0YXJ0cyBhdCBpbmRleCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZ21lbnRJbmRleCBUaGUgc2VnbWVudEluZGV4IGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQsIHN0YXJ0cyBhdCBpbmRleCAwLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgMi12ZXJ0ZXggbGluZSBzZWdtZW50IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0geyhGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5KX0gZ2VvanNvbiBhbnkgR2VvSlNPTlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgZmVhdHVyZVN1YkluZGV4KVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHlnb24gPSB0dXJmLnBvbHlnb24oW1tbLTUwLCA1XSwgWy00MCwgLTEwXSwgWy01MCwgLTEwXSwgWy00MCwgNV0sIFstNTAsIDVdXV0pO1xuICpcbiAqIC8vIEl0ZXJhdGUgb3ZlciBHZW9KU09OIGJ5IDItdmVydGV4IHNlZ21lbnRzXG4gKiB0dXJmLnNlZ21lbnRFYWNoKHBvbHlnb24sIGZ1bmN0aW9uIChjdXJyZW50U2VnbWVudCwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz0gY3VycmVudFNlZ21lbnRcbiAqICAgLy89IGZlYXR1cmVJbmRleFxuICogICAvLz0gZmVhdHVyZVN1YkluZGV4XG4gKiAgIC8vPSBzZWdtZW50SW5kZXhcbiAqIH0pO1xuICpcbiAqIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIHNlZ21lbnRzXG4gKiB2YXIgdG90YWwgPSAwO1xuICogdHVyZi5zZWdtZW50RWFjaChwb2x5Z29uLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgdG90YWwrKztcbiAqIH0pO1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2VnbWVudEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgpIHtcbiAgICAgICAgdmFyIHNlZ21lbnRJbmRleCA9IDA7XG5cbiAgICAgICAgLy8gRXhjbHVkZSBudWxsIEdlb21ldHJpZXNcbiAgICAgICAgaWYgKCFmZWF0dXJlLmdlb21ldHJ5KSByZXR1cm47XG4gICAgICAgIC8vIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAgICAgICAgdmFyIHR5cGUgPSBmZWF0dXJlLmdlb21ldHJ5LnR5cGU7XG4gICAgICAgIGlmICh0eXBlID09PSAnUG9pbnQnIHx8IHR5cGUgPT09ICdNdWx0aVBvaW50JykgcmV0dXJuO1xuXG4gICAgICAgIC8vIEdlbmVyYXRlIDItdmVydGV4IGxpbmUgc2VnbWVudHNcbiAgICAgICAgY29vcmRSZWR1Y2UoZmVhdHVyZSwgZnVuY3Rpb24gKHByZXZpb3VzQ29vcmRzLCBjdXJyZW50Q29vcmQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2VnbWVudCA9IGxpbmVTdHJpbmcoW3ByZXZpb3VzQ29vcmRzLCBjdXJyZW50Q29vcmRdLCBmZWF0dXJlLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgY2FsbGJhY2soY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgZmVhdHVyZVN1YkluZGV4LCBzZWdtZW50SW5kZXgpO1xuICAgICAgICAgICAgc2VnbWVudEluZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudENvb3JkO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3Igc2VnbWVudFJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIHNlZ21lbnRSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBbcHJldmlvdXNWYWx1ZV0gVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBbY3VycmVudFNlZ21lbnRdIFRoZSBjdXJyZW50IHNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgZmVhdHVyZUluZGV4IGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQsIHN0YXJ0cyBhdCBpbmRleCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVTdWJJbmRleCBUaGUgZmVhdHVyZVN1YkluZGV4IGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQsIHN0YXJ0cyBhdCBpbmRleCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZ21lbnRJbmRleCBUaGUgc2VnbWVudEluZGV4IGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQsIHN0YXJ0cyBhdCBpbmRleCAwLlxuICovXG5cbi8qKlxuICogUmVkdWNlIDItdmVydGV4IGxpbmUgc2VnbWVudCBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0geyhGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5KX0gZ2VvanNvbiBhbnkgR2VvSlNPTlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudFNlZ21lbnQsIGN1cnJlbnRJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNTAsIDVdLCBbLTQwLCAtMTBdLCBbLTUwLCAtMTBdLCBbLTQwLCA1XSwgWy01MCwgNV1dXSk7XG4gKlxuICogLy8gSXRlcmF0ZSBvdmVyIEdlb0pTT04gYnkgMi12ZXJ0ZXggc2VnbWVudHNcbiAqIHR1cmYuc2VnbWVudFJlZHVjZShwb2x5Z29uLCBmdW5jdGlvbiAocHJldmlvdXNTZWdtZW50LCBjdXJyZW50U2VnbWVudCwgZmVhdHVyZUluZGV4LCBmZWF0dXJlU3ViSW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz0gcHJldmlvdXNTZWdtZW50XG4gKiAgIC8vPSBjdXJyZW50U2VnbWVudFxuICogICAvLz0gZmVhdHVyZUluZGV4XG4gKiAgIC8vPSBmZWF0dXJlU3ViSW5kZXhcbiAqICAgLy89IHNlZ21lbnRJbmV4XG4gKiAgIHJldHVybiBjdXJyZW50U2VnbWVudFxuICogfSk7XG4gKlxuICogLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2VnbWVudHNcbiAqIHZhciBpbml0aWFsVmFsdWUgPSAwXG4gKiB2YXIgdG90YWwgPSB0dXJmLnNlZ21lbnRSZWR1Y2UocG9seWdvbiwgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUpIHtcbiAqICAgICBwcmV2aW91c1ZhbHVlKys7XG4gKiAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG4gKiB9LCBpbml0aWFsVmFsdWUpO1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2VnbWVudFJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgdmFyIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBzZWdtZW50RWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgZmVhdHVyZVN1YkluZGV4LCBzZWdtZW50SW5kZXgpIHtcbiAgICAgICAgaWYgKHN0YXJ0ZWQgPT09IGZhbHNlICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKSBwcmV2aW91c1ZhbHVlID0gY3VycmVudFNlZ21lbnQ7XG4gICAgICAgIGVsc2UgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVTdWJJbmRleCwgc2VnbWVudEluZGV4KTtcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ3JlYXRlIEZlYXR1cmVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtHZW9tZXRyeX0gZ2VvbWV0cnkgR2VvSlNPTiBHZW9tZXRyeVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgUHJvcGVydGllc1xuICogQHJldHVybnMge0ZlYXR1cmV9IEdlb0pTT04gRmVhdHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZShnZW9tZXRyeSwgcHJvcGVydGllcykge1xuICAgIGlmIChnZW9tZXRyeSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGdlb21ldHJ5IHBhc3NlZCcpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzIHx8IHt9LFxuICAgICAgICBnZW9tZXRyeTogZ2VvbWV0cnlcbiAgICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBMaW5lU3RyaW5nXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIExpbmUgQ29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIFByb3BlcnRpZXNcbiAqIEByZXR1cm5zIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBHZW9KU09OIExpbmVTdHJpbmcgRmVhdHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZyhjb29yZGluYXRlcywgcHJvcGVydGllcykge1xuICAgIGlmICghY29vcmRpbmF0ZXMpIHRocm93IG5ldyBFcnJvcignTm8gY29vcmRpbmF0ZXMgcGFzc2VkJyk7XG4gICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHRocm93IG5ldyBFcnJvcignQ29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBhcnJheSBvZiB0d28gb3IgbW9yZSBwb3NpdGlvbnMnKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdGZWF0dXJlJyxcbiAgICAgICAgcHJvcGVydGllczogcHJvcGVydGllcyB8fCB7fSxcbiAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgIHR5cGU6ICdMaW5lU3RyaW5nJyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBsaW5lRWFjaFxuICpcbiAqIEBjYWxsYmFjayBsaW5lRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRMaW5lIFRoZSBjdXJyZW50IExpbmVTdHJpbmd8TGluZWFyUmluZyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbGluZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBlbGVtZW50IGJlaW5nIHByb2Nlc3NlZCBpbiB0aGUgYXJyYXksIHN0YXJ0cyBhdCBpbmRleCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IGxpbmVTdWJJbmRleCBUaGUgc3ViLWluZGV4IG9mIHRoZSBjdXJyZW50IGxpbmUgYmVpbmcgcHJvY2Vzc2VkIGF0IGluZGV4IDBcbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBsaW5lIG9yIHJpbmcgY29vcmRpbmF0ZXMgaW4gTGluZVN0cmluZywgUG9seWdvbiwgTXVsdGlMaW5lU3RyaW5nLCBNdWx0aVBvbHlnb24gRmVhdHVyZXMgb3IgR2VvbWV0cmllcyxcbiAqIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBsaW5lRWFjaFxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbnxNdWx0aUxpbmVTdHJpbmd8TXVsdGlQb2x5Z29uPn0gZ2VvanNvbiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRMaW5lLCBsaW5lSW5kZXgsIGxpbmVTdWJJbmRleClcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXRMbiA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtcbiAqICAgdHVyZi5saW5lU3RyaW5nKFtbMjYsIDM3XSwgWzM1LCA0NV1dKSxcbiAqICAgdHVyZi5saW5lU3RyaW5nKFtbMzYsIDUzXSwgWzM4LCA1MF0sIFs0MSwgNTVdXSlcbiAqIF0pO1xuICpcbiAqIHR1cmYubGluZUVhY2gobXRMbiwgZnVuY3Rpb24gKGN1cnJlbnRMaW5lLCBsaW5lSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudExpbmVcbiAqICAgLy89bGluZUluZGV4XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gICAgLy8gdmFsaWRhdGlvblxuICAgIGlmICghZ2VvanNvbikgdGhyb3cgbmV3IEVycm9yKCdnZW9qc29uIGlzIHJlcXVpcmVkJyk7XG4gICAgdmFyIHR5cGUgPSBnZW9qc29uLmdlb21ldHJ5ID8gZ2VvanNvbi5nZW9tZXRyeS50eXBlIDogZ2VvanNvbi50eXBlO1xuICAgIGlmICghdHlwZSkgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGdlb2pzb24nKTtcbiAgICBpZiAodHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykgdGhyb3cgbmV3IEVycm9yKCdGZWF0dXJlQ29sbGVjdGlvbiBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgaWYgKHR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB0aHJvdyBuZXcgRXJyb3IoJ0dlb21ldHJ5Q29sbGVjdGlvbiBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvanNvbi5nZW9tZXRyeSA/IGdlb2pzb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXMgOiBnZW9qc29uLmNvb3JkaW5hdGVzO1xuICAgIGlmICghY29vcmRpbmF0ZXMpIHRocm93IG5ldyBFcnJvcignZ2VvanNvbiBtdXN0IGNvbnRhaW4gY29vcmRpbmF0ZXMnKTtcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgICBjYWxsYmFjayhjb29yZGluYXRlcywgMCwgMCk7XG4gICAgICAgIHJldHVybjtcbiAgICBjYXNlICdQb2x5Z29uJzpcbiAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgICAgICB2YXIgc3ViSW5kZXggPSAwO1xuICAgICAgICBmb3IgKHZhciBsaW5lID0gMDsgbGluZSA8IGNvb3JkaW5hdGVzLmxlbmd0aDsgbGluZSsrKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIHN1YkluZGV4ID0gbGluZTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGNvb3JkaW5hdGVzW2xpbmVdLCBsaW5lLCBzdWJJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgIGZvciAodmFyIG11bHRpID0gMDsgbXVsdGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IG11bHRpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIHJpbmcgPSAwOyByaW5nIDwgY29vcmRpbmF0ZXNbbXVsdGldLmxlbmd0aDsgcmluZysrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soY29vcmRpbmF0ZXNbbXVsdGldW3JpbmddLCByaW5nLCBtdWx0aSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0eXBlICsgJyBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBsaW5lUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgbGluZVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBjdXJyZW50TGluZSBUaGUgY3VycmVudCBMaW5lU3RyaW5nfExpbmVhclJpbmcgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGxpbmVJbmRleCBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBiZWluZyBwcm9jZXNzZWQgaW4gdGhlXG4gKiBhcnJheS4gU3RhcnRzIGF0IGluZGV4IDAsIGlmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCwgYW5kIGF0IGluZGV4IDEgb3RoZXJ3aXNlLlxuICogQHBhcmFtIHtudW1iZXJ9IGxpbmVTdWJJbmRleCBUaGUgc3ViLWluZGV4IG9mIHRoZSBjdXJyZW50IGxpbmUgYmVpbmcgcHJvY2Vzc2VkIGF0IGluZGV4IDBcbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgbGluZVJlZHVjZVxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbnxNdWx0aUxpbmVTdHJpbmd8TXVsdGlQb2x5Z29uPn0gZ2VvanNvbiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBtdHAgPSB0dXJmLm11bHRpUG9seWdvbihbXG4gKiAgIHR1cmYucG9seWdvbihbW1sxMiw0OF0sWzIsNDFdLFsyNCwzOF0sWzEyLDQ4XV0sIFtbOSw0NF0sWzEzLDQxXSxbMTMsNDVdLFs5LDQ0XV1dKSxcbiAqICAgdHVyZi5wb2x5Z29uKFtbWzUsIDVdLCBbMCwgMF0sIFsyLCAyXSwgWzQsIDRdLCBbNSwgNV1dXSlcbiAqIF0pO1xuICpcbiAqIHR1cmYubGluZVJlZHVjZShtdHAsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50TGluZSwgbGluZUluZGV4LCBsaW5lU3ViSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50TGluZVxuICogICAvLz1saW5lSW5kZXhcbiAqICAgLy89bGluZVN1YkluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50TGluZVxuICogfSwgMik7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBsaW5lRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudExpbmUsIGxpbmVJbmRleCwgbGluZVN1YkluZGV4KSB7XG4gICAgICAgIGlmIChsaW5lSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50TGluZTtcbiAgICAgICAgZWxzZSBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudExpbmUsIGxpbmVJbmRleCwgbGluZVN1YkluZGV4KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///45\n")},
/*!*********************************************!*\
  !*** ./node_modules/@turf/helpers/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports){eval("/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geometry, properties, bbox, id) {\n    if (geometry === undefined) throw new Error('geometry is required');\n    if (properties && properties.constructor !== Object) throw new Error('properties must be an Object');\n    if (bbox && bbox.length !== 4) throw new Error('bbox must be an Array of 4 numbers');\n    if (id && ['string', 'number'].indexOf(typeof id) === -1) throw new Error('id must be a number or a string');\n\n    var feat = {type: 'Feature'};\n    if (id) feat.id = id;\n    if (bbox) feat.bbox = bbox;\n    feat.properties = properties || {};\n    feat.geometry = geometry;\n    return feat;\n}\n\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<number>} coordinates Coordinates\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = 'Point';\n * var coordinates = [110, 50];\n *\n * var geometry = turf.geometry(type, coordinates);\n *\n * //=geometry\n */\nfunction geometry(type, coordinates, bbox) {\n    // Validation\n    if (!type) throw new Error('type is required');\n    if (!coordinates) throw new Error('coordinates is required');\n    if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\n    if (bbox && bbox.length !== 4) throw new Error('bbox must be an Array of 4 numbers');\n\n    var geom;\n    switch (type) {\n    case 'Point': geom = point(coordinates).geometry; break;\n    case 'LineString': geom = lineString(coordinates).geometry; break;\n    case 'Polygon': geom = polygon(coordinates).geometry; break;\n    case 'MultiPoint': geom = multiPoint(coordinates).geometry; break;\n    case 'MultiLineString': geom = multiLineString(coordinates).geometry; break;\n    case 'MultiPolygon': geom = multiPolygon(coordinates).geometry; break;\n    default: throw new Error(type + ' is invalid');\n    }\n    if (bbox) geom.bbox = bbox;\n    return geom;\n}\n\n/**\n * Takes coordinates and properties (optional) and returns a new {@link Point} feature.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, bbox, id) {\n    if (!coordinates) throw new Error('No coordinates passed');\n    if (coordinates.length === undefined) throw new Error('Coordinates must be an array');\n    if (coordinates.length < 2) throw new Error('Coordinates must be at least 2 numbers long');\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) throw new Error('Coordinates must contain numbers');\n\n    return feature({\n        type: 'Point',\n        coordinates: coordinates\n    }, properties, bbox, id);\n}\n\n/**\n * Takes an array of LinearRings and optionally an {@link Object} with properties and returns a {@link Polygon} feature.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {Feature<Polygon>} a Polygon feature\n * @throws {Error} throw an error if a LinearRing of the polygon has too few positions\n * or if a LinearRing of the Polygon does not have matching Positions at the beginning & end.\n * @example\n * var polygon = turf.polygon([[\n *   [-2.275543, 53.464547],\n *   [-2.275543, 53.489271],\n *   [-2.215118, 53.489271],\n *   [-2.215118, 53.464547],\n *   [-2.275543, 53.464547]\n * ]], { name: 'poly1', population: 400});\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, bbox, id) {\n    if (!coordinates) throw new Error('No coordinates passed');\n\n    for (var i = 0; i < coordinates.length; i++) {\n        var ring = coordinates[i];\n        if (ring.length < 4) {\n            throw new Error('Each LinearRing of a Polygon must have 4 or more Positions.');\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (i === 0 && j === 0 && !isNumber(ring[0][0]) || !isNumber(ring[0][1])) throw new Error('Coordinates must contain numbers');\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error('First and last Position are not equivalent.');\n            }\n        }\n    }\n\n    return feature({\n        type: 'Polygon',\n        coordinates: coordinates\n    }, properties, bbox, id);\n}\n\n/**\n * Creates a {@link LineString} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {Feature<LineString>} a LineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var linestring1 = turf.lineString([\n *   [-21.964416, 64.148203],\n *   [-21.956176, 64.141316],\n *   [-21.93901, 64.135924],\n *   [-21.927337, 64.136673]\n * ]);\n * var linestring2 = turf.lineString([\n *   [-21.929054, 64.127985],\n *   [-21.912918, 64.134726],\n *   [-21.916007, 64.141016],\n *   [-21.930084, 64.14446]\n * ], {name: 'line 1', distance: 145});\n *\n * //=linestring1\n *\n * //=linestring2\n */\nfunction lineString(coordinates, properties, bbox, id) {\n    if (!coordinates) throw new Error('No coordinates passed');\n    if (coordinates.length < 2) throw new Error('Coordinates must be an array of two or more positions');\n    // Check if first point of LineString contains two numbers\n    if (!isNumber(coordinates[0][1]) || !isNumber(coordinates[0][1])) throw new Error('Coordinates must contain numbers');\n\n    return feature({\n        type: 'LineString',\n        coordinates: coordinates\n    }, properties, bbox, id);\n}\n\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {FeatureCollection} a FeatureCollection of input features\n * @example\n * var features = [\n *  turf.point([-75.343, 39.984], {name: 'Location A'}),\n *  turf.point([-75.833, 39.284], {name: 'Location B'}),\n *  turf.point([-75.534, 39.123], {name: 'Location C'})\n * ];\n *\n * var collection = turf.featureCollection(features);\n *\n * //=collection\n */\nfunction featureCollection(features, bbox, id) {\n    if (!features) throw new Error('No features passed');\n    if (!Array.isArray(features)) throw new Error('features must be an Array');\n    if (bbox && bbox.length !== 4) throw new Error('bbox must be an Array of 4 numbers');\n    if (id && ['string', 'number'].indexOf(typeof id) === -1) throw new Error('id must be a number or a string');\n\n    var fc = {type: 'FeatureCollection'};\n    if (id) fc.id = id;\n    if (bbox) fc.bbox = bbox;\n    fc.features = features;\n    return fc;\n}\n\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, bbox, id) {\n    if (!coordinates) throw new Error('No coordinates passed');\n\n    return feature({\n        type: 'MultiLineString',\n        coordinates: coordinates\n    }, properties, bbox, id);\n}\n\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, bbox, id) {\n    if (!coordinates) throw new Error('No coordinates passed');\n\n    return feature({\n        type: 'MultiPoint',\n        coordinates: coordinates\n    }, properties, bbox, id);\n}\n\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, bbox, id) {\n    if (!coordinates) throw new Error('No coordinates passed');\n\n    return feature({\n        type: 'MultiPolygon',\n        coordinates: coordinates\n    }, properties, bbox, id);\n}\n\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Array<number>} [bbox] BBox [west, south, east, north]\n * @param {string|number} [id] Identifier\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = {\n *     \"type\": \"Point\",\n *       \"coordinates\": [100, 0]\n *     };\n * var line = {\n *     \"type\": \"LineString\",\n *     \"coordinates\": [ [101, 0], [102, 1] ]\n *   };\n * var collection = turf.geometryCollection([pt, line]);\n *\n * //=collection\n */\nfunction geometryCollection(geometries, properties, bbox, id) {\n    if (!geometries) throw new Error('geometries is required');\n    if (!Array.isArray(geometries)) throw new Error('geometries must be an Array');\n\n    return feature({\n        type: 'GeometryCollection',\n        geometries: geometries\n    }, properties, bbox, id);\n}\n\n// https://en.wikipedia.org/wiki/Great-circle_distance#Radius_for_spherical_Earth\nvar factors = {\n    miles: 3960,\n    nauticalmiles: 3441.145,\n    degrees: 57.2957795,\n    radians: 1,\n    inches: 250905600,\n    yards: 6969600,\n    meters: 6373000,\n    metres: 6373000,\n    centimeters: 6.373e+8,\n    centimetres: 6.373e+8,\n    kilometers: 6373,\n    kilometres: 6373,\n    feet: 20908792.65\n};\n\nvar areaFactors = {\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    centimetres: 10000,\n    millimeter: 1000000,\n    acres: 0.000247105,\n    miles: 3.86e-7,\n    yards: 1.195990046,\n    feet: 10.763910417,\n    inches: 1550.003100006\n};\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (num === undefined || num === null || isNaN(num)) throw new Error('num is required');\n    if (precision && !(precision >= 0)) throw new Error('precision must be a positive number');\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\n\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToDistance\n * @param {number} radians in radians across the sphere\n * @param {string} [units=kilometers] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToDistance(radians, units) {\n    if (radians === undefined || radians === null) throw new Error('radians is required');\n\n    var factor = factors[units || 'kilometers'];\n    if (!factor) throw new Error('units is invalid');\n    return radians * factor;\n}\n\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name distanceToRadians\n * @param {number} distance in real units\n * @param {string} [units=kilometers] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction distanceToRadians(distance, units) {\n    if (distance === undefined || distance === null) throw new Error('distance is required');\n\n    var factor = factors[units || 'kilometers'];\n    if (!factor) throw new Error('units is invalid');\n    return distance / factor;\n}\n\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name distanceToDegrees\n * @param {number} distance in real units\n * @param {string} [units=kilometers] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction distanceToDegrees(distance, units) {\n    return radians2degrees(distanceToRadians(distance, units));\n}\n\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAngle\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAngle(bearing) {\n    if (bearing === null || bearing === undefined) throw new Error('bearing is required');\n\n    var angle = bearing % 360;\n    if (angle < 0) angle += 360;\n    return angle;\n}\n\n/**\n * Converts an angle in radians to degrees\n *\n * @name radians2degrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radians2degrees(radians) {\n    if (radians === null || radians === undefined) throw new Error('radians is required');\n\n    var degrees = radians % (2 * Math.PI);\n    return degrees * 180 / Math.PI;\n}\n\n/**\n * Converts an angle in degrees to radians\n *\n * @name degrees2radians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degrees2radians(degrees) {\n    if (degrees === null || degrees === undefined) throw new Error('degrees is required');\n\n    var radians = degrees % 360;\n    return radians * Math.PI / 180;\n}\n\n\n/**\n * Converts a distance to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} distance to be converted\n * @param {string} originalUnit of the distance\n * @param {string} [finalUnit=kilometers] returned unit\n * @returns {number} the converted distance\n */\nfunction convertDistance(distance, originalUnit, finalUnit) {\n    if (distance === null || distance === undefined) throw new Error('distance is required');\n    if (!(distance >= 0)) throw new Error('distance must be a positive number');\n\n    var convertedDistance = radiansToDistance(distanceToRadians(distance, originalUnit), finalUnit || 'kilometers');\n    return convertedDistance;\n}\n\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeter, acre, mile, yard, foot, inch\n * @param {number} area to be converted\n * @param {string} [originalUnit=meters] of the distance\n * @param {string} [finalUnit=kilometers] returned unit\n * @returns {number} the converted distance\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (area === null || area === undefined) throw new Error('area is required');\n    if (!(area >= 0)) throw new Error('area must be a positive number');\n\n    var startFactor = areaFactors[originalUnit || 'meters'];\n    if (!startFactor) throw new Error('invalid original units');\n\n    var finalFactor = areaFactors[finalUnit || 'kilometers'];\n    if (!finalFactor) throw new Error('invalid final units');\n\n    return (area / startFactor) * finalFactor;\n}\n\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n\nmodule.exports = {\n    feature: feature,\n    geometry: geometry,\n    featureCollection: featureCollection,\n    geometryCollection: geometryCollection,\n    point: point,\n    multiPoint: multiPoint,\n    lineString: lineString,\n    multiLineString: multiLineString,\n    polygon: polygon,\n    multiPolygon: multiPolygon,\n    radiansToDistance: radiansToDistance,\n    distanceToRadians: distanceToRadians,\n    distanceToDegrees: distanceToDegrees,\n    radians2degrees: radians2degrees,\n    degrees2radians: degrees2radians,\n    bearingToAngle: bearingToAngle,\n    convertDistance: convertDistance,\n    convertArea: convertArea,\n    round: round,\n    isNumber: isNumber\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR1cmYvaGVscGVycy9pbmRleC5qcz9mZWI3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogV3JhcHMgYSBHZW9KU09OIHtAbGluayBHZW9tZXRyeX0gaW4gYSBHZW9KU09OIHtAbGluayBGZWF0dXJlfS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBnZW9tZXRyeSBpbnB1dCBnZW9tZXRyeVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtiYm94XSBCQm94IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtpZF0gSWRlbnRpZmllclxuICogQHJldHVybnMge0ZlYXR1cmV9IGEgR2VvSlNPTiBGZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIGdlb21ldHJ5ID0ge1xuICogICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICBcImNvb3JkaW5hdGVzXCI6IFsxMTAsIDUwXVxuICogfTtcbiAqXG4gKiB2YXIgZmVhdHVyZSA9IHR1cmYuZmVhdHVyZShnZW9tZXRyeSk7XG4gKlxuICogLy89ZmVhdHVyZVxuICovXG5mdW5jdGlvbiBmZWF0dXJlKGdlb21ldHJ5LCBwcm9wZXJ0aWVzLCBiYm94LCBpZCkge1xuICAgIGlmIChnZW9tZXRyeSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKHByb3BlcnRpZXMgJiYgcHJvcGVydGllcy5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0KSB0aHJvdyBuZXcgRXJyb3IoJ3Byb3BlcnRpZXMgbXVzdCBiZSBhbiBPYmplY3QnKTtcbiAgICBpZiAoYmJveCAmJiBiYm94Lmxlbmd0aCAhPT0gNCkgdGhyb3cgbmV3IEVycm9yKCdiYm94IG11c3QgYmUgYW4gQXJyYXkgb2YgNCBudW1iZXJzJyk7XG4gICAgaWYgKGlkICYmIFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIGlkKSA9PT0gLTEpIHRocm93IG5ldyBFcnJvcignaWQgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZycpO1xuXG4gICAgdmFyIGZlYXQgPSB7dHlwZTogJ0ZlYXR1cmUnfTtcbiAgICBpZiAoaWQpIGZlYXQuaWQgPSBpZDtcbiAgICBpZiAoYmJveCkgZmVhdC5iYm94ID0gYmJveDtcbiAgICBmZWF0LnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuICAgIGZlYXQuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICByZXR1cm4gZmVhdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgR2VvSlNPTiB7QGxpbmsgR2VvbWV0cnl9IGZyb20gYSBHZW9tZXRyeSBzdHJpbmcgdHlwZSAmIGNvb3JkaW5hdGVzLlxuICogRm9yIEdlb21ldHJ5Q29sbGVjdGlvbiB0eXBlIHVzZSBgaGVscGVycy5nZW9tZXRyeUNvbGxlY3Rpb25gXG4gKlxuICogQG5hbWUgZ2VvbWV0cnlcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEdlb21ldHJ5IFR5cGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Jib3hdIEJCb3ggW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF1cbiAqIEByZXR1cm5zIHtHZW9tZXRyeX0gYSBHZW9KU09OIEdlb21ldHJ5XG4gKiBAZXhhbXBsZVxuICogdmFyIHR5cGUgPSAnUG9pbnQnO1xuICogdmFyIGNvb3JkaW5hdGVzID0gWzExMCwgNTBdO1xuICpcbiAqIHZhciBnZW9tZXRyeSA9IHR1cmYuZ2VvbWV0cnkodHlwZSwgY29vcmRpbmF0ZXMpO1xuICpcbiAqIC8vPWdlb21ldHJ5XG4gKi9cbmZ1bmN0aW9uIGdlb21ldHJ5KHR5cGUsIGNvb3JkaW5hdGVzLCBiYm94KSB7XG4gICAgLy8gVmFsaWRhdGlvblxuICAgIGlmICghdHlwZSkgdGhyb3cgbmV3IEVycm9yKCd0eXBlIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKCFjb29yZGluYXRlcykgdGhyb3cgbmV3IEVycm9yKCdjb29yZGluYXRlcyBpcyByZXF1aXJlZCcpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb29yZGluYXRlcykpIHRocm93IG5ldyBFcnJvcignY29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBBcnJheScpO1xuICAgIGlmIChiYm94ICYmIGJib3gubGVuZ3RoICE9PSA0KSB0aHJvdyBuZXcgRXJyb3IoJ2Jib3ggbXVzdCBiZSBhbiBBcnJheSBvZiA0IG51bWJlcnMnKTtcblxuICAgIHZhciBnZW9tO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ1BvaW50JzogZ2VvbSA9IHBvaW50KGNvb3JkaW5hdGVzKS5nZW9tZXRyeTsgYnJlYWs7XG4gICAgY2FzZSAnTGluZVN0cmluZyc6IGdlb20gPSBsaW5lU3RyaW5nKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTsgYnJlYWs7XG4gICAgY2FzZSAnUG9seWdvbic6IGdlb20gPSBwb2x5Z29uKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTsgYnJlYWs7XG4gICAgY2FzZSAnTXVsdGlQb2ludCc6IGdlb20gPSBtdWx0aVBvaW50KGNvb3JkaW5hdGVzKS5nZW9tZXRyeTsgYnJlYWs7XG4gICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzogZ2VvbSA9IG11bHRpTGluZVN0cmluZyhjb29yZGluYXRlcykuZ2VvbWV0cnk7IGJyZWFrO1xuICAgIGNhc2UgJ011bHRpUG9seWdvbic6IGdlb20gPSBtdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMpLmdlb21ldHJ5OyBicmVhaztcbiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IodHlwZSArICcgaXMgaW52YWxpZCcpO1xuICAgIH1cbiAgICBpZiAoYmJveCkgZ2VvbS5iYm94ID0gYmJveDtcbiAgICByZXR1cm4gZ2VvbTtcbn1cblxuLyoqXG4gKiBUYWtlcyBjb29yZGluYXRlcyBhbmQgcHJvcGVydGllcyAob3B0aW9uYWwpIGFuZCByZXR1cm5zIGEgbmV3IHtAbGluayBQb2ludH0gZmVhdHVyZS5cbiAqXG4gKiBAbmFtZSBwb2ludFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlcyBsb25naXR1ZGUsIGxhdGl0dWRlIHBvc2l0aW9uIChlYWNoIGluIGRlY2ltYWwgZGVncmVlcylcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbYmJveF0gQkJveCBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbaWRdIElkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvaW50Pn0gYSBQb2ludCBmZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50ID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSk7XG4gKlxuICogLy89cG9pbnRcbiAqL1xuZnVuY3Rpb24gcG9pbnQoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIGJib3gsIGlkKSB7XG4gICAgaWYgKCFjb29yZGluYXRlcykgdGhyb3cgbmV3IEVycm9yKCdObyBjb29yZGluYXRlcyBwYXNzZWQnKTtcbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignQ29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPCAyKSB0aHJvdyBuZXcgRXJyb3IoJ0Nvb3JkaW5hdGVzIG11c3QgYmUgYXQgbGVhc3QgMiBudW1iZXJzIGxvbmcnKTtcbiAgICBpZiAoIWlzTnVtYmVyKGNvb3JkaW5hdGVzWzBdKSB8fCAhaXNOdW1iZXIoY29vcmRpbmF0ZXNbMV0pKSB0aHJvdyBuZXcgRXJyb3IoJ0Nvb3JkaW5hdGVzIG11c3QgY29udGFpbiBudW1iZXJzJyk7XG5cbiAgICByZXR1cm4gZmVhdHVyZSh7XG4gICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgIH0sIHByb3BlcnRpZXMsIGJib3gsIGlkKTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5ncyBhbmQgb3B0aW9uYWxseSBhbiB7QGxpbmsgT2JqZWN0fSB3aXRoIHByb3BlcnRpZXMgYW5kIHJldHVybnMgYSB7QGxpbmsgUG9seWdvbn0gZmVhdHVyZS5cbiAqXG4gKiBAbmFtZSBwb2x5Z29uXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgTGluZWFyUmluZ3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbYmJveF0gQkJveCBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbaWRdIElkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvbHlnb24+fSBhIFBvbHlnb24gZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIGEgTGluZWFyUmluZyBvZiB0aGUgcG9seWdvbiBoYXMgdG9vIGZldyBwb3NpdGlvbnNcbiAqIG9yIGlmIGEgTGluZWFyUmluZyBvZiB0aGUgUG9seWdvbiBkb2VzIG5vdCBoYXZlIG1hdGNoaW5nIFBvc2l0aW9ucyBhdCB0aGUgYmVnaW5uaW5nICYgZW5kLlxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKFtbXG4gKiAgIFstMi4yNzU1NDMsIDUzLjQ2NDU0N10sXG4gKiAgIFstMi4yNzU1NDMsIDUzLjQ4OTI3MV0sXG4gKiAgIFstMi4yMTUxMTgsIDUzLjQ4OTI3MV0sXG4gKiAgIFstMi4yMTUxMTgsIDUzLjQ2NDU0N10sXG4gKiAgIFstMi4yNzU1NDMsIDUzLjQ2NDU0N11cbiAqIF1dLCB7IG5hbWU6ICdwb2x5MScsIHBvcHVsYXRpb246IDQwMH0pO1xuICpcbiAqIC8vPXBvbHlnb25cbiAqL1xuZnVuY3Rpb24gcG9seWdvbihjb29yZGluYXRlcywgcHJvcGVydGllcywgYmJveCwgaWQpIHtcbiAgICBpZiAoIWNvb3JkaW5hdGVzKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvb3JkaW5hdGVzIHBhc3NlZCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmluZyA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICBpZiAocmluZy5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VhY2ggTGluZWFyUmluZyBvZiBhIFBvbHlnb24gbXVzdCBoYXZlIDQgb3IgbW9yZSBQb3NpdGlvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByaW5nW3JpbmcubGVuZ3RoIC0gMV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZpcnN0IHBvaW50IG9mIFBvbHlnb24gY29udGFpbnMgdHdvIG51bWJlcnNcbiAgICAgICAgICAgIGlmIChpID09PSAwICYmIGogPT09IDAgJiYgIWlzTnVtYmVyKHJpbmdbMF1bMF0pIHx8ICFpc051bWJlcihyaW5nWzBdWzFdKSkgdGhyb3cgbmV3IEVycm9yKCdDb29yZGluYXRlcyBtdXN0IGNvbnRhaW4gbnVtYmVycycpO1xuICAgICAgICAgICAgaWYgKHJpbmdbcmluZy5sZW5ndGggLSAxXVtqXSAhPT0gcmluZ1swXVtqXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmlyc3QgYW5kIGxhc3QgUG9zaXRpb24gYXJlIG5vdCBlcXVpdmFsZW50LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZlYXR1cmUoe1xuICAgICAgICB0eXBlOiAnUG9seWdvbicsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlc1xuICAgIH0sIHByb3BlcnRpZXMsIGJib3gsIGlkKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIExpbmVTdHJpbmd9IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbGluZVN0cmluZ1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9zaXRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Jib3hdIEJCb3ggW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF1cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW2lkXSBJZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gYSBMaW5lU3RyaW5nIGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmVzdHJpbmcxID0gdHVyZi5saW5lU3RyaW5nKFtcbiAqICAgWy0yMS45NjQ0MTYsIDY0LjE0ODIwM10sXG4gKiAgIFstMjEuOTU2MTc2LCA2NC4xNDEzMTZdLFxuICogICBbLTIxLjkzOTAxLCA2NC4xMzU5MjRdLFxuICogICBbLTIxLjkyNzMzNywgNjQuMTM2NjczXVxuICogXSk7XG4gKiB2YXIgbGluZXN0cmluZzIgPSB0dXJmLmxpbmVTdHJpbmcoW1xuICogICBbLTIxLjkyOTA1NCwgNjQuMTI3OTg1XSxcbiAqICAgWy0yMS45MTI5MTgsIDY0LjEzNDcyNl0sXG4gKiAgIFstMjEuOTE2MDA3LCA2NC4xNDEwMTZdLFxuICogICBbLTIxLjkzMDA4NCwgNjQuMTQ0NDZdXG4gKiBdLCB7bmFtZTogJ2xpbmUgMScsIGRpc3RhbmNlOiAxNDV9KTtcbiAqXG4gKiAvLz1saW5lc3RyaW5nMVxuICpcbiAqIC8vPWxpbmVzdHJpbmcyXG4gKi9cbmZ1bmN0aW9uIGxpbmVTdHJpbmcoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIGJib3gsIGlkKSB7XG4gICAgaWYgKCFjb29yZGluYXRlcykgdGhyb3cgbmV3IEVycm9yKCdObyBjb29yZGluYXRlcyBwYXNzZWQnKTtcbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoIDwgMikgdGhyb3cgbmV3IEVycm9yKCdDb29yZGluYXRlcyBtdXN0IGJlIGFuIGFycmF5IG9mIHR3byBvciBtb3JlIHBvc2l0aW9ucycpO1xuICAgIC8vIENoZWNrIGlmIGZpcnN0IHBvaW50IG9mIExpbmVTdHJpbmcgY29udGFpbnMgdHdvIG51bWJlcnNcbiAgICBpZiAoIWlzTnVtYmVyKGNvb3JkaW5hdGVzWzBdWzFdKSB8fCAhaXNOdW1iZXIoY29vcmRpbmF0ZXNbMF1bMV0pKSB0aHJvdyBuZXcgRXJyb3IoJ0Nvb3JkaW5hdGVzIG11c3QgY29udGFpbiBudW1iZXJzJyk7XG5cbiAgICByZXR1cm4gZmVhdHVyZSh7XG4gICAgICAgIHR5cGU6ICdMaW5lU3RyaW5nJyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgfSwgcHJvcGVydGllcywgYmJveCwgaWQpO1xufVxuXG4vKipcbiAqIFRha2VzIG9uZSBvciBtb3JlIHtAbGluayBGZWF0dXJlfEZlYXR1cmVzfSBhbmQgY3JlYXRlcyBhIHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0uXG4gKlxuICogQG5hbWUgZmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RmVhdHVyZVtdfSBmZWF0dXJlcyBpbnB1dCBmZWF0dXJlc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbYmJveF0gQkJveCBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbaWRdIElkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbn0gYSBGZWF0dXJlQ29sbGVjdGlvbiBvZiBpbnB1dCBmZWF0dXJlc1xuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IFtcbiAqICB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdLCB7bmFtZTogJ0xvY2F0aW9uIEEnfSksXG4gKiAgdHVyZi5wb2ludChbLTc1LjgzMywgMzkuMjg0XSwge25hbWU6ICdMb2NhdGlvbiBCJ30pLFxuICogIHR1cmYucG9pbnQoWy03NS41MzQsIDM5LjEyM10sIHtuYW1lOiAnTG9jYXRpb24gQyd9KVxuICogXTtcbiAqXG4gKiB2YXIgY29sbGVjdGlvbiA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMpO1xuICpcbiAqIC8vPWNvbGxlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMsIGJib3gsIGlkKSB7XG4gICAgaWYgKCFmZWF0dXJlcykgdGhyb3cgbmV3IEVycm9yKCdObyBmZWF0dXJlcyBwYXNzZWQnKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmVhdHVyZXMpKSB0aHJvdyBuZXcgRXJyb3IoJ2ZlYXR1cmVzIG11c3QgYmUgYW4gQXJyYXknKTtcbiAgICBpZiAoYmJveCAmJiBiYm94Lmxlbmd0aCAhPT0gNCkgdGhyb3cgbmV3IEVycm9yKCdiYm94IG11c3QgYmUgYW4gQXJyYXkgb2YgNCBudW1iZXJzJyk7XG4gICAgaWYgKGlkICYmIFsnc3RyaW5nJywgJ251bWJlciddLmluZGV4T2YodHlwZW9mIGlkKSA9PT0gLTEpIHRocm93IG5ldyBFcnJvcignaWQgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZycpO1xuXG4gICAgdmFyIGZjID0ge3R5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbid9O1xuICAgIGlmIChpZCkgZmMuaWQgPSBpZDtcbiAgICBpZiAoYmJveCkgZmMuYmJveCA9IGJib3g7XG4gICAgZmMuZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgICByZXR1cm4gZmM7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpTGluZVN0cmluZz59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgTGluZVN0cmluZ3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbYmJveF0gQkJveCBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbaWRdIElkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpTGluZVN0cmluZz59IGEgTXVsdGlMaW5lU3RyaW5nIGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtbWzAsMF0sWzEwLDEwXV1dKTtcbiAqXG4gKiAvLz1tdWx0aUxpbmVcbiAqL1xuZnVuY3Rpb24gbXVsdGlMaW5lU3RyaW5nKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBiYm94LCBpZCkge1xuICAgIGlmICghY29vcmRpbmF0ZXMpIHRocm93IG5ldyBFcnJvcignTm8gY29vcmRpbmF0ZXMgcGFzc2VkJyk7XG5cbiAgICByZXR1cm4gZmVhdHVyZSh7XG4gICAgICAgIHR5cGU6ICdNdWx0aUxpbmVTdHJpbmcnLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXNcbiAgICB9LCBwcm9wZXJ0aWVzLCBiYm94LCBpZCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpUG9pbnQ+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIG11bHRpUG9pbnRcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvc2l0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtiYm94XSBCQm94IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtpZF0gSWRlbnRpZmllclxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2ludD59IGEgTXVsdGlQb2ludCBmZWF0dXJlXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gY29vcmRpbmF0ZXMgYXJlIHBhc3NlZFxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aVB0ID0gdHVyZi5tdWx0aVBvaW50KFtbMCwwXSxbMTAsMTBdXSk7XG4gKlxuICogLy89bXVsdGlQdFxuICovXG5mdW5jdGlvbiBtdWx0aVBvaW50KGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBiYm94LCBpZCkge1xuICAgIGlmICghY29vcmRpbmF0ZXMpIHRocm93IG5ldyBFcnJvcignTm8gY29vcmRpbmF0ZXMgcGFzc2VkJyk7XG5cbiAgICByZXR1cm4gZmVhdHVyZSh7XG4gICAgICAgIHR5cGU6ICdNdWx0aVBvaW50JyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgfSwgcHJvcGVydGllcywgYmJveCwgaWQpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxNdWx0aVBvbHlnb24+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIG11bHRpUG9seWdvblxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb2x5Z29uc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtiYm94XSBCQm94IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtpZF0gSWRlbnRpZmllclxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2x5Z29uPn0gYSBtdWx0aXBvbHlnb24gZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQb2x5ID0gdHVyZi5tdWx0aVBvbHlnb24oW1tbWzAsMF0sWzAsMTBdLFsxMCwxMF0sWzEwLDBdLFswLDBdXV1dKTtcbiAqXG4gKiAvLz1tdWx0aVBvbHlcbiAqXG4gKi9cbmZ1bmN0aW9uIG11bHRpUG9seWdvbihjb29yZGluYXRlcywgcHJvcGVydGllcywgYmJveCwgaWQpIHtcbiAgICBpZiAoIWNvb3JkaW5hdGVzKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvb3JkaW5hdGVzIHBhc3NlZCcpO1xuXG4gICAgcmV0dXJuIGZlYXR1cmUoe1xuICAgICAgICB0eXBlOiAnTXVsdGlQb2x5Z29uJyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzXG4gICAgfSwgcHJvcGVydGllcywgYmJveCwgaWQpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxHZW9tZXRyeUNvbGxlY3Rpb24+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIGdlb21ldHJ5Q29sbGVjdGlvblxuICogQHBhcmFtIHtBcnJheTxHZW9tZXRyeT59IGdlb21ldHJpZXMgYW4gYXJyYXkgb2YgR2VvSlNPTiBHZW9tZXRyaWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Jib3hdIEJCb3ggW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF1cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW2lkXSBJZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxHZW9tZXRyeUNvbGxlY3Rpb24+fSBhIEdlb0pTT04gR2VvbWV0cnlDb2xsZWN0aW9uIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcHQgPSB7XG4gKiAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAqICAgICAgIFwiY29vcmRpbmF0ZXNcIjogWzEwMCwgMF1cbiAqICAgICB9O1xuICogdmFyIGxpbmUgPSB7XG4gKiAgICAgXCJ0eXBlXCI6IFwiTGluZVN0cmluZ1wiLFxuICogICAgIFwiY29vcmRpbmF0ZXNcIjogWyBbMTAxLCAwXSwgWzEwMiwgMV0gXVxuICogICB9O1xuICogdmFyIGNvbGxlY3Rpb24gPSB0dXJmLmdlb21ldHJ5Q29sbGVjdGlvbihbcHQsIGxpbmVdKTtcbiAqXG4gKiAvLz1jb2xsZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdlb21ldHJ5Q29sbGVjdGlvbihnZW9tZXRyaWVzLCBwcm9wZXJ0aWVzLCBiYm94LCBpZCkge1xuICAgIGlmICghZ2VvbWV0cmllcykgdGhyb3cgbmV3IEVycm9yKCdnZW9tZXRyaWVzIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb21ldHJpZXMpKSB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJpZXMgbXVzdCBiZSBhbiBBcnJheScpO1xuXG4gICAgcmV0dXJuIGZlYXR1cmUoe1xuICAgICAgICB0eXBlOiAnR2VvbWV0cnlDb2xsZWN0aW9uJyxcbiAgICAgICAgZ2VvbWV0cmllczogZ2VvbWV0cmllc1xuICAgIH0sIHByb3BlcnRpZXMsIGJib3gsIGlkKTtcbn1cblxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR3JlYXQtY2lyY2xlX2Rpc3RhbmNlI1JhZGl1c19mb3Jfc3BoZXJpY2FsX0VhcnRoXG52YXIgZmFjdG9ycyA9IHtcbiAgICBtaWxlczogMzk2MCxcbiAgICBuYXV0aWNhbG1pbGVzOiAzNDQxLjE0NSxcbiAgICBkZWdyZWVzOiA1Ny4yOTU3Nzk1LFxuICAgIHJhZGlhbnM6IDEsXG4gICAgaW5jaGVzOiAyNTA5MDU2MDAsXG4gICAgeWFyZHM6IDY5Njk2MDAsXG4gICAgbWV0ZXJzOiA2MzczMDAwLFxuICAgIG1ldHJlczogNjM3MzAwMCxcbiAgICBjZW50aW1ldGVyczogNi4zNzNlKzgsXG4gICAgY2VudGltZXRyZXM6IDYuMzczZSs4LFxuICAgIGtpbG9tZXRlcnM6IDYzNzMsXG4gICAga2lsb21ldHJlczogNjM3MyxcbiAgICBmZWV0OiAyMDkwODc5Mi42NVxufTtcblxudmFyIGFyZWFGYWN0b3JzID0ge1xuICAgIGtpbG9tZXRlcnM6IDAuMDAwMDAxLFxuICAgIGtpbG9tZXRyZXM6IDAuMDAwMDAxLFxuICAgIG1ldGVyczogMSxcbiAgICBtZXRyZXM6IDEsXG4gICAgY2VudGltZXRyZXM6IDEwMDAwLFxuICAgIG1pbGxpbWV0ZXI6IDEwMDAwMDAsXG4gICAgYWNyZXM6IDAuMDAwMjQ3MTA1LFxuICAgIG1pbGVzOiAzLjg2ZS03LFxuICAgIHlhcmRzOiAxLjE5NTk5MDA0NixcbiAgICBmZWV0OiAxMC43NjM5MTA0MTcsXG4gICAgaW5jaGVzOiAxNTUwLjAwMzEwMDAwNlxufTtcbi8qKlxuICogUm91bmQgbnVtYmVyIHRvIHByZWNpc2lvblxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gTnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBQcmVjaXNpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IHJvdW5kZWQgbnVtYmVyXG4gKiBAZXhhbXBsZVxuICogdHVyZi5yb3VuZCgxMjAuNDMyMSlcbiAqIC8vPTEyMFxuICpcbiAqIHR1cmYucm91bmQoMTIwLjQzMjEsIDIpXG4gKiAvLz0xMjAuNDNcbiAqL1xuZnVuY3Rpb24gcm91bmQobnVtLCBwcmVjaXNpb24pIHtcbiAgICBpZiAobnVtID09PSB1bmRlZmluZWQgfHwgbnVtID09PSBudWxsIHx8IGlzTmFOKG51bSkpIHRocm93IG5ldyBFcnJvcignbnVtIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKHByZWNpc2lvbiAmJiAhKHByZWNpc2lvbiA+PSAwKSkgdGhyb3cgbmV3IEVycm9yKCdwcmVjaXNpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICAgIHZhciBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiB8fCAwKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiBtdWx0aXBsaWVyKSAvIG11bHRpcGxpZXI7XG59XG5cbi8qKlxuICogQ29udmVydCBhIGRpc3RhbmNlIG1lYXN1cmVtZW50IChhc3N1bWluZyBhIHNwaGVyaWNhbCBFYXJ0aCkgZnJvbSByYWRpYW5zIHRvIGEgbW9yZSBmcmllbmRseSB1bml0LlxuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywga2lsb21ldGVycywgY2VudGltZXRlcnMsIGZlZXRcbiAqXG4gKiBAbmFtZSByYWRpYW5zVG9EaXN0YW5jZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbnMgaW4gcmFkaWFucyBhY3Jvc3MgdGhlIHNwaGVyZVxuICogQHBhcmFtIHtzdHJpbmd9IFt1bml0cz1raWxvbWV0ZXJzXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIG9yIGtpbG9tZXRlcnMgaW5jaGVzLCB5YXJkcywgbWV0cmVzLCBtZXRlcnMsIGtpbG9tZXRyZXMsIGtpbG9tZXRlcnMuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBkaXN0YW5jZVxuICovXG5mdW5jdGlvbiByYWRpYW5zVG9EaXN0YW5jZShyYWRpYW5zLCB1bml0cykge1xuICAgIGlmIChyYWRpYW5zID09PSB1bmRlZmluZWQgfHwgcmFkaWFucyA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdyYWRpYW5zIGlzIHJlcXVpcmVkJyk7XG5cbiAgICB2YXIgZmFjdG9yID0gZmFjdG9yc1t1bml0cyB8fCAna2lsb21ldGVycyddO1xuICAgIGlmICghZmFjdG9yKSB0aHJvdyBuZXcgRXJyb3IoJ3VuaXRzIGlzIGludmFsaWQnKTtcbiAgICByZXR1cm4gcmFkaWFucyAqIGZhY3Rvcjtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgZGlzdGFuY2UgbWVhc3VyZW1lbnQgKGFzc3VtaW5nIGEgc3BoZXJpY2FsIEVhcnRoKSBmcm9tIGEgcmVhbC13b3JsZCB1bml0IGludG8gcmFkaWFuc1xuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywga2lsb21ldGVycywgY2VudGltZXRlcnMsIGZlZXRcbiAqXG4gKiBAbmFtZSBkaXN0YW5jZVRvUmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIGluIHJlYWwgdW5pdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdHM9a2lsb21ldGVyc10gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBvciBraWxvbWV0ZXJzIGluY2hlcywgeWFyZHMsIG1ldHJlcywgbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gcmFkaWFuc1xuICovXG5mdW5jdGlvbiBkaXN0YW5jZVRvUmFkaWFucyhkaXN0YW5jZSwgdW5pdHMpIHtcbiAgICBpZiAoZGlzdGFuY2UgPT09IHVuZGVmaW5lZCB8fCBkaXN0YW5jZSA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdkaXN0YW5jZSBpcyByZXF1aXJlZCcpO1xuXG4gICAgdmFyIGZhY3RvciA9IGZhY3RvcnNbdW5pdHMgfHwgJ2tpbG9tZXRlcnMnXTtcbiAgICBpZiAoIWZhY3RvcikgdGhyb3cgbmV3IEVycm9yKCd1bml0cyBpcyBpbnZhbGlkJyk7XG4gICAgcmV0dXJuIGRpc3RhbmNlIC8gZmFjdG9yO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBkaXN0YW5jZSBtZWFzdXJlbWVudCAoYXNzdW1pbmcgYSBzcGhlcmljYWwgRWFydGgpIGZyb20gYSByZWFsLXdvcmxkIHVuaXQgaW50byBkZWdyZWVzXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBjZW50aW1ldGVycywga2lsb21ldHJlcywgZmVldFxuICpcbiAqIEBuYW1lIGRpc3RhbmNlVG9EZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgaW4gcmVhbCB1bml0c1xuICogQHBhcmFtIHtzdHJpbmd9IFt1bml0cz1raWxvbWV0ZXJzXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIG9yIGtpbG9tZXRlcnMgaW5jaGVzLCB5YXJkcywgbWV0cmVzLCBtZXRlcnMsIGtpbG9tZXRyZXMsIGtpbG9tZXRlcnMuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBkZWdyZWVzXG4gKi9cbmZ1bmN0aW9uIGRpc3RhbmNlVG9EZWdyZWVzKGRpc3RhbmNlLCB1bml0cykge1xuICAgIHJldHVybiByYWRpYW5zMmRlZ3JlZXMoZGlzdGFuY2VUb1JhZGlhbnMoZGlzdGFuY2UsIHVuaXRzKSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYW55IGJlYXJpbmcgYW5nbGUgZnJvbSB0aGUgbm9ydGggbGluZSBkaXJlY3Rpb24gKHBvc2l0aXZlIGNsb2Nrd2lzZSlcbiAqIGFuZCByZXR1cm5zIGFuIGFuZ2xlIGJldHdlZW4gMC0zNjAgZGVncmVlcyAocG9zaXRpdmUgY2xvY2t3aXNlKSwgMCBiZWluZyB0aGUgbm9ydGggbGluZVxuICpcbiAqIEBuYW1lIGJlYXJpbmdUb0FuZ2xlXG4gKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBhbmdsZSwgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFuZ2xlIGJldHdlZW4gMCBhbmQgMzYwIGRlZ3JlZXNcbiAqL1xuZnVuY3Rpb24gYmVhcmluZ1RvQW5nbGUoYmVhcmluZykge1xuICAgIGlmIChiZWFyaW5nID09PSBudWxsIHx8IGJlYXJpbmcgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdiZWFyaW5nIGlzIHJlcXVpcmVkJyk7XG5cbiAgICB2YXIgYW5nbGUgPSBiZWFyaW5nICUgMzYwO1xuICAgIGlmIChhbmdsZSA8IDApIGFuZ2xlICs9IDM2MDtcbiAgICByZXR1cm4gYW5nbGU7XG59XG5cbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gcmFkaWFucyB0byBkZWdyZWVzXG4gKlxuICogQG5hbWUgcmFkaWFuczJkZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaWFucyBhbmdsZSBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBkZWdyZWVzIGJldHdlZW4gMCBhbmQgMzYwIGRlZ3JlZXNcbiAqL1xuZnVuY3Rpb24gcmFkaWFuczJkZWdyZWVzKHJhZGlhbnMpIHtcbiAgICBpZiAocmFkaWFucyA9PT0gbnVsbCB8fCByYWRpYW5zID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcigncmFkaWFucyBpcyByZXF1aXJlZCcpO1xuXG4gICAgdmFyIGRlZ3JlZXMgPSByYWRpYW5zICUgKDIgKiBNYXRoLlBJKTtcbiAgICByZXR1cm4gZGVncmVlcyAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gZGVncmVlcyB0byByYWRpYW5zXG4gKlxuICogQG5hbWUgZGVncmVlczJyYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gZGVncmVlcyBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cbmZ1bmN0aW9uIGRlZ3JlZXMycmFkaWFucyhkZWdyZWVzKSB7XG4gICAgaWYgKGRlZ3JlZXMgPT09IG51bGwgfHwgZGVncmVlcyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ2RlZ3JlZXMgaXMgcmVxdWlyZWQnKTtcblxuICAgIHZhciByYWRpYW5zID0gZGVncmVlcyAlIDM2MDtcbiAgICByZXR1cm4gcmFkaWFucyAqIE1hdGguUEkgLyAxODA7XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGRpc3RhbmNlIHRvIHRoZSByZXF1ZXN0ZWQgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGtpbG9tZXRlcnMsIGNlbnRpbWV0ZXJzLCBmZWV0XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIHRvIGJlIGNvbnZlcnRlZFxuICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbmFsVW5pdCBvZiB0aGUgZGlzdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZmluYWxVbml0PWtpbG9tZXRlcnNdIHJldHVybmVkIHVuaXRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBjb252ZXJ0ZWQgZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gY29udmVydERpc3RhbmNlKGRpc3RhbmNlLCBvcmlnaW5hbFVuaXQsIGZpbmFsVW5pdCkge1xuICAgIGlmIChkaXN0YW5jZSA9PT0gbnVsbCB8fCBkaXN0YW5jZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ2Rpc3RhbmNlIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKCEoZGlzdGFuY2UgPj0gMCkpIHRocm93IG5ldyBFcnJvcignZGlzdGFuY2UgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuXG4gICAgdmFyIGNvbnZlcnRlZERpc3RhbmNlID0gcmFkaWFuc1RvRGlzdGFuY2UoZGlzdGFuY2VUb1JhZGlhbnMoZGlzdGFuY2UsIG9yaWdpbmFsVW5pdCksIGZpbmFsVW5pdCB8fCAna2lsb21ldGVycycpO1xuICAgIHJldHVybiBjb252ZXJ0ZWREaXN0YW5jZTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGFyZWEgdG8gdGhlIHJlcXVlc3RlZCB1bml0LlxuICogVmFsaWQgdW5pdHM6IGtpbG9tZXRlcnMsIGtpbG9tZXRyZXMsIG1ldGVycywgbWV0cmVzLCBjZW50aW1ldHJlcywgbWlsbGltZXRlciwgYWNyZSwgbWlsZSwgeWFyZCwgZm9vdCwgaW5jaFxuICogQHBhcmFtIHtudW1iZXJ9IGFyZWEgdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gW29yaWdpbmFsVW5pdD1tZXRlcnNdIG9mIHRoZSBkaXN0YW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IFtmaW5hbFVuaXQ9a2lsb21ldGVyc10gcmV0dXJuZWQgdW5pdFxuICogQHJldHVybnMge251bWJlcn0gdGhlIGNvbnZlcnRlZCBkaXN0YW5jZVxuICovXG5mdW5jdGlvbiBjb252ZXJ0QXJlYShhcmVhLCBvcmlnaW5hbFVuaXQsIGZpbmFsVW5pdCkge1xuICAgIGlmIChhcmVhID09PSBudWxsIHx8IGFyZWEgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdhcmVhIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKCEoYXJlYSA+PSAwKSkgdGhyb3cgbmV3IEVycm9yKCdhcmVhIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcblxuICAgIHZhciBzdGFydEZhY3RvciA9IGFyZWFGYWN0b3JzW29yaWdpbmFsVW5pdCB8fCAnbWV0ZXJzJ107XG4gICAgaWYgKCFzdGFydEZhY3RvcikgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIG9yaWdpbmFsIHVuaXRzJyk7XG5cbiAgICB2YXIgZmluYWxGYWN0b3IgPSBhcmVhRmFjdG9yc1tmaW5hbFVuaXQgfHwgJ2tpbG9tZXRlcnMnXTtcbiAgICBpZiAoIWZpbmFsRmFjdG9yKSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmluYWwgdW5pdHMnKTtcblxuICAgIHJldHVybiAoYXJlYSAvIHN0YXJ0RmFjdG9yKSAqIGZpbmFsRmFjdG9yO1xufVxuXG4vKipcbiAqIGlzTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSBudW0gTnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNOdW1iZXIoMTIzKVxuICogLy89dHJ1ZVxuICogdHVyZi5pc051bWJlcignZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKG51bSkge1xuICAgIHJldHVybiAhaXNOYU4obnVtKSAmJiBudW0gIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkobnVtKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgZmVhdHVyZUNvbGxlY3Rpb246IGZlYXR1cmVDb2xsZWN0aW9uLFxuICAgIGdlb21ldHJ5Q29sbGVjdGlvbjogZ2VvbWV0cnlDb2xsZWN0aW9uLFxuICAgIHBvaW50OiBwb2ludCxcbiAgICBtdWx0aVBvaW50OiBtdWx0aVBvaW50LFxuICAgIGxpbmVTdHJpbmc6IGxpbmVTdHJpbmcsXG4gICAgbXVsdGlMaW5lU3RyaW5nOiBtdWx0aUxpbmVTdHJpbmcsXG4gICAgcG9seWdvbjogcG9seWdvbixcbiAgICBtdWx0aVBvbHlnb246IG11bHRpUG9seWdvbixcbiAgICByYWRpYW5zVG9EaXN0YW5jZTogcmFkaWFuc1RvRGlzdGFuY2UsXG4gICAgZGlzdGFuY2VUb1JhZGlhbnM6IGRpc3RhbmNlVG9SYWRpYW5zLFxuICAgIGRpc3RhbmNlVG9EZWdyZWVzOiBkaXN0YW5jZVRvRGVncmVlcyxcbiAgICByYWRpYW5zMmRlZ3JlZXM6IHJhZGlhbnMyZGVncmVlcyxcbiAgICBkZWdyZWVzMnJhZGlhbnM6IGRlZ3JlZXMycmFkaWFucyxcbiAgICBiZWFyaW5nVG9BbmdsZTogYmVhcmluZ1RvQW5nbGUsXG4gICAgY29udmVydERpc3RhbmNlOiBjb252ZXJ0RGlzdGFuY2UsXG4gICAgY29udmVydEFyZWE6IGNvbnZlcnRBcmVhLFxuICAgIHJvdW5kOiByb3VuZCxcbiAgICBpc051bWJlcjogaXNOdW1iZXJcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///46\n")},
/*!**************************************************************!*\
  !*** ./node_modules/react-mapbox-gl/lib/rotation-control.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(/*! react */ 0);\nvar PropTypes = __webpack_require__(/*! prop-types */ 1);\nvar containerStyle = {\n    position: 'absolute',\n    zIndex: 10,\n    display: 'flex',\n    flexDirection: 'column',\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    border: '1px solid rgba(0, 0, 0, 0.1)'\n};\nvar positions = {\n    'top-right': { top: 62, right: 10, bottom: 'auto', left: 'auto' },\n    'top-left': { top: 62, left: 10, bottom: 'auto', right: 'auto' },\n    'bottom-right': { bottom: 63, right: 10, top: 'auto', left: 'auto' },\n    'bottom-left': { bottom: 63, left: 10, top: 'auto', right: 'auto' }\n};\nvar buttonStyle = {\n    backgroundColor: '#f9f9f9',\n    opacity: 0.95,\n    transition: 'background-color 0.16s ease-out',\n    cursor: 'pointer',\n    border: 0,\n    height: 26,\n    width: 26,\n    outline: 0,\n    padding: 3\n};\nvar buttonStyleHovered = {\n    backgroundColor: '#fff',\n    opacity: 1\n};\nvar buttonStyleCompass = {\n    borderBottom: '1px solid rgba(0, 0, 0, 0.1)',\n    borderTopLeftRadius: 2,\n    borderTopRightRadius: 2,\n    borderBottomLeftRadius: 2,\n    borderBottomRightRadius: 2\n};\nvar Icon = function () { return (React.createElement(\"svg\", { viewBox: \"0 0 20 20\" },\n    React.createElement(\"polygon\", { fill: \"#333333\", points: \"6,9 10,1 14,9\" }),\n    React.createElement(\"polygon\", { fill: \"#CCCCCC\", points: \"6,11 10,19 14,11\" }))); };\nvar compassSpan = {\n    width: 20,\n    height: 20,\n    display: 'inline-block'\n};\nvar COMPASS = [0][0];\nvar POSITIONS = Object.keys(positions);\nvar RotationControl = (function (_super) {\n    __extends(RotationControl, _super);\n    function RotationControl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hover: undefined\n        };\n        _this.onMouseOut = function () {\n            if (!_this.state.hover) {\n                _this.setState({ hover: undefined });\n            }\n        };\n        _this.onMouseIn = function () {\n            if (COMPASS !== _this.state.hover) {\n                _this.setState({ hover: COMPASS });\n            }\n        };\n        _this.onClickCompass = function () {\n            _this.context.map.resetNorth();\n        };\n        _this.onMapRotate = function () {\n            var map = _this.context.map;\n            var rotate = \"rotate(\" + map.transform.angle *\n                (180 / Math.PI) + \"deg)\";\n            if (_this.compassIcon) {\n                _this.compassIcon.style.transform = rotate;\n            }\n        };\n        _this.assignRef = function (icon) {\n            _this.compassIcon = icon;\n        };\n        return _this;\n    }\n    RotationControl.prototype.componentDidMount = function () {\n        this.context.map.on('rotate', this.onMapRotate);\n    };\n    RotationControl.prototype.componentWillUnmount = function () {\n        this.context.map.off('rotate', this.onMapRotate);\n    };\n    RotationControl.prototype.render = function () {\n        var _a = this.props, position = _a.position, style = _a.style, className = _a.className, tabIndex = _a.tabIndex;\n        var hover = this.state.hover;\n        var controlStyle = __assign({}, buttonStyle, buttonStyleCompass, (hover === COMPASS ? buttonStyleHovered : {}));\n        return (React.createElement(\"div\", { className: className, tabIndex: tabIndex, style: __assign({}, containerStyle, positions[position], style) },\n            React.createElement(\"button\", { style: controlStyle, onMouseOver: this.onMouseIn, onMouseOut: this.onMouseOut, onClick: this.onClickCompass },\n                React.createElement(\"span\", { ref: this.assignRef, style: compassSpan },\n                    React.createElement(Icon, null)))));\n    };\n    RotationControl.defaultProps = {\n        position: POSITIONS[0]\n    };\n    RotationControl.contextTypes = {\n        map: PropTypes.object\n    };\n    return RotationControl;\n}(React.Component));\nexports.default = RotationControl;\n//# sourceMappingURL=rotation-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwYm94LWdsL2xpYi9yb3RhdGlvbi1jb250cm9sLmpzP2NmMWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIFByb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xudmFyIGNvbnRhaW5lclN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHpJbmRleDogMTAsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGJveFNoYWRvdzogJzBweCAxcHggNHB4IHJnYmEoMCwgMCwgMCwgLjMpJyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpJ1xufTtcbnZhciBwb3NpdGlvbnMgPSB7XG4gICAgJ3RvcC1yaWdodCc6IHsgdG9wOiA2MiwgcmlnaHQ6IDEwLCBib3R0b206ICdhdXRvJywgbGVmdDogJ2F1dG8nIH0sXG4gICAgJ3RvcC1sZWZ0JzogeyB0b3A6IDYyLCBsZWZ0OiAxMCwgYm90dG9tOiAnYXV0bycsIHJpZ2h0OiAnYXV0bycgfSxcbiAgICAnYm90dG9tLXJpZ2h0JzogeyBib3R0b206IDYzLCByaWdodDogMTAsIHRvcDogJ2F1dG8nLCBsZWZ0OiAnYXV0bycgfSxcbiAgICAnYm90dG9tLWxlZnQnOiB7IGJvdHRvbTogNjMsIGxlZnQ6IDEwLCB0b3A6ICdhdXRvJywgcmlnaHQ6ICdhdXRvJyB9XG59O1xudmFyIGJ1dHRvblN0eWxlID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNmOWY5ZjknLFxuICAgIG9wYWNpdHk6IDAuOTUsXG4gICAgdHJhbnNpdGlvbjogJ2JhY2tncm91bmQtY29sb3IgMC4xNnMgZWFzZS1vdXQnLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGJvcmRlcjogMCxcbiAgICBoZWlnaHQ6IDI2LFxuICAgIHdpZHRoOiAyNixcbiAgICBvdXRsaW5lOiAwLFxuICAgIHBhZGRpbmc6IDNcbn07XG52YXIgYnV0dG9uU3R5bGVIb3ZlcmVkID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuICAgIG9wYWNpdHk6IDFcbn07XG52YXIgYnV0dG9uU3R5bGVDb21wYXNzID0ge1xuICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IDIsXG4gICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IDIsXG4gICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogMixcbiAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogMlxufTtcbnZhciBJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAyMCAyMFwiIH0sXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBvbHlnb25cIiwgeyBmaWxsOiBcIiMzMzMzMzNcIiwgcG9pbnRzOiBcIjYsOSAxMCwxIDE0LDlcIiB9KSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicG9seWdvblwiLCB7IGZpbGw6IFwiI0NDQ0NDQ1wiLCBwb2ludHM6IFwiNiwxMSAxMCwxOSAxNCwxMVwiIH0pKSk7IH07XG52YXIgY29tcGFzc1NwYW4gPSB7XG4gICAgd2lkdGg6IDIwLFxuICAgIGhlaWdodDogMjAsXG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcbn07XG52YXIgQ09NUEFTUyA9IFswXVswXTtcbnZhciBQT1NJVElPTlMgPSBPYmplY3Qua2V5cyhwb3NpdGlvbnMpO1xudmFyIFJvdGF0aW9uQ29udHJvbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvdGF0aW9uQ29udHJvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSb3RhdGlvbkNvbnRyb2woKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGhvdmVyOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25Nb3VzZU91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc3RhdGUuaG92ZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGhvdmVyOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uTW91c2VJbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChDT01QQVNTICE9PSBfdGhpcy5zdGF0ZS5ob3Zlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaG92ZXI6IENPTVBBU1MgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uQ2xpY2tDb21wYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5tYXAucmVzZXROb3J0aCgpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbk1hcFJvdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBfdGhpcy5jb250ZXh0Lm1hcDtcbiAgICAgICAgICAgIHZhciByb3RhdGUgPSBcInJvdGF0ZShcIiArIG1hcC50cmFuc2Zvcm0uYW5nbGUgKlxuICAgICAgICAgICAgICAgICgxODAgLyBNYXRoLlBJKSArIFwiZGVnKVwiO1xuICAgICAgICAgICAgaWYgKF90aGlzLmNvbXBhc3NJY29uKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29tcGFzc0ljb24uc3R5bGUudHJhbnNmb3JtID0gcm90YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5hc3NpZ25SZWYgPSBmdW5jdGlvbiAoaWNvbikge1xuICAgICAgICAgICAgX3RoaXMuY29tcGFzc0ljb24gPSBpY29uO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJvdGF0aW9uQ29udHJvbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5tYXAub24oJ3JvdGF0ZScsIHRoaXMub25NYXBSb3RhdGUpO1xuICAgIH07XG4gICAgUm90YXRpb25Db250cm9sLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0Lm1hcC5vZmYoJ3JvdGF0ZScsIHRoaXMub25NYXBSb3RhdGUpO1xuICAgIH07XG4gICAgUm90YXRpb25Db250cm9sLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIHN0eWxlID0gX2Euc3R5bGUsIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSwgdGFiSW5kZXggPSBfYS50YWJJbmRleDtcbiAgICAgICAgdmFyIGhvdmVyID0gdGhpcy5zdGF0ZS5ob3ZlcjtcbiAgICAgICAgdmFyIGNvbnRyb2xTdHlsZSA9IF9fYXNzaWduKHt9LCBidXR0b25TdHlsZSwgYnV0dG9uU3R5bGVDb21wYXNzLCAoaG92ZXIgPT09IENPTVBBU1MgPyBidXR0b25TdHlsZUhvdmVyZWQgOiB7fSkpO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgdGFiSW5kZXg6IHRhYkluZGV4LCBzdHlsZTogX19hc3NpZ24oe30sIGNvbnRhaW5lclN0eWxlLCBwb3NpdGlvbnNbcG9zaXRpb25dLCBzdHlsZSkgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBzdHlsZTogY29udHJvbFN0eWxlLCBvbk1vdXNlT3ZlcjogdGhpcy5vbk1vdXNlSW4sIG9uTW91c2VPdXQ6IHRoaXMub25Nb3VzZU91dCwgb25DbGljazogdGhpcy5vbkNsaWNrQ29tcGFzcyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgcmVmOiB0aGlzLmFzc2lnblJlZiwgc3R5bGU6IGNvbXBhc3NTcGFuIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgbnVsbCkpKSkpO1xuICAgIH07XG4gICAgUm90YXRpb25Db250cm9sLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgcG9zaXRpb246IFBPU0lUSU9OU1swXVxuICAgIH07XG4gICAgUm90YXRpb25Db250cm9sLmNvbnRleHRUeXBlcyA9IHtcbiAgICAgICAgbWFwOiBQcm9wVHlwZXMub2JqZWN0XG4gICAgfTtcbiAgICByZXR1cm4gUm90YXRpb25Db250cm9sO1xufShSZWFjdC5Db21wb25lbnQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdGF0aW9uQ29udHJvbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdGF0aW9uLWNvbnRyb2wuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///47\n")},
/*!*************************************************!*\
  !*** ./client/src/components/RecordingsList.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Recording = __webpack_require__(/*! ./Recording */ 49);\n\nvar _Recording2 = _interopRequireDefault(_Recording);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ES6\n\n\nvar RecordingsList = function (_React$Component) {\n  _inherits(RecordingsList, _React$Component);\n\n  function RecordingsList(props) {\n    _classCallCheck(this, RecordingsList);\n\n    var _this = _possibleConstructorReturn(this, (RecordingsList.__proto__ || Object.getPrototypeOf(RecordingsList)).call(this, props));\n\n    _this.state = {\n      recordings: [],\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(RecordingsList, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(this.props.serviceHosts.paths + '/' + this.props.trailId + '/recordings?sortBy=date,desc').then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        _this2.setState({\n          recordings: json.data,\n          loading: false\n        });\n      }).catch(function (error) {\n        console.log('error', error);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.state.loading ? React.createElement('div', { className: 'loading' }) : !this.state.recordings.length ? React.createElement(\n        'div',\n        { className: 'info' },\n        'No Recordings for this route.'\n      ) : this.state.recordings.map(function (recording, index) {\n        return React.createElement(_Recording2.default, { key: index, recording: recording });\n      });\n    }\n  }]);\n\n  return RecordingsList;\n}(React.Component);\n\nexports.default = RecordingsList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9jb21wb25lbnRzL1JlY29yZGluZ3NMaXN0LmpzPzgxYzciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRVM2XG5pbXBvcnQgUmVjb3JkaW5nIGZyb20gJy4vUmVjb3JkaW5nJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjb3JkaW5nc0xpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgcmVjb3JkaW5nczogW10sXG4gICAgICBsb2FkaW5nOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGZldGNoKGAke3RoaXMucHJvcHMuc2VydmljZUhvc3RzLnBhdGhzfS8ke3RoaXMucHJvcHMudHJhaWxJZH0vcmVjb3JkaW5ncz9zb3J0Qnk9ZGF0ZSxkZXNjYClcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihqc29uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcmVjb3JkaW5nczoganNvbi5kYXRhLFxuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAodGhpcy5zdGF0ZS5sb2FkaW5nKSA/ICg8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZyc+PC9kaXY+KSA6IChcbiAgICAgICF0aGlzLnN0YXRlLnJlY29yZGluZ3MubGVuZ3RoID8gKDxkaXYgY2xhc3NOYW1lPSdpbmZvJz5ObyBSZWNvcmRpbmdzIGZvciB0aGlzIHJvdXRlLjwvZGl2PikgOiAoXG4gICAgICAgIHRoaXMuc3RhdGUucmVjb3JkaW5ncy5tYXAoKHJlY29yZGluZywgaW5kZXgpID0+IChcbiAgICAgICAgICA8UmVjb3JkaW5nIGtleT17aW5kZXh9IHJlY29yZGluZz17cmVjb3JkaW5nfSAvPlxuICAgICAgICApKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBRkE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBTUE7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUtBOzs7O0FBakNBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///48\n")},
/*!********************************************!*\
  !*** ./client/src/components/Recording.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _recording = __webpack_require__(/*! ../scss/recording.scss */ 50);\n\nvar _recording2 = _interopRequireDefault(_recording);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Recording = function Recording(_ref) {\n  var recording = _ref.recording;\n\n  return React.createElement(\n    'div',\n    { className: 'row ' + _recording2.default.recordingCard },\n    React.createElement(\n      'div',\n      { className: 'col-2' },\n      recording.user_id\n    ),\n    React.createElement(\n      'div',\n      { className: 'col-8' },\n      recording.comment\n    )\n  );\n};\n\nexports.default = Recording;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9jb21wb25lbnRzL1JlY29yZGluZy5qcz8wMmZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWNvcmRpbmdTdHlsZSBmcm9tICcuLi9zY3NzL3JlY29yZGluZy5zY3NzJztcblxuY29uc3QgUmVjb3JkaW5nID0gKHtyZWNvcmRpbmd9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Byb3cgJHtyZWNvcmRpbmdTdHlsZS5yZWNvcmRpbmdDYXJkfWB9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC0yJz57cmVjb3JkaW5nLnVzZXJfaWR9PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLTgnPntyZWNvcmRpbmcuY29tbWVudH08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlY29yZGluZzsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUtBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///49\n")},
/*!****************************************!*\
  !*** ./client/src/scss/recording.scss ***!
  \****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval("\nvar content = __webpack_require__(/*! !../../../node_modules/css-loader??ref--5-1!../../../node_modules/sass-loader/lib/loader.js!./recording.scss */ 51);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ 5)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL3Njc3MvcmVjb3JkaW5nLnNjc3M/ZDJmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vcmVjb3JkaW5nLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTUtMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3JlY29yZGluZy5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vcmVjb3JkaW5nLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50\n")},
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/css-loader??ref--5-1!./node_modules/sass-loader/lib/loader.js!./client/src/scss/recording.scss ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ 4)(false);\n// imports\n\n\n// module\nexports.push([module.i, ".recording__recordingCard___11sgd {\\n  min-height: 100px;\\n  background: #fafafa;\\n  padding: 2rem;\\n  margin: 2rem 0; }\\n", ""]);\n\n// exports\nexports.locals = {\n\t"recordingCard": "recording__recordingCard___11sgd"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvc3JjL3Njc3MvcmVjb3JkaW5nLnNjc3M/NWFmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5yZWNvcmRpbmdfX3JlY29yZGluZ0NhcmRfX18xMXNnZCB7XFxuICBtaW4taGVpZ2h0OiAxMDBweDtcXG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XFxuICBwYWRkaW5nOiAycmVtO1xcbiAgbWFyZ2luOiAycmVtIDA7IH1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJyZWNvcmRpbmdDYXJkXCI6IFwicmVjb3JkaW5nX19yZWNvcmRpbmdDYXJkX19fMTFzZ2RcIlxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///51\n')}]);